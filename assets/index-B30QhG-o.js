const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CGqRSiJU.js","assets/jsx-runtime-CXrgMc3u.js","assets/index-B57Z1m4t.js"])))=>i.map(i=>d[i]);
var Xwe=Object.defineProperty;var fU=t=>{throw TypeError(t)};var Jwe=(t,e,r)=>e in t?Xwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ce=(t,e,r)=>Jwe(t,typeof e!="symbol"?e+"":e,r),n4=(t,e,r)=>e.has(t)||fU("Cannot "+r);var ue=(t,e,r)=>(n4(t,e,"read from private field"),r?r.call(t):e.get(t)),Ye=(t,e,r)=>e.has(t)?fU("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Ae=(t,e,r,n)=>(n4(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),lt=(t,e,r)=>(n4(t,e,"access private method"),r);var Q1=(t,e,r,n)=>({set _(i){Ae(t,e,i,r)},get _(){return ue(t,e,n)}});import{g as ro,c as St,a as GS,r as N,W as gt,j as L,R as Qwe}from"./jsx-runtime-CXrgMc3u.js";import{r as Ak,a as eSe}from"./index-B57Z1m4t.js";function mY(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var xe={},xk={};xk.byteLength=nSe;xk.toByteArray=sSe;xk.fromByteArray=uSe;var Oc=[],Wa=[],tSe=typeof Uint8Array<"u"?Uint8Array:Array,i4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var kg=0,rSe=i4.length;kg<rSe;++kg)Oc[kg]=i4[kg],Wa[i4.charCodeAt(kg)]=kg;Wa[45]=62;Wa[95]=63;function yY(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function nSe(t){var e=yY(t),r=e[0],n=e[1];return(r+n)*3/4-n}function iSe(t,e,r){return(e+r)*3/4-r}function sSe(t){var e,r=yY(t),n=r[0],i=r[1],s=new tSe(iSe(t,n,i)),o=0,a=i>0?n-4:n,u;for(u=0;u<a;u+=4)e=Wa[t.charCodeAt(u)]<<18|Wa[t.charCodeAt(u+1)]<<12|Wa[t.charCodeAt(u+2)]<<6|Wa[t.charCodeAt(u+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=Wa[t.charCodeAt(u)]<<2|Wa[t.charCodeAt(u+1)]>>4,s[o++]=e&255),i===1&&(e=Wa[t.charCodeAt(u)]<<10|Wa[t.charCodeAt(u+1)]<<4|Wa[t.charCodeAt(u+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function oSe(t){return Oc[t>>18&63]+Oc[t>>12&63]+Oc[t>>6&63]+Oc[t&63]}function aSe(t,e,r){for(var n,i=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(oSe(n));return i.join("")}function uSe(t){for(var e,r=t.length,n=r%3,i=[],s=16383,o=0,a=r-n;o<a;o+=s)i.push(aSe(t,o,o+s>a?a:o+s));return n===1?(e=t[r-1],i.push(Oc[e>>2]+Oc[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(Oc[e>>10]+Oc[e>>4&63]+Oc[e<<2&63]+"=")),i.join("")}var MN={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */MN.read=function(t,e,r,n,i){var s,o,a=i*8-n-1,u=(1<<a)-1,f=u>>1,d=-7,g=r?i-1:0,y=r?-1:1,b=t[e+g];for(g+=y,s=b&(1<<-d)-1,b>>=-d,d+=a;d>0;s=s*256+t[e+g],g+=y,d-=8);for(o=s&(1<<-d)-1,s>>=-d,d+=n;d>0;o=o*256+t[e+g],g+=y,d-=8);if(s===0)s=1-f;else{if(s===u)return o?NaN:(b?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-f}return(b?-1:1)*o*Math.pow(2,s-n)};MN.write=function(t,e,r,n,i,s){var o,a,u,f=s*8-i-1,d=(1<<f)-1,g=d>>1,y=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=n?0:s-1,A=n?1:-1,x=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=d):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+g>=1?e+=y/u:e+=y*Math.pow(2,1-g),e*u>=2&&(o++,u/=2),o+g>=d?(a=0,o=d):o+g>=1?(a=(e*u-1)*Math.pow(2,i),o=o+g):(a=e*Math.pow(2,g-1)*Math.pow(2,i),o=0));i>=8;t[r+b]=a&255,b+=A,a/=256,i-=8);for(o=o<<i|a,f+=i;f>0;t[r+b]=o&255,b+=A,o/=256,f-=8);t[r+b-A]|=x*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=xk,r=MN,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=R,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const ee=new Uint8Array(1),z={foo:function(){return 42}};return Object.setPrototypeOf(z,Uint8Array.prototype),Object.setPrototypeOf(ee,z),ee.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(ee){if(ee>i)throw new RangeError('The value "'+ee+'" is invalid for option "size"');const z=new Uint8Array(ee);return Object.setPrototypeOf(z,a.prototype),z}function a(ee,z,J){if(typeof ee=="number"){if(typeof z=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(ee)}return u(ee,z,J)}a.poolSize=8192;function u(ee,z,J){if(typeof ee=="string")return y(ee,z);if(ArrayBuffer.isView(ee))return A(ee);if(ee==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ee);if(Ee(ee,ArrayBuffer)||ee&&Ee(ee.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ee(ee,SharedArrayBuffer)||ee&&Ee(ee.buffer,SharedArrayBuffer)))return x(ee,z,J);if(typeof ee=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ie=ee.valueOf&&ee.valueOf();if(ie!=null&&ie!==ee)return a.from(ie,z,J);const fe=k(ee);if(fe)return fe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ee[Symbol.toPrimitive]=="function")return a.from(ee[Symbol.toPrimitive]("string"),z,J);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ee)}a.from=function(ee,z,J){return u(ee,z,J)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function f(ee){if(typeof ee!="number")throw new TypeError('"size" argument must be of type number');if(ee<0)throw new RangeError('The value "'+ee+'" is invalid for option "size"')}function d(ee,z,J){return f(ee),ee<=0?o(ee):z!==void 0?typeof J=="string"?o(ee).fill(z,J):o(ee).fill(z):o(ee)}a.alloc=function(ee,z,J){return d(ee,z,J)};function g(ee){return f(ee),o(ee<0?0:I(ee)|0)}a.allocUnsafe=function(ee){return g(ee)},a.allocUnsafeSlow=function(ee){return g(ee)};function y(ee,z){if((typeof z!="string"||z==="")&&(z="utf8"),!a.isEncoding(z))throw new TypeError("Unknown encoding: "+z);const J=M(ee,z)|0;let ie=o(J);const fe=ie.write(ee,z);return fe!==J&&(ie=ie.slice(0,fe)),ie}function b(ee){const z=ee.length<0?0:I(ee.length)|0,J=o(z);for(let ie=0;ie<z;ie+=1)J[ie]=ee[ie]&255;return J}function A(ee){if(Ee(ee,Uint8Array)){const z=new Uint8Array(ee);return x(z.buffer,z.byteOffset,z.byteLength)}return b(ee)}function x(ee,z,J){if(z<0||ee.byteLength<z)throw new RangeError('"offset" is outside of buffer bounds');if(ee.byteLength<z+(J||0))throw new RangeError('"length" is outside of buffer bounds');let ie;return z===void 0&&J===void 0?ie=new Uint8Array(ee):J===void 0?ie=new Uint8Array(ee,z):ie=new Uint8Array(ee,z,J),Object.setPrototypeOf(ie,a.prototype),ie}function k(ee){if(a.isBuffer(ee)){const z=I(ee.length)|0,J=o(z);return J.length===0||ee.copy(J,0,0,z),J}if(ee.length!==void 0)return typeof ee.length!="number"||ut(ee.length)?o(0):b(ee);if(ee.type==="Buffer"&&Array.isArray(ee.data))return b(ee.data)}function I(ee){if(ee>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return ee|0}function R(ee){return+ee!=ee&&(ee=0),a.alloc(+ee)}a.isBuffer=function(z){return z!=null&&z._isBuffer===!0&&z!==a.prototype},a.compare=function(z,J){if(Ee(z,Uint8Array)&&(z=a.from(z,z.offset,z.byteLength)),Ee(J,Uint8Array)&&(J=a.from(J,J.offset,J.byteLength)),!a.isBuffer(z)||!a.isBuffer(J))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(z===J)return 0;let ie=z.length,fe=J.length;for(let ke=0,ve=Math.min(ie,fe);ke<ve;++ke)if(z[ke]!==J[ke]){ie=z[ke],fe=J[ke];break}return ie<fe?-1:fe<ie?1:0},a.isEncoding=function(z){switch(String(z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(z,J){if(!Array.isArray(z))throw new TypeError('"list" argument must be an Array of Buffers');if(z.length===0)return a.alloc(0);let ie;if(J===void 0)for(J=0,ie=0;ie<z.length;++ie)J+=z[ie].length;const fe=a.allocUnsafe(J);let ke=0;for(ie=0;ie<z.length;++ie){let ve=z[ie];if(Ee(ve,Uint8Array))ke+ve.length>fe.length?(a.isBuffer(ve)||(ve=a.from(ve)),ve.copy(fe,ke)):Uint8Array.prototype.set.call(fe,ve,ke);else if(a.isBuffer(ve))ve.copy(fe,ke);else throw new TypeError('"list" argument must be an Array of Buffers');ke+=ve.length}return fe};function M(ee,z){if(a.isBuffer(ee))return ee.length;if(ArrayBuffer.isView(ee)||Ee(ee,ArrayBuffer))return ee.byteLength;if(typeof ee!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ee);const J=ee.length,ie=arguments.length>2&&arguments[2]===!0;if(!ie&&J===0)return 0;let fe=!1;for(;;)switch(z){case"ascii":case"latin1":case"binary":return J;case"utf8":case"utf-8":return re(ee).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J*2;case"hex":return J>>>1;case"base64":return Te(ee).length;default:if(fe)return ie?-1:re(ee).length;z=(""+z).toLowerCase(),fe=!0}}a.byteLength=M;function P(ee,z,J){let ie=!1;if((z===void 0||z<0)&&(z=0),z>this.length||((J===void 0||J>this.length)&&(J=this.length),J<=0)||(J>>>=0,z>>>=0,J<=z))return"";for(ee||(ee="utf8");;)switch(ee){case"hex":return w(this,z,J);case"utf8":case"utf-8":return p(this,z,J);case"ascii":return _(this,z,J);case"latin1":case"binary":return E(this,z,J);case"base64":return h(this,z,J);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l(this,z,J);default:if(ie)throw new TypeError("Unknown encoding: "+ee);ee=(ee+"").toLowerCase(),ie=!0}}a.prototype._isBuffer=!0;function j(ee,z,J){const ie=ee[z];ee[z]=ee[J],ee[J]=ie}a.prototype.swap16=function(){const z=this.length;if(z%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let J=0;J<z;J+=2)j(this,J,J+1);return this},a.prototype.swap32=function(){const z=this.length;if(z%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let J=0;J<z;J+=4)j(this,J,J+3),j(this,J+1,J+2);return this},a.prototype.swap64=function(){const z=this.length;if(z%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let J=0;J<z;J+=8)j(this,J,J+7),j(this,J+1,J+6),j(this,J+2,J+5),j(this,J+3,J+4);return this},a.prototype.toString=function(){const z=this.length;return z===0?"":arguments.length===0?p(this,0,z):P.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(z){if(!a.isBuffer(z))throw new TypeError("Argument must be a Buffer");return this===z?!0:a.compare(this,z)===0},a.prototype.inspect=function(){let z="";const J=t.INSPECT_MAX_BYTES;return z=this.toString("hex",0,J).replace(/(.{2})/g,"$1 ").trim(),this.length>J&&(z+=" ... "),"<Buffer "+z+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(z,J,ie,fe,ke){if(Ee(z,Uint8Array)&&(z=a.from(z,z.offset,z.byteLength)),!a.isBuffer(z))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof z);if(J===void 0&&(J=0),ie===void 0&&(ie=z?z.length:0),fe===void 0&&(fe=0),ke===void 0&&(ke=this.length),J<0||ie>z.length||fe<0||ke>this.length)throw new RangeError("out of range index");if(fe>=ke&&J>=ie)return 0;if(fe>=ke)return-1;if(J>=ie)return 1;if(J>>>=0,ie>>>=0,fe>>>=0,ke>>>=0,this===z)return 0;let ve=ke-fe,Ne=ie-J;const kt=Math.min(ve,Ne),Be=this.slice(fe,ke),Le=z.slice(J,ie);for(let yt=0;yt<kt;++yt)if(Be[yt]!==Le[yt]){ve=Be[yt],Ne=Le[yt];break}return ve<Ne?-1:Ne<ve?1:0};function V(ee,z,J,ie,fe){if(ee.length===0)return-1;if(typeof J=="string"?(ie=J,J=0):J>2147483647?J=2147483647:J<-2147483648&&(J=-2147483648),J=+J,ut(J)&&(J=fe?0:ee.length-1),J<0&&(J=ee.length+J),J>=ee.length){if(fe)return-1;J=ee.length-1}else if(J<0)if(fe)J=0;else return-1;if(typeof z=="string"&&(z=a.from(z,ie)),a.isBuffer(z))return z.length===0?-1:Z(ee,z,J,ie,fe);if(typeof z=="number")return z=z&255,typeof Uint8Array.prototype.indexOf=="function"?fe?Uint8Array.prototype.indexOf.call(ee,z,J):Uint8Array.prototype.lastIndexOf.call(ee,z,J):Z(ee,[z],J,ie,fe);throw new TypeError("val must be string, number or Buffer")}function Z(ee,z,J,ie,fe){let ke=1,ve=ee.length,Ne=z.length;if(ie!==void 0&&(ie=String(ie).toLowerCase(),ie==="ucs2"||ie==="ucs-2"||ie==="utf16le"||ie==="utf-16le")){if(ee.length<2||z.length<2)return-1;ke=2,ve/=2,Ne/=2,J/=2}function kt(Le,yt){return ke===1?Le[yt]:Le.readUInt16BE(yt*ke)}let Be;if(fe){let Le=-1;for(Be=J;Be<ve;Be++)if(kt(ee,Be)===kt(z,Le===-1?0:Be-Le)){if(Le===-1&&(Le=Be),Be-Le+1===Ne)return Le*ke}else Le!==-1&&(Be-=Be-Le),Le=-1}else for(J+Ne>ve&&(J=ve-Ne),Be=J;Be>=0;Be--){let Le=!0;for(let yt=0;yt<Ne;yt++)if(kt(ee,Be+yt)!==kt(z,yt)){Le=!1;break}if(Le)return Be}return-1}a.prototype.includes=function(z,J,ie){return this.indexOf(z,J,ie)!==-1},a.prototype.indexOf=function(z,J,ie){return V(this,z,J,ie,!0)},a.prototype.lastIndexOf=function(z,J,ie){return V(this,z,J,ie,!1)};function G(ee,z,J,ie){J=Number(J)||0;const fe=ee.length-J;ie?(ie=Number(ie),ie>fe&&(ie=fe)):ie=fe;const ke=z.length;ie>ke/2&&(ie=ke/2);let ve;for(ve=0;ve<ie;++ve){const Ne=parseInt(z.substr(ve*2,2),16);if(ut(Ne))return ve;ee[J+ve]=Ne}return ve}function q(ee,z,J,ie){return be(re(z,ee.length-J),ee,J,ie)}function ae(ee,z,J,ie){return be(ne(z),ee,J,ie)}function T(ee,z,J,ie){return be(Te(z),ee,J,ie)}function c(ee,z,J,ie){return be(se(z,ee.length-J),ee,J,ie)}a.prototype.write=function(z,J,ie,fe){if(J===void 0)fe="utf8",ie=this.length,J=0;else if(ie===void 0&&typeof J=="string")fe=J,ie=this.length,J=0;else if(isFinite(J))J=J>>>0,isFinite(ie)?(ie=ie>>>0,fe===void 0&&(fe="utf8")):(fe=ie,ie=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ke=this.length-J;if((ie===void 0||ie>ke)&&(ie=ke),z.length>0&&(ie<0||J<0)||J>this.length)throw new RangeError("Attempt to write outside buffer bounds");fe||(fe="utf8");let ve=!1;for(;;)switch(fe){case"hex":return G(this,z,J,ie);case"utf8":case"utf-8":return q(this,z,J,ie);case"ascii":case"latin1":case"binary":return ae(this,z,J,ie);case"base64":return T(this,z,J,ie);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c(this,z,J,ie);default:if(ve)throw new TypeError("Unknown encoding: "+fe);fe=(""+fe).toLowerCase(),ve=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function h(ee,z,J){return z===0&&J===ee.length?e.fromByteArray(ee):e.fromByteArray(ee.slice(z,J))}function p(ee,z,J){J=Math.min(ee.length,J);const ie=[];let fe=z;for(;fe<J;){const ke=ee[fe];let ve=null,Ne=ke>239?4:ke>223?3:ke>191?2:1;if(fe+Ne<=J){let kt,Be,Le,yt;switch(Ne){case 1:ke<128&&(ve=ke);break;case 2:kt=ee[fe+1],(kt&192)===128&&(yt=(ke&31)<<6|kt&63,yt>127&&(ve=yt));break;case 3:kt=ee[fe+1],Be=ee[fe+2],(kt&192)===128&&(Be&192)===128&&(yt=(ke&15)<<12|(kt&63)<<6|Be&63,yt>2047&&(yt<55296||yt>57343)&&(ve=yt));break;case 4:kt=ee[fe+1],Be=ee[fe+2],Le=ee[fe+3],(kt&192)===128&&(Be&192)===128&&(Le&192)===128&&(yt=(ke&15)<<18|(kt&63)<<12|(Be&63)<<6|Le&63,yt>65535&&yt<1114112&&(ve=yt))}}ve===null?(ve=65533,Ne=1):ve>65535&&(ve-=65536,ie.push(ve>>>10&1023|55296),ve=56320|ve&1023),ie.push(ve),fe+=Ne}return v(ie)}const m=4096;function v(ee){const z=ee.length;if(z<=m)return String.fromCharCode.apply(String,ee);let J="",ie=0;for(;ie<z;)J+=String.fromCharCode.apply(String,ee.slice(ie,ie+=m));return J}function _(ee,z,J){let ie="";J=Math.min(ee.length,J);for(let fe=z;fe<J;++fe)ie+=String.fromCharCode(ee[fe]&127);return ie}function E(ee,z,J){let ie="";J=Math.min(ee.length,J);for(let fe=z;fe<J;++fe)ie+=String.fromCharCode(ee[fe]);return ie}function w(ee,z,J){const ie=ee.length;(!z||z<0)&&(z=0),(!J||J<0||J>ie)&&(J=ie);let fe="";for(let ke=z;ke<J;++ke)fe+=le[ee[ke]];return fe}function l(ee,z,J){const ie=ee.slice(z,J);let fe="";for(let ke=0;ke<ie.length-1;ke+=2)fe+=String.fromCharCode(ie[ke]+ie[ke+1]*256);return fe}a.prototype.slice=function(z,J){const ie=this.length;z=~~z,J=J===void 0?ie:~~J,z<0?(z+=ie,z<0&&(z=0)):z>ie&&(z=ie),J<0?(J+=ie,J<0&&(J=0)):J>ie&&(J=ie),J<z&&(J=z);const fe=this.subarray(z,J);return Object.setPrototypeOf(fe,a.prototype),fe};function S(ee,z,J){if(ee%1!==0||ee<0)throw new RangeError("offset is not uint");if(ee+z>J)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(z,J,ie){z=z>>>0,J=J>>>0,ie||S(z,J,this.length);let fe=this[z],ke=1,ve=0;for(;++ve<J&&(ke*=256);)fe+=this[z+ve]*ke;return fe},a.prototype.readUintBE=a.prototype.readUIntBE=function(z,J,ie){z=z>>>0,J=J>>>0,ie||S(z,J,this.length);let fe=this[z+--J],ke=1;for(;J>0&&(ke*=256);)fe+=this[z+--J]*ke;return fe},a.prototype.readUint8=a.prototype.readUInt8=function(z,J){return z=z>>>0,J||S(z,1,this.length),this[z]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(z,J){return z=z>>>0,J||S(z,2,this.length),this[z]|this[z+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(z,J){return z=z>>>0,J||S(z,2,this.length),this[z]<<8|this[z+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(z,J){return z=z>>>0,J||S(z,4,this.length),(this[z]|this[z+1]<<8|this[z+2]<<16)+this[z+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(z,J){return z=z>>>0,J||S(z,4,this.length),this[z]*16777216+(this[z+1]<<16|this[z+2]<<8|this[z+3])},a.prototype.readBigUInt64LE=de(function(z){z=z>>>0,oe(z,"offset");const J=this[z],ie=this[z+7];(J===void 0||ie===void 0)&&_e(z,this.length-8);const fe=J+this[++z]*2**8+this[++z]*2**16+this[++z]*2**24,ke=this[++z]+this[++z]*2**8+this[++z]*2**16+ie*2**24;return BigInt(fe)+(BigInt(ke)<<BigInt(32))}),a.prototype.readBigUInt64BE=de(function(z){z=z>>>0,oe(z,"offset");const J=this[z],ie=this[z+7];(J===void 0||ie===void 0)&&_e(z,this.length-8);const fe=J*2**24+this[++z]*2**16+this[++z]*2**8+this[++z],ke=this[++z]*2**24+this[++z]*2**16+this[++z]*2**8+ie;return(BigInt(fe)<<BigInt(32))+BigInt(ke)}),a.prototype.readIntLE=function(z,J,ie){z=z>>>0,J=J>>>0,ie||S(z,J,this.length);let fe=this[z],ke=1,ve=0;for(;++ve<J&&(ke*=256);)fe+=this[z+ve]*ke;return ke*=128,fe>=ke&&(fe-=Math.pow(2,8*J)),fe},a.prototype.readIntBE=function(z,J,ie){z=z>>>0,J=J>>>0,ie||S(z,J,this.length);let fe=J,ke=1,ve=this[z+--fe];for(;fe>0&&(ke*=256);)ve+=this[z+--fe]*ke;return ke*=128,ve>=ke&&(ve-=Math.pow(2,8*J)),ve},a.prototype.readInt8=function(z,J){return z=z>>>0,J||S(z,1,this.length),this[z]&128?(255-this[z]+1)*-1:this[z]},a.prototype.readInt16LE=function(z,J){z=z>>>0,J||S(z,2,this.length);const ie=this[z]|this[z+1]<<8;return ie&32768?ie|4294901760:ie},a.prototype.readInt16BE=function(z,J){z=z>>>0,J||S(z,2,this.length);const ie=this[z+1]|this[z]<<8;return ie&32768?ie|4294901760:ie},a.prototype.readInt32LE=function(z,J){return z=z>>>0,J||S(z,4,this.length),this[z]|this[z+1]<<8|this[z+2]<<16|this[z+3]<<24},a.prototype.readInt32BE=function(z,J){return z=z>>>0,J||S(z,4,this.length),this[z]<<24|this[z+1]<<16|this[z+2]<<8|this[z+3]},a.prototype.readBigInt64LE=de(function(z){z=z>>>0,oe(z,"offset");const J=this[z],ie=this[z+7];(J===void 0||ie===void 0)&&_e(z,this.length-8);const fe=this[z+4]+this[z+5]*2**8+this[z+6]*2**16+(ie<<24);return(BigInt(fe)<<BigInt(32))+BigInt(J+this[++z]*2**8+this[++z]*2**16+this[++z]*2**24)}),a.prototype.readBigInt64BE=de(function(z){z=z>>>0,oe(z,"offset");const J=this[z],ie=this[z+7];(J===void 0||ie===void 0)&&_e(z,this.length-8);const fe=(J<<24)+this[++z]*2**16+this[++z]*2**8+this[++z];return(BigInt(fe)<<BigInt(32))+BigInt(this[++z]*2**24+this[++z]*2**16+this[++z]*2**8+ie)}),a.prototype.readFloatLE=function(z,J){return z=z>>>0,J||S(z,4,this.length),r.read(this,z,!0,23,4)},a.prototype.readFloatBE=function(z,J){return z=z>>>0,J||S(z,4,this.length),r.read(this,z,!1,23,4)},a.prototype.readDoubleLE=function(z,J){return z=z>>>0,J||S(z,8,this.length),r.read(this,z,!0,52,8)},a.prototype.readDoubleBE=function(z,J){return z=z>>>0,J||S(z,8,this.length),r.read(this,z,!1,52,8)};function C(ee,z,J,ie,fe,ke){if(!a.isBuffer(ee))throw new TypeError('"buffer" argument must be a Buffer instance');if(z>fe||z<ke)throw new RangeError('"value" argument is out of bounds');if(J+ie>ee.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(z,J,ie,fe){if(z=+z,J=J>>>0,ie=ie>>>0,!fe){const Ne=Math.pow(2,8*ie)-1;C(this,z,J,ie,Ne,0)}let ke=1,ve=0;for(this[J]=z&255;++ve<ie&&(ke*=256);)this[J+ve]=z/ke&255;return J+ie},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(z,J,ie,fe){if(z=+z,J=J>>>0,ie=ie>>>0,!fe){const Ne=Math.pow(2,8*ie)-1;C(this,z,J,ie,Ne,0)}let ke=ie-1,ve=1;for(this[J+ke]=z&255;--ke>=0&&(ve*=256);)this[J+ke]=z/ve&255;return J+ie},a.prototype.writeUint8=a.prototype.writeUInt8=function(z,J,ie){return z=+z,J=J>>>0,ie||C(this,z,J,1,255,0),this[J]=z&255,J+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(z,J,ie){return z=+z,J=J>>>0,ie||C(this,z,J,2,65535,0),this[J]=z&255,this[J+1]=z>>>8,J+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(z,J,ie){return z=+z,J=J>>>0,ie||C(this,z,J,2,65535,0),this[J]=z>>>8,this[J+1]=z&255,J+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(z,J,ie){return z=+z,J=J>>>0,ie||C(this,z,J,4,4294967295,0),this[J+3]=z>>>24,this[J+2]=z>>>16,this[J+1]=z>>>8,this[J]=z&255,J+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(z,J,ie){return z=+z,J=J>>>0,ie||C(this,z,J,4,4294967295,0),this[J]=z>>>24,this[J+1]=z>>>16,this[J+2]=z>>>8,this[J+3]=z&255,J+4};function D(ee,z,J,ie,fe){K(z,ie,fe,ee,J,7);let ke=Number(z&BigInt(4294967295));ee[J++]=ke,ke=ke>>8,ee[J++]=ke,ke=ke>>8,ee[J++]=ke,ke=ke>>8,ee[J++]=ke;let ve=Number(z>>BigInt(32)&BigInt(4294967295));return ee[J++]=ve,ve=ve>>8,ee[J++]=ve,ve=ve>>8,ee[J++]=ve,ve=ve>>8,ee[J++]=ve,J}function U(ee,z,J,ie,fe){K(z,ie,fe,ee,J,7);let ke=Number(z&BigInt(4294967295));ee[J+7]=ke,ke=ke>>8,ee[J+6]=ke,ke=ke>>8,ee[J+5]=ke,ke=ke>>8,ee[J+4]=ke;let ve=Number(z>>BigInt(32)&BigInt(4294967295));return ee[J+3]=ve,ve=ve>>8,ee[J+2]=ve,ve=ve>>8,ee[J+1]=ve,ve=ve>>8,ee[J]=ve,J+8}a.prototype.writeBigUInt64LE=de(function(z,J=0){return D(this,z,J,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=de(function(z,J=0){return U(this,z,J,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(z,J,ie,fe){if(z=+z,J=J>>>0,!fe){const kt=Math.pow(2,8*ie-1);C(this,z,J,ie,kt-1,-kt)}let ke=0,ve=1,Ne=0;for(this[J]=z&255;++ke<ie&&(ve*=256);)z<0&&Ne===0&&this[J+ke-1]!==0&&(Ne=1),this[J+ke]=(z/ve>>0)-Ne&255;return J+ie},a.prototype.writeIntBE=function(z,J,ie,fe){if(z=+z,J=J>>>0,!fe){const kt=Math.pow(2,8*ie-1);C(this,z,J,ie,kt-1,-kt)}let ke=ie-1,ve=1,Ne=0;for(this[J+ke]=z&255;--ke>=0&&(ve*=256);)z<0&&Ne===0&&this[J+ke+1]!==0&&(Ne=1),this[J+ke]=(z/ve>>0)-Ne&255;return J+ie},a.prototype.writeInt8=function(z,J,ie){return z=+z,J=J>>>0,ie||C(this,z,J,1,127,-128),z<0&&(z=255+z+1),this[J]=z&255,J+1},a.prototype.writeInt16LE=function(z,J,ie){return z=+z,J=J>>>0,ie||C(this,z,J,2,32767,-32768),this[J]=z&255,this[J+1]=z>>>8,J+2},a.prototype.writeInt16BE=function(z,J,ie){return z=+z,J=J>>>0,ie||C(this,z,J,2,32767,-32768),this[J]=z>>>8,this[J+1]=z&255,J+2},a.prototype.writeInt32LE=function(z,J,ie){return z=+z,J=J>>>0,ie||C(this,z,J,4,2147483647,-2147483648),this[J]=z&255,this[J+1]=z>>>8,this[J+2]=z>>>16,this[J+3]=z>>>24,J+4},a.prototype.writeInt32BE=function(z,J,ie){return z=+z,J=J>>>0,ie||C(this,z,J,4,2147483647,-2147483648),z<0&&(z=4294967295+z+1),this[J]=z>>>24,this[J+1]=z>>>16,this[J+2]=z>>>8,this[J+3]=z&255,J+4},a.prototype.writeBigInt64LE=de(function(z,J=0){return D(this,z,J,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=de(function(z,J=0){return U(this,z,J,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function O(ee,z,J,ie,fe,ke){if(J+ie>ee.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("Index out of range")}function $(ee,z,J,ie,fe){return z=+z,J=J>>>0,fe||O(ee,z,J,4),r.write(ee,z,J,ie,23,4),J+4}a.prototype.writeFloatLE=function(z,J,ie){return $(this,z,J,!0,ie)},a.prototype.writeFloatBE=function(z,J,ie){return $(this,z,J,!1,ie)};function F(ee,z,J,ie,fe){return z=+z,J=J>>>0,fe||O(ee,z,J,8),r.write(ee,z,J,ie,52,8),J+8}a.prototype.writeDoubleLE=function(z,J,ie){return F(this,z,J,!0,ie)},a.prototype.writeDoubleBE=function(z,J,ie){return F(this,z,J,!1,ie)},a.prototype.copy=function(z,J,ie,fe){if(!a.isBuffer(z))throw new TypeError("argument should be a Buffer");if(ie||(ie=0),!fe&&fe!==0&&(fe=this.length),J>=z.length&&(J=z.length),J||(J=0),fe>0&&fe<ie&&(fe=ie),fe===ie||z.length===0||this.length===0)return 0;if(J<0)throw new RangeError("targetStart out of bounds");if(ie<0||ie>=this.length)throw new RangeError("Index out of range");if(fe<0)throw new RangeError("sourceEnd out of bounds");fe>this.length&&(fe=this.length),z.length-J<fe-ie&&(fe=z.length-J+ie);const ke=fe-ie;return this===z&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(J,ie,fe):Uint8Array.prototype.set.call(z,this.subarray(ie,fe),J),ke},a.prototype.fill=function(z,J,ie,fe){if(typeof z=="string"){if(typeof J=="string"?(fe=J,J=0,ie=this.length):typeof ie=="string"&&(fe=ie,ie=this.length),fe!==void 0&&typeof fe!="string")throw new TypeError("encoding must be a string");if(typeof fe=="string"&&!a.isEncoding(fe))throw new TypeError("Unknown encoding: "+fe);if(z.length===1){const ve=z.charCodeAt(0);(fe==="utf8"&&ve<128||fe==="latin1")&&(z=ve)}}else typeof z=="number"?z=z&255:typeof z=="boolean"&&(z=Number(z));if(J<0||this.length<J||this.length<ie)throw new RangeError("Out of range index");if(ie<=J)return this;J=J>>>0,ie=ie===void 0?this.length:ie>>>0,z||(z=0);let ke;if(typeof z=="number")for(ke=J;ke<ie;++ke)this[ke]=z;else{const ve=a.isBuffer(z)?z:a.from(z,fe),Ne=ve.length;if(Ne===0)throw new TypeError('The value "'+z+'" is invalid for argument "value"');for(ke=0;ke<ie-J;++ke)this[ke+J]=ve[ke%Ne]}return this};const H={};function Q(ee,z,J){H[ee]=class extends J{constructor(){super(),Object.defineProperty(this,"message",{value:z.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ee}]`,this.stack,delete this.name}get code(){return ee}set code(fe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:fe,writable:!0})}toString(){return`${this.name} [${ee}]: ${this.message}`}}}Q("ERR_BUFFER_OUT_OF_BOUNDS",function(ee){return ee?`${ee} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Q("ERR_INVALID_ARG_TYPE",function(ee,z){return`The "${ee}" argument must be of type number. Received type ${typeof z}`},TypeError),Q("ERR_OUT_OF_RANGE",function(ee,z,J){let ie=`The value of "${ee}" is out of range.`,fe=J;return Number.isInteger(J)&&Math.abs(J)>2**32?fe=te(String(J)):typeof J=="bigint"&&(fe=String(J),(J>BigInt(2)**BigInt(32)||J<-(BigInt(2)**BigInt(32)))&&(fe=te(fe)),fe+="n"),ie+=` It must be ${z}. Received ${fe}`,ie},RangeError);function te(ee){let z="",J=ee.length;const ie=ee[0]==="-"?1:0;for(;J>=ie+4;J-=3)z=`_${ee.slice(J-3,J)}${z}`;return`${ee.slice(0,J)}${z}`}function X(ee,z,J){oe(z,"offset"),(ee[z]===void 0||ee[z+J]===void 0)&&_e(z,ee.length-(J+1))}function K(ee,z,J,ie,fe,ke){if(ee>J||ee<z){const ve=typeof z=="bigint"?"n":"";let Ne;throw z===0||z===BigInt(0)?Ne=`>= 0${ve} and < 2${ve} ** ${(ke+1)*8}${ve}`:Ne=`>= -(2${ve} ** ${(ke+1)*8-1}${ve}) and < 2 ** ${(ke+1)*8-1}${ve}`,new H.ERR_OUT_OF_RANGE("value",Ne,ee)}X(ie,fe,ke)}function oe(ee,z){if(typeof ee!="number")throw new H.ERR_INVALID_ARG_TYPE(z,"number",ee)}function _e(ee,z,J){throw Math.floor(ee)!==ee?(oe(ee,J),new H.ERR_OUT_OF_RANGE("offset","an integer",ee)):z<0?new H.ERR_BUFFER_OUT_OF_BOUNDS:new H.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${z}`,ee)}const Se=/[^+/0-9A-Za-z-_]/g;function W(ee){if(ee=ee.split("=")[0],ee=ee.trim().replace(Se,""),ee.length<2)return"";for(;ee.length%4!==0;)ee=ee+"=";return ee}function re(ee,z){z=z||1/0;let J;const ie=ee.length;let fe=null;const ke=[];for(let ve=0;ve<ie;++ve){if(J=ee.charCodeAt(ve),J>55295&&J<57344){if(!fe){if(J>56319){(z-=3)>-1&&ke.push(239,191,189);continue}else if(ve+1===ie){(z-=3)>-1&&ke.push(239,191,189);continue}fe=J;continue}if(J<56320){(z-=3)>-1&&ke.push(239,191,189),fe=J;continue}J=(fe-55296<<10|J-56320)+65536}else fe&&(z-=3)>-1&&ke.push(239,191,189);if(fe=null,J<128){if((z-=1)<0)break;ke.push(J)}else if(J<2048){if((z-=2)<0)break;ke.push(J>>6|192,J&63|128)}else if(J<65536){if((z-=3)<0)break;ke.push(J>>12|224,J>>6&63|128,J&63|128)}else if(J<1114112){if((z-=4)<0)break;ke.push(J>>18|240,J>>12&63|128,J>>6&63|128,J&63|128)}else throw new Error("Invalid code point")}return ke}function ne(ee){const z=[];for(let J=0;J<ee.length;++J)z.push(ee.charCodeAt(J)&255);return z}function se(ee,z){let J,ie,fe;const ke=[];for(let ve=0;ve<ee.length&&!((z-=2)<0);++ve)J=ee.charCodeAt(ve),ie=J>>8,fe=J%256,ke.push(fe),ke.push(ie);return ke}function Te(ee){return e.toByteArray(W(ee))}function be(ee,z,J,ie){let fe;for(fe=0;fe<ie&&!(fe+J>=z.length||fe>=ee.length);++fe)z[fe+J]=ee[fe];return fe}function Ee(ee,z){return ee instanceof z||ee!=null&&ee.constructor!=null&&ee.constructor.name!=null&&ee.constructor.name===z.name}function ut(ee){return ee!==ee}const le=function(){const ee="0123456789abcdef",z=new Array(256);for(let J=0;J<16;++J){const ie=J*16;for(let fe=0;fe<16;++fe)z[ie+fe]=ee[J]+ee[fe]}return z}();function de(ee){return typeof BigInt>"u"?Fe:ee}function Fe(){throw new Error("BigInt not supported")}})(xe);function Ex(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function cSe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function n1(t,...e){if(!cSe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function lSe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ex(t.outputLen),Ex(t.blockLen)}function lb(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function bY(t,e){n1(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const Tg=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function fSe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function dSe(t){return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}function vY(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function _2(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function vu(t,e){return t<<32-e|t>>>e}function hSe(t,e){return t<<e|t>>>32-e>>>0}const kx=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function CN(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const pSe=kx?t=>t:t=>CN(t);function j8(t){for(let e=0;e<t.length;e++)t[e]=CN(t[e])}const gSe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function mSe(t){n1(t);let e="";for(let r=0;r<t.length;r++)e+=gSe[t[r]];return e}const Ol={_0:48,_9:57,A:65,F:70,a:97,f:102};function dU(t){if(t>=Ol._0&&t<=Ol._9)return t-Ol._0;if(t>=Ol.A&&t<=Ol.F)return t-(Ol.A-10);if(t>=Ol.a&&t<=Ol.f)return t-(Ol.a-10)}function ySe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=dU(t.charCodeAt(s)),a=dU(t.charCodeAt(s+1));if(o===void 0||a===void 0){const u=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}n[i]=o*16+a}return n}const wY=async()=>{};async function bSe(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);const s=Date.now()-n;s>=0&&s<e||(await wY(),n+=s)}}function SY(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function Y0(t){return typeof t=="string"&&(t=SY(t)),n1(t),t}function _Y(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];n1(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}let Ek=class{clone(){return this._cloneInto()}};function vSe(t,e){if(e!==void 0&&{}.toString.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}function $h(t){const e=n=>t().update(Y0(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function wSe(t){const e=(n,i)=>t(i).update(Y0(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function SSe(t){const e=(n,i)=>t(i).update(Y0(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function PN(t=32){if(Tg&&typeof Tg.getRandomValues=="function")return Tg.getRandomValues(new Uint8Array(t));if(Tg&&typeof Tg.randomBytes=="function")return Tg.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const J1t=Object.freeze(Object.defineProperty({__proto__:null,Hash:Ek,asyncLoop:bSe,byteSwap:CN,byteSwap32:j8,byteSwapIfBE:pSe,bytesToHex:mSe,checkOpts:vSe,concatBytes:_Y,createView:_2,hexToBytes:ySe,isBytes:fSe,isLE:kx,nextTick:wY,randomBytes:PN,rotl:hSe,rotr:vu,toBytes:Y0,u32:vY,u8:dSe,utf8ToBytes:SY,wrapConstructor:$h,wrapConstructorWithOpts:wSe,wrapXOFConstructorWithOpts:SSe},Symbol.toStringTag,{value:"Module"}));function _Se(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,f=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+f,a,n)}function ASe(t,e,r){return t&e^~t&r}function xSe(t,e,r){return t&e^t&r^e&r}class AY extends Ek{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=_2(this.buffer)}update(e){lb(this);const{view:r,buffer:n,blockLen:i}=this;e=Y0(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const u=_2(e);for(;i<=s-o;o+=i)this.process(u,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){lb(this),bY(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let g=o;g<i;g++)r[g]=0;_Se(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=_2(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=u/4,d=this.get();if(f>d.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<f;g++)a.setUint32(4*g,d[g],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}}const dA=BigInt(2**32-1),K8=BigInt(32);function xY(t,e=!1){return e?{h:Number(t&dA),l:Number(t>>K8&dA)}:{h:Number(t>>K8&dA)|0,l:Number(t&dA)|0}}function EY(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=xY(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const ESe=(t,e)=>BigInt(t>>>0)<<K8|BigInt(e>>>0),kSe=(t,e,r)=>t>>>r,TSe=(t,e,r)=>t<<32-r|e>>>r,ISe=(t,e,r)=>t>>>r|e<<32-r,RSe=(t,e,r)=>t<<32-r|e>>>r,MSe=(t,e,r)=>t<<64-r|e>>>r-32,CSe=(t,e,r)=>t>>>r-32|e<<64-r,PSe=(t,e)=>e,NSe=(t,e)=>t,kY=(t,e,r)=>t<<r|e>>>32-r,TY=(t,e,r)=>e<<r|t>>>32-r,IY=(t,e,r)=>e<<r-32|t>>>64-r,RY=(t,e,r)=>t<<r-32|e>>>64-r;function BSe(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const OSe=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),LSe=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,DSe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),FSe=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,$Se=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),USe=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,mr={fromBig:xY,split:EY,toBig:ESe,shrSH:kSe,shrSL:TSe,rotrSH:ISe,rotrSL:RSe,rotrBH:MSe,rotrBL:CSe,rotr32H:PSe,rotr32L:NSe,rotlSH:kY,rotlSL:TY,rotlBH:IY,rotlBL:RY,add:BSe,add3L:OSe,add3H:LSe,add4L:DSe,add4H:FSe,add5H:USe,add5L:$Se},[zSe,WSe]=mr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),gd=new Uint32Array(80),md=new Uint32Array(80);let YS=class extends AY{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:u,Eh:f,El:d,Fh:g,Fl:y,Gh:b,Gl:A,Hh:x,Hl:k}=this;return[e,r,n,i,s,o,a,u,f,d,g,y,b,A,x,k]}set(e,r,n,i,s,o,a,u,f,d,g,y,b,A,x,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=u|0,this.Eh=f|0,this.El=d|0,this.Fh=g|0,this.Fl=y|0,this.Gh=b|0,this.Gl=A|0,this.Hh=x|0,this.Hl=k|0}process(e,r){for(let M=0;M<16;M++,r+=4)gd[M]=e.getUint32(r),md[M]=e.getUint32(r+=4);for(let M=16;M<80;M++){const P=gd[M-15]|0,j=md[M-15]|0,V=mr.rotrSH(P,j,1)^mr.rotrSH(P,j,8)^mr.shrSH(P,j,7),Z=mr.rotrSL(P,j,1)^mr.rotrSL(P,j,8)^mr.shrSL(P,j,7),G=gd[M-2]|0,q=md[M-2]|0,ae=mr.rotrSH(G,q,19)^mr.rotrBH(G,q,61)^mr.shrSH(G,q,6),T=mr.rotrSL(G,q,19)^mr.rotrBL(G,q,61)^mr.shrSL(G,q,6),c=mr.add4L(Z,T,md[M-7],md[M-16]),h=mr.add4H(c,V,ae,gd[M-7],gd[M-16]);gd[M]=h|0,md[M]=c|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:u,Dh:f,Dl:d,Eh:g,El:y,Fh:b,Fl:A,Gh:x,Gl:k,Hh:I,Hl:R}=this;for(let M=0;M<80;M++){const P=mr.rotrSH(g,y,14)^mr.rotrSH(g,y,18)^mr.rotrBH(g,y,41),j=mr.rotrSL(g,y,14)^mr.rotrSL(g,y,18)^mr.rotrBL(g,y,41),V=g&b^~g&x,Z=y&A^~y&k,G=mr.add5L(R,j,Z,WSe[M],md[M]),q=mr.add5H(G,I,P,V,zSe[M],gd[M]),ae=G|0,T=mr.rotrSH(n,i,28)^mr.rotrBH(n,i,34)^mr.rotrBH(n,i,39),c=mr.rotrSL(n,i,28)^mr.rotrBL(n,i,34)^mr.rotrBL(n,i,39),h=n&s^n&a^s&a,p=i&o^i&u^o&u;I=x|0,R=k|0,x=b|0,k=A|0,b=g|0,A=y|0,{h:g,l:y}=mr.add(f|0,d|0,q|0,ae|0),f=a|0,d=u|0,a=s|0,u=o|0,s=n|0,o=i|0;const m=mr.add3L(ae,c,p);n=mr.add3H(m,q,T,h),i=m|0}({h:n,l:i}=mr.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=mr.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:u}=mr.add(this.Ch|0,this.Cl|0,a|0,u|0),{h:f,l:d}=mr.add(this.Dh|0,this.Dl|0,f|0,d|0),{h:g,l:y}=mr.add(this.Eh|0,this.El|0,g|0,y|0),{h:b,l:A}=mr.add(this.Fh|0,this.Fl|0,b|0,A|0),{h:x,l:k}=mr.add(this.Gh|0,this.Gl|0,x|0,k|0),{h:I,l:R}=mr.add(this.Hh|0,this.Hl|0,I|0,R|0),this.set(n,i,s,o,a,u,f,d,g,y,b,A,x,k,I,R)}roundClean(){gd.fill(0),md.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};class MY extends YS{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class CY extends YS{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}let PY=class extends YS{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};const NY=$h(()=>new YS),jSe=$h(()=>new MY),KSe=$h(()=>new CY),HSe=$h(()=>new PY),tvt=Object.freeze(Object.defineProperty({__proto__:null,SHA384:PY,SHA512:YS,SHA512_224:MY,SHA512_256:CY,sha384:HSe,sha512:NY,sha512_224:jSe,sha512_256:KSe},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kk=BigInt(0),Tk=BigInt(1),qSe=BigInt(2);function p0(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function ZS(t){if(!p0(t))throw new Error("Uint8Array expected")}function Df(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const VSe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function g0(t){ZS(t);let e="";for(let r=0;r<t.length;r++)e+=VSe[t[r]];return e}function Im(t){const e=t.toString(16);return e.length&1?"0"+e:e}function NN(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?kk:BigInt("0x"+t)}const Ll={_0:48,_9:57,A:65,F:70,a:97,f:102};function hU(t){if(t>=Ll._0&&t<=Ll._9)return t-Ll._0;if(t>=Ll.A&&t<=Ll.F)return t-(Ll.A-10);if(t>=Ll.a&&t<=Ll.f)return t-(Ll.a-10)}function fb(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=hU(t.charCodeAt(s)),a=hU(t.charCodeAt(s+1));if(o===void 0||a===void 0){const u=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}n[i]=o*16+a}return n}function s0(t){return NN(g0(t))}function ny(t){return ZS(t),NN(g0(Uint8Array.from(t).reverse()))}function db(t,e){return fb(t.toString(16).padStart(e*2,"0"))}function Pw(t,e){return db(t,e).reverse()}function GSe(t){return fb(Im(t))}function Bi(t,e,r){let n;if(typeof e=="string")try{n=fb(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(p0(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function m0(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];ZS(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}function YSe(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}function ZSe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const s4=t=>typeof t=="bigint"&&kk<=t;function Ik(t,e,r){return s4(t)&&s4(e)&&s4(r)&&e<=t&&t<r}function Xa(t,e,r,n){if(!Ik(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function BY(t){let e;for(e=0;t>kk;t>>=Tk,e+=1);return e}function XSe(t,e){return t>>BigInt(e)&Tk}function JSe(t,e,r){return t|(r?Tk:kk)<<BigInt(e)}const BN=t=>(qSe<<BigInt(t-1))-Tk,o4=t=>new Uint8Array(t),pU=t=>Uint8Array.from(t);function OY(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=o4(t),i=o4(t),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...g)=>r(i,n,...g),u=(g=o4())=>{i=a(pU([0]),g),n=a(),g.length!==0&&(i=a(pU([1]),g),n=a())},f=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let g=0;const y=[];for(;g<e;){n=a();const b=n.slice();y.push(b),g+=n.length}return m0(...y)};return(g,y)=>{o(),u(g);let b;for(;!(b=y(f()));)u();return o(),b}}const QSe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||p0(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function i1(t,e,r={}){const n=(i,s,o)=>{const a=QSe[s];if(typeof a!="function")throw new Error("invalid validator function");const u=t[i];if(!(o&&u===void 0)&&!a(u,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+u)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}const e_e=()=>{throw new Error("not implemented")};function Nw(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const t_e=Object.freeze(Object.defineProperty({__proto__:null,aInRange:Xa,abool:Df,abytes:ZS,bitGet:XSe,bitLen:BY,bitMask:BN,bitSet:JSe,bytesToHex:g0,bytesToNumberBE:s0,bytesToNumberLE:ny,concatBytes:m0,createHmacDrbg:OY,ensureBytes:Bi,equalBytes:YSe,hexToBytes:fb,hexToNumber:NN,inRange:Ik,isBytes:p0,memoized:Nw,notImplemented:e_e,numberToBytesBE:db,numberToBytesLE:Pw,numberToHexUnpadded:Im,numberToVarBytesBE:GSe,utf8ToBytes:ZSe,validateObject:i1},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const hs=BigInt(0),ii=BigInt(1),lp=BigInt(2),r_e=BigInt(3),H8=BigInt(4),gU=BigInt(5),mU=BigInt(8);function Qn(t,e){const r=t%e;return r>=hs?r:e+r}function n_e(t,e,r){if(e<hs)throw new Error("invalid exponent, negatives unsupported");if(r<=hs)throw new Error("invalid modulus");if(r===ii)return hs;let n=ii;for(;e>hs;)e&ii&&(n=n*t%r),t=t*t%r,e>>=ii;return n}function di(t,e,r){let n=t;for(;e-- >hs;)n*=n,n%=r;return n}function q8(t,e){if(t===hs)throw new Error("invert: expected non-zero number");if(e<=hs)throw new Error("invert: expected positive modulus, got "+e);let r=Qn(t,e),n=e,i=hs,s=ii;for(;r!==hs;){const a=n/r,u=n%r,f=i-s*a;n=r,r=u,i=s,s=f}if(n!==ii)throw new Error("invert: does not exist");return Qn(i,e)}function i_e(t){const e=(t-ii)/lp;let r,n,i;for(r=t-ii,n=0;r%lp===hs;r/=lp,n++);for(i=lp;i<t&&n_e(i,e,t)!==t-ii;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const o=(t+ii)/H8;return function(u,f){const d=u.pow(f,o);if(!u.eql(u.sqr(d),f))throw new Error("Cannot find square root");return d}}const s=(r+ii)/lp;return function(a,u){if(a.pow(u,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let f=n,d=a.pow(a.mul(a.ONE,i),r),g=a.pow(u,s),y=a.pow(u,r);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let b=1;for(let x=a.sqr(y);b<f&&!a.eql(x,a.ONE);b++)x=a.sqr(x);const A=a.pow(d,ii<<BigInt(f-b-1));d=a.sqr(A),g=a.mul(g,A),y=a.mul(y,d),f=b}return g}}function s_e(t){if(t%H8===r_e){const e=(t+ii)/H8;return function(n,i){const s=n.pow(i,e);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%mU===gU){const e=(t-gU)/mU;return function(n,i){const s=n.mul(i,lp),o=n.pow(s,e),a=n.mul(i,o),u=n.mul(n.mul(a,lp),o),f=n.mul(a,n.sub(u,n.ONE));if(!n.eql(n.sqr(f),i))throw new Error("Cannot find square root");return f}}return i_e(t)}const o_e=(t,e)=>(Qn(t,e)&ii)===ii,a_e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function u_e(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=a_e.reduce((n,i)=>(n[i]="function",n),e);return i1(t,r)}function c_e(t,e,r){if(r<hs)throw new Error("invalid exponent, negatives unsupported");if(r===hs)return t.ONE;if(r===ii)return e;let n=t.ONE,i=e;for(;r>hs;)r&ii&&(n=t.mul(n,i)),i=t.sqr(i),r>>=ii;return n}function l_e(t,e){const r=new Array(e.length),n=e.reduce((s,o,a)=>t.is0(o)?s:(r[a]=s,t.mul(s,o)),t.ONE),i=t.inv(n);return e.reduceRight((s,o,a)=>t.is0(o)?s:(r[a]=t.mul(s,r[a]),t.mul(s,o)),i),r}function LY(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Rk(t,e,r=!1,n={}){if(t<=hs)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=LY(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:r,BITS:i,BYTES:s,MASK:BN(i),ZERO:hs,ONE:ii,create:u=>Qn(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return hs<=u&&u<t},is0:u=>u===hs,isOdd:u=>(u&ii)===ii,neg:u=>Qn(-u,t),eql:(u,f)=>u===f,sqr:u=>Qn(u*u,t),add:(u,f)=>Qn(u+f,t),sub:(u,f)=>Qn(u-f,t),mul:(u,f)=>Qn(u*f,t),pow:(u,f)=>c_e(a,u,f),div:(u,f)=>Qn(u*q8(f,t),t),sqrN:u=>u*u,addN:(u,f)=>u+f,subN:(u,f)=>u-f,mulN:(u,f)=>u*f,inv:u=>q8(u,t),sqrt:n.sqrt||(u=>(o||(o=s_e(t)),o(a,u))),invertBatch:u=>l_e(a,u),cmov:(u,f,d)=>d?f:u,toBytes:u=>r?Pw(u,s):db(u,s),fromBytes:u=>{if(u.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+u.length);return r?ny(u):s0(u)}});return Object.freeze(a)}function DY(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function FY(t){const e=DY(t);return e+Math.ceil(e/2)}function f_e(t,e,r=!1){const n=t.length,i=DY(e),s=FY(e);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?ny(t):s0(t),a=Qn(o,e-ii)+ii;return r?Pw(a,i):db(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const yU=BigInt(0),hA=BigInt(1);function a4(t,e){const r=e.negate();return t?r:e}function $Y(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function u4(t,e){$Y(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1);return{windows:r,windowSize:n}}function d_e(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function h_e(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const c4=new WeakMap,UY=new WeakMap;function l4(t){return UY.get(t)||1}function zY(t,e){return{constTimeNegate:a4,hasPrecomputes(r){return l4(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>yU;)n&hA&&(i=i.add(s)),s=s.double(),n>>=hA;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=u4(n,e),o=[];let a=r,u=a;for(let f=0;f<i;f++){u=a,o.push(u);for(let d=1;d<s;d++)u=u.add(a),o.push(u);a=u.double()}return o},wNAF(r,n,i){const{windows:s,windowSize:o}=u4(r,e);let a=t.ZERO,u=t.BASE;const f=BigInt(2**r-1),d=2**r,g=BigInt(r);for(let y=0;y<s;y++){const b=y*o;let A=Number(i&f);i>>=g,A>o&&(A-=d,i+=hA);const x=b,k=b+Math.abs(A)-1,I=y%2!==0,R=A<0;A===0?u=u.add(a4(I,n[x])):a=a.add(a4(R,n[k]))}return{p:a,f:u}},wNAFUnsafe(r,n,i,s=t.ZERO){const{windows:o,windowSize:a}=u4(r,e),u=BigInt(2**r-1),f=2**r,d=BigInt(r);for(let g=0;g<o;g++){const y=g*a;if(i===yU)break;let b=Number(i&u);if(i>>=d,b>a&&(b-=f,i+=hA),b===0)continue;let A=n[y+Math.abs(b)-1];b<0&&(A=A.negate()),s=s.add(A)}return s},getPrecomputes(r,n,i){let s=c4.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&c4.set(n,i(s))),s},wNAFCached(r,n,i){const s=l4(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=l4(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){$Y(n,e),UY.set(r,n),c4.delete(r)}}}function WY(t,e,r,n){if(d_e(r,t),h_e(n,e),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=BY(BigInt(r.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,u=new Array(a+1).fill(i),f=Math.floor((e.BITS-1)/o)*o;let d=i;for(let g=f;g>=0;g-=o){u.fill(i);for(let b=0;b<n.length;b++){const A=n[b],x=Number(A>>BigInt(g)&BigInt(a));u[x]=u[x].add(r[b])}let y=i;for(let b=u.length-1,A=i;b>0;b--)A=A.add(u[b]),y=y.add(A);if(d=d.add(y),g!==0)for(let b=0;b<o;b++)d=d.double()}return d}function ON(t){return u_e(t.Fp),i1(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...LY(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const yu=BigInt(0),Eo=BigInt(1),pA=BigInt(2),p_e=BigInt(8),g_e={zip215:!0};function m_e(t){const e=ON(t);return i1(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function y_e(t){const e=m_e(t),{Fp:r,n,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:u}=e,f=pA<<BigInt(a*8)-Eo,d=r.create,g=Rk(e.n,e.nBitLength),y=e.uvRatio||((v,_)=>{try{return{isValid:!0,value:r.sqrt(v*r.inv(_))}}catch{return{isValid:!1,value:yu}}}),b=e.adjustScalarBytes||(v=>v),A=e.domain||((v,_,E)=>{if(Df("phflag",E),_.length||E)throw new Error("Contexts/pre-hash are not supported");return v});function x(v,_){Xa("coordinate "+v,_,yu,f)}function k(v){if(!(v instanceof M))throw new Error("ExtendedPoint expected")}const I=Nw((v,_)=>{const{ex:E,ey:w,ez:l}=v,S=v.is0();_==null&&(_=S?p_e:r.inv(l));const C=d(E*_),D=d(w*_),U=d(l*_);if(S)return{x:yu,y:Eo};if(U!==Eo)throw new Error("invZ was invalid");return{x:C,y:D}}),R=Nw(v=>{const{a:_,d:E}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:w,ey:l,ez:S,et:C}=v,D=d(w*w),U=d(l*l),O=d(S*S),$=d(O*O),F=d(D*_),H=d(O*d(F+U)),Q=d($+d(E*d(D*U)));if(H!==Q)throw new Error("bad point: equation left != right (1)");const te=d(w*l),X=d(S*C);if(te!==X)throw new Error("bad point: equation left != right (2)");return!0});class M{constructor(_,E,w,l){this.ex=_,this.ey=E,this.ez=w,this.et=l,x("x",_),x("y",E),x("z",w),x("t",l),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(_){if(_ instanceof M)throw new Error("extended point not allowed");const{x:E,y:w}=_||{};return x("x",E),x("y",w),new M(E,w,Eo,d(E*w))}static normalizeZ(_){const E=r.invertBatch(_.map(w=>w.ez));return _.map((w,l)=>w.toAffine(E[l])).map(M.fromAffine)}static msm(_,E){return WY(M,g,_,E)}_setWindowSize(_){V.setWindowSize(this,_)}assertValidity(){R(this)}equals(_){k(_);const{ex:E,ey:w,ez:l}=this,{ex:S,ey:C,ez:D}=_,U=d(E*D),O=d(S*l),$=d(w*D),F=d(C*l);return U===O&&$===F}is0(){return this.equals(M.ZERO)}negate(){return new M(d(-this.ex),this.ey,this.ez,d(-this.et))}double(){const{a:_}=e,{ex:E,ey:w,ez:l}=this,S=d(E*E),C=d(w*w),D=d(pA*d(l*l)),U=d(_*S),O=E+w,$=d(d(O*O)-S-C),F=U+C,H=F-D,Q=U-C,te=d($*H),X=d(F*Q),K=d($*Q),oe=d(H*F);return new M(te,X,oe,K)}add(_){k(_);const{a:E,d:w}=e,{ex:l,ey:S,ez:C,et:D}=this,{ex:U,ey:O,ez:$,et:F}=_;if(E===BigInt(-1)){const Te=d((S-l)*(O+U)),be=d((S+l)*(O-U)),Ee=d(be-Te);if(Ee===yu)return this.double();const ut=d(C*pA*F),le=d(D*pA*$),de=le+ut,Fe=be+Te,ee=le-ut,z=d(de*Ee),J=d(Fe*ee),ie=d(de*ee),fe=d(Ee*Fe);return new M(z,J,fe,ie)}const H=d(l*U),Q=d(S*O),te=d(D*w*F),X=d(C*$),K=d((l+S)*(U+O)-H-Q),oe=X-te,_e=X+te,Se=d(Q-E*H),W=d(K*oe),re=d(_e*Se),ne=d(K*Se),se=d(oe*_e);return new M(W,re,se,ne)}subtract(_){return this.add(_.negate())}wNAF(_){return V.wNAFCached(this,_,M.normalizeZ)}multiply(_){const E=_;Xa("scalar",E,Eo,n);const{p:w,f:l}=this.wNAF(E);return M.normalizeZ([w,l])[0]}multiplyUnsafe(_,E=M.ZERO){const w=_;return Xa("scalar",w,yu,n),w===yu?j:this.is0()||w===Eo?this:V.wNAFCachedUnsafe(this,w,M.normalizeZ,E)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return V.unsafeLadder(this,n).is0()}toAffine(_){return I(this,_)}clearCofactor(){const{h:_}=e;return _===Eo?this:this.multiplyUnsafe(_)}static fromHex(_,E=!1){const{d:w,a:l}=e,S=r.BYTES;_=Bi("pointHex",_,S),Df("zip215",E);const C=_.slice(),D=_[S-1];C[S-1]=D&-129;const U=ny(C),O=E?f:r.ORDER;Xa("pointHex.y",U,yu,O);const $=d(U*U),F=d($-Eo),H=d(w*$-l);let{isValid:Q,value:te}=y(F,H);if(!Q)throw new Error("Point.fromHex: invalid y coordinate");const X=(te&Eo)===Eo,K=(D&128)!==0;if(!E&&te===yu&&K)throw new Error("Point.fromHex: x=0 and x_0=1");return K!==X&&(te=d(-te)),M.fromAffine({x:te,y:U})}static fromPrivateKey(_){return q(_).point}toRawBytes(){const{x:_,y:E}=this.toAffine(),w=Pw(E,r.BYTES);return w[w.length-1]|=_&Eo?128:0,w}toHex(){return g0(this.toRawBytes())}}M.BASE=new M(e.Gx,e.Gy,Eo,d(e.Gx*e.Gy)),M.ZERO=new M(yu,Eo,Eo,yu);const{BASE:P,ZERO:j}=M,V=zY(M,a*8);function Z(v){return Qn(v,n)}function G(v){return Z(ny(v))}function q(v){const _=r.BYTES;v=Bi("private key",v,_);const E=Bi("hashed private key",s(v),2*_),w=b(E.slice(0,_)),l=E.slice(_,2*_),S=G(w),C=P.multiply(S),D=C.toRawBytes();return{head:w,prefix:l,scalar:S,point:C,pointBytes:D}}function ae(v){return q(v).pointBytes}function T(v=new Uint8Array,..._){const E=m0(..._);return G(s(A(E,Bi("context",v),!!i)))}function c(v,_,E={}){v=Bi("message",v),i&&(v=i(v));const{prefix:w,scalar:l,pointBytes:S}=q(_),C=T(E.context,w,v),D=P.multiply(C).toRawBytes(),U=T(E.context,D,S,v),O=Z(C+U*l);Xa("signature.s",O,yu,n);const $=m0(D,Pw(O,r.BYTES));return Bi("result",$,r.BYTES*2)}const h=g_e;function p(v,_,E,w=h){const{context:l,zip215:S}=w,C=r.BYTES;v=Bi("signature",v,2*C),_=Bi("message",_),E=Bi("publicKey",E,C),S!==void 0&&Df("zip215",S),i&&(_=i(_));const D=ny(v.slice(C,2*C));let U,O,$;try{U=M.fromHex(E,S),O=M.fromHex(v.slice(0,C),S),$=P.multiplyUnsafe(D)}catch{return!1}if(!S&&U.isSmallOrder())return!1;const F=T(l,O.toRawBytes(),U.toRawBytes(),_);return O.add(U.multiplyUnsafe(F)).subtract($).clearCofactor().equals(M.ZERO)}return P._setWindowSize(8),{CURVE:e,getPublicKey:ae,sign:c,verify:p,ExtendedPoint:M,utils:{getExtendedPublicKey:q,randomPrivateKey:()=>o(r.BYTES),precompute(v=8,_=M.BASE){return _._setWindowSize(v),_.multiply(BigInt(3)),_}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const LN=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),bU=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const b_e=BigInt(1),vU=BigInt(2);BigInt(3);const v_e=BigInt(5),w_e=BigInt(8);function S_e(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=LN,a=t*t%s*t%s,u=di(a,vU,s)*a%s,f=di(u,b_e,s)*t%s,d=di(f,v_e,s)*f%s,g=di(d,e,s)*d%s,y=di(g,r,s)*g%s,b=di(y,n,s)*y%s,A=di(b,i,s)*b%s,x=di(A,i,s)*b%s,k=di(x,e,s)*d%s;return{pow_p_5_8:di(k,vU,s)*t%s,b2:a}}function __e(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function A_e(t,e){const r=LN,n=Qn(e*e*e,r),i=Qn(n*n*e,r),s=S_e(t*i).pow_p_5_8;let o=Qn(t*n*s,r);const a=Qn(e*o*o,r),u=o,f=Qn(o*bU,r),d=a===t,g=a===Qn(-t,r),y=a===Qn(-t*bU,r);return d&&(o=u),(g||y)&&(o=f),o_e(o,r)&&(o=Qn(-o,r)),{isValid:d||g,value:o}}const x_e=Rk(LN,void 0,!0),E_e={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:x_e,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:w_e,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:NY,randomBytes:PN,adjustScalarBytes:__e,uvRatio:A_e},Yi=y_e(E_e);var DN={exports:{}};DN.exports;(function(t){(function(e,r){function n(h,p){if(!h)throw new Error(p||"Assertion failed")}function i(h,p){h.super_=p;var m=function(){};m.prototype=p.prototype,h.prototype=new m,h.prototype.constructor=h}function s(h,p,m){if(s.isBN(h))return h;this.negative=0,this.words=null,this.length=0,this.red=null,h!==null&&((p==="le"||p==="be")&&(m=p,p=10),this._init(h||0,p||10,m||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=xe.Buffer}catch{}s.isBN=function(p){return p instanceof s?!0:p!==null&&typeof p=="object"&&p.constructor.wordSize===s.wordSize&&Array.isArray(p.words)},s.max=function(p,m){return p.cmp(m)>0?p:m},s.min=function(p,m){return p.cmp(m)<0?p:m},s.prototype._init=function(p,m,v){if(typeof p=="number")return this._initNumber(p,m,v);if(typeof p=="object")return this._initArray(p,m,v);m==="hex"&&(m=16),n(m===(m|0)&&m>=2&&m<=36),p=p.toString().replace(/\s+/g,"");var _=0;p[0]==="-"&&(_++,this.negative=1),_<p.length&&(m===16?this._parseHex(p,_,v):(this._parseBase(p,m,_),v==="le"&&this._initArray(this.toArray(),m,v)))},s.prototype._initNumber=function(p,m,v){p<0&&(this.negative=1,p=-p),p<67108864?(this.words=[p&67108863],this.length=1):p<4503599627370496?(this.words=[p&67108863,p/67108864&67108863],this.length=2):(n(p<9007199254740992),this.words=[p&67108863,p/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),m,v)},s.prototype._initArray=function(p,m,v){if(n(typeof p.length=="number"),p.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(p.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var E,w,l=0;if(v==="be")for(_=p.length-1,E=0;_>=0;_-=3)w=p[_]|p[_-1]<<8|p[_-2]<<16,this.words[E]|=w<<l&67108863,this.words[E+1]=w>>>26-l&67108863,l+=24,l>=26&&(l-=26,E++);else if(v==="le")for(_=0,E=0;_<p.length;_+=3)w=p[_]|p[_+1]<<8|p[_+2]<<16,this.words[E]|=w<<l&67108863,this.words[E+1]=w>>>26-l&67108863,l+=24,l>=26&&(l-=26,E++);return this._strip()};function a(h,p){var m=h.charCodeAt(p);if(m>=48&&m<=57)return m-48;if(m>=65&&m<=70)return m-55;if(m>=97&&m<=102)return m-87;n(!1,"Invalid character in "+h)}function u(h,p,m){var v=a(h,m);return m-1>=p&&(v|=a(h,m-1)<<4),v}s.prototype._parseHex=function(p,m,v){this.length=Math.ceil((p.length-m)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var E=0,w=0,l;if(v==="be")for(_=p.length-1;_>=m;_-=2)l=u(p,m,_)<<E,this.words[w]|=l&67108863,E>=18?(E-=18,w+=1,this.words[w]|=l>>>26):E+=8;else{var S=p.length-m;for(_=S%2===0?m+1:m;_<p.length;_+=2)l=u(p,m,_)<<E,this.words[w]|=l&67108863,E>=18?(E-=18,w+=1,this.words[w]|=l>>>26):E+=8}this._strip()};function f(h,p,m,v){for(var _=0,E=0,w=Math.min(h.length,m),l=p;l<w;l++){var S=h.charCodeAt(l)-48;_*=v,S>=49?E=S-49+10:S>=17?E=S-17+10:E=S,n(S>=0&&E<v,"Invalid character"),_+=E}return _}s.prototype._parseBase=function(p,m,v){this.words=[0],this.length=1;for(var _=0,E=1;E<=67108863;E*=m)_++;_--,E=E/m|0;for(var w=p.length-v,l=w%_,S=Math.min(w,w-l)+v,C=0,D=v;D<S;D+=_)C=f(p,D,D+_,m),this.imuln(E),this.words[0]+C<67108864?this.words[0]+=C:this._iaddn(C);if(l!==0){var U=1;for(C=f(p,D,p.length,m),D=0;D<l;D++)U*=m;this.imuln(U),this.words[0]+C<67108864?this.words[0]+=C:this._iaddn(C)}this._strip()},s.prototype.copy=function(p){p.words=new Array(this.length);for(var m=0;m<this.length;m++)p.words[m]=this.words[m];p.length=this.length,p.negative=this.negative,p.red=this.red};function d(h,p){h.words=p.words,h.length=p.length,h.negative=p.negative,h.red=p.red}if(s.prototype._move=function(p){d(p,this)},s.prototype.clone=function(){var p=new s(null);return this.copy(p),p},s.prototype._expand=function(p){for(;this.length<p;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{s.prototype.inspect=g}else s.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],A=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(p,m){p=p||10,m=m|0||1;var v;if(p===16||p==="hex"){v="";for(var _=0,E=0,w=0;w<this.length;w++){var l=this.words[w],S=((l<<_|E)&16777215).toString(16);E=l>>>24-_&16777215,_+=2,_>=26&&(_-=26,w--),E!==0||w!==this.length-1?v=y[6-S.length]+S+v:v=S+v}for(E!==0&&(v=E.toString(16)+v);v.length%m!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(p===(p|0)&&p>=2&&p<=36){var C=b[p],D=A[p];v="";var U=this.clone();for(U.negative=0;!U.isZero();){var O=U.modrn(D).toString(p);U=U.idivn(D),U.isZero()?v=O+v:v=y[C-O.length]+O+v}for(this.isZero()&&(v="0"+v);v.length%m!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var p=this.words[0];return this.length===2?p+=this.words[1]*67108864:this.length===3&&this.words[2]===1?p+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-p:p},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(p,m){return this.toArrayLike(o,p,m)}),s.prototype.toArray=function(p,m){return this.toArrayLike(Array,p,m)};var x=function(p,m){return p.allocUnsafe?p.allocUnsafe(m):new p(m)};s.prototype.toArrayLike=function(p,m,v){this._strip();var _=this.byteLength(),E=v||Math.max(1,_);n(_<=E,"byte array longer than desired length"),n(E>0,"Requested array length <= 0");var w=x(p,E),l=m==="le"?"LE":"BE";return this["_toArrayLike"+l](w,_),w},s.prototype._toArrayLikeLE=function(p,m){for(var v=0,_=0,E=0,w=0;E<this.length;E++){var l=this.words[E]<<w|_;p[v++]=l&255,v<p.length&&(p[v++]=l>>8&255),v<p.length&&(p[v++]=l>>16&255),w===6?(v<p.length&&(p[v++]=l>>24&255),_=0,w=0):(_=l>>>24,w+=2)}if(v<p.length)for(p[v++]=_;v<p.length;)p[v++]=0},s.prototype._toArrayLikeBE=function(p,m){for(var v=p.length-1,_=0,E=0,w=0;E<this.length;E++){var l=this.words[E]<<w|_;p[v--]=l&255,v>=0&&(p[v--]=l>>8&255),v>=0&&(p[v--]=l>>16&255),w===6?(v>=0&&(p[v--]=l>>24&255),_=0,w=0):(_=l>>>24,w+=2)}if(v>=0)for(p[v--]=_;v>=0;)p[v--]=0},Math.clz32?s.prototype._countBits=function(p){return 32-Math.clz32(p)}:s.prototype._countBits=function(p){var m=p,v=0;return m>=4096&&(v+=13,m>>>=13),m>=64&&(v+=7,m>>>=7),m>=8&&(v+=4,m>>>=4),m>=2&&(v+=2,m>>>=2),v+m},s.prototype._zeroBits=function(p){if(p===0)return 26;var m=p,v=0;return m&8191||(v+=13,m>>>=13),m&127||(v+=7,m>>>=7),m&15||(v+=4,m>>>=4),m&3||(v+=2,m>>>=2),m&1||v++,v},s.prototype.bitLength=function(){var p=this.words[this.length-1],m=this._countBits(p);return(this.length-1)*26+m};function k(h){for(var p=new Array(h.bitLength()),m=0;m<p.length;m++){var v=m/26|0,_=m%26;p[m]=h.words[v]>>>_&1}return p}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var p=0,m=0;m<this.length;m++){var v=this._zeroBits(this.words[m]);if(p+=v,v!==26)break}return p},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(p){return this.negative!==0?this.abs().inotn(p).iaddn(1):this.clone()},s.prototype.fromTwos=function(p){return this.testn(p-1)?this.notn(p).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(p){for(;this.length<p.length;)this.words[this.length++]=0;for(var m=0;m<p.length;m++)this.words[m]=this.words[m]|p.words[m];return this._strip()},s.prototype.ior=function(p){return n((this.negative|p.negative)===0),this.iuor(p)},s.prototype.or=function(p){return this.length>p.length?this.clone().ior(p):p.clone().ior(this)},s.prototype.uor=function(p){return this.length>p.length?this.clone().iuor(p):p.clone().iuor(this)},s.prototype.iuand=function(p){var m;this.length>p.length?m=p:m=this;for(var v=0;v<m.length;v++)this.words[v]=this.words[v]&p.words[v];return this.length=m.length,this._strip()},s.prototype.iand=function(p){return n((this.negative|p.negative)===0),this.iuand(p)},s.prototype.and=function(p){return this.length>p.length?this.clone().iand(p):p.clone().iand(this)},s.prototype.uand=function(p){return this.length>p.length?this.clone().iuand(p):p.clone().iuand(this)},s.prototype.iuxor=function(p){var m,v;this.length>p.length?(m=this,v=p):(m=p,v=this);for(var _=0;_<v.length;_++)this.words[_]=m.words[_]^v.words[_];if(this!==m)for(;_<m.length;_++)this.words[_]=m.words[_];return this.length=m.length,this._strip()},s.prototype.ixor=function(p){return n((this.negative|p.negative)===0),this.iuxor(p)},s.prototype.xor=function(p){return this.length>p.length?this.clone().ixor(p):p.clone().ixor(this)},s.prototype.uxor=function(p){return this.length>p.length?this.clone().iuxor(p):p.clone().iuxor(this)},s.prototype.inotn=function(p){n(typeof p=="number"&&p>=0);var m=Math.ceil(p/26)|0,v=p%26;this._expand(m),v>0&&m--;for(var _=0;_<m;_++)this.words[_]=~this.words[_]&67108863;return v>0&&(this.words[_]=~this.words[_]&67108863>>26-v),this._strip()},s.prototype.notn=function(p){return this.clone().inotn(p)},s.prototype.setn=function(p,m){n(typeof p=="number"&&p>=0);var v=p/26|0,_=p%26;return this._expand(v+1),m?this.words[v]=this.words[v]|1<<_:this.words[v]=this.words[v]&~(1<<_),this._strip()},s.prototype.iadd=function(p){var m;if(this.negative!==0&&p.negative===0)return this.negative=0,m=this.isub(p),this.negative^=1,this._normSign();if(this.negative===0&&p.negative!==0)return p.negative=0,m=this.isub(p),p.negative=1,m._normSign();var v,_;this.length>p.length?(v=this,_=p):(v=p,_=this);for(var E=0,w=0;w<_.length;w++)m=(v.words[w]|0)+(_.words[w]|0)+E,this.words[w]=m&67108863,E=m>>>26;for(;E!==0&&w<v.length;w++)m=(v.words[w]|0)+E,this.words[w]=m&67108863,E=m>>>26;if(this.length=v.length,E!==0)this.words[this.length]=E,this.length++;else if(v!==this)for(;w<v.length;w++)this.words[w]=v.words[w];return this},s.prototype.add=function(p){var m;return p.negative!==0&&this.negative===0?(p.negative=0,m=this.sub(p),p.negative^=1,m):p.negative===0&&this.negative!==0?(this.negative=0,m=p.sub(this),this.negative=1,m):this.length>p.length?this.clone().iadd(p):p.clone().iadd(this)},s.prototype.isub=function(p){if(p.negative!==0){p.negative=0;var m=this.iadd(p);return p.negative=1,m._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(p),this.negative=1,this._normSign();var v=this.cmp(p);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var _,E;v>0?(_=this,E=p):(_=p,E=this);for(var w=0,l=0;l<E.length;l++)m=(_.words[l]|0)-(E.words[l]|0)+w,w=m>>26,this.words[l]=m&67108863;for(;w!==0&&l<_.length;l++)m=(_.words[l]|0)+w,w=m>>26,this.words[l]=m&67108863;if(w===0&&l<_.length&&_!==this)for(;l<_.length;l++)this.words[l]=_.words[l];return this.length=Math.max(this.length,l),_!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(p){return this.clone().isub(p)};function I(h,p,m){m.negative=p.negative^h.negative;var v=h.length+p.length|0;m.length=v,v=v-1|0;var _=h.words[0]|0,E=p.words[0]|0,w=_*E,l=w&67108863,S=w/67108864|0;m.words[0]=l;for(var C=1;C<v;C++){for(var D=S>>>26,U=S&67108863,O=Math.min(C,p.length-1),$=Math.max(0,C-h.length+1);$<=O;$++){var F=C-$|0;_=h.words[F]|0,E=p.words[$]|0,w=_*E+U,D+=w/67108864|0,U=w&67108863}m.words[C]=U|0,S=D|0}return S!==0?m.words[C]=S|0:m.length--,m._strip()}var R=function(p,m,v){var _=p.words,E=m.words,w=v.words,l=0,S,C,D,U=_[0]|0,O=U&8191,$=U>>>13,F=_[1]|0,H=F&8191,Q=F>>>13,te=_[2]|0,X=te&8191,K=te>>>13,oe=_[3]|0,_e=oe&8191,Se=oe>>>13,W=_[4]|0,re=W&8191,ne=W>>>13,se=_[5]|0,Te=se&8191,be=se>>>13,Ee=_[6]|0,ut=Ee&8191,le=Ee>>>13,de=_[7]|0,Fe=de&8191,ee=de>>>13,z=_[8]|0,J=z&8191,ie=z>>>13,fe=_[9]|0,ke=fe&8191,ve=fe>>>13,Ne=E[0]|0,kt=Ne&8191,Be=Ne>>>13,Le=E[1]|0,yt=Le&8191,$e=Le>>>13,Ze=E[2]|0,nr=Ze&8191,Ue=Ze>>>13,Xe=E[3]|0,ir=Xe&8191,ze=Xe>>>13,Je=E[4]|0,sr=Je&8191,We=Je>>>13,Qe=E[5]|0,or=Qe&8191,je=Qe>>>13,et=E[6]|0,ar=et&8191,Ke=et>>>13,tt=E[7]|0,ur=tt&8191,He=tt>>>13,rt=E[8]|0,cr=rt&8191,qe=rt>>>13,nt=E[9]|0,Jt=nt&8191,Qt=nt>>>13;v.negative=p.negative^m.negative,v.length=19,S=Math.imul(O,kt),C=Math.imul(O,Be),C=C+Math.imul($,kt)|0,D=Math.imul($,Be);var jr=(l+S|0)+((C&8191)<<13)|0;l=(D+(C>>>13)|0)+(jr>>>26)|0,jr&=67108863,S=Math.imul(H,kt),C=Math.imul(H,Be),C=C+Math.imul(Q,kt)|0,D=Math.imul(Q,Be),S=S+Math.imul(O,yt)|0,C=C+Math.imul(O,$e)|0,C=C+Math.imul($,yt)|0,D=D+Math.imul($,$e)|0;var Kr=(l+S|0)+((C&8191)<<13)|0;l=(D+(C>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,S=Math.imul(X,kt),C=Math.imul(X,Be),C=C+Math.imul(K,kt)|0,D=Math.imul(K,Be),S=S+Math.imul(H,yt)|0,C=C+Math.imul(H,$e)|0,C=C+Math.imul(Q,yt)|0,D=D+Math.imul(Q,$e)|0,S=S+Math.imul(O,nr)|0,C=C+Math.imul(O,Ue)|0,C=C+Math.imul($,nr)|0,D=D+Math.imul($,Ue)|0;var Hr=(l+S|0)+((C&8191)<<13)|0;l=(D+(C>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,S=Math.imul(_e,kt),C=Math.imul(_e,Be),C=C+Math.imul(Se,kt)|0,D=Math.imul(Se,Be),S=S+Math.imul(X,yt)|0,C=C+Math.imul(X,$e)|0,C=C+Math.imul(K,yt)|0,D=D+Math.imul(K,$e)|0,S=S+Math.imul(H,nr)|0,C=C+Math.imul(H,Ue)|0,C=C+Math.imul(Q,nr)|0,D=D+Math.imul(Q,Ue)|0,S=S+Math.imul(O,ir)|0,C=C+Math.imul(O,ze)|0,C=C+Math.imul($,ir)|0,D=D+Math.imul($,ze)|0;var qr=(l+S|0)+((C&8191)<<13)|0;l=(D+(C>>>13)|0)+(qr>>>26)|0,qr&=67108863,S=Math.imul(re,kt),C=Math.imul(re,Be),C=C+Math.imul(ne,kt)|0,D=Math.imul(ne,Be),S=S+Math.imul(_e,yt)|0,C=C+Math.imul(_e,$e)|0,C=C+Math.imul(Se,yt)|0,D=D+Math.imul(Se,$e)|0,S=S+Math.imul(X,nr)|0,C=C+Math.imul(X,Ue)|0,C=C+Math.imul(K,nr)|0,D=D+Math.imul(K,Ue)|0,S=S+Math.imul(H,ir)|0,C=C+Math.imul(H,ze)|0,C=C+Math.imul(Q,ir)|0,D=D+Math.imul(Q,ze)|0,S=S+Math.imul(O,sr)|0,C=C+Math.imul(O,We)|0,C=C+Math.imul($,sr)|0,D=D+Math.imul($,We)|0;var Vr=(l+S|0)+((C&8191)<<13)|0;l=(D+(C>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,S=Math.imul(Te,kt),C=Math.imul(Te,Be),C=C+Math.imul(be,kt)|0,D=Math.imul(be,Be),S=S+Math.imul(re,yt)|0,C=C+Math.imul(re,$e)|0,C=C+Math.imul(ne,yt)|0,D=D+Math.imul(ne,$e)|0,S=S+Math.imul(_e,nr)|0,C=C+Math.imul(_e,Ue)|0,C=C+Math.imul(Se,nr)|0,D=D+Math.imul(Se,Ue)|0,S=S+Math.imul(X,ir)|0,C=C+Math.imul(X,ze)|0,C=C+Math.imul(K,ir)|0,D=D+Math.imul(K,ze)|0,S=S+Math.imul(H,sr)|0,C=C+Math.imul(H,We)|0,C=C+Math.imul(Q,sr)|0,D=D+Math.imul(Q,We)|0,S=S+Math.imul(O,or)|0,C=C+Math.imul(O,je)|0,C=C+Math.imul($,or)|0,D=D+Math.imul($,je)|0;var yn=(l+S|0)+((C&8191)<<13)|0;l=(D+(C>>>13)|0)+(yn>>>26)|0,yn&=67108863,S=Math.imul(ut,kt),C=Math.imul(ut,Be),C=C+Math.imul(le,kt)|0,D=Math.imul(le,Be),S=S+Math.imul(Te,yt)|0,C=C+Math.imul(Te,$e)|0,C=C+Math.imul(be,yt)|0,D=D+Math.imul(be,$e)|0,S=S+Math.imul(re,nr)|0,C=C+Math.imul(re,Ue)|0,C=C+Math.imul(ne,nr)|0,D=D+Math.imul(ne,Ue)|0,S=S+Math.imul(_e,ir)|0,C=C+Math.imul(_e,ze)|0,C=C+Math.imul(Se,ir)|0,D=D+Math.imul(Se,ze)|0,S=S+Math.imul(X,sr)|0,C=C+Math.imul(X,We)|0,C=C+Math.imul(K,sr)|0,D=D+Math.imul(K,We)|0,S=S+Math.imul(H,or)|0,C=C+Math.imul(H,je)|0,C=C+Math.imul(Q,or)|0,D=D+Math.imul(Q,je)|0,S=S+Math.imul(O,ar)|0,C=C+Math.imul(O,Ke)|0,C=C+Math.imul($,ar)|0,D=D+Math.imul($,Ke)|0;var bn=(l+S|0)+((C&8191)<<13)|0;l=(D+(C>>>13)|0)+(bn>>>26)|0,bn&=67108863,S=Math.imul(Fe,kt),C=Math.imul(Fe,Be),C=C+Math.imul(ee,kt)|0,D=Math.imul(ee,Be),S=S+Math.imul(ut,yt)|0,C=C+Math.imul(ut,$e)|0,C=C+Math.imul(le,yt)|0,D=D+Math.imul(le,$e)|0,S=S+Math.imul(Te,nr)|0,C=C+Math.imul(Te,Ue)|0,C=C+Math.imul(be,nr)|0,D=D+Math.imul(be,Ue)|0,S=S+Math.imul(re,ir)|0,C=C+Math.imul(re,ze)|0,C=C+Math.imul(ne,ir)|0,D=D+Math.imul(ne,ze)|0,S=S+Math.imul(_e,sr)|0,C=C+Math.imul(_e,We)|0,C=C+Math.imul(Se,sr)|0,D=D+Math.imul(Se,We)|0,S=S+Math.imul(X,or)|0,C=C+Math.imul(X,je)|0,C=C+Math.imul(K,or)|0,D=D+Math.imul(K,je)|0,S=S+Math.imul(H,ar)|0,C=C+Math.imul(H,Ke)|0,C=C+Math.imul(Q,ar)|0,D=D+Math.imul(Q,Ke)|0,S=S+Math.imul(O,ur)|0,C=C+Math.imul(O,He)|0,C=C+Math.imul($,ur)|0,D=D+Math.imul($,He)|0;var vn=(l+S|0)+((C&8191)<<13)|0;l=(D+(C>>>13)|0)+(vn>>>26)|0,vn&=67108863,S=Math.imul(J,kt),C=Math.imul(J,Be),C=C+Math.imul(ie,kt)|0,D=Math.imul(ie,Be),S=S+Math.imul(Fe,yt)|0,C=C+Math.imul(Fe,$e)|0,C=C+Math.imul(ee,yt)|0,D=D+Math.imul(ee,$e)|0,S=S+Math.imul(ut,nr)|0,C=C+Math.imul(ut,Ue)|0,C=C+Math.imul(le,nr)|0,D=D+Math.imul(le,Ue)|0,S=S+Math.imul(Te,ir)|0,C=C+Math.imul(Te,ze)|0,C=C+Math.imul(be,ir)|0,D=D+Math.imul(be,ze)|0,S=S+Math.imul(re,sr)|0,C=C+Math.imul(re,We)|0,C=C+Math.imul(ne,sr)|0,D=D+Math.imul(ne,We)|0,S=S+Math.imul(_e,or)|0,C=C+Math.imul(_e,je)|0,C=C+Math.imul(Se,or)|0,D=D+Math.imul(Se,je)|0,S=S+Math.imul(X,ar)|0,C=C+Math.imul(X,Ke)|0,C=C+Math.imul(K,ar)|0,D=D+Math.imul(K,Ke)|0,S=S+Math.imul(H,ur)|0,C=C+Math.imul(H,He)|0,C=C+Math.imul(Q,ur)|0,D=D+Math.imul(Q,He)|0,S=S+Math.imul(O,cr)|0,C=C+Math.imul(O,qe)|0,C=C+Math.imul($,cr)|0,D=D+Math.imul($,qe)|0;var wn=(l+S|0)+((C&8191)<<13)|0;l=(D+(C>>>13)|0)+(wn>>>26)|0,wn&=67108863,S=Math.imul(ke,kt),C=Math.imul(ke,Be),C=C+Math.imul(ve,kt)|0,D=Math.imul(ve,Be),S=S+Math.imul(J,yt)|0,C=C+Math.imul(J,$e)|0,C=C+Math.imul(ie,yt)|0,D=D+Math.imul(ie,$e)|0,S=S+Math.imul(Fe,nr)|0,C=C+Math.imul(Fe,Ue)|0,C=C+Math.imul(ee,nr)|0,D=D+Math.imul(ee,Ue)|0,S=S+Math.imul(ut,ir)|0,C=C+Math.imul(ut,ze)|0,C=C+Math.imul(le,ir)|0,D=D+Math.imul(le,ze)|0,S=S+Math.imul(Te,sr)|0,C=C+Math.imul(Te,We)|0,C=C+Math.imul(be,sr)|0,D=D+Math.imul(be,We)|0,S=S+Math.imul(re,or)|0,C=C+Math.imul(re,je)|0,C=C+Math.imul(ne,or)|0,D=D+Math.imul(ne,je)|0,S=S+Math.imul(_e,ar)|0,C=C+Math.imul(_e,Ke)|0,C=C+Math.imul(Se,ar)|0,D=D+Math.imul(Se,Ke)|0,S=S+Math.imul(X,ur)|0,C=C+Math.imul(X,He)|0,C=C+Math.imul(K,ur)|0,D=D+Math.imul(K,He)|0,S=S+Math.imul(H,cr)|0,C=C+Math.imul(H,qe)|0,C=C+Math.imul(Q,cr)|0,D=D+Math.imul(Q,qe)|0,S=S+Math.imul(O,Jt)|0,C=C+Math.imul(O,Qt)|0,C=C+Math.imul($,Jt)|0,D=D+Math.imul($,Qt)|0;var Sn=(l+S|0)+((C&8191)<<13)|0;l=(D+(C>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,S=Math.imul(ke,yt),C=Math.imul(ke,$e),C=C+Math.imul(ve,yt)|0,D=Math.imul(ve,$e),S=S+Math.imul(J,nr)|0,C=C+Math.imul(J,Ue)|0,C=C+Math.imul(ie,nr)|0,D=D+Math.imul(ie,Ue)|0,S=S+Math.imul(Fe,ir)|0,C=C+Math.imul(Fe,ze)|0,C=C+Math.imul(ee,ir)|0,D=D+Math.imul(ee,ze)|0,S=S+Math.imul(ut,sr)|0,C=C+Math.imul(ut,We)|0,C=C+Math.imul(le,sr)|0,D=D+Math.imul(le,We)|0,S=S+Math.imul(Te,or)|0,C=C+Math.imul(Te,je)|0,C=C+Math.imul(be,or)|0,D=D+Math.imul(be,je)|0,S=S+Math.imul(re,ar)|0,C=C+Math.imul(re,Ke)|0,C=C+Math.imul(ne,ar)|0,D=D+Math.imul(ne,Ke)|0,S=S+Math.imul(_e,ur)|0,C=C+Math.imul(_e,He)|0,C=C+Math.imul(Se,ur)|0,D=D+Math.imul(Se,He)|0,S=S+Math.imul(X,cr)|0,C=C+Math.imul(X,qe)|0,C=C+Math.imul(K,cr)|0,D=D+Math.imul(K,qe)|0,S=S+Math.imul(H,Jt)|0,C=C+Math.imul(H,Qt)|0,C=C+Math.imul(Q,Jt)|0,D=D+Math.imul(Q,Qt)|0;var _n=(l+S|0)+((C&8191)<<13)|0;l=(D+(C>>>13)|0)+(_n>>>26)|0,_n&=67108863,S=Math.imul(ke,nr),C=Math.imul(ke,Ue),C=C+Math.imul(ve,nr)|0,D=Math.imul(ve,Ue),S=S+Math.imul(J,ir)|0,C=C+Math.imul(J,ze)|0,C=C+Math.imul(ie,ir)|0,D=D+Math.imul(ie,ze)|0,S=S+Math.imul(Fe,sr)|0,C=C+Math.imul(Fe,We)|0,C=C+Math.imul(ee,sr)|0,D=D+Math.imul(ee,We)|0,S=S+Math.imul(ut,or)|0,C=C+Math.imul(ut,je)|0,C=C+Math.imul(le,or)|0,D=D+Math.imul(le,je)|0,S=S+Math.imul(Te,ar)|0,C=C+Math.imul(Te,Ke)|0,C=C+Math.imul(be,ar)|0,D=D+Math.imul(be,Ke)|0,S=S+Math.imul(re,ur)|0,C=C+Math.imul(re,He)|0,C=C+Math.imul(ne,ur)|0,D=D+Math.imul(ne,He)|0,S=S+Math.imul(_e,cr)|0,C=C+Math.imul(_e,qe)|0,C=C+Math.imul(Se,cr)|0,D=D+Math.imul(Se,qe)|0,S=S+Math.imul(X,Jt)|0,C=C+Math.imul(X,Qt)|0,C=C+Math.imul(K,Jt)|0,D=D+Math.imul(K,Qt)|0;var An=(l+S|0)+((C&8191)<<13)|0;l=(D+(C>>>13)|0)+(An>>>26)|0,An&=67108863,S=Math.imul(ke,ir),C=Math.imul(ke,ze),C=C+Math.imul(ve,ir)|0,D=Math.imul(ve,ze),S=S+Math.imul(J,sr)|0,C=C+Math.imul(J,We)|0,C=C+Math.imul(ie,sr)|0,D=D+Math.imul(ie,We)|0,S=S+Math.imul(Fe,or)|0,C=C+Math.imul(Fe,je)|0,C=C+Math.imul(ee,or)|0,D=D+Math.imul(ee,je)|0,S=S+Math.imul(ut,ar)|0,C=C+Math.imul(ut,Ke)|0,C=C+Math.imul(le,ar)|0,D=D+Math.imul(le,Ke)|0,S=S+Math.imul(Te,ur)|0,C=C+Math.imul(Te,He)|0,C=C+Math.imul(be,ur)|0,D=D+Math.imul(be,He)|0,S=S+Math.imul(re,cr)|0,C=C+Math.imul(re,qe)|0,C=C+Math.imul(ne,cr)|0,D=D+Math.imul(ne,qe)|0,S=S+Math.imul(_e,Jt)|0,C=C+Math.imul(_e,Qt)|0,C=C+Math.imul(Se,Jt)|0,D=D+Math.imul(Se,Qt)|0;var xn=(l+S|0)+((C&8191)<<13)|0;l=(D+(C>>>13)|0)+(xn>>>26)|0,xn&=67108863,S=Math.imul(ke,sr),C=Math.imul(ke,We),C=C+Math.imul(ve,sr)|0,D=Math.imul(ve,We),S=S+Math.imul(J,or)|0,C=C+Math.imul(J,je)|0,C=C+Math.imul(ie,or)|0,D=D+Math.imul(ie,je)|0,S=S+Math.imul(Fe,ar)|0,C=C+Math.imul(Fe,Ke)|0,C=C+Math.imul(ee,ar)|0,D=D+Math.imul(ee,Ke)|0,S=S+Math.imul(ut,ur)|0,C=C+Math.imul(ut,He)|0,C=C+Math.imul(le,ur)|0,D=D+Math.imul(le,He)|0,S=S+Math.imul(Te,cr)|0,C=C+Math.imul(Te,qe)|0,C=C+Math.imul(be,cr)|0,D=D+Math.imul(be,qe)|0,S=S+Math.imul(re,Jt)|0,C=C+Math.imul(re,Qt)|0,C=C+Math.imul(ne,Jt)|0,D=D+Math.imul(ne,Qt)|0;var En=(l+S|0)+((C&8191)<<13)|0;l=(D+(C>>>13)|0)+(En>>>26)|0,En&=67108863,S=Math.imul(ke,or),C=Math.imul(ke,je),C=C+Math.imul(ve,or)|0,D=Math.imul(ve,je),S=S+Math.imul(J,ar)|0,C=C+Math.imul(J,Ke)|0,C=C+Math.imul(ie,ar)|0,D=D+Math.imul(ie,Ke)|0,S=S+Math.imul(Fe,ur)|0,C=C+Math.imul(Fe,He)|0,C=C+Math.imul(ee,ur)|0,D=D+Math.imul(ee,He)|0,S=S+Math.imul(ut,cr)|0,C=C+Math.imul(ut,qe)|0,C=C+Math.imul(le,cr)|0,D=D+Math.imul(le,qe)|0,S=S+Math.imul(Te,Jt)|0,C=C+Math.imul(Te,Qt)|0,C=C+Math.imul(be,Jt)|0,D=D+Math.imul(be,Qt)|0;var kn=(l+S|0)+((C&8191)<<13)|0;l=(D+(C>>>13)|0)+(kn>>>26)|0,kn&=67108863,S=Math.imul(ke,ar),C=Math.imul(ke,Ke),C=C+Math.imul(ve,ar)|0,D=Math.imul(ve,Ke),S=S+Math.imul(J,ur)|0,C=C+Math.imul(J,He)|0,C=C+Math.imul(ie,ur)|0,D=D+Math.imul(ie,He)|0,S=S+Math.imul(Fe,cr)|0,C=C+Math.imul(Fe,qe)|0,C=C+Math.imul(ee,cr)|0,D=D+Math.imul(ee,qe)|0,S=S+Math.imul(ut,Jt)|0,C=C+Math.imul(ut,Qt)|0,C=C+Math.imul(le,Jt)|0,D=D+Math.imul(le,Qt)|0;var Tn=(l+S|0)+((C&8191)<<13)|0;l=(D+(C>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,S=Math.imul(ke,ur),C=Math.imul(ke,He),C=C+Math.imul(ve,ur)|0,D=Math.imul(ve,He),S=S+Math.imul(J,cr)|0,C=C+Math.imul(J,qe)|0,C=C+Math.imul(ie,cr)|0,D=D+Math.imul(ie,qe)|0,S=S+Math.imul(Fe,Jt)|0,C=C+Math.imul(Fe,Qt)|0,C=C+Math.imul(ee,Jt)|0,D=D+Math.imul(ee,Qt)|0;var In=(l+S|0)+((C&8191)<<13)|0;l=(D+(C>>>13)|0)+(In>>>26)|0,In&=67108863,S=Math.imul(ke,cr),C=Math.imul(ke,qe),C=C+Math.imul(ve,cr)|0,D=Math.imul(ve,qe),S=S+Math.imul(J,Jt)|0,C=C+Math.imul(J,Qt)|0,C=C+Math.imul(ie,Jt)|0,D=D+Math.imul(ie,Qt)|0;var t4=(l+S|0)+((C&8191)<<13)|0;l=(D+(C>>>13)|0)+(t4>>>26)|0,t4&=67108863,S=Math.imul(ke,Jt),C=Math.imul(ke,Qt),C=C+Math.imul(ve,Jt)|0,D=Math.imul(ve,Qt);var r4=(l+S|0)+((C&8191)<<13)|0;return l=(D+(C>>>13)|0)+(r4>>>26)|0,r4&=67108863,w[0]=jr,w[1]=Kr,w[2]=Hr,w[3]=qr,w[4]=Vr,w[5]=yn,w[6]=bn,w[7]=vn,w[8]=wn,w[9]=Sn,w[10]=_n,w[11]=An,w[12]=xn,w[13]=En,w[14]=kn,w[15]=Tn,w[16]=In,w[17]=t4,w[18]=r4,l!==0&&(w[19]=l,v.length++),v};Math.imul||(R=I);function M(h,p,m){m.negative=p.negative^h.negative,m.length=h.length+p.length;for(var v=0,_=0,E=0;E<m.length-1;E++){var w=_;_=0;for(var l=v&67108863,S=Math.min(E,p.length-1),C=Math.max(0,E-h.length+1);C<=S;C++){var D=E-C,U=h.words[D]|0,O=p.words[C]|0,$=U*O,F=$&67108863;w=w+($/67108864|0)|0,F=F+l|0,l=F&67108863,w=w+(F>>>26)|0,_+=w>>>26,w&=67108863}m.words[E]=l,v=w,w=_}return v!==0?m.words[E]=v:m.length--,m._strip()}function P(h,p,m){return M(h,p,m)}s.prototype.mulTo=function(p,m){var v,_=this.length+p.length;return this.length===10&&p.length===10?v=R(this,p,m):_<63?v=I(this,p,m):_<1024?v=M(this,p,m):v=P(this,p,m),v},s.prototype.mul=function(p){var m=new s(null);return m.words=new Array(this.length+p.length),this.mulTo(p,m)},s.prototype.mulf=function(p){var m=new s(null);return m.words=new Array(this.length+p.length),P(this,p,m)},s.prototype.imul=function(p){return this.clone().mulTo(p,this)},s.prototype.imuln=function(p){var m=p<0;m&&(p=-p),n(typeof p=="number"),n(p<67108864);for(var v=0,_=0;_<this.length;_++){var E=(this.words[_]|0)*p,w=(E&67108863)+(v&67108863);v>>=26,v+=E/67108864|0,v+=w>>>26,this.words[_]=w&67108863}return v!==0&&(this.words[_]=v,this.length++),m?this.ineg():this},s.prototype.muln=function(p){return this.clone().imuln(p)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(p){var m=k(p);if(m.length===0)return new s(1);for(var v=this,_=0;_<m.length&&m[_]===0;_++,v=v.sqr());if(++_<m.length)for(var E=v.sqr();_<m.length;_++,E=E.sqr())m[_]!==0&&(v=v.mul(E));return v},s.prototype.iushln=function(p){n(typeof p=="number"&&p>=0);var m=p%26,v=(p-m)/26,_=67108863>>>26-m<<26-m,E;if(m!==0){var w=0;for(E=0;E<this.length;E++){var l=this.words[E]&_,S=(this.words[E]|0)-l<<m;this.words[E]=S|w,w=l>>>26-m}w&&(this.words[E]=w,this.length++)}if(v!==0){for(E=this.length-1;E>=0;E--)this.words[E+v]=this.words[E];for(E=0;E<v;E++)this.words[E]=0;this.length+=v}return this._strip()},s.prototype.ishln=function(p){return n(this.negative===0),this.iushln(p)},s.prototype.iushrn=function(p,m,v){n(typeof p=="number"&&p>=0);var _;m?_=(m-m%26)/26:_=0;var E=p%26,w=Math.min((p-E)/26,this.length),l=67108863^67108863>>>E<<E,S=v;if(_-=w,_=Math.max(0,_),S){for(var C=0;C<w;C++)S.words[C]=this.words[C];S.length=w}if(w!==0)if(this.length>w)for(this.length-=w,C=0;C<this.length;C++)this.words[C]=this.words[C+w];else this.words[0]=0,this.length=1;var D=0;for(C=this.length-1;C>=0&&(D!==0||C>=_);C--){var U=this.words[C]|0;this.words[C]=D<<26-E|U>>>E,D=U&l}return S&&D!==0&&(S.words[S.length++]=D),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(p,m,v){return n(this.negative===0),this.iushrn(p,m,v)},s.prototype.shln=function(p){return this.clone().ishln(p)},s.prototype.ushln=function(p){return this.clone().iushln(p)},s.prototype.shrn=function(p){return this.clone().ishrn(p)},s.prototype.ushrn=function(p){return this.clone().iushrn(p)},s.prototype.testn=function(p){n(typeof p=="number"&&p>=0);var m=p%26,v=(p-m)/26,_=1<<m;if(this.length<=v)return!1;var E=this.words[v];return!!(E&_)},s.prototype.imaskn=function(p){n(typeof p=="number"&&p>=0);var m=p%26,v=(p-m)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(m!==0&&v++,this.length=Math.min(v,this.length),m!==0){var _=67108863^67108863>>>m<<m;this.words[this.length-1]&=_}return this._strip()},s.prototype.maskn=function(p){return this.clone().imaskn(p)},s.prototype.iaddn=function(p){return n(typeof p=="number"),n(p<67108864),p<0?this.isubn(-p):this.negative!==0?this.length===1&&(this.words[0]|0)<=p?(this.words[0]=p-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(p),this.negative=1,this):this._iaddn(p)},s.prototype._iaddn=function(p){this.words[0]+=p;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},s.prototype.isubn=function(p){if(n(typeof p=="number"),n(p<67108864),p<0)return this.iaddn(-p);if(this.negative!==0)return this.negative=0,this.iaddn(p),this.negative=1,this;if(this.words[0]-=p,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this._strip()},s.prototype.addn=function(p){return this.clone().iaddn(p)},s.prototype.subn=function(p){return this.clone().isubn(p)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(p,m,v){var _=p.length+v,E;this._expand(_);var w,l=0;for(E=0;E<p.length;E++){w=(this.words[E+v]|0)+l;var S=(p.words[E]|0)*m;w-=S&67108863,l=(w>>26)-(S/67108864|0),this.words[E+v]=w&67108863}for(;E<this.length-v;E++)w=(this.words[E+v]|0)+l,l=w>>26,this.words[E+v]=w&67108863;if(l===0)return this._strip();for(n(l===-1),l=0,E=0;E<this.length;E++)w=-(this.words[E]|0)+l,l=w>>26,this.words[E]=w&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(p,m){var v=this.length-p.length,_=this.clone(),E=p,w=E.words[E.length-1]|0,l=this._countBits(w);v=26-l,v!==0&&(E=E.ushln(v),_.iushln(v),w=E.words[E.length-1]|0);var S=_.length-E.length,C;if(m!=="mod"){C=new s(null),C.length=S+1,C.words=new Array(C.length);for(var D=0;D<C.length;D++)C.words[D]=0}var U=_.clone()._ishlnsubmul(E,1,S);U.negative===0&&(_=U,C&&(C.words[S]=1));for(var O=S-1;O>=0;O--){var $=(_.words[E.length+O]|0)*67108864+(_.words[E.length+O-1]|0);for($=Math.min($/w|0,67108863),_._ishlnsubmul(E,$,O);_.negative!==0;)$--,_.negative=0,_._ishlnsubmul(E,1,O),_.isZero()||(_.negative^=1);C&&(C.words[O]=$)}return C&&C._strip(),_._strip(),m!=="div"&&v!==0&&_.iushrn(v),{div:C||null,mod:_}},s.prototype.divmod=function(p,m,v){if(n(!p.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var _,E,w;return this.negative!==0&&p.negative===0?(w=this.neg().divmod(p,m),m!=="mod"&&(_=w.div.neg()),m!=="div"&&(E=w.mod.neg(),v&&E.negative!==0&&E.iadd(p)),{div:_,mod:E}):this.negative===0&&p.negative!==0?(w=this.divmod(p.neg(),m),m!=="mod"&&(_=w.div.neg()),{div:_,mod:w.mod}):this.negative&p.negative?(w=this.neg().divmod(p.neg(),m),m!=="div"&&(E=w.mod.neg(),v&&E.negative!==0&&E.isub(p)),{div:w.div,mod:E}):p.length>this.length||this.cmp(p)<0?{div:new s(0),mod:this}:p.length===1?m==="div"?{div:this.divn(p.words[0]),mod:null}:m==="mod"?{div:null,mod:new s(this.modrn(p.words[0]))}:{div:this.divn(p.words[0]),mod:new s(this.modrn(p.words[0]))}:this._wordDiv(p,m)},s.prototype.div=function(p){return this.divmod(p,"div",!1).div},s.prototype.mod=function(p){return this.divmod(p,"mod",!1).mod},s.prototype.umod=function(p){return this.divmod(p,"mod",!0).mod},s.prototype.divRound=function(p){var m=this.divmod(p);if(m.mod.isZero())return m.div;var v=m.div.negative!==0?m.mod.isub(p):m.mod,_=p.ushrn(1),E=p.andln(1),w=v.cmp(_);return w<0||E===1&&w===0?m.div:m.div.negative!==0?m.div.isubn(1):m.div.iaddn(1)},s.prototype.modrn=function(p){var m=p<0;m&&(p=-p),n(p<=67108863);for(var v=(1<<26)%p,_=0,E=this.length-1;E>=0;E--)_=(v*_+(this.words[E]|0))%p;return m?-_:_},s.prototype.modn=function(p){return this.modrn(p)},s.prototype.idivn=function(p){var m=p<0;m&&(p=-p),n(p<=67108863);for(var v=0,_=this.length-1;_>=0;_--){var E=(this.words[_]|0)+v*67108864;this.words[_]=E/p|0,v=E%p}return this._strip(),m?this.ineg():this},s.prototype.divn=function(p){return this.clone().idivn(p)},s.prototype.egcd=function(p){n(p.negative===0),n(!p.isZero());var m=this,v=p.clone();m.negative!==0?m=m.umod(p):m=m.clone();for(var _=new s(1),E=new s(0),w=new s(0),l=new s(1),S=0;m.isEven()&&v.isEven();)m.iushrn(1),v.iushrn(1),++S;for(var C=v.clone(),D=m.clone();!m.isZero();){for(var U=0,O=1;!(m.words[0]&O)&&U<26;++U,O<<=1);if(U>0)for(m.iushrn(U);U-- >0;)(_.isOdd()||E.isOdd())&&(_.iadd(C),E.isub(D)),_.iushrn(1),E.iushrn(1);for(var $=0,F=1;!(v.words[0]&F)&&$<26;++$,F<<=1);if($>0)for(v.iushrn($);$-- >0;)(w.isOdd()||l.isOdd())&&(w.iadd(C),l.isub(D)),w.iushrn(1),l.iushrn(1);m.cmp(v)>=0?(m.isub(v),_.isub(w),E.isub(l)):(v.isub(m),w.isub(_),l.isub(E))}return{a:w,b:l,gcd:v.iushln(S)}},s.prototype._invmp=function(p){n(p.negative===0),n(!p.isZero());var m=this,v=p.clone();m.negative!==0?m=m.umod(p):m=m.clone();for(var _=new s(1),E=new s(0),w=v.clone();m.cmpn(1)>0&&v.cmpn(1)>0;){for(var l=0,S=1;!(m.words[0]&S)&&l<26;++l,S<<=1);if(l>0)for(m.iushrn(l);l-- >0;)_.isOdd()&&_.iadd(w),_.iushrn(1);for(var C=0,D=1;!(v.words[0]&D)&&C<26;++C,D<<=1);if(C>0)for(v.iushrn(C);C-- >0;)E.isOdd()&&E.iadd(w),E.iushrn(1);m.cmp(v)>=0?(m.isub(v),_.isub(E)):(v.isub(m),E.isub(_))}var U;return m.cmpn(1)===0?U=_:U=E,U.cmpn(0)<0&&U.iadd(p),U},s.prototype.gcd=function(p){if(this.isZero())return p.abs();if(p.isZero())return this.abs();var m=this.clone(),v=p.clone();m.negative=0,v.negative=0;for(var _=0;m.isEven()&&v.isEven();_++)m.iushrn(1),v.iushrn(1);do{for(;m.isEven();)m.iushrn(1);for(;v.isEven();)v.iushrn(1);var E=m.cmp(v);if(E<0){var w=m;m=v,v=w}else if(E===0||v.cmpn(1)===0)break;m.isub(v)}while(!0);return v.iushln(_)},s.prototype.invm=function(p){return this.egcd(p).a.umod(p)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(p){return this.words[0]&p},s.prototype.bincn=function(p){n(typeof p=="number");var m=p%26,v=(p-m)/26,_=1<<m;if(this.length<=v)return this._expand(v+1),this.words[v]|=_,this;for(var E=_,w=v;E!==0&&w<this.length;w++){var l=this.words[w]|0;l+=E,E=l>>>26,l&=67108863,this.words[w]=l}return E!==0&&(this.words[w]=E,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(p){var m=p<0;if(this.negative!==0&&!m)return-1;if(this.negative===0&&m)return 1;this._strip();var v;if(this.length>1)v=1;else{m&&(p=-p),n(p<=67108863,"Number is too big");var _=this.words[0]|0;v=_===p?0:_<p?-1:1}return this.negative!==0?-v|0:v},s.prototype.cmp=function(p){if(this.negative!==0&&p.negative===0)return-1;if(this.negative===0&&p.negative!==0)return 1;var m=this.ucmp(p);return this.negative!==0?-m|0:m},s.prototype.ucmp=function(p){if(this.length>p.length)return 1;if(this.length<p.length)return-1;for(var m=0,v=this.length-1;v>=0;v--){var _=this.words[v]|0,E=p.words[v]|0;if(_!==E){_<E?m=-1:_>E&&(m=1);break}}return m},s.prototype.gtn=function(p){return this.cmpn(p)===1},s.prototype.gt=function(p){return this.cmp(p)===1},s.prototype.gten=function(p){return this.cmpn(p)>=0},s.prototype.gte=function(p){return this.cmp(p)>=0},s.prototype.ltn=function(p){return this.cmpn(p)===-1},s.prototype.lt=function(p){return this.cmp(p)===-1},s.prototype.lten=function(p){return this.cmpn(p)<=0},s.prototype.lte=function(p){return this.cmp(p)<=0},s.prototype.eqn=function(p){return this.cmpn(p)===0},s.prototype.eq=function(p){return this.cmp(p)===0},s.red=function(p){return new T(p)},s.prototype.toRed=function(p){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),p.convertTo(this)._forceRed(p)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(p){return this.red=p,this},s.prototype.forceRed=function(p){return n(!this.red,"Already a number in reduction context"),this._forceRed(p)},s.prototype.redAdd=function(p){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,p)},s.prototype.redIAdd=function(p){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,p)},s.prototype.redSub=function(p){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,p)},s.prototype.redISub=function(p){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,p)},s.prototype.redShl=function(p){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,p)},s.prototype.redMul=function(p){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.mul(this,p)},s.prototype.redIMul=function(p){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.imul(this,p)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(p){return n(this.red&&!p.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,p)};var j={k256:null,p224:null,p192:null,p25519:null};function V(h,p){this.name=h,this.p=new s(p,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}V.prototype._tmp=function(){var p=new s(null);return p.words=new Array(Math.ceil(this.n/13)),p},V.prototype.ireduce=function(p){var m=p,v;do this.split(m,this.tmp),m=this.imulK(m),m=m.iadd(this.tmp),v=m.bitLength();while(v>this.n);var _=v<this.n?-1:m.ucmp(this.p);return _===0?(m.words[0]=0,m.length=1):_>0?m.isub(this.p):m.strip!==void 0?m.strip():m._strip(),m},V.prototype.split=function(p,m){p.iushrn(this.n,0,m)},V.prototype.imulK=function(p){return p.imul(this.k)};function Z(){V.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(Z,V),Z.prototype.split=function(p,m){for(var v=4194303,_=Math.min(p.length,9),E=0;E<_;E++)m.words[E]=p.words[E];if(m.length=_,p.length<=9){p.words[0]=0,p.length=1;return}var w=p.words[9];for(m.words[m.length++]=w&v,E=10;E<p.length;E++){var l=p.words[E]|0;p.words[E-10]=(l&v)<<4|w>>>22,w=l}w>>>=22,p.words[E-10]=w,w===0&&p.length>10?p.length-=10:p.length-=9},Z.prototype.imulK=function(p){p.words[p.length]=0,p.words[p.length+1]=0,p.length+=2;for(var m=0,v=0;v<p.length;v++){var _=p.words[v]|0;m+=_*977,p.words[v]=m&67108863,m=_*64+(m/67108864|0)}return p.words[p.length-1]===0&&(p.length--,p.words[p.length-1]===0&&p.length--),p};function G(){V.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(G,V);function q(){V.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(q,V);function ae(){V.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(ae,V),ae.prototype.imulK=function(p){for(var m=0,v=0;v<p.length;v++){var _=(p.words[v]|0)*19+m,E=_&67108863;_>>>=26,p.words[v]=E,m=_}return m!==0&&(p.words[p.length++]=m),p},s._prime=function(p){if(j[p])return j[p];var m;if(p==="k256")m=new Z;else if(p==="p224")m=new G;else if(p==="p192")m=new q;else if(p==="p25519")m=new ae;else throw new Error("Unknown prime "+p);return j[p]=m,m};function T(h){if(typeof h=="string"){var p=s._prime(h);this.m=p.p,this.prime=p}else n(h.gtn(1),"modulus must be greater than 1"),this.m=h,this.prime=null}T.prototype._verify1=function(p){n(p.negative===0,"red works only with positives"),n(p.red,"red works only with red numbers")},T.prototype._verify2=function(p,m){n((p.negative|m.negative)===0,"red works only with positives"),n(p.red&&p.red===m.red,"red works only with red numbers")},T.prototype.imod=function(p){return this.prime?this.prime.ireduce(p)._forceRed(this):(d(p,p.umod(this.m)._forceRed(this)),p)},T.prototype.neg=function(p){return p.isZero()?p.clone():this.m.sub(p)._forceRed(this)},T.prototype.add=function(p,m){this._verify2(p,m);var v=p.add(m);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},T.prototype.iadd=function(p,m){this._verify2(p,m);var v=p.iadd(m);return v.cmp(this.m)>=0&&v.isub(this.m),v},T.prototype.sub=function(p,m){this._verify2(p,m);var v=p.sub(m);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},T.prototype.isub=function(p,m){this._verify2(p,m);var v=p.isub(m);return v.cmpn(0)<0&&v.iadd(this.m),v},T.prototype.shl=function(p,m){return this._verify1(p),this.imod(p.ushln(m))},T.prototype.imul=function(p,m){return this._verify2(p,m),this.imod(p.imul(m))},T.prototype.mul=function(p,m){return this._verify2(p,m),this.imod(p.mul(m))},T.prototype.isqr=function(p){return this.imul(p,p.clone())},T.prototype.sqr=function(p){return this.mul(p,p)},T.prototype.sqrt=function(p){if(p.isZero())return p.clone();var m=this.m.andln(3);if(n(m%2===1),m===3){var v=this.m.add(new s(1)).iushrn(2);return this.pow(p,v)}for(var _=this.m.subn(1),E=0;!_.isZero()&&_.andln(1)===0;)E++,_.iushrn(1);n(!_.isZero());var w=new s(1).toRed(this),l=w.redNeg(),S=this.m.subn(1).iushrn(1),C=this.m.bitLength();for(C=new s(2*C*C).toRed(this);this.pow(C,S).cmp(l)!==0;)C.redIAdd(l);for(var D=this.pow(C,_),U=this.pow(p,_.addn(1).iushrn(1)),O=this.pow(p,_),$=E;O.cmp(w)!==0;){for(var F=O,H=0;F.cmp(w)!==0;H++)F=F.redSqr();n(H<$);var Q=this.pow(D,new s(1).iushln($-H-1));U=U.redMul(Q),D=Q.redSqr(),O=O.redMul(D),$=H}return U},T.prototype.invm=function(p){var m=p._invmp(this.m);return m.negative!==0?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},T.prototype.pow=function(p,m){if(m.isZero())return new s(1).toRed(this);if(m.cmpn(1)===0)return p.clone();var v=4,_=new Array(1<<v);_[0]=new s(1).toRed(this),_[1]=p;for(var E=2;E<_.length;E++)_[E]=this.mul(_[E-1],p);var w=_[0],l=0,S=0,C=m.bitLength()%26;for(C===0&&(C=26),E=m.length-1;E>=0;E--){for(var D=m.words[E],U=C-1;U>=0;U--){var O=D>>U&1;if(w!==_[0]&&(w=this.sqr(w)),O===0&&l===0){S=0;continue}l<<=1,l|=O,S++,!(S!==v&&(E!==0||U!==0))&&(w=this.mul(w,_[l]),S=0,l=0)}C=26}return w},T.prototype.convertTo=function(p){var m=p.umod(this.m);return m===p?m.clone():m},T.prototype.convertFrom=function(p){var m=p.clone();return m.red=null,m},s.mont=function(p){return new c(p)};function c(h){T.call(this,h),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(c,T),c.prototype.convertTo=function(p){return this.imod(p.ushln(this.shift))},c.prototype.convertFrom=function(p){var m=this.imod(p.mul(this.rinv));return m.red=null,m},c.prototype.imul=function(p,m){if(p.isZero()||m.isZero())return p.words[0]=0,p.length=1,p;var v=p.imul(m),_=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=v.isub(_).iushrn(this.shift),w=E;return E.cmp(this.m)>=0?w=E.isub(this.m):E.cmpn(0)<0&&(w=E.iadd(this.m)),w._forceRed(this)},c.prototype.mul=function(p,m){if(p.isZero()||m.isZero())return new s(0)._forceRed(this);var v=p.mul(m),_=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=v.isub(_).iushrn(this.shift),w=E;return E.cmp(this.m)>=0?w=E.isub(this.m):E.cmpn(0)<0&&(w=E.iadd(this.m)),w._forceRed(this)},c.prototype.invm=function(p){var m=this.imod(p._invmp(this.m).mul(this.r2));return m._forceRed(this)}})(t,St)})(DN);var Z0=DN.exports;const Mr=ro(Z0);var V8={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=xe,n=r.Buffer;function i(o,a){for(var u in o)a[u]=o[u]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,a,u){return n(o,a,u)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,a,u){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,u)},s.alloc=function(o,a,u){if(typeof o!="number")throw new TypeError("Argument must be a number");var f=n(o);return a!==void 0?typeof u=="string"?f.fill(a,u):f.fill(a):f.fill(0),f},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(V8,V8.exports);var dr=V8.exports,gA=dr.Buffer;function k_e(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var o=t.length,a=t.charAt(0),u=Math.log(o)/Math.log(256),f=Math.log(256)/Math.log(o);function d(b){if((Array.isArray(b)||b instanceof Uint8Array)&&(b=gA.from(b)),!gA.isBuffer(b))throw new TypeError("Expected Buffer");if(b.length===0)return"";for(var A=0,x=0,k=0,I=b.length;k!==I&&b[k]===0;)k++,A++;for(var R=(I-k)*f+1>>>0,M=new Uint8Array(R);k!==I;){for(var P=b[k],j=0,V=R-1;(P!==0||j<x)&&V!==-1;V--,j++)P+=256*M[V]>>>0,M[V]=P%o>>>0,P=P/o>>>0;if(P!==0)throw new Error("Non-zero carry");x=j,k++}for(var Z=R-x;Z!==R&&M[Z]===0;)Z++;for(var G=a.repeat(A);Z<R;++Z)G+=t.charAt(M[Z]);return G}function g(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return gA.alloc(0);for(var A=0,x=0,k=0;b[A]===a;)x++,A++;for(var I=(b.length-A)*u+1>>>0,R=new Uint8Array(I);A<b.length;){var M=e[b.charCodeAt(A)];if(M===255)return;for(var P=0,j=I-1;(M!==0||P<k)&&j!==-1;j--,P++)M+=o*R[j]>>>0,R[j]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");k=P,A++}for(var V=I-k;V!==I&&R[V]===0;)V++;var Z=gA.allocUnsafe(x+(I-V));Z.fill(0,0,x);for(var G=x;V!==I;)Z[G++]=R[V++];return Z}function y(b){var A=g(b);if(A)return A;throw new Error("Non-base"+o+" character")}return{encode:d,decodeUnsafe:g,decode:y}}var s1=k_e,T_e=s1,I_e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",R_e=T_e(I_e);const Is=ro(R_e),M_e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),yd=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),bd=new Uint32Array(64);let FN=class extends AY{constructor(){super(64,32,8,!1),this.A=yd[0]|0,this.B=yd[1]|0,this.C=yd[2]|0,this.D=yd[3]|0,this.E=yd[4]|0,this.F=yd[5]|0,this.G=yd[6]|0,this.H=yd[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:u}=this;return[e,r,n,i,s,o,a,u]}set(e,r,n,i,s,o,a,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=u|0}process(e,r){for(let g=0;g<16;g++,r+=4)bd[g]=e.getUint32(r,!1);for(let g=16;g<64;g++){const y=bd[g-15],b=bd[g-2],A=vu(y,7)^vu(y,18)^y>>>3,x=vu(b,17)^vu(b,19)^b>>>10;bd[g]=x+bd[g-7]+A+bd[g-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:u,G:f,H:d}=this;for(let g=0;g<64;g++){const y=vu(a,6)^vu(a,11)^vu(a,25),b=d+y+ASe(a,u,f)+M_e[g]+bd[g]|0,x=(vu(n,2)^vu(n,13)^vu(n,22))+xSe(n,i,s)|0;d=f,f=u,u=a,a=o+b|0,o=s,s=i,i=n,n=b+x|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,f=f+this.G|0,d=d+this.H|0,this.set(n,i,s,o,a,u,f,d)}roundClean(){bd.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},C_e=class extends FN{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};const Vo=$h(()=>new FN),P_e=$h(()=>new C_e),ivt=Object.freeze(Object.defineProperty({__proto__:null,SHA256:FN,sha224:P_e,sha256:Vo},Symbol.toStringTag,{value:"Module"}));var we={},jY={exports:{}},Ii=jY.exports={},_c,Ac;function G8(){throw new Error("setTimeout has not been defined")}function Y8(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?_c=setTimeout:_c=G8}catch{_c=G8}try{typeof clearTimeout=="function"?Ac=clearTimeout:Ac=Y8}catch{Ac=Y8}})();function KY(t){if(_c===setTimeout)return setTimeout(t,0);if((_c===G8||!_c)&&setTimeout)return _c=setTimeout,setTimeout(t,0);try{return _c(t,0)}catch{try{return _c.call(null,t,0)}catch{return _c.call(this,t,0)}}}function N_e(t){if(Ac===clearTimeout)return clearTimeout(t);if((Ac===Y8||!Ac)&&clearTimeout)return Ac=clearTimeout,clearTimeout(t);try{return Ac(t)}catch{try{return Ac.call(null,t)}catch{return Ac.call(this,t)}}}var Cf=[],iy=!1,xp,A2=-1;function B_e(){!iy||!xp||(iy=!1,xp.length?Cf=xp.concat(Cf):A2=-1,Cf.length&&HY())}function HY(){if(!iy){var t=KY(B_e);iy=!0;for(var e=Cf.length;e;){for(xp=Cf,Cf=[];++A2<e;)xp&&xp[A2].run();A2=-1,e=Cf.length}xp=null,iy=!1,N_e(t)}}Ii.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Cf.push(new qY(t,e)),Cf.length===1&&!iy&&KY(HY)};function qY(t,e){this.fun=t,this.array=e}qY.prototype.run=function(){this.fun.apply(null,this.array)};Ii.title="browser";Ii.browser=!0;Ii.env={};Ii.argv=[];Ii.version="";Ii.versions={};function sd(){}Ii.on=sd;Ii.addListener=sd;Ii.once=sd;Ii.off=sd;Ii.removeListener=sd;Ii.removeAllListeners=sd;Ii.emit=sd;Ii.prependListener=sd;Ii.prependOnceListener=sd;Ii.listeners=function(t){return[]};Ii.binding=function(t){throw new Error("process.binding is not supported")};Ii.cwd=function(){return"/"};Ii.chdir=function(t){throw new Error("process.chdir is not supported")};Ii.umask=function(){return 0};var O_e=jY.exports;(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xe,r=O_e,n=o=>o&&o.__esModule?o:{default:o},i=n(r),s=globalThis||void 0||self;Object.defineProperty(t,"Buffer",{enumerable:!0,get:()=>e.Buffer}),Object.defineProperty(t,"process",{enumerable:!0,get:()=>i.default}),t.global=s})(we);var ks={},L_e=s1,D_e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",F_e=L_e(D_e);function Sf(t,e,r){return e<=t&&t<=r}function Mk(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function $_e(t){for(var e=String(t),r=e.length,n=0,i=[];n<r;){var s=e.charCodeAt(n);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(n===r-1)i.push(65533);else{var o=t.charCodeAt(n+1);if(56320<=o&&o<=57343){var a=s&1023,u=o&1023;i.push(65536+(a<<10)+u),n+=1}else i.push(65533)}n+=1}return i}function U_e(t){for(var e="",r=0;r<t.length;++r){var n=t[r];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}var Tx=-1;function $N(t){this.tokens=[].slice.call(t)}$N.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Tx},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var hb=-1;function f4(t,e){if(t)throw TypeError("Decoder error");return e||65533}var Ix="utf-8";function Rx(t,e){if(!(this instanceof Rx))return new Rx(t,e);if(t=t!==void 0?String(t).toLowerCase():Ix,t!==Ix)throw new Error("Encoding not supported. Only utf-8 is supported");e=Mk(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Rx.prototype={decode:function(e,r){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),r=Mk(r),this._streaming||(this._decoder=new z_e({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!r.stream;for(var i=new $N(n),s=[],o;!i.endOfStream()&&(o=this._decoder.handler(i,i.read()),o!==hb);)o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));if(!this._streaming){do{if(o=this._decoder.handler(i,i.read()),o===hb)break;o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),U_e(s)}};function Mx(t,e){if(!(this instanceof Mx))return new Mx(t,e);if(t=t!==void 0?String(t).toLowerCase():Ix,t!==Ix)throw new Error("Encoding not supported. Only utf-8 is supported");e=Mk(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Mx.prototype={encode:function(e,r){e=e?String(e):"",r=Mk(r),this._streaming||(this._encoder=new W_e(this._options)),this._streaming=!!r.stream;for(var n=[],i=new $N($_e(e)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==hb);)Array.isArray(s)?n.push.apply(n,s):n.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==hb;)Array.isArray(s)?n.push.apply(n,s):n.push(s);this._encoder=null}return new Uint8Array(n)}};function z_e(t){var e=t.fatal,r=0,n=0,i=0,s=128,o=191;this.handler=function(a,u){if(u===Tx&&i!==0)return i=0,f4(e);if(u===Tx)return hb;if(i===0){if(Sf(u,0,127))return u;if(Sf(u,194,223))i=1,r=u-192;else if(Sf(u,224,239))u===224&&(s=160),u===237&&(o=159),i=2,r=u-224;else if(Sf(u,240,244))u===240&&(s=144),u===244&&(o=143),i=3,r=u-240;else return f4(e);return r=r<<6*i,null}if(!Sf(u,s,o))return r=i=n=0,s=128,o=191,a.prepend(u),f4(e);if(s=128,o=191,n+=1,r+=u-128<<6*(i-n),n!==i)return null;var f=r;return r=i=n=0,f}}function W_e(t){t.fatal,this.handler=function(e,r){if(r===Tx)return hb;if(Sf(r,0,127))return r;var n,i;Sf(r,128,2047)?(n=1,i=192):Sf(r,2048,65535)?(n=2,i=224):Sf(r,65536,1114111)&&(n=3,i=240);for(var s=[(r>>6*n)+i];n>0;){var o=r>>6*(n-1);s.push(128|o&63),n-=1}return s}}const j_e=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Rx,TextEncoder:Mx},Symbol.toStringTag,{value:"Module"})),K_e=GS(j_e);var H_e=St&&St.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),q_e=St&&St.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Al=St&&St.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},V_e=St&&St.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&H_e(e,t,r);return q_e(e,t),e},VY=St&&St.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ks,"__esModule",{value:!0});var o1=ks.deserializeUnchecked=u1=ks.deserialize=a1=ks.serialize=ks.BinaryReader=ks.BinaryWriter=ks.BorshError=ks.baseDecode=ks.baseEncode=void 0;const ih=VY(Z0),GY=VY(F_e),G_e=V_e(K_e),Y_e=typeof TextDecoder!="function"?G_e.TextDecoder:TextDecoder,Z_e=new Y_e("utf-8",{fatal:!0});function X_e(t){return typeof t=="string"&&(t=we.Buffer.from(t,"utf8")),GY.default.encode(we.Buffer.from(t))}ks.baseEncode=X_e;function J_e(t){return we.Buffer.from(GY.default.decode(t))}ks.baseDecode=J_e;const d4=1024;class yo extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}ks.BorshError=yo;class YY{constructor(){this.buf=we.Buffer.alloc(d4),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=we.Buffer.concat([this.buf,we.Buffer.alloc(d4)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(we.Buffer.from(new ih.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(we.Buffer.from(new ih.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(we.Buffer.from(new ih.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(we.Buffer.from(new ih.default(e).toArray("le",64)))}writeBuffer(e){this.buf=we.Buffer.concat([we.Buffer.from(this.buf.subarray(0,this.length)),e,we.Buffer.alloc(d4)]),this.length+=e.length}writeString(e){this.maybeResize();const r=we.Buffer.from(e,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(e){this.writeBuffer(we.Buffer.from(e))}writeArray(e,r){this.maybeResize(),this.writeU32(e.length);for(const n of e)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}}ks.BinaryWriter=YY;function xl(t,e,r){const n=r.value;r.value=function(...i){try{return n.apply(this,i)}catch(s){if(s instanceof RangeError){const o=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new yo("Reached the end of buffer when deserializing")}throw s}}}class Ia{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new ih.default(e,"le")}readU128(){const e=this.readBuffer(16);return new ih.default(e,"le")}readU256(){const e=this.readBuffer(32);return new ih.default(e,"le")}readU512(){const e=this.readBuffer(64);return new ih.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new yo(`Expected buffer length ${e} isn't within bounds`);const r=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,r}readString(){const e=this.readU32(),r=this.readBuffer(e);try{return Z_e.decode(r)}catch(n){throw new yo(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const r=this.readU32(),n=Array();for(let i=0;i<r;++i)n.push(e());return n}}Al([xl],Ia.prototype,"readU8",null);Al([xl],Ia.prototype,"readU16",null);Al([xl],Ia.prototype,"readU32",null);Al([xl],Ia.prototype,"readU64",null);Al([xl],Ia.prototype,"readU128",null);Al([xl],Ia.prototype,"readU256",null);Al([xl],Ia.prototype,"readU512",null);Al([xl],Ia.prototype,"readString",null);Al([xl],Ia.prototype,"readFixedArray",null);Al([xl],Ia.prototype,"readArray",null);ks.BinaryReader=Ia;function ZY(t){return t.charAt(0).toUpperCase()+t.slice(1)}function fp(t,e,r,n,i){try{if(typeof n=="string")i[`write${ZY(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new yo(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new yo(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let s=0;s<n[1];s++)fp(t,null,r[s],n[0],i)}else i.writeArray(r,s=>{fp(t,e,s,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?i.writeU8(0):(i.writeU8(1),fp(t,e,r,n.type,i));break}case"map":{i.writeU32(r.size),r.forEach((s,o)=>{fp(t,e,o,n.key,i),fp(t,e,s,n.value,i)});break}default:throw new yo(`FieldType ${n} unrecognized`)}else XY(t,r,i)}catch(s){throw s instanceof yo&&s.addToFieldPath(e),s}}function XY(t,e,r){if(typeof e.borshSerialize=="function"){e.borshSerialize(r);return}const n=t.get(e.constructor);if(!n)throw new yo(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,s])=>{fp(t,i,e[i],s,r)});else if(n.kind==="enum"){const i=e[n.field];for(let s=0;s<n.values.length;++s){const[o,a]=n.values[s];if(o===i){r.writeU8(s),fp(t,o,e[o],a,r);break}}}else throw new yo(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function Q_e(t,e,r=YY){const n=new r;return XY(t,e,n),n.toArray()}var a1=ks.serialize=Q_e;function dp(t,e,r,n){try{if(typeof r=="string")return n[`read${ZY(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){const i=[];for(let s=0;s<r[1];s++)i.push(dp(t,null,r[0],n));return i}else return n.readArray(()=>dp(t,e,r[0],n))}if(r.kind==="option")return n.readU8()?dp(t,e,r.type,n):void 0;if(r.kind==="map"){let i=new Map;const s=n.readU32();for(let o=0;o<s;o++){const a=dp(t,e,r.key,n),u=dp(t,e,r.value,n);i.set(a,u)}return i}return UN(t,r,n)}catch(i){throw i instanceof yo&&i.addToFieldPath(e),i}}function UN(t,e,r){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(r);const n=t.get(e);if(!n)throw new yo(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){const i={};for(const[s,o]of t.get(e).fields)i[s]=dp(t,s,o,r);return new e(i)}if(n.kind==="enum"){const i=r.readU8();if(i>=n.values.length)throw new yo(`Enum index: ${i} is out of range`);const[s,o]=n.values[i],a=dp(t,s,o,r);return new e({[s]:a})}throw new yo(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function eAe(t,e,r,n=Ia){const i=new n(r),s=UN(t,e,i);if(i.offset<r.length)throw new yo(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return s}var u1=ks.deserialize=eAe;function tAe(t,e,r,n=Ia){const i=new n(r);return UN(t,e,i)}o1=ks.deserializeUnchecked=tAe;var Ve={};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.s16=Ve.s8=Ve.nu64be=Ve.u48be=Ve.u40be=Ve.u32be=Ve.u24be=Ve.u16be=bt=Ve.nu64=Ve.u48=Ve.u40=ge=Ve.u32=Ve.u24=jt=Ve.u16=Ge=Ve.u8=zr=Ve.offset=Ve.greedy=Ve.Constant=Ve.UTF8=Ve.CString=Ve.Blob=Ve.Boolean=Ve.BitField=Ve.BitStructure=Ve.VariantLayout=Ve.Union=Ve.UnionLayoutDiscriminator=Ve.UnionDiscriminator=Ve.Structure=Ve.Sequence=Ve.DoubleBE=Ve.Double=Ve.FloatBE=Ve.Float=Ve.NearInt64BE=Ve.NearInt64=Ve.NearUInt64BE=Ve.NearUInt64=Ve.IntBE=Ve.Int=Ve.UIntBE=Ve.UInt=Ve.OffsetLayout=Ve.GreedyCount=Ve.ExternalLayout=Ve.bindConstructorLayout=Ve.nameWithProperty=Ve.Layout=Ve.uint8ArrayToBuffer=Ve.checkUint8Array=void 0;Ve.constant=Ve.utf8=Ve.cstr=at=Ve.blob=Ve.unionLayoutDiscriminator=Ve.union=Mt=Ve.seq=Ve.bits=pe=Ve.struct=Ve.f64be=Ve.f64=Ve.f32be=Ve.f32=Ve.ns64be=Ve.s48be=Ve.s40be=Ve.s32be=Ve.s24be=Ve.s16be=Lt=Ve.ns64=Ve.s48=Ve.s40=Ve.s32=Ve.s24=void 0;const zN=xe;function c1(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Ve.checkUint8Array=c1;function Xr(t){return c1(t),zN.Buffer.from(t.buffer,t.byteOffset,t.length)}Ve.uint8ArrayToBuffer=Xr;let fn=class{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}};Ve.Layout=fn;function WN(t,e){return e.property?t+"["+e.property+"]":t}Ve.nameWithProperty=WN;function rAe(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof fn))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value(r,n){return e.decode(r,n)},writable:!0})}Ve.bindConstructorLayout=rAe;let zo=class extends fn{isCount(){throw new Error("ExternalLayout is abstract")}};Ve.ExternalLayout=zo;let JY=class extends zo{constructor(e=1,r){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r=0){c1(e);const n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}};Ve.GreedyCount=JY;let jN=class extends zo{constructor(e,r=0,n){if(!(e instanceof fn))throw new TypeError("layout must be a Layout");if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof Qa||this.layout instanceof Uu}decode(e,r=0){return this.layout.decode(e,r+this.offset)}encode(e,r,n=0){return this.layout.encode(e,r,n+this.offset)}};Ve.OffsetLayout=jN;let Qa=class extends fn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return Xr(e).readUIntLE(r,this.span)}encode(e,r,n=0){return Xr(r).writeUIntLE(e,n,this.span),this.span}};Ve.UInt=Qa;let Uu=class extends fn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return Xr(e).readUIntBE(r,this.span)}encode(e,r,n=0){return Xr(r).writeUIntBE(e,n,this.span),this.span}};Ve.UIntBE=Uu;let X0=class extends fn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return Xr(e).readIntLE(r,this.span)}encode(e,r,n=0){return Xr(r).writeIntLE(e,n,this.span),this.span}};Ve.Int=X0;let l1=class extends fn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return Xr(e).readIntBE(r,this.span)}encode(e,r,n=0){return Xr(r).writeIntBE(e,n,this.span),this.span}};Ve.IntBE=l1;const Z8=Math.pow(2,32);function Ck(t){const e=Math.floor(t/Z8),r=t-e*Z8;return{hi32:e,lo32:r}}function Pk(t,e){return t*Z8+e}let QY=class extends fn{constructor(e){super(8,e)}decode(e,r=0){const n=Xr(e),i=n.readUInt32LE(r),s=n.readUInt32LE(r+4);return Pk(s,i)}encode(e,r,n=0){const i=Ck(e),s=Xr(r);return s.writeUInt32LE(i.lo32,n),s.writeUInt32LE(i.hi32,n+4),8}};Ve.NearUInt64=QY;let eZ=class extends fn{constructor(e){super(8,e)}decode(e,r=0){const n=Xr(e),i=n.readUInt32BE(r),s=n.readUInt32BE(r+4);return Pk(i,s)}encode(e,r,n=0){const i=Ck(e),s=Xr(r);return s.writeUInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}};Ve.NearUInt64BE=eZ;let tZ=class extends fn{constructor(e){super(8,e)}decode(e,r=0){const n=Xr(e),i=n.readUInt32LE(r),s=n.readInt32LE(r+4);return Pk(s,i)}encode(e,r,n=0){const i=Ck(e),s=Xr(r);return s.writeUInt32LE(i.lo32,n),s.writeInt32LE(i.hi32,n+4),8}};Ve.NearInt64=tZ;let rZ=class extends fn{constructor(e){super(8,e)}decode(e,r=0){const n=Xr(e),i=n.readInt32BE(r),s=n.readUInt32BE(r+4);return Pk(i,s)}encode(e,r,n=0){const i=Ck(e),s=Xr(r);return s.writeInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}};Ve.NearInt64BE=rZ;let nZ=class extends fn{constructor(e){super(4,e)}decode(e,r=0){return Xr(e).readFloatLE(r)}encode(e,r,n=0){return Xr(r).writeFloatLE(e,n),4}};Ve.Float=nZ;let iZ=class extends fn{constructor(e){super(4,e)}decode(e,r=0){return Xr(e).readFloatBE(r)}encode(e,r,n=0){return Xr(r).writeFloatBE(e,n),4}};Ve.FloatBE=iZ;let sZ=class extends fn{constructor(e){super(8,e)}decode(e,r=0){return Xr(e).readDoubleLE(r)}encode(e,r,n=0){return Xr(r).writeDoubleLE(e,n),8}};Ve.Double=sZ;let oZ=class extends fn{constructor(e){super(8,e)}decode(e,r=0){return Xr(e).readDoubleBE(r)}encode(e,r,n=0){return Xr(r).writeDoubleBE(e,n),8}};Ve.DoubleBE=oZ;let aZ=class extends fn{constructor(e,r,n){if(!(e instanceof fn))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof zo&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(r instanceof zo)&&0<e.span&&(i=r*e.span),super(i,n),this.elementLayout=e,this.count=r}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof zo&&(i=i.decode(e,r)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let s=0;for(;s<i;)n+=this.elementLayout.getSpan(e,r+n),++s}return n}decode(e,r=0){const n=[];let i=0,s=this.count;for(s instanceof zo&&(s=s.decode(e,r));i<s;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),i+=1;return n}encode(e,r,n=0){const i=this.elementLayout,s=e.reduce((o,a)=>o+i.encode(a,r,n+o),0);return this.count instanceof zo&&this.count.encode(e.length,r,n),s}};Ve.Sequence=aZ;let uZ=class extends fn{constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof fn,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,s)=>{const o=s.getSpan(e,r);return r+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r=0){c1(e);const n=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,r)),r+=i.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n=0){const i=n;let s=0,o=0;for(const a of this.fields){let u=a.span;if(o=0<u?u:0,a.property!==void 0){const f=e[a.property];f!==void 0&&(o=a.encode(f,r,n),0>u&&(u=a.getSpan(r,n)))}s=n,n+=u}return s+o-i}fromArray(e){const r=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(const n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}};Ve.Structure=uZ;let KN=class{constructor(e){this.property=e}decode(e,r){throw new Error("UnionDiscriminator is abstract")}encode(e,r,n){throw new Error("UnionDiscriminator is abstract")}};Ve.UnionDiscriminator=KN;let Cx=class extends KN{constructor(e,r){if(!(e instanceof zo&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}};Ve.UnionLayoutDiscriminator=Cx;let HN=class extends fn{constructor(e,r,n){let i;if(e instanceof Qa||e instanceof Uu)i=new Cx(new jN(e));else if(e instanceof zo&&e.isCount())i=new Cx(e);else if(e instanceof KN)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof fn))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let s=-1;r&&(s=r.span,0<=s&&(e instanceof Qa||e instanceof Uu)&&(s+=i.layout.span)),super(s,n),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof Qa||e instanceof Uu,this.defaultLayout=r,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,r=0){if(0<=this.span)return this.span;const n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(e,r.property)))return r}else for(const r in this.registry){const n=this.registry[r];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,r=0){let n;const i=this.discriminator,s=i.decode(e,r),o=this.registry[s];if(o===void 0){const a=this.defaultLayout;let u=0;this.usesPrefixDiscriminator&&(u=i.layout.span),n=this.makeDestinationObject(),n[i.property]=s,n[a.property]=a.decode(e,r+u)}else n=o.decode(e,r);return n}encode(e,r,n=0){const i=this.getSourceVariant(e);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(e[s.property],r,n),a+o.encode(e[o.property],r,n+a)}return i.encode(e,r,n)}addVariant(e,r,n){const i=new cZ(this,e,r,n);return this.registry[e]=i,i}getVariant(e,r=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,r):n=e,this.registry[n]}};Ve.Union=HN;let cZ=class extends fn{constructor(e,r,n,i){if(!(e instanceof HN))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof fn))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=n?n.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,r+n)),n+i}decode(e,r=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let s=i;if(this.layout&&(this.layout.encode(e[this.property],r,n+i),s+=this.layout.getSpan(r,n+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};Ve.VariantLayout=cZ;function Kg(t){return 0>t&&(t+=4294967296),t}let qN=class extends fn{constructor(e,r,n){if(!(e instanceof Qa||e instanceof Uu))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let i=0;this._packedSetValue=function(s){return i=Kg(s),this},this._packedGetValue=function(){return i}}decode(e,r=0){const n=this.makeDestinationObject(),i=this.word.decode(e,r);this._packedSetValue(i);for(const s of this.fields)s.property!==void 0&&(n[s.property]=s.decode(e));return n}encode(e,r,n=0){const i=this.word.decode(r,n);this._packedSetValue(i);for(const s of this.fields)if(s.property!==void 0){const o=e[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){const n=new VN(this,e,r);return this.fields.push(n),n}addBoolean(e){const r=new lZ(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}};Ve.BitStructure=qN;let VN=class{constructor(e,r,n){if(!(e instanceof qN))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");const i=8*e.span,s=e.fields.reduce((o,a)=>o+a.bits,0);if(r+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-r),this.wordMask=Kg(this.valueMask<<this.start),this.property=n}decode(e,r){const n=this.container._packedGetValue();return Kg(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Kg(e&this.valueMask))throw new TypeError(WN("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const r=this.container._packedGetValue(),n=Kg(e<<this.start);this.container._packedSetValue(Kg(r&~this.wordMask)|n)}};Ve.BitField=VN;let lZ=class extends VN{constructor(e,r){super(e,1,r)}decode(e,r){return!!super.decode(e,r)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};Ve.Boolean=lZ;let fZ=class extends fn{constructor(e,r){if(!(e instanceof zo&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof zo||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r=0){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),Xr(e).slice(r,r+n)}encode(e,r,n){let i=this.length;if(this.length instanceof zo&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(WN("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>r.length)throw new RangeError("encoding overruns Uint8Array");const s=Xr(e);return Xr(r).write(s.toString("hex"),n,i,"hex"),this.length instanceof zo&&this.length.encode(i,r,n),i}};Ve.Blob=fZ;let dZ=class extends fn{constructor(e){super(-1,e)}getSpan(e,r=0){c1(e);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r=0){const n=this.getSpan(e,r);return Xr(e).slice(r,r+n-1).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));const i=zN.Buffer.from(e,"utf8"),s=i.length;if(n+s>r.length)throw new RangeError("encoding overruns Buffer");const o=Xr(r);return i.copy(o,n),o[n+s]=0,s+1}};Ve.CString=dZ;let hZ=class extends fn{constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r=0){return c1(e),e.length-r}decode(e,r=0){const n=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return Xr(e).slice(r,r+n).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));const i=zN.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(Xr(r),n),s}};Ve.UTF8=hZ;let pZ=class extends fn{constructor(e,r){super(0,r),this.value=e}decode(e,r){return this.value}encode(e,r,n){return 0}};Ve.Constant=pZ;Ve.greedy=(t,e)=>new JY(t,e);var zr=Ve.offset=(t,e,r)=>new jN(t,e,r),Ge=Ve.u8=t=>new Qa(1,t),jt=Ve.u16=t=>new Qa(2,t);Ve.u24=t=>new Qa(3,t);var ge=Ve.u32=t=>new Qa(4,t);Ve.u40=t=>new Qa(5,t);Ve.u48=t=>new Qa(6,t);var bt=Ve.nu64=t=>new QY(t);Ve.u16be=t=>new Uu(2,t);Ve.u24be=t=>new Uu(3,t);Ve.u32be=t=>new Uu(4,t);Ve.u40be=t=>new Uu(5,t);Ve.u48be=t=>new Uu(6,t);Ve.nu64be=t=>new eZ(t);Ve.s8=t=>new X0(1,t);Ve.s16=t=>new X0(2,t);Ve.s24=t=>new X0(3,t);Ve.s32=t=>new X0(4,t);Ve.s40=t=>new X0(5,t);Ve.s48=t=>new X0(6,t);var Lt=Ve.ns64=t=>new tZ(t);Ve.s16be=t=>new l1(2,t);Ve.s24be=t=>new l1(3,t);Ve.s32be=t=>new l1(4,t);Ve.s40be=t=>new l1(5,t);Ve.s48be=t=>new l1(6,t);Ve.ns64be=t=>new rZ(t);Ve.f32=t=>new nZ(t);Ve.f32be=t=>new iZ(t);Ve.f64=t=>new sZ(t);Ve.f64be=t=>new oZ(t);var pe=Ve.struct=(t,e,r)=>new uZ(t,e,r);Ve.bits=(t,e,r)=>new qN(t,e,r);var Mt=Ve.seq=(t,e,r)=>new aZ(t,e,r);Ve.union=(t,e,r)=>new HN(t,e,r);Ve.unionLayoutDiscriminator=(t,e)=>new Cx(t,e);var at=Ve.blob=(t,e)=>new fZ(t,e);Ve.cstr=t=>new dZ(t);Ve.utf8=(t,e)=>new hZ(t,e);Ve.constant=(t,e)=>new pZ(t,e);var XS={};Object.defineProperty(XS,"__esModule",{value:!0});function nAe(t){{const e=we.Buffer.from(t);e.reverse();const r=e.toString("hex");return r.length===0?BigInt(0):BigInt(`0x${r}`)}}var f1=XS.toBigIntLE=nAe;function iAe(t){{const e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}XS.toBigIntBE=iAe;function sAe(t,e){{const r=t.toString(16),n=we.Buffer.from(r.padStart(e*2,"0").slice(0,e*2),"hex");return n.reverse(),n}}var Uh=XS.toBufferLE=sAe;function oAe(t,e){{const r=t.toString(16);return we.Buffer.from(r.padStart(e*2,"0").slice(0,e*2),"hex")}}XS.toBufferBE=oAe;let aAe=class extends TypeError{constructor(e,r){let n;const{message:i,explanation:s,...o}=e,{path:a}=e,u=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??u),s!=null&&(this.cause=u),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...r()])}};function uAe(t){return JS(t)&&typeof t[Symbol.iterator]=="function"}function JS(t){return typeof t=="object"&&t!=null}function Px(t){return JS(t)&&!Array.isArray(t)}function Ku(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function cAe(t){const{done:e,value:r}=t.next();return e?void 0:r}function lAe(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=r,{refinement:a,message:u=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Ku(n)}\``}=t;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:u}}function*wU(t,e,r,n){uAe(t)||(t=[t]);for(const i of t){const s=lAe(i,e,r,n);s&&(yield s)}}function*GN(t,e,r={}){const{path:n=[],branch:i=[t],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i,mask:o};s&&(t=e.coercer(t,a));let u="valid";for(const f of e.validator(t,a))f.explanation=r.message,u="not_valid",yield[f,void 0];for(let[f,d,g]of e.entries(t,a)){const y=GN(d,g,{path:f===void 0?n:[...n,f],branch:f===void 0?i:[...i,d],coerce:s,mask:o,message:r.message});for(const b of y)b[0]?(u=b[0].refinement!=null?"not_refined":"not_valid",yield[b[0],void 0]):s&&(d=b[1],f===void 0?t=d:t instanceof Map?t.set(f,d):t instanceof Set?t.add(d):JS(t)&&(d!==void 0||f in t)&&(t[f]=d))}if(u!=="not_valid")for(const f of e.refiner(t,a))f.explanation=r.message,u="not_refined",yield[f,void 0];u==="valid"&&(yield[void 0,t])}let El=class{constructor(e){const{type:r,schema:n,validator:i,refiner:s,coercer:o=u=>u,entries:a=function*(){}}=e;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(u,f)=>{const d=i(u,f);return wU(d,f,this,u)}:this.validator=()=>[],s?this.refiner=(u,f)=>{const d=s(u,f);return wU(d,f,this,u)}:this.refiner=()=>[]}assert(e,r){return gZ(e,this,r)}create(e,r){return Oe(e,this,r)}is(e){return mZ(e,this)}mask(e,r){return fAe(e,this,r)}validate(e,r={}){return QS(e,this,r)}};function gZ(t,e,r){const n=QS(t,e,{message:r});if(n[0])throw n[0]}function Oe(t,e,r){const n=QS(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function fAe(t,e,r){const n=QS(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function mZ(t,e){return!QS(t,e)[0]}function QS(t,e,r={}){const n=GN(t,e,r),i=cAe(n);return i[0]?[new aAe(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function J0(t,e){return new El({type:t,schema:null,validator:e})}function Nk(){return J0("any",()=>!0)}function me(t){return new El({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Ku(e)}`}})}function xr(){return J0("boolean",t=>typeof t=="boolean")}function uu(t){return J0("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${Ku(e)}`)}function ht(t){const e=Ku(t),r=typeof t;return new El({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||`Expected the literal \`${e}\`, but received: ${Ku(n)}`}})}function dAe(){return J0("never",()=>!1)}function ye(t){return new El({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function Y(){return J0("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${Ku(t)}`)}function Ie(t){return new El({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function zh(t,e){return new El({type:"record",schema:null,*entries(r){if(JS(r))for(const n in r){const i=r[n];yield[n,n,t],yield[n,i,e]}},validator(r){return Px(r)||`Expected an object, but received: ${Ku(r)}`},coercer(r){return Px(r)?{...r}:r}})}function he(){return J0("string",t=>typeof t=="string"||`Expected a string, but received: ${Ku(t)}`)}function cu(t){const e=dAe();return new El({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${Ku(r)}`},coercer(r){return Array.isArray(r)?r.slice():r}})}function ce(t){const e=Object.keys(t);return new El({type:"type",schema:t,*entries(r){if(JS(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return Px(r)||`Expected an object, but received: ${Ku(r)}`},coercer(r){return Px(r)?{...r}:r}})}function Dt(t){const e=t.map(r=>r.type).join(" | ");return new El({type:"union",schema:null,coercer(r,n){for(const i of t){const[s,o]=i.validate(r,{coerce:!0,mask:n.mask});if(!s)return o}return r},validator(r,n){const i=[];for(const s of t){const[...o]=GN(r,s,n),[a]=o;if(a[0])for(const[u]of o)u&&i.push(u);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Ku(r)}`,...i]}})}function ri(){return J0("unknown",()=>!0)}function zi(t,e,r){return new El({...t,coercer:(n,i)=>mZ(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}var mA,hAe=new Uint8Array(16);function yZ(){if(!mA&&(mA=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!mA))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return mA(hAe)}const pAe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Bk(t){return typeof t=="string"&&pAe.test(t)}var _s=[];for(var h4=0;h4<256;++h4)_s.push((h4+256).toString(16).substr(1));function Ok(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(_s[t[e+0]]+_s[t[e+1]]+_s[t[e+2]]+_s[t[e+3]]+"-"+_s[t[e+4]]+_s[t[e+5]]+"-"+_s[t[e+6]]+_s[t[e+7]]+"-"+_s[t[e+8]]+_s[t[e+9]]+"-"+_s[t[e+10]]+_s[t[e+11]]+_s[t[e+12]]+_s[t[e+13]]+_s[t[e+14]]+_s[t[e+15]]).toLowerCase();if(!Bk(r))throw TypeError("Stringified UUID is invalid");return r}var SU,p4,g4=0,m4=0;function gAe(t,e,r){var n=e&&r||0,i=e||new Array(16);t=t||{};var s=t.node||SU,o=t.clockseq!==void 0?t.clockseq:p4;if(s==null||o==null){var a=t.random||(t.rng||yZ)();s==null&&(s=SU=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=p4=(a[6]<<8|a[7])&16383)}var u=t.msecs!==void 0?t.msecs:Date.now(),f=t.nsecs!==void 0?t.nsecs:m4+1,d=u-g4+(f-m4)/1e4;if(d<0&&t.clockseq===void 0&&(o=o+1&16383),(d<0||u>g4)&&t.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");g4=u,m4=f,p4=o,u+=122192928e5;var g=((u&268435455)*1e4+f)%4294967296;i[n++]=g>>>24&255,i[n++]=g>>>16&255,i[n++]=g>>>8&255,i[n++]=g&255;var y=u/4294967296*1e4&268435455;i[n++]=y>>>8&255,i[n++]=y&255,i[n++]=y>>>24&15|16,i[n++]=y>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(var b=0;b<6;++b)i[n+b]=s[b];return e||Ok(i)}function bZ(t){if(!Bk(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}function mAe(t){t=unescape(encodeURIComponent(t));for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}var yAe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",bAe="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function vZ(t,e,r){function n(i,s,o,a){if(typeof i=="string"&&(i=mAe(i)),typeof s=="string"&&(s=bZ(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(s),u.set(i,s.length),u=r(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,o){a=a||0;for(var f=0;f<16;++f)o[a+f]=u[f];return o}return Ok(u)}try{n.name=t}catch{}return n.DNS=yAe,n.URL=bAe,n}function vAe(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return wAe(SAe(_Ae(t),t.length*8))}function wAe(t){for(var e=[],r=t.length*32,n="0123456789abcdef",i=0;i<r;i+=8){var s=t[i>>5]>>>i%32&255,o=parseInt(n.charAt(s>>>4&15)+n.charAt(s&15),16);e.push(o)}return e}function wZ(t){return(t+64>>>9<<4)+14+1}function SAe(t,e){t[e>>5]|=128<<e%32,t[wZ(e)-1]=e;for(var r=1732584193,n=-271733879,i=-1732584194,s=271733878,o=0;o<t.length;o+=16){var a=r,u=n,f=i,d=s;r=Ls(r,n,i,s,t[o],7,-680876936),s=Ls(s,r,n,i,t[o+1],12,-389564586),i=Ls(i,s,r,n,t[o+2],17,606105819),n=Ls(n,i,s,r,t[o+3],22,-1044525330),r=Ls(r,n,i,s,t[o+4],7,-176418897),s=Ls(s,r,n,i,t[o+5],12,1200080426),i=Ls(i,s,r,n,t[o+6],17,-1473231341),n=Ls(n,i,s,r,t[o+7],22,-45705983),r=Ls(r,n,i,s,t[o+8],7,1770035416),s=Ls(s,r,n,i,t[o+9],12,-1958414417),i=Ls(i,s,r,n,t[o+10],17,-42063),n=Ls(n,i,s,r,t[o+11],22,-1990404162),r=Ls(r,n,i,s,t[o+12],7,1804603682),s=Ls(s,r,n,i,t[o+13],12,-40341101),i=Ls(i,s,r,n,t[o+14],17,-1502002290),n=Ls(n,i,s,r,t[o+15],22,1236535329),r=Ds(r,n,i,s,t[o+1],5,-165796510),s=Ds(s,r,n,i,t[o+6],9,-1069501632),i=Ds(i,s,r,n,t[o+11],14,643717713),n=Ds(n,i,s,r,t[o],20,-373897302),r=Ds(r,n,i,s,t[o+5],5,-701558691),s=Ds(s,r,n,i,t[o+10],9,38016083),i=Ds(i,s,r,n,t[o+15],14,-660478335),n=Ds(n,i,s,r,t[o+4],20,-405537848),r=Ds(r,n,i,s,t[o+9],5,568446438),s=Ds(s,r,n,i,t[o+14],9,-1019803690),i=Ds(i,s,r,n,t[o+3],14,-187363961),n=Ds(n,i,s,r,t[o+8],20,1163531501),r=Ds(r,n,i,s,t[o+13],5,-1444681467),s=Ds(s,r,n,i,t[o+2],9,-51403784),i=Ds(i,s,r,n,t[o+7],14,1735328473),n=Ds(n,i,s,r,t[o+12],20,-1926607734),r=Fs(r,n,i,s,t[o+5],4,-378558),s=Fs(s,r,n,i,t[o+8],11,-2022574463),i=Fs(i,s,r,n,t[o+11],16,1839030562),n=Fs(n,i,s,r,t[o+14],23,-35309556),r=Fs(r,n,i,s,t[o+1],4,-1530992060),s=Fs(s,r,n,i,t[o+4],11,1272893353),i=Fs(i,s,r,n,t[o+7],16,-155497632),n=Fs(n,i,s,r,t[o+10],23,-1094730640),r=Fs(r,n,i,s,t[o+13],4,681279174),s=Fs(s,r,n,i,t[o],11,-358537222),i=Fs(i,s,r,n,t[o+3],16,-722521979),n=Fs(n,i,s,r,t[o+6],23,76029189),r=Fs(r,n,i,s,t[o+9],4,-640364487),s=Fs(s,r,n,i,t[o+12],11,-421815835),i=Fs(i,s,r,n,t[o+15],16,530742520),n=Fs(n,i,s,r,t[o+2],23,-995338651),r=$s(r,n,i,s,t[o],6,-198630844),s=$s(s,r,n,i,t[o+7],10,1126891415),i=$s(i,s,r,n,t[o+14],15,-1416354905),n=$s(n,i,s,r,t[o+5],21,-57434055),r=$s(r,n,i,s,t[o+12],6,1700485571),s=$s(s,r,n,i,t[o+3],10,-1894986606),i=$s(i,s,r,n,t[o+10],15,-1051523),n=$s(n,i,s,r,t[o+1],21,-2054922799),r=$s(r,n,i,s,t[o+8],6,1873313359),s=$s(s,r,n,i,t[o+15],10,-30611744),i=$s(i,s,r,n,t[o+6],15,-1560198380),n=$s(n,i,s,r,t[o+13],21,1309151649),r=$s(r,n,i,s,t[o+4],6,-145523070),s=$s(s,r,n,i,t[o+11],10,-1120210379),i=$s(i,s,r,n,t[o+2],15,718787259),n=$s(n,i,s,r,t[o+9],21,-343485551),r=sh(r,a),n=sh(n,u),i=sh(i,f),s=sh(s,d)}return[r,n,i,s]}function _Ae(t){if(t.length===0)return[];for(var e=t.length*8,r=new Uint32Array(wZ(e)),n=0;n<e;n+=8)r[n>>5]|=(t[n/8]&255)<<n%32;return r}function sh(t,e){var r=(t&65535)+(e&65535),n=(t>>16)+(e>>16)+(r>>16);return n<<16|r&65535}function AAe(t,e){return t<<e|t>>>32-e}function Lk(t,e,r,n,i,s){return sh(AAe(sh(sh(e,t),sh(n,s)),i),r)}function Ls(t,e,r,n,i,s,o){return Lk(e&r|~e&n,t,e,i,s,o)}function Ds(t,e,r,n,i,s,o){return Lk(e&n|r&~n,t,e,i,s,o)}function Fs(t,e,r,n,i,s,o){return Lk(e^r^n,t,e,i,s,o)}function $s(t,e,r,n,i,s,o){return Lk(r^(e|~n),t,e,i,s,o)}var xAe=vZ("v3",48,vAe);function EAe(t,e,r){t=t||{};var n=t.random||(t.rng||yZ)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return Ok(n)}function kAe(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function y4(t,e){return t<<e|t>>>32-e}function TAe(t){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var n=unescape(encodeURIComponent(t));t=[];for(var i=0;i<n.length;++i)t.push(n.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,o=Math.ceil(s/16),a=new Array(o),u=0;u<o;++u){for(var f=new Uint32Array(16),d=0;d<16;++d)f[d]=t[u*64+d*4]<<24|t[u*64+d*4+1]<<16|t[u*64+d*4+2]<<8|t[u*64+d*4+3];a[u]=f}a[o-1][14]=(t.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(t.length-1)*8&4294967295;for(var g=0;g<o;++g){for(var y=new Uint32Array(80),b=0;b<16;++b)y[b]=a[g][b];for(var A=16;A<80;++A)y[A]=y4(y[A-3]^y[A-8]^y[A-14]^y[A-16],1);for(var x=r[0],k=r[1],I=r[2],R=r[3],M=r[4],P=0;P<80;++P){var j=Math.floor(P/20),V=y4(x,5)+kAe(j,k,I,R)+M+e[j]+y[P]>>>0;M=R,R=I,I=y4(k,30)>>>0,k=x,x=V}r[0]=r[0]+x>>>0,r[1]=r[1]+k>>>0,r[2]=r[2]+I>>>0,r[3]=r[3]+R>>>0,r[4]=r[4]+M>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var IAe=vZ("v5",80,TAe);const RAe="00000000-0000-0000-0000-000000000000";function MAe(t){if(!Bk(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const CAe=Object.freeze(Object.defineProperty({__proto__:null,NIL:RAe,parse:bZ,stringify:Ok,v1:gAe,v3:xAe,v4:EAe,v5:IAe,validate:Bk,version:MAe},Symbol.toStringTag,{value:"Module"})),SZ=GS(CAe),PAe=SZ.v4,NAe=function(t,e,r,n){if(typeof t!="string")throw new TypeError(t+" must be a string");n=n||{};const i=typeof n.version=="number"?n.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const s={method:t};if(i===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof r>"u"){const o=typeof n.generator=="function"?n.generator:function(){return PAe()};s.id=o(s,n)}else i===2&&r===null?n.notificationIdNull&&(s.id=null):s.id=r;return s};var BAe=NAe;const OAe=SZ.v4,LAe=BAe,Bw=function(t,e){if(!(this instanceof Bw))return new Bw(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return OAe()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var DAe=Bw;Bw.prototype.request=function(t,e,r,n){const i=this;let s=null;const o=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&t&&typeof t=="object"&&typeof e=="function")n=e,s=t;else{typeof r=="function"&&(n=r,r=void 0);const f=typeof n=="function";try{s=LAe(t,e,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(d){if(f)return n(d);throw d}if(!f)return s}let u;try{u=JSON.stringify(s,this.options.replacer)}catch(f){return n(f)}return this.callServer(u,function(f,d){i._parseResponse(f,d,n)}),s};Bw.prototype._parseResponse=function(t,e,r){if(t){r(t);return}if(!e)return r();let n;try{n=JSON.parse(e,this.options.reviver)}catch(i){return r(i)}if(r.length===3)if(Array.isArray(n)){const i=function(o){return typeof o.error<"u"},s=function(o){return!i(o)};return r(null,n.filter(i),n.filter(s))}else return r(null,n.error,n.result);r(null,n)};const YN=ro(DAe);var _Z={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,f,d){this.fn=u,this.context=f,this.once=d||!1}function s(u,f,d,g,y){if(typeof d!="function")throw new TypeError("The listener must be a function");var b=new i(d,g||u,y),A=r?r+f:f;return u._events[A]?u._events[A].fn?u._events[A]=[u._events[A],b]:u._events[A].push(b):(u._events[A]=b,u._eventsCount++),u}function o(u,f){--u._eventsCount===0?u._events=new n:delete u._events[f]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var f=[],d,g;if(this._eventsCount===0)return f;for(g in d=this._events)e.call(d,g)&&f.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(d)):f},a.prototype.listeners=function(f){var d=r?r+f:f,g=this._events[d];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,b=g.length,A=new Array(b);y<b;y++)A[y]=g[y].fn;return A},a.prototype.listenerCount=function(f){var d=r?r+f:f,g=this._events[d];return g?g.fn?1:g.length:0},a.prototype.emit=function(f,d,g,y,b,A){var x=r?r+f:f;if(!this._events[x])return!1;var k=this._events[x],I=arguments.length,R,M;if(k.fn){switch(k.once&&this.removeListener(f,k.fn,void 0,!0),I){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,d),!0;case 3:return k.fn.call(k.context,d,g),!0;case 4:return k.fn.call(k.context,d,g,y),!0;case 5:return k.fn.call(k.context,d,g,y,b),!0;case 6:return k.fn.call(k.context,d,g,y,b,A),!0}for(M=1,R=new Array(I-1);M<I;M++)R[M-1]=arguments[M];k.fn.apply(k.context,R)}else{var P=k.length,j;for(M=0;M<P;M++)switch(k[M].once&&this.removeListener(f,k[M].fn,void 0,!0),I){case 1:k[M].fn.call(k[M].context);break;case 2:k[M].fn.call(k[M].context,d);break;case 3:k[M].fn.call(k[M].context,d,g);break;case 4:k[M].fn.call(k[M].context,d,g,y);break;default:if(!R)for(j=1,R=new Array(I-1);j<I;j++)R[j-1]=arguments[j];k[M].fn.apply(k[M].context,R)}}return!0},a.prototype.on=function(f,d,g){return s(this,f,d,g,!1)},a.prototype.once=function(f,d,g){return s(this,f,d,g,!0)},a.prototype.removeListener=function(f,d,g,y){var b=r?r+f:f;if(!this._events[b])return this;if(!d)return o(this,b),this;var A=this._events[b];if(A.fn)A.fn===d&&(!y||A.once)&&(!g||A.context===g)&&o(this,b);else{for(var x=0,k=[],I=A.length;x<I;x++)(A[x].fn!==d||y&&!A[x].once||g&&A[x].context!==g)&&k.push(A[x]);k.length?this._events[b]=k.length===1?k[0]:k:o(this,b)}return this},a.prototype.removeAllListeners=function(f){var d;return f?(d=r?r+f:f,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(_Z);var FAe=_Z.exports;const Dk=ro(FAe);var $Ae=class extends Dk{constructor(e,r,n){super();Ce(this,"socket");this.socket=new window.WebSocket(e,n),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=i=>this.emit("message",i.data),this.socket.onerror=i=>this.emit("error",i),this.socket.onclose=i=>{this.emit("close",i.code,i.reason)}}send(e,r,n){const i=n||r;try{this.socket.send(e),i()}catch(s){i(s)}}close(e,r){this.socket.close(e,r)}addEventListener(e,r,n){this.socket.addEventListener(e,r,n)}};function ZN(t,e){return new $Ae(t,e)}var UAe=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},XN=class extends Dk{constructor(e,r="ws://localhost:8080",{autoconnect:n=!0,reconnect:i=!0,reconnect_interval:s=1e3,max_reconnects:o=5,...a}={},u,f){super();Ce(this,"address");Ce(this,"rpc_id");Ce(this,"queue");Ce(this,"options");Ce(this,"autoconnect");Ce(this,"ready");Ce(this,"reconnect");Ce(this,"reconnect_timer_id");Ce(this,"reconnect_interval");Ce(this,"max_reconnects");Ce(this,"rest_options");Ce(this,"current_reconnects");Ce(this,"generate_request_id");Ce(this,"socket");Ce(this,"webSocketFactory");Ce(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=r,this.autoconnect=n,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=s,this.max_reconnects=o,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=u||(()=>++this.rpc_id),f?this.dataPack=f:this.dataPack=new UAe,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,r,n,i){return!i&&typeof n=="object"&&(i=n,n=null),new Promise((s,o)=>{if(!this.ready)return o(new Error("socket not ready"));const a=this.generate_request_id(e,r),u={jsonrpc:"2.0",method:e,params:r||void 0,id:a};this.socket.send(this.dataPack.encode(u),i,f=>{if(f)return o(f);this.queue[a]={promise:[s,o]},n&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],o(new Error("reply timeout"))},n))})})}async login(e){const r=await this.call("rpc.login",e);if(!r)throw new Error("authentication failed");return r}async listMethods(){return await this.call("__listMethods")}notify(e,r){return new Promise((n,i)=>{if(!this.ready)return i(new Error("socket not ready"));const s={jsonrpc:"2.0",method:e,params:r};this.socket.send(this.dataPack.encode(s),o=>{if(o)return i(o);n()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const r=await this.call("rpc.on",e);if(typeof e=="string"&&r[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+r[e]);return r}async unsubscribe(e){typeof e=="string"&&(e=[e]);const r=await this.call("rpc.off",e);if(typeof e=="string"&&r[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+r);return r}close(e,r){this.socket.close(e||1e3,r)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,r){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,r),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:n})=>{n instanceof ArrayBuffer&&(n=xe.Buffer.from(n).toString());try{n=this.dataPack.decode(n)}catch{return}if(n.notification&&this.listeners(n.notification).length){if(!Object.keys(n.params).length)return this.emit(n.notification);const i=[n.notification];if(n.params.constructor===Object)i.push(n.params);else for(let s=0;s<n.params.length;s++)i.push(n.params[s]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[n.id])return n.method?Promise.resolve().then(()=>{this.emit(n.method,n==null?void 0:n.params)}):void 0;"error"in n=="result"in n&&this.queue[n.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[n.id].timeout&&clearTimeout(this.queue[n.id].timeout),n.error?this.queue[n.id].promise[1](n.error):this.queue[n.id].promise[0](n.result),delete this.queue[n.id]}),this.socket.addEventListener("error",n=>this.emit("error",n)),this.socket.addEventListener("close",({code:n,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",n,i),0),this.ready=!1,this.socket=void 0,n!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,r),this.reconnect_interval)))})}};const AZ=[],xZ=[],EZ=[],zAe=BigInt(0),ev=BigInt(1),WAe=BigInt(2),jAe=BigInt(7),KAe=BigInt(256),HAe=BigInt(113);for(let t=0,e=ev,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],AZ.push(2*(5*n+r)),xZ.push((t+1)*(t+2)/2%64);let i=zAe;for(let s=0;s<7;s++)e=(e<<ev^(e>>jAe)*HAe)%KAe,e&WAe&&(i^=ev<<(ev<<BigInt(s))-ev);EZ.push(i)}const[qAe,VAe]=EY(EZ,!0),_U=(t,e,r)=>r>32?IY(t,e,r):kY(t,e,r),AU=(t,e,r)=>r>32?RY(t,e,r):TY(t,e,r);function GAe(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,u=(o+2)%10,f=r[u],d=r[u+1],g=_U(f,d,1)^r[a],y=AU(f,d,1)^r[a+1];for(let b=0;b<50;b+=10)t[o+b]^=g,t[o+b+1]^=y}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=xZ[o],u=_U(i,s,a),f=AU(i,s,a),d=AZ[o];i=t[d],s=t[d+1],t[d]=u,t[d+1]=f}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=qAe[n],t[1]^=VAe[n]}r.fill(0)}let YAe=class kZ extends Ek{constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ex(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=vY(this.state)}keccak(){kx||j8(this.state32),GAe(this.state32,this.rounds),kx||j8(this.state32),this.posOut=0,this.pos=0}update(e){lb(this);const{blockLen:r,state:n}=this;e=Y0(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){lb(this,!1),n1(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ex(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(bY(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new kZ(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const ZAe=(t,e,r)=>$h(()=>new YAe(e,t,r)),Nx=ZAe(1,136,256/8);let TZ=class extends Ek{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,lSe(e);const n=Y0(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return lb(this),this.iHash.update(e),this}digestInto(e){lb(this),n1(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const IZ=(t,e,r)=>new TZ(t,e).update(r).digest();IZ.create=(t,e)=>new TZ(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function xU(t){t.lowS!==void 0&&Df("lowS",t.lowS),t.prehash!==void 0&&Df("prehash",t.prehash)}function XAe(t){const e=ON(t);i1(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:JAe,hexToBytes:QAe}=t_e;class e2e extends Error{constructor(e=""){super(e)}}const sf={Err:e2e,_tlv:{encode:(t,e)=>{const{Err:r}=sf;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=Im(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?Im(i.length/2|128):"";return Im(t)+s+i+e},decode(t,e){const{Err:r}=sf;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const u=i&127;if(!u)throw new r("tlv.decode(long): indefinite length not supported");if(u>4)throw new r("tlv.decode(long): byte length is too big");const f=e.subarray(n,n+u);if(f.length!==u)throw new r("tlv.decode: length bytes not complete");if(f[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const d of f)o=o<<8|d;if(n+=u,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){const{Err:e}=sf;if(t<_f)throw new e("integer: negative integers are not allowed");let r=Im(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=sf;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return JAe(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=sf,i=typeof t=="string"?QAe(t):t;ZS(i);const{v:s,l:o}=n.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:u}=n.decode(2,s),{v:f,l:d}=n.decode(2,u);if(d.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(f)}},hexFromSig(t){const{_tlv:e,_int:r}=sf,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),s=n+i;return e.encode(48,s)}},_f=BigInt(0),ns=BigInt(1);BigInt(2);const EU=BigInt(3);BigInt(4);function t2e(t){const e=XAe(t),{Fp:r}=e,n=Rk(e.n,e.nBitLength),i=e.toBytes||((x,k,I)=>{const R=k.toAffine();return m0(Uint8Array.from([4]),r.toBytes(R.x),r.toBytes(R.y))}),s=e.fromBytes||(x=>{const k=x.subarray(1),I=r.fromBytes(k.subarray(0,r.BYTES)),R=r.fromBytes(k.subarray(r.BYTES,2*r.BYTES));return{x:I,y:R}});function o(x){const{a:k,b:I}=e,R=r.sqr(x),M=r.mul(R,x);return r.add(r.add(M,r.mul(x,k)),I)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(x){return Ik(x,ns,e.n)}function u(x){const{allowedPrivateKeyLengths:k,nByteLength:I,wrapPrivateKey:R,n:M}=e;if(k&&typeof x!="bigint"){if(p0(x)&&(x=g0(x)),typeof x!="string"||!k.includes(x.length))throw new Error("invalid private key");x=x.padStart(I*2,"0")}let P;try{P=typeof x=="bigint"?x:s0(Bi("private key",x,I))}catch{throw new Error("invalid private key, expected hex or "+I+" bytes, got "+typeof x)}return R&&(P=Qn(P,M)),Xa("private key",P,ns,M),P}function f(x){if(!(x instanceof y))throw new Error("ProjectivePoint expected")}const d=Nw((x,k)=>{const{px:I,py:R,pz:M}=x;if(r.eql(M,r.ONE))return{x:I,y:R};const P=x.is0();k==null&&(k=P?r.ONE:r.inv(M));const j=r.mul(I,k),V=r.mul(R,k),Z=r.mul(M,k);if(P)return{x:r.ZERO,y:r.ZERO};if(!r.eql(Z,r.ONE))throw new Error("invZ was invalid");return{x:j,y:V}}),g=Nw(x=>{if(x.is0()){if(e.allowInfinityPoint&&!r.is0(x.py))return;throw new Error("bad point: ZERO")}const{x:k,y:I}=x.toAffine();if(!r.isValid(k)||!r.isValid(I))throw new Error("bad point: x or y not FE");const R=r.sqr(I),M=o(k);if(!r.eql(R,M))throw new Error("bad point: equation left != right");if(!x.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class y{constructor(k,I,R){if(this.px=k,this.py=I,this.pz=R,k==null||!r.isValid(k))throw new Error("x required");if(I==null||!r.isValid(I))throw new Error("y required");if(R==null||!r.isValid(R))throw new Error("z required");Object.freeze(this)}static fromAffine(k){const{x:I,y:R}=k||{};if(!k||!r.isValid(I)||!r.isValid(R))throw new Error("invalid affine point");if(k instanceof y)throw new Error("projective point not allowed");const M=P=>r.eql(P,r.ZERO);return M(I)&&M(R)?y.ZERO:new y(I,R,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(k){const I=r.invertBatch(k.map(R=>R.pz));return k.map((R,M)=>R.toAffine(I[M])).map(y.fromAffine)}static fromHex(k){const I=y.fromAffine(s(Bi("pointHex",k)));return I.assertValidity(),I}static fromPrivateKey(k){return y.BASE.multiply(u(k))}static msm(k,I){return WY(y,n,k,I)}_setWindowSize(k){A.setWindowSize(this,k)}assertValidity(){g(this)}hasEvenY(){const{y:k}=this.toAffine();if(r.isOdd)return!r.isOdd(k);throw new Error("Field doesn't support isOdd")}equals(k){f(k);const{px:I,py:R,pz:M}=this,{px:P,py:j,pz:V}=k,Z=r.eql(r.mul(I,V),r.mul(P,M)),G=r.eql(r.mul(R,V),r.mul(j,M));return Z&&G}negate(){return new y(this.px,r.neg(this.py),this.pz)}double(){const{a:k,b:I}=e,R=r.mul(I,EU),{px:M,py:P,pz:j}=this;let V=r.ZERO,Z=r.ZERO,G=r.ZERO,q=r.mul(M,M),ae=r.mul(P,P),T=r.mul(j,j),c=r.mul(M,P);return c=r.add(c,c),G=r.mul(M,j),G=r.add(G,G),V=r.mul(k,G),Z=r.mul(R,T),Z=r.add(V,Z),V=r.sub(ae,Z),Z=r.add(ae,Z),Z=r.mul(V,Z),V=r.mul(c,V),G=r.mul(R,G),T=r.mul(k,T),c=r.sub(q,T),c=r.mul(k,c),c=r.add(c,G),G=r.add(q,q),q=r.add(G,q),q=r.add(q,T),q=r.mul(q,c),Z=r.add(Z,q),T=r.mul(P,j),T=r.add(T,T),q=r.mul(T,c),V=r.sub(V,q),G=r.mul(T,ae),G=r.add(G,G),G=r.add(G,G),new y(V,Z,G)}add(k){f(k);const{px:I,py:R,pz:M}=this,{px:P,py:j,pz:V}=k;let Z=r.ZERO,G=r.ZERO,q=r.ZERO;const ae=e.a,T=r.mul(e.b,EU);let c=r.mul(I,P),h=r.mul(R,j),p=r.mul(M,V),m=r.add(I,R),v=r.add(P,j);m=r.mul(m,v),v=r.add(c,h),m=r.sub(m,v),v=r.add(I,M);let _=r.add(P,V);return v=r.mul(v,_),_=r.add(c,p),v=r.sub(v,_),_=r.add(R,M),Z=r.add(j,V),_=r.mul(_,Z),Z=r.add(h,p),_=r.sub(_,Z),q=r.mul(ae,v),Z=r.mul(T,p),q=r.add(Z,q),Z=r.sub(h,q),q=r.add(h,q),G=r.mul(Z,q),h=r.add(c,c),h=r.add(h,c),p=r.mul(ae,p),v=r.mul(T,v),h=r.add(h,p),p=r.sub(c,p),p=r.mul(ae,p),v=r.add(v,p),c=r.mul(h,v),G=r.add(G,c),c=r.mul(_,v),Z=r.mul(m,Z),Z=r.sub(Z,c),c=r.mul(m,h),q=r.mul(_,q),q=r.add(q,c),new y(Z,G,q)}subtract(k){return this.add(k.negate())}is0(){return this.equals(y.ZERO)}wNAF(k){return A.wNAFCached(this,k,y.normalizeZ)}multiplyUnsafe(k){const{endo:I,n:R}=e;Xa("scalar",k,_f,R);const M=y.ZERO;if(k===_f)return M;if(this.is0()||k===ns)return this;if(!I||A.hasPrecomputes(this))return A.wNAFCachedUnsafe(this,k,y.normalizeZ);let{k1neg:P,k1:j,k2neg:V,k2:Z}=I.splitScalar(k),G=M,q=M,ae=this;for(;j>_f||Z>_f;)j&ns&&(G=G.add(ae)),Z&ns&&(q=q.add(ae)),ae=ae.double(),j>>=ns,Z>>=ns;return P&&(G=G.negate()),V&&(q=q.negate()),q=new y(r.mul(q.px,I.beta),q.py,q.pz),G.add(q)}multiply(k){const{endo:I,n:R}=e;Xa("scalar",k,ns,R);let M,P;if(I){const{k1neg:j,k1:V,k2neg:Z,k2:G}=I.splitScalar(k);let{p:q,f:ae}=this.wNAF(V),{p:T,f:c}=this.wNAF(G);q=A.constTimeNegate(j,q),T=A.constTimeNegate(Z,T),T=new y(r.mul(T.px,I.beta),T.py,T.pz),M=q.add(T),P=ae.add(c)}else{const{p:j,f:V}=this.wNAF(k);M=j,P=V}return y.normalizeZ([M,P])[0]}multiplyAndAddUnsafe(k,I,R){const M=y.BASE,P=(V,Z)=>Z===_f||Z===ns||!V.equals(M)?V.multiplyUnsafe(Z):V.multiply(Z),j=P(this,I).add(P(k,R));return j.is0()?void 0:j}toAffine(k){return d(this,k)}isTorsionFree(){const{h:k,isTorsionFree:I}=e;if(k===ns)return!0;if(I)return I(y,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:k,clearCofactor:I}=e;return k===ns?this:I?I(y,this):this.multiplyUnsafe(e.h)}toRawBytes(k=!0){return Df("isCompressed",k),this.assertValidity(),i(y,this,k)}toHex(k=!0){return Df("isCompressed",k),g0(this.toRawBytes(k))}}y.BASE=new y(e.Gx,e.Gy,r.ONE),y.ZERO=new y(r.ZERO,r.ONE,r.ZERO);const b=e.nBitLength,A=zY(y,e.endo?Math.ceil(b/2):b);return{CURVE:e,ProjectivePoint:y,normPrivateKeyToScalar:u,weierstrassEquation:o,isWithinCurveOrder:a}}function r2e(t){const e=ON(t);return i1(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function n2e(t){const e=r2e(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function o(p){return Qn(p,n)}function a(p){return q8(p,n)}const{ProjectivePoint:u,normPrivateKeyToScalar:f,weierstrassEquation:d,isWithinCurveOrder:g}=t2e({...e,toBytes(p,m,v){const _=m.toAffine(),E=r.toBytes(_.x),w=m0;return Df("isCompressed",v),v?w(Uint8Array.from([m.hasEvenY()?2:3]),E):w(Uint8Array.from([4]),E,r.toBytes(_.y))},fromBytes(p){const m=p.length,v=p[0],_=p.subarray(1);if(m===i&&(v===2||v===3)){const E=s0(_);if(!Ik(E,ns,r.ORDER))throw new Error("Point is not on curve");const w=d(E);let l;try{l=r.sqrt(w)}catch(D){const U=D instanceof Error?": "+D.message:"";throw new Error("Point is not on curve"+U)}const S=(l&ns)===ns;return(v&1)===1!==S&&(l=r.neg(l)),{x:E,y:l}}else if(m===s&&v===4){const E=r.fromBytes(_.subarray(0,r.BYTES)),w=r.fromBytes(_.subarray(r.BYTES,2*r.BYTES));return{x:E,y:w}}else{const E=i,w=s;throw new Error("invalid Point, expected length of "+E+", or uncompressed "+w+", got "+m)}}}),y=p=>g0(db(p,e.nByteLength));function b(p){const m=n>>ns;return p>m}function A(p){return b(p)?o(-p):p}const x=(p,m,v)=>s0(p.slice(m,v));class k{constructor(m,v,_){this.r=m,this.s=v,this.recovery=_,this.assertValidity()}static fromCompact(m){const v=e.nByteLength;return m=Bi("compactSignature",m,v*2),new k(x(m,0,v),x(m,v,2*v))}static fromDER(m){const{r:v,s:_}=sf.toSig(Bi("DER",m));return new k(v,_)}assertValidity(){Xa("r",this.r,ns,n),Xa("s",this.s,ns,n)}addRecoveryBit(m){return new k(this.r,this.s,m)}recoverPublicKey(m){const{r:v,s:_,recovery:E}=this,w=V(Bi("msgHash",m));if(E==null||![0,1,2,3].includes(E))throw new Error("recovery id invalid");const l=E===2||E===3?v+e.n:v;if(l>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const S=E&1?"03":"02",C=u.fromHex(S+y(l)),D=a(l),U=o(-w*D),O=o(_*D),$=u.BASE.multiplyAndAddUnsafe(C,U,O);if(!$)throw new Error("point at infinify");return $.assertValidity(),$}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new k(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return fb(this.toDERHex())}toDERHex(){return sf.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return fb(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const I={isValidPrivateKey(p){try{return f(p),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const p=FY(e.n);return f_e(e.randomBytes(p),e.n)},precompute(p=8,m=u.BASE){return m._setWindowSize(p),m.multiply(BigInt(3)),m}};function R(p,m=!0){return u.fromPrivateKey(p).toRawBytes(m)}function M(p){const m=p0(p),v=typeof p=="string",_=(m||v)&&p.length;return m?_===i||_===s:v?_===2*i||_===2*s:p instanceof u}function P(p,m,v=!0){if(M(p))throw new Error("first arg must be private key");if(!M(m))throw new Error("second arg must be public key");return u.fromHex(m).multiply(f(p)).toRawBytes(v)}const j=e.bits2int||function(p){if(p.length>8192)throw new Error("input is too large");const m=s0(p),v=p.length*8-e.nBitLength;return v>0?m>>BigInt(v):m},V=e.bits2int_modN||function(p){return o(j(p))},Z=BN(e.nBitLength);function G(p){return Xa("num < 2^"+e.nBitLength,p,_f,Z),db(p,e.nByteLength)}function q(p,m,v=ae){if(["recovered","canonical"].some(H=>H in v))throw new Error("sign() legacy options not supported");const{hash:_,randomBytes:E}=e;let{lowS:w,prehash:l,extraEntropy:S}=v;w==null&&(w=!0),p=Bi("msgHash",p),xU(v),l&&(p=Bi("prehashed msgHash",_(p)));const C=V(p),D=f(m),U=[G(D),G(C)];if(S!=null&&S!==!1){const H=S===!0?E(r.BYTES):S;U.push(Bi("extraEntropy",H))}const O=m0(...U),$=C;function F(H){const Q=j(H);if(!g(Q))return;const te=a(Q),X=u.BASE.multiply(Q).toAffine(),K=o(X.x);if(K===_f)return;const oe=o(te*o($+K*D));if(oe===_f)return;let _e=(X.x===K?0:2)|Number(X.y&ns),Se=oe;return w&&b(oe)&&(Se=A(oe),_e^=1),new k(K,Se,_e)}return{seed:O,k2sig:F}}const ae={lowS:e.lowS,prehash:!1},T={lowS:e.lowS,prehash:!1};function c(p,m,v=ae){const{seed:_,k2sig:E}=q(p,m,v),w=e;return OY(w.hash.outputLen,w.nByteLength,w.hmac)(_,E)}u.BASE._setWindowSize(8);function h(p,m,v,_=T){var _e;const E=p;m=Bi("msgHash",m),v=Bi("publicKey",v);const{lowS:w,prehash:l,format:S}=_;if(xU(_),"strict"in _)throw new Error("options.strict was renamed to lowS");if(S!==void 0&&S!=="compact"&&S!=="der")throw new Error("format must be compact or der");const C=typeof E=="string"||p0(E),D=!C&&!S&&typeof E=="object"&&E!==null&&typeof E.r=="bigint"&&typeof E.s=="bigint";if(!C&&!D)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let U,O;try{if(D&&(U=new k(E.r,E.s)),C){try{S!=="compact"&&(U=k.fromDER(E))}catch(Se){if(!(Se instanceof sf.Err))throw Se}!U&&S!=="der"&&(U=k.fromCompact(E))}O=u.fromHex(v)}catch{return!1}if(!U||w&&U.hasHighS())return!1;l&&(m=e.hash(m));const{r:$,s:F}=U,H=V(m),Q=a(F),te=o(H*Q),X=o($*Q),K=(_e=u.BASE.multiplyAndAddUnsafe(O,te,X))==null?void 0:_e.toAffine();return K?o(K.x)===$:!1}return{CURVE:e,getPublicKey:R,getSharedSecret:P,sign:c,verify:h,ProjectivePoint:u,Signature:k,utils:I}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function i2e(t){return{hash:t,hmac:(e,...r)=>IZ(t,e,_Y(...r)),randomBytes:PN}}function s2e(t,e){const r=n=>n2e({...t,...i2e(n)});return{...r(e),create:r}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const RZ=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),kU=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),o2e=BigInt(1),X8=BigInt(2),TU=(t,e)=>(t+e/X8)/e;function a2e(t){const e=RZ,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),u=BigInt(88),f=t*t*t%e,d=f*f*t%e,g=di(d,r,e)*d%e,y=di(g,r,e)*d%e,b=di(y,X8,e)*f%e,A=di(b,i,e)*b%e,x=di(A,s,e)*A%e,k=di(x,a,e)*x%e,I=di(k,u,e)*k%e,R=di(I,a,e)*x%e,M=di(R,r,e)*d%e,P=di(M,o,e)*A%e,j=di(P,n,e)*f%e,V=di(j,X8,e);if(!J8.eql(J8.sqr(V),t))throw new Error("Cannot find square root");return V}const J8=Rk(RZ,void 0,void 0,{sqrt:a2e}),Ra=s2e({a:BigInt(0),b:BigInt(7),Fp:J8,n:kU,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=kU,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-o2e*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=TU(s*t,e),u=TU(-n*t,e);let f=Qn(t-a*r-u*i,e),d=Qn(-a*n-u*s,e);const g=f>o,y=d>o;if(g&&(f=e-f),y&&(d=e-d),f>o||d>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:g,k1:f,k2neg:y,k2:d}}}},Vo);BigInt(0);Ra.ProjectivePoint;function IU(t){try{return Yi.ExtendedPoint.fromHex(t),!0}catch{return!1}}const MZ=(t,e)=>Yi.sign(t,e.slice(0,32)),u2e=Yi.verify,is=t=>xe.Buffer.isBuffer(t)?t:t instanceof Uint8Array?xe.Buffer.from(t.buffer,t.byteOffset,t.byteLength):xe.Buffer.from(t);let c2e=class{constructor(e){Object.assign(this,e)}encode(){return xe.Buffer.from(a1(x2,this))}static decode(e){return u1(x2,this,e)}static decodeUnchecked(e){return o1(x2,this,e)}};const x2=new Map;var CZ;const l2e=32,fh=32;function f2e(t){return t._bn!==void 0}let RU=1,dt=class Hg extends c2e{constructor(e){if(super({}),this._bn=void 0,f2e(e))this._bn=e._bn;else{if(typeof e=="string"){const r=Is.decode(e);if(r.length!=fh)throw new Error("Invalid public key input");this._bn=new Mr(r)}else this._bn=new Mr(e);if(this._bn.byteLength()>fh)throw new Error("Invalid public key input")}}static unique(){const e=new Hg(RU);return RU+=1,new Hg(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Is.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(xe.Buffer);if(e.length===fh)return e;const r=xe.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){const i=xe.Buffer.concat([e.toBuffer(),xe.Buffer.from(r),n.toBuffer()]),s=Vo(i);return new Hg(s)}static createProgramAddressSync(e,r){let n=xe.Buffer.alloc(0);e.forEach(function(s){if(s.length>l2e)throw new TypeError("Max seed length exceeded");n=xe.Buffer.concat([n,is(s)])}),n=xe.Buffer.concat([n,r.toBuffer(),xe.Buffer.from("ProgramDerivedAddress")]);const i=Vo(n);if(IU(i))throw new Error("Invalid seeds, address must fall off the curve");return new Hg(i)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,i;for(;n!=0;){try{const s=e.concat(xe.Buffer.from([n]));i=this.createProgramAddressSync(s,r)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){const r=new Hg(e);return IU(r.toBytes())}};CZ=dt;dt.default=new CZ("11111111111111111111111111111111");x2.set(dt,{kind:"struct",fields:[["_bn","u256"]]});new dt("BPFLoader1111111111111111111111111111111111");const sy=1232,JN=127,Bx=64;let PZ=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(PZ.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});let NZ=class extends Error{constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(NZ.prototype,"name",{value:"TransactionExpiredTimeoutError"});let Bv=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Bv.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});let Ox=class{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((s,o)=>{n.set(s.toBase58(),o)});const i=s=>{const o=n.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}};const Tr=(t="publicKey")=>at(32,t),d2e=(t="signature")=>at(64,t),Rm=(t="string")=>{const e=pe([ge("length"),ge("lengthPadding"),at(zr(ge(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(s,o)=>r(s,o).chars.toString(),i.encode=(s,o,a)=>{const u={chars:xe.Buffer.from(s,"utf8")};return n(u,o,a)},i.alloc=s=>ge().span+ge().span+xe.Buffer.from(s,"utf8").length,i},h2e=(t="authorized")=>pe([Tr("staker"),Tr("withdrawer")],t),p2e=(t="lockup")=>pe([Lt("unixTimestamp"),Lt("epoch"),Tr("custodian")],t),g2e=(t="voteInit")=>pe([Tr("nodePubkey"),Tr("authorizedVoter"),Tr("authorizedWithdrawer"),Ge("commission")],t),m2e=(t="voteAuthorizeWithSeedArgs")=>pe([ge("voteAuthorizationType"),Tr("currentAuthorityDerivedKeyOwnerPubkey"),Rm("currentAuthorityDerivedKeySeed"),Tr("newAuthorized")],t);function BZ(t,e){const r=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const s=e[i.property];if(Array.isArray(s))return s.length*r(i.elementLayout)}else if("fields"in i)return BZ({layout:i},e[i.property]);return 0};let n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}function aa(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,!(n&128))break}return e}function ua(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}function Fn(t,e){if(!t)throw new Error(e||"Assertion failed")}let OZ=class LZ{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){const n=new Map,i=o=>{const a=o.toBase58();let u=n.get(a);return u===void 0&&(u={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(a,u)),u},s=i(r);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const u=i(a.pubkey);u.isSigner||(u.isSigner=a.isSigner),u.isWritable||(u.isWritable=a.isWritable)}}return new LZ(r,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Fn(e.length<=256,"Max static account keys length exceeded");const r=e.filter(([,u])=>u.isSigner&&u.isWritable),n=e.filter(([,u])=>u.isSigner&&!u.isWritable),i=e.filter(([,u])=>!u.isSigner&&u.isWritable),s=e.filter(([,u])=>!u.isSigner&&!u.isWritable),o={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{Fn(r.length>0,"Expected at least one writable signer key");const[u]=r[0];Fn(u===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...r.map(([u])=>new dt(u)),...n.map(([u])=>new dt(u)),...i.map(([u])=>new dt(u)),...s.map(([u])=>new dt(u))];return[o,a]}extractTableLookup(e){const[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(e,r){const n=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(r(o)){const a=new dt(s),u=e.findIndex(f=>f.equals(a));u>=0&&(Fn(u<256,"Max lookup table index exceeded"),n.push(u),i.push(a),this.keyMetaMap.delete(s))}return[n,i]}};const DZ="Reached end of buffer unexpectedly";function Af(t){if(t.length===0)throw new Error(DZ);return t.shift()}function ca(t,...e){const[r]=e;if(e.length===2?r+(e[1]??0)>t.length:r>=t.length)throw new Error(DZ);return t.splice(...e)}let y0=class Q8{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new dt(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Is.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Ox(this.staticAccountKeys)}static compile(e){const r=OZ.compile(e.instructions,e.payerKey),[n,i]=r.getMessageComponents(),o=new Ox(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Is.encode(a.data)}));return new Q8({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const n=e-r,s=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<s}else{const n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){const e=this.accountKeys.length;let r=[];ua(r,e);const n=this.instructions.map(g=>{const{accounts:y,programIdIndex:b}=g,A=Array.from(Is.decode(g.data));let x=[];ua(x,y.length);let k=[];return ua(k,A.length),{programIdIndex:b,keyIndicesCount:xe.Buffer.from(x),keyIndices:y,dataLength:xe.Buffer.from(k),data:A}});let i=[];ua(i,n.length);let s=xe.Buffer.alloc(sy);xe.Buffer.from(i).copy(s);let o=i.length;n.forEach(g=>{const b=pe([Ge("programIdIndex"),at(g.keyIndicesCount.length,"keyIndicesCount"),Mt(Ge("keyIndex"),g.keyIndices.length,"keyIndices"),at(g.dataLength.length,"dataLength"),Mt(Ge("userdatum"),g.data.length,"data")]).encode(g,s,o);o+=b}),s=s.slice(0,o);const a=pe([at(1,"numRequiredSignatures"),at(1,"numReadonlySignedAccounts"),at(1,"numReadonlyUnsignedAccounts"),at(r.length,"keyCount"),Mt(Tr("key"),e,"keys"),Tr("recentBlockhash")]),u={numRequiredSignatures:xe.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:xe.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:xe.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:xe.Buffer.from(r),keys:this.accountKeys.map(g=>is(g.toBytes())),recentBlockhash:Is.decode(this.recentBlockhash)};let f=xe.Buffer.alloc(2048);const d=a.encode(u,f);return s.copy(f,d),f.slice(0,d+s.length)}static from(e){let r=[...e];const n=Af(r);if(n!==(n&JN))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=Af(r),s=Af(r),o=aa(r);let a=[];for(let y=0;y<o;y++){const b=ca(r,0,fh);a.push(new dt(xe.Buffer.from(b)))}const u=ca(r,0,fh),f=aa(r);let d=[];for(let y=0;y<f;y++){const b=Af(r),A=aa(r),x=ca(r,0,A),k=aa(r),I=ca(r,0,k),R=Is.encode(xe.Buffer.from(I));d.push({programIdIndex:b,accounts:x,data:R})}const g={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:Is.encode(xe.Buffer.from(u)),accountKeys:a,instructions:d};return new Q8(g)}},QN=class eC{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Ox(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){const i=e-n,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-r,o=n-r-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=r-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const r={writable:[],readonly:[]};for(const n of this.addressTableLookups){const i=e.find(s=>s.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const s of n.writableIndexes)if(s<i.state.addresses.length)r.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`);for(const s of n.readonlyIndexes)if(s<i.state.addresses.length)r.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){const r=OZ.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const d of s){const g=r.extractTableLookup(d);if(g!==void 0){const[y,{writable:b,readonly:A}]=g;n.push(y),i.writable.push(...b),i.readonly.push(...A)}}const[o,a]=r.getMessageComponents(),f=new Ox(a,i).compileInstructions(e.instructions);return new eC({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:f,addressTableLookups:n})}serialize(){const e=Array();ua(e,this.staticAccountKeys.length);const r=this.serializeInstructions(),n=Array();ua(n,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();ua(s,this.addressTableLookups.length);const o=pe([Ge("prefix"),pe([Ge("numRequiredSignatures"),Ge("numReadonlySignedAccounts"),Ge("numReadonlyUnsignedAccounts")],"header"),at(e.length,"staticAccountKeysLength"),Mt(Tr(),this.staticAccountKeys.length,"staticAccountKeys"),Tr("recentBlockhash"),at(n.length,"instructionsLength"),at(r.length,"serializedInstructions"),at(s.length,"addressTableLookupsLength"),at(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(sy),f=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(d=>d.toBytes()),recentBlockhash:Is.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,f)}serializeInstructions(){let e=0;const r=new Uint8Array(sy);for(const n of this.compiledInstructions){const i=Array();ua(i,n.accountKeyIndexes.length);const s=Array();ua(s,n.data.length);const o=pe([Ge("programIdIndex"),at(i.length,"encodedAccountKeyIndexesLength"),Mt(Ge(),n.accountKeyIndexes.length,"accountKeyIndexes"),at(s.length,"encodedDataLength"),at(n.data.length,"data")]);e+=o.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0;const r=new Uint8Array(sy);for(const n of this.addressTableLookups){const i=Array();ua(i,n.writableIndexes.length);const s=Array();ua(s,n.readonlyIndexes.length);const o=pe([Tr("accountKey"),at(i.length,"encodedWritableIndexesLength"),Mt(Ge(),n.writableIndexes.length,"writableIndexes"),at(s.length,"encodedReadonlyIndexesLength"),Mt(Ge(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e];const n=Af(r),i=n&JN;Fn(n!==i,"Expected versioned message but received legacy message");const s=i;Fn(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:Af(r),numReadonlySignedAccounts:Af(r),numReadonlyUnsignedAccounts:Af(r)},a=[],u=aa(r);for(let A=0;A<u;A++)a.push(new dt(ca(r,0,fh)));const f=Is.encode(ca(r,0,fh)),d=aa(r),g=[];for(let A=0;A<d;A++){const x=Af(r),k=aa(r),I=ca(r,0,k),R=aa(r),M=new Uint8Array(ca(r,0,R));g.push({programIdIndex:x,accountKeyIndexes:I,data:M})}const y=aa(r),b=[];for(let A=0;A<y;A++){const x=new dt(ca(r,0,fh)),k=aa(r),I=ca(r,0,k),R=aa(r),M=ca(r,0,R);b.push({accountKey:x,writableIndexes:I,readonlyIndexes:M})}return new eC({header:o,staticAccountKeys:a,recentBlockhash:f,compiledInstructions:g,addressTableLookups:b})}};const FZ={deserializeMessageVersion(t){const e=t[0],r=e&JN;return r===e?"legacy":r},deserialize:t=>{const e=FZ.deserializeMessageVersion(t);if(e==="legacy")return y0.from(t);if(e===0)return QN.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let vd=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const y2e=xe.Buffer.alloc(Bx).fill(0);let Xs=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=xe.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},qg=class tC{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{const{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new Xs(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let x=0;x<r.length;x++)if(r[x].programId===void 0)throw new Error(`Transaction instruction index ${x} has undefined program id`);const i=[],s=[];r.forEach(x=>{x.keys.forEach(I=>{s.push({...I})});const k=x.programId.toString();i.includes(k)||i.push(k)}),i.forEach(x=>{s.push({pubkey:new dt(x),isSigner:!1,isWritable:!1})});const o=[];s.forEach(x=>{const k=x.pubkey.toString(),I=o.findIndex(R=>R.pubkey.toString()===k);I>-1?(o[I].isWritable=o[I].isWritable||x.isWritable,o[I].isSigner=o[I].isSigner||x.isSigner):o.push(x)}),o.sort(function(x,k){if(x.isSigner!==k.isSigner)return x.isSigner?-1:1;if(x.isWritable!==k.isWritable)return x.isWritable?-1:1;const I={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return x.pubkey.toBase58().localeCompare(k.pubkey.toBase58(),"en",I)});const a=o.findIndex(x=>x.pubkey.equals(n));if(a>-1){const[x]=o.splice(a,1);x.isSigner=!0,x.isWritable=!0,o.unshift(x)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const x of this.signatures){const k=o.findIndex(I=>I.pubkey.equals(x.publicKey));if(k>-1)o[k].isSigner||(o[k].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${x.publicKey.toString()}`)}let u=0,f=0,d=0;const g=[],y=[];o.forEach(({pubkey:x,isSigner:k,isWritable:I})=>{k?(g.push(x.toString()),u+=1,I||(f+=1)):(y.push(x.toString()),I||(d+=1))});const b=g.concat(y),A=r.map(x=>{const{data:k,programId:I}=x;return{programIdIndex:b.indexOf(I.toString()),accounts:x.keys.map(R=>b.indexOf(R.pubkey.toString())),data:Is.encode(k)}});return A.forEach(x=>{Fn(x.programIdIndex>=0),x.accounts.forEach(k=>Fn(k>=0))}),new y0({header:{numRequiredSignatures:u,numReadonlySignedAccounts:f,numReadonlyUnsignedAccounts:d},accountKeys:b,recentBlockhash:e,instructions:A})}_compile(){const e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,s)=>r[s].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const r=new Set;this.signatures=e.filter(n=>{const i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const s of e){const o=s.publicKey.toString();r.has(o)||(r.add(o),n.push(s))}this.signatures=n.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const s of e){const o=s.publicKey.toString();r.has(o)||(r.add(o),n.push(s))}const i=this._compile();this._partialSign(i,...n)}_partialSign(e,...r){const n=e.serialize();r.forEach(i=>{const s=MZ(n,i.secretKey);this._addSignature(i.publicKey,is(s))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){Fn(r.length===64);const n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=xe.Buffer.from(r)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,r){const n={};for(const{signature:i,publicKey:s}of this.signatures)i===null?r&&(n.missing||(n.missing=[])).push(s):u2e(i,e,s.toBytes())||(n.invalid||(n.invalid=[])).push(s);return n.invalid||n.missing?n:void 0}serialize(e){const{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n){const s=this._getMessageSignednessErrors(i,r);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(e){const{signatures:r}=this,n=[];ua(n,r.length);const i=n.length+r.length*64+e.length,s=xe.Buffer.alloc(i);return Fn(r.length<256),xe.Buffer.from(n).copy(s,0),r.forEach(({signature:o},a)=>{o!==null&&(Fn(o.length===64,"signature has invalid length"),xe.Buffer.from(o).copy(s,n.length+a*64))}),e.copy(s,n.length+r.length*64),Fn(s.length<=sy,`Transaction too large: ${s.length} > ${sy}`),s}get keys(){return Fn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Fn(this.instructions.length===1),this.instructions[0].programId}get data(){return Fn(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e];const n=aa(r);let i=[];for(let s=0;s<n;s++){const o=ca(r,0,Bx);i.push(Is.encode(xe.Buffer.from(o)))}return tC.populate(y0.from(r),i)}static populate(e,r=[]){const n=new tC;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((i,s)=>{const o={signature:i==Is.encode(y2e)?null:Is.decode(i),publicKey:e.accountKeys[s]};n.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:n.signatures.some(u=>u.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});n.instructions.push(new Xs({keys:s,programId:e.accountKeys[i.programIdIndex],data:Is.decode(i.data)}))}),n._message=e,n._json=n.toJSON(),n}},$Z=class UZ{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){const{header:n,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:u}=n,f=o-a;Fn(f>0,"Message header is invalid");const d=e.staticAccountKeys.length-o-u;Fn(d>=0,"Message header is invalid");const g=e.getAccountKeys(r),y=g.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const b=[];for(const A of i){const x=[];for(const I of A.accountKeyIndexes){const R=g.get(I);if(R===void 0)throw new Error(`Failed to find key for account key index ${I}`);const M=I<o;let P;M?P=I<f:I<g.staticAccountKeys.length?P=I-o<d:P=I-g.staticAccountKeys.length<g.accountKeysFromLookups.writable.length,x.push({pubkey:R,isSigner:I<n.numRequiredSignatures,isWritable:P})}const k=g.get(A.programIdIndex);if(k===void 0)throw new Error(`Failed to find program id for program id index ${A.programIdIndex}`);b.push(new Xs({programId:k,data:is(A.data),keys:x}))}return new UZ({payerKey:y,instructions:b,recentBlockhash:s})}compileToLegacyMessage(){return y0.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return QN.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}},zZ=class WZ{get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)Fn(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{const n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(Bx));this.signatures=n}this.message=e}serialize(){const e=this.message.serialize(),r=Array();ua(r,this.signatures.length);const n=pe([at(r.length,"encodedSignaturesLength"),Mt(d2e(),this.signatures.length,"signatures"),at(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let r=[...e];const n=[],i=aa(r);for(let o=0;o<i;o++)n.push(new Uint8Array(ca(r,0,Bx)));const s=FZ.deserialize(new Uint8Array(r));return new WZ(s,n)}sign(e){const r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=n.findIndex(o=>o.equals(i.publicKey));Fn(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=MZ(r,i.secretKey)}}addSignature(e,r){Fn(r.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));Fn(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}};const b2e=160,v2e=64,w2e=b2e/v2e,S2e=1e3/w2e;new dt("SysvarC1ock11111111111111111111111111111111");new dt("SysvarEpochSchedu1e111111111111111111111111");new dt("Sysvar1nstructions1111111111111111111111111");const b4=new dt("SysvarRecentB1ockHashes11111111111111111111"),MU=new dt("SysvarRent111111111111111111111111111111111");new dt("SysvarRewards111111111111111111111111111111");new dt("SysvarS1otHashes111111111111111111111111111");new dt("SysvarS1otHistory11111111111111111111111111");new dt("SysvarStakeHistory1111111111111111111111111");let CU=class extends Error{constructor({action:e,signature:r,transactionMessage:n,logs:i}){const s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${r} resulted in an error. 
${n}. `+s+o;break;case"simulate":a=`Simulation failed. 
Message: ${n}. 
`+s+o;break;default:a=`Unknown action '${(u=>u)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=r,this.transactionMessage=n,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((r,n)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const s=i.meta.logMessages;this.transactionLogs=s,r(s)}else n(new Error("Log messages not found"))}).catch(n)})),await this.transactionLogs}},Ft=class extends Error{constructor({code:e,message:r,data:n},i){super(i!=null?`${i}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}};function Vg(t){return new Promise(e=>setTimeout(e,t))}function Gs(t,e){const r=t.layout.span>=0?t.layout.span:BZ(t,e),n=xe.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}const _2e=bt("lamportsPerSignature"),jZ=pe([ge("version"),ge("state"),Tr("authorizedPubkey"),Tr("nonce"),pe([_2e],"feeCalculator")]),PU=jZ.span;let A2e=class KZ{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const r=jZ.decode(is(e),0);return new KZ({authorizedPubkey:new dt(r.authorizedPubkey),nonce:new dt(r.nonce).toString(),feeCalculator:r.feeCalculator})}};const x2e=t=>{const e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},E2e=t=>e=>{const r=at(t,e),{encode:n,decode:i}=x2e(r),s=r;return s.decode=(o,a)=>{const u=i(o,a);return f1(xe.Buffer.from(u))},s.encode=(o,a,u)=>{const f=Uh(o,t);return n(f,a,u)},s},pb=E2e(8),Oa=Object.freeze({Create:{index:0,layout:pe([ge("instruction"),Lt("lamports"),Lt("space"),Tr("programId")])},Assign:{index:1,layout:pe([ge("instruction"),Tr("programId")])},Transfer:{index:2,layout:pe([ge("instruction"),pb("lamports")])},CreateWithSeed:{index:3,layout:pe([ge("instruction"),Tr("base"),Rm("seed"),Lt("lamports"),Lt("space"),Tr("programId")])},AdvanceNonceAccount:{index:4,layout:pe([ge("instruction")])},WithdrawNonceAccount:{index:5,layout:pe([ge("instruction"),Lt("lamports")])},InitializeNonceAccount:{index:6,layout:pe([ge("instruction"),Tr("authorized")])},AuthorizeNonceAccount:{index:7,layout:pe([ge("instruction"),Tr("authorized")])},Allocate:{index:8,layout:pe([ge("instruction"),Lt("space")])},AllocateWithSeed:{index:9,layout:pe([ge("instruction"),Tr("base"),Rm("seed"),Lt("space"),Tr("programId")])},AssignWithSeed:{index:10,layout:pe([ge("instruction"),Tr("base"),Rm("seed"),Tr("programId")])},TransferWithSeed:{index:11,layout:pe([ge("instruction"),pb("lamports"),Rm("seed"),Tr("programId")])},UpgradeNonceAccount:{index:12,layout:pe([ge("instruction")])}});let HZ=class rC{constructor(){}static createAccount(e){const r=Oa.Create,n=Gs(r,{lamports:e.lamports,space:e.space,programId:is(e.programId.toBuffer())});return new Xs({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){const i=Oa.TransferWithSeed;r=Gs(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:is(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=Oa.Transfer;r=Gs(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Xs({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){const i=Oa.AssignWithSeed;r=Gs(i,{base:is(e.basePubkey.toBuffer()),seed:e.seed,programId:is(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Oa.Assign;r=Gs(i,{programId:is(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Xs({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){const r=Oa.CreateWithSeed,n=Gs(r,{base:is(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:is(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Xs({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){const r=new qg;"basePubkey"in e&&"seed"in e?r.add(rC.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:PU,programId:this.programId})):r.add(rC.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:PU,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){const r=Oa.InitializeNonceAccount,n=Gs(r,{authorized:is(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:b4,isSigner:!1,isWritable:!1},{pubkey:MU,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new Xs(i)}static nonceAdvance(e){const r=Oa.AdvanceNonceAccount,n=Gs(r),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:b4,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new Xs(i)}static nonceWithdraw(e){const r=Oa.WithdrawNonceAccount,n=Gs(r,{lamports:e.lamports});return new Xs({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:b4,isSigner:!1,isWritable:!1},{pubkey:MU,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){const r=Oa.AuthorizeNonceAccount,n=Gs(r,{authorized:is(e.newAuthorizedPubkey.toBuffer())});return new Xs({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){const i=Oa.AllocateWithSeed;r=Gs(i,{base:is(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:is(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Oa.Allocate;r=Gs(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Xs({keys:n,programId:this.programId,data:r})}};HZ.programId=new dt("11111111111111111111111111111111");new dt("BPFLoader2111111111111111111111111111111111");function k2e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var T2e=Object.prototype.toString,I2e=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};function Ov(t,e){var r,n,i,s,o,a,u;if(t===!0)return"true";if(t===!1)return"false";switch(typeof t){case"object":if(t===null)return null;if(t.toJSON&&typeof t.toJSON=="function")return Ov(t.toJSON(),e);if(u=T2e.call(t),u==="[object Array]"){for(i="[",n=t.length-1,r=0;r<n;r++)i+=Ov(t[r],!0)+",";return n>-1&&(i+=Ov(t[r],!0)),i+"]"}else if(u==="[object Object]"){for(s=I2e(t).sort(),n=s.length,i="",r=0;r<n;)o=s[r],a=Ov(t[o],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(o)+":"+a),r++;return"{"+i+"}"}else return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}var R2e=function(t){var e=Ov(t,!1);if(e!==void 0)return""+e},NU=k2e(R2e);const tv=32;function v4(t){let e=0;for(;t>1;)t/=2,e++;return e}function M2e(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}let C2e=class{constructor(e,r,n,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const r=v4(M2e(e+tv+1))-v4(tv)-1,n=this.getSlotsInEpoch(r),i=e-(n-tv);return[r,i]}else{const r=e-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),i=this.firstNormalEpoch+n,s=r%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*tv:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+v4(tv)):this.slotsPerEpoch}};var P2e=globalThis.fetch;let N2e=class extends XN{constructor(e,r,n){const i=s=>{const o=ZN(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,e,r,n),this.underlyingSocket=void 0}call(...e){var n;const r=(n=this.underlyingSocket)==null?void 0:n.readyState;return r===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){var n;const r=(n=this.underlyingSocket)==null?void 0:n.readyState;return r===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}};function B2e(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}const BU=56;let OU=class{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const r=B2e(O2e,e),n=e.length-BU;Fn(n>=0,"lookup table is invalid"),Fn(n%32===0,"lookup table is invalid");const i=n/32,{addresses:s}=pe([Mt(Tr(),i,"addresses")]).decode(e.slice(BU));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new dt(r.authority[0]):void 0,addresses:s.map(o=>new dt(o))}}};const O2e={index:1,layout:pe([ge("typeIndex"),pb("deactivationSlot"),bt("lastExtendedSlot"),Ge("lastExtendedStartIndex"),Ge(),Mt(Tr(),zr(Ge(),-1),"authority")])},L2e=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function D2e(t){const e=t.match(L2e);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[r,n,i,s]=e,o=t.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),u=a==null?"":`:${a+1}`;return`${o}//${n}${u}${s}`}const ui=zi(uu(dt),he(),t=>new dt(t)),qZ=cu([he(),ht("base64")]),eB=zi(uu(xe.Buffer),qZ,t=>xe.Buffer.from(t[0],"base64")),F2e=30*1e3;function $2e(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function Nn(t){let e,r;if(typeof t=="string")e=t;else if(t){const{commitment:n,...i}=t;e=n,r=i}return{commitment:e,config:r}}function LU(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function VZ(t){return Dt([ce({jsonrpc:ht("2.0"),id:he(),result:t}),ce({jsonrpc:ht("2.0"),id:he(),error:ce({code:ri(),message:he(),data:Ie(Nk())})})])}const U2e=VZ(ri());function br(t){return zi(VZ(t),U2e,e=>"error"in e?e:{...e,result:Oe(e.result,t)})}function pi(t){return br(ce({context:ce({slot:Y()}),value:t}))}function Fk(t){return ce({context:ce({slot:Y()}),value:t})}function w4(t,e){return t===0?new QN({header:e.header,staticAccountKeys:e.accountKeys.map(r=>new dt(r)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:Is.decode(r.data)})),addressTableLookups:e.addressTableLookups}):new y0(e)}const z2e=ce({foundation:Y(),foundationTerm:Y(),initial:Y(),taper:Y(),terminal:Y()}),W2e=br(me(ye(ce({epoch:Y(),effectiveSlot:Y(),amount:Y(),postBalance:Y(),commission:Ie(ye(Y()))})))),j2e=me(ce({slot:Y(),prioritizationFee:Y()})),K2e=ce({total:Y(),validator:Y(),foundation:Y(),epoch:Y()}),H2e=ce({epoch:Y(),slotIndex:Y(),slotsInEpoch:Y(),absoluteSlot:Y(),blockHeight:Ie(Y()),transactionCount:Ie(Y())}),q2e=ce({slotsPerEpoch:Y(),leaderScheduleSlotOffset:Y(),warmup:xr(),firstNormalEpoch:Y(),firstNormalSlot:Y()}),V2e=zh(he(),me(Y())),Q0=ye(Dt([ce({}),he()])),G2e=ce({err:Q0}),Y2e=ht("receivedSignature"),Z2e=ce({"solana-core":he(),"feature-set":Ie(Y())}),X2e=ce({program:he(),programId:ui,parsed:ri()}),J2e=ce({programId:ui,accounts:me(ui),data:he()}),DU=pi(ce({err:ye(Dt([ce({}),he()])),logs:ye(me(he())),accounts:Ie(ye(me(ye(ce({executable:xr(),owner:he(),lamports:Y(),data:me(he()),rentEpoch:Ie(Y())}))))),unitsConsumed:Ie(Y()),returnData:Ie(ye(ce({programId:he(),data:cu([he(),ht("base64")])}))),innerInstructions:Ie(ye(me(ce({index:Y(),instructions:me(Dt([X2e,J2e]))}))))})),Q2e=pi(ce({byIdentity:zh(he(),me(Y())),range:ce({firstSlot:Y(),lastSlot:Y()})}));function exe(t,e,r,n,i,s){const o=r||P2e;let a;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let u;return n&&(u=async(d,g)=>{const y=await new Promise((b,A)=>{try{n(d,g,(x,k)=>b([x,k]))}catch(x){A(x)}});return await o(...y)}),new YN(async(d,g)=>{const y={method:"POST",body:d,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},tEe)};try{let b=5,A,x=500;for(;u?A=await u(t,y):A=await o(t,y),!(A.status!==429||i===!0||(b-=1,b===0));)console.error(`Server responded with ${A.status} ${A.statusText}.  Retrying after ${x}ms delay...`),await Vg(x),x*=2;const k=await A.text();A.ok?g(null,k):g(new Error(`${A.status} ${A.statusText}: ${k}`))}catch(b){b instanceof Error&&g(b)}},{})}function txe(t){return(e,r)=>new Promise((n,i)=>{t.request(e,r,(s,o)=>{if(s){i(s);return}n(o)})})}function rxe(t){return e=>new Promise((r,n)=>{e.length===0&&r([]);const i=e.map(s=>t.request(s.methodName,s.args));t.request(i,(s,o)=>{if(s){n(s);return}r(o)})})}const nxe=br(z2e),ixe=br(K2e),sxe=br(j2e),oxe=br(H2e),axe=br(q2e),uxe=br(V2e),cxe=br(Y()),lxe=pi(ce({total:Y(),circulating:Y(),nonCirculating:Y(),nonCirculatingAccounts:me(ui)})),nC=ce({amount:he(),uiAmount:ye(Y()),decimals:Y(),uiAmountString:Ie(he())}),fxe=pi(me(ce({address:ui,amount:he(),uiAmount:ye(Y()),decimals:Y(),uiAmountString:Ie(he())}))),dxe=pi(me(ce({pubkey:ui,account:ce({executable:xr(),owner:ui,lamports:Y(),data:eB,rentEpoch:Y()})}))),iC=ce({program:he(),parsed:ri(),space:Y()}),hxe=pi(me(ce({pubkey:ui,account:ce({executable:xr(),owner:ui,lamports:Y(),data:iC,rentEpoch:Y()})}))),pxe=pi(me(ce({lamports:Y(),address:ui}))),Ow=ce({executable:xr(),owner:ui,lamports:Y(),data:eB,rentEpoch:Y()}),gxe=ce({pubkey:ui,account:Ow}),mxe=zi(Dt([uu(xe.Buffer),iC]),Dt([qZ,iC]),t=>Array.isArray(t)?Oe(t,eB):t),sC=ce({executable:xr(),owner:ui,lamports:Y(),data:mxe,rentEpoch:Y()}),yxe=ce({pubkey:ui,account:sC}),bxe=ce({state:Dt([ht("active"),ht("inactive"),ht("activating"),ht("deactivating")]),active:Y(),inactive:Y()}),vxe=br(me(ce({signature:he(),slot:Y(),err:Q0,memo:ye(he()),blockTime:Ie(ye(Y()))}))),wxe=br(me(ce({signature:he(),slot:Y(),err:Q0,memo:ye(he()),blockTime:Ie(ye(Y()))}))),Sxe=ce({subscription:Y(),result:Fk(Ow)}),_xe=ce({pubkey:ui,account:Ow}),Axe=ce({subscription:Y(),result:Fk(_xe)}),xxe=ce({parent:Y(),slot:Y(),root:Y()}),Exe=ce({subscription:Y(),result:xxe}),kxe=Dt([ce({type:Dt([ht("firstShredReceived"),ht("completed"),ht("optimisticConfirmation"),ht("root")]),slot:Y(),timestamp:Y()}),ce({type:ht("createdBank"),parent:Y(),slot:Y(),timestamp:Y()}),ce({type:ht("frozen"),slot:Y(),timestamp:Y(),stats:ce({numTransactionEntries:Y(),numSuccessfulTransactions:Y(),numFailedTransactions:Y(),maxTransactionsPerEntry:Y()})}),ce({type:ht("dead"),slot:Y(),timestamp:Y(),err:he()})]),Txe=ce({subscription:Y(),result:kxe}),Ixe=ce({subscription:Y(),result:Fk(Dt([G2e,Y2e]))}),Rxe=ce({subscription:Y(),result:Y()}),Mxe=ce({pubkey:he(),gossip:ye(he()),tpu:ye(he()),rpc:ye(he()),version:ye(he())}),FU=ce({votePubkey:he(),nodePubkey:he(),activatedStake:Y(),epochVoteAccount:xr(),epochCredits:me(cu([Y(),Y(),Y()])),commission:Y(),lastVote:Y(),rootSlot:ye(Y())}),Cxe=br(ce({current:me(FU),delinquent:me(FU)})),Pxe=Dt([ht("processed"),ht("confirmed"),ht("finalized")]),Nxe=ce({slot:Y(),confirmations:ye(Y()),err:Q0,confirmationStatus:Ie(Pxe)}),Bxe=pi(me(ye(Nxe))),Oxe=br(Y()),GZ=ce({accountKey:ui,writableIndexes:me(Y()),readonlyIndexes:me(Y())}),tB=ce({signatures:me(he()),message:ce({accountKeys:me(he()),header:ce({numRequiredSignatures:Y(),numReadonlySignedAccounts:Y(),numReadonlyUnsignedAccounts:Y()}),instructions:me(ce({accounts:me(Y()),data:he(),programIdIndex:Y()})),recentBlockhash:he(),addressTableLookups:Ie(me(GZ))})}),YZ=ce({pubkey:ui,signer:xr(),writable:xr(),source:Ie(Dt([ht("transaction"),ht("lookupTable")]))}),ZZ=ce({accountKeys:me(YZ),signatures:me(he())}),XZ=ce({parsed:ri(),program:he(),programId:ui}),JZ=ce({accounts:me(ui),data:he(),programId:ui}),Lxe=Dt([JZ,XZ]),Dxe=Dt([ce({parsed:ri(),program:he(),programId:he()}),ce({accounts:me(he()),data:he(),programId:he()})]),QZ=zi(Lxe,Dxe,t=>"accounts"in t?Oe(t,JZ):Oe(t,XZ)),eX=ce({signatures:me(he()),message:ce({accountKeys:me(YZ),instructions:me(QZ),recentBlockhash:he(),addressTableLookups:Ie(ye(me(GZ)))})}),Lx=ce({accountIndex:Y(),mint:he(),owner:Ie(he()),uiTokenAmount:nC}),tX=ce({writable:me(ui),readonly:me(ui)}),$k=ce({err:Q0,fee:Y(),innerInstructions:Ie(ye(me(ce({index:Y(),instructions:me(ce({accounts:me(Y()),data:he(),programIdIndex:Y()}))})))),preBalances:me(Y()),postBalances:me(Y()),logMessages:Ie(ye(me(he()))),preTokenBalances:Ie(ye(me(Lx))),postTokenBalances:Ie(ye(me(Lx))),loadedAddresses:Ie(tX),computeUnitsConsumed:Ie(Y())}),rB=ce({err:Q0,fee:Y(),innerInstructions:Ie(ye(me(ce({index:Y(),instructions:me(QZ)})))),preBalances:me(Y()),postBalances:me(Y()),logMessages:Ie(ye(me(he()))),preTokenBalances:Ie(ye(me(Lx))),postTokenBalances:Ie(ye(me(Lx))),loadedAddresses:Ie(tX),computeUnitsConsumed:Ie(Y())}),d1=Dt([ht(0),ht("legacy")]),eg=ce({pubkey:he(),lamports:Y(),postBalance:ye(Y()),rewardType:ye(he()),commission:Ie(ye(Y()))}),Fxe=br(ye(ce({blockhash:he(),previousBlockhash:he(),parentSlot:Y(),transactions:me(ce({transaction:tB,meta:ye($k),version:Ie(d1)})),rewards:Ie(me(eg)),blockTime:ye(Y()),blockHeight:ye(Y())}))),$xe=br(ye(ce({blockhash:he(),previousBlockhash:he(),parentSlot:Y(),rewards:Ie(me(eg)),blockTime:ye(Y()),blockHeight:ye(Y())}))),Uxe=br(ye(ce({blockhash:he(),previousBlockhash:he(),parentSlot:Y(),transactions:me(ce({transaction:ZZ,meta:ye($k),version:Ie(d1)})),rewards:Ie(me(eg)),blockTime:ye(Y()),blockHeight:ye(Y())}))),zxe=br(ye(ce({blockhash:he(),previousBlockhash:he(),parentSlot:Y(),transactions:me(ce({transaction:eX,meta:ye(rB),version:Ie(d1)})),rewards:Ie(me(eg)),blockTime:ye(Y()),blockHeight:ye(Y())}))),Wxe=br(ye(ce({blockhash:he(),previousBlockhash:he(),parentSlot:Y(),transactions:me(ce({transaction:ZZ,meta:ye(rB),version:Ie(d1)})),rewards:Ie(me(eg)),blockTime:ye(Y()),blockHeight:ye(Y())}))),jxe=br(ye(ce({blockhash:he(),previousBlockhash:he(),parentSlot:Y(),rewards:Ie(me(eg)),blockTime:ye(Y()),blockHeight:ye(Y())}))),Kxe=br(ye(ce({blockhash:he(),previousBlockhash:he(),parentSlot:Y(),transactions:me(ce({transaction:tB,meta:ye($k)})),rewards:Ie(me(eg)),blockTime:ye(Y())}))),$U=br(ye(ce({blockhash:he(),previousBlockhash:he(),parentSlot:Y(),signatures:me(he()),blockTime:ye(Y())}))),S4=br(ye(ce({slot:Y(),meta:ye($k),blockTime:Ie(ye(Y())),transaction:tB,version:Ie(d1)}))),yA=br(ye(ce({slot:Y(),transaction:eX,meta:ye(rB),blockTime:Ie(ye(Y())),version:Ie(d1)}))),Hxe=pi(ce({blockhash:he(),feeCalculator:ce({lamportsPerSignature:Y()})})),qxe=pi(ce({blockhash:he(),lastValidBlockHeight:Y()})),Vxe=pi(xr()),Gxe=ce({slot:Y(),numTransactions:Y(),numSlots:Y(),samplePeriodSecs:Y()}),Yxe=br(me(Gxe)),Zxe=pi(ye(ce({feeCalculator:ce({lamportsPerSignature:Y()})}))),Xxe=br(he()),Jxe=br(he()),Qxe=ce({err:Q0,logs:me(he()),signature:he()}),eEe=ce({result:Fk(Qxe),subscription:Y()}),tEe={"solana-client":"js/1.0.0-maintenance"};let Gvt=class{constructor(e,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const f={};return async d=>{const{commitment:g,config:y}=Nn(d),b=this._buildArgs([],g,void 0,y),A=NU(b);return f[A]=f[A]??(async()=>{try{const x=await this._rpcRequest("getBlockHeight",b),k=Oe(x,br(Y()));if("error"in k)throw new Ft(k.error,"failed to get block height information");return k.result}finally{delete f[A]}})(),await f[A]}})();let n,i,s,o,a,u;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,i=r.httpHeaders,s=r.fetch,o=r.fetchMiddleware,a=r.disableRetryOnRateLimit,u=r.httpAgent),this._rpcEndpoint=$2e(e),this._rpcWsEndpoint=n||D2e(e),this._rpcClient=exe(e,i,s,o,a,u),this._rpcRequest=txe(this._rpcClient),this._rpcBatchRequest=rxe(this._rpcClient),this._rpcWebSocket=new N2e(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){const{commitment:n,config:i}=Nn(r),s=this._buildArgs([e.toBase58()],n,void 0,i),o=await this._rpcRequest("getBalance",s),a=Oe(o,pi(Y()));if("error"in a)throw new Ft(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){const r=await this._rpcRequest("getBlockTime",[e]),n=Oe(r,br(ye(Y())));if("error"in n)throw new Ft(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),r=Oe(e,br(Y()));if("error"in r)throw new Ft(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),r=Oe(e,cxe);if("error"in r)throw new Ft(r.error,"failed to get first available block");return r.result}async getSupply(e){let r={};typeof e=="string"?r={commitment:e}:e?r={...e,commitment:e&&e.commitment||this.commitment}:r={commitment:this.commitment};const n=await this._rpcRequest("getSupply",[r]),i=Oe(n,lxe);if("error"in i)throw new Ft(i.error,"failed to get supply");return i.result}async getTokenSupply(e,r){const n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenSupply",n),s=Oe(i,pi(nC));if("error"in s)throw new Ft(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,r){const n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenAccountBalance",n),s=Oe(i,pi(nC));if("error"in s)throw new Ft(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,r,n){const{commitment:i,config:s}=Nn(n);let o=[e.toBase58()];"mint"in r?o.push({mint:r.mint.toBase58()}):o.push({programId:r.programId.toBase58()});const a=this._buildArgs(o,i,"base64",s),u=await this._rpcRequest("getTokenAccountsByOwner",a),f=Oe(u,dxe);if("error"in f)throw new Ft(f.error,`failed to get token accounts owned by account ${e.toBase58()}`);return f.result}async getParsedTokenAccountsByOwner(e,r,n){let i=[e.toBase58()];"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()});const s=this._buildArgs(i,n,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),a=Oe(o,hxe);if("error"in a)throw new Ft(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const r={...e,commitment:e&&e.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],i=await this._rpcRequest("getLargestAccounts",n),s=Oe(i,pxe);if("error"in s)throw new Ft(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,r){const n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenLargestAccounts",n),s=Oe(i,fxe);if("error"in s)throw new Ft(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,r){const{commitment:n,config:i}=Nn(r),s=this._buildArgs([e.toBase58()],n,"base64",i),o=await this._rpcRequest("getAccountInfo",s),a=Oe(o,pi(ye(Ow)));if("error"in a)throw new Ft(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,r){const{commitment:n,config:i}=Nn(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),a=Oe(o,pi(ye(sC)));if("error"in a)throw new Ft(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,r){const{commitment:n,config:i}=Nn(r),s=e.map(f=>f.toBase58()),o=this._buildArgs([s],n,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",o),u=Oe(a,pi(me(ye(sC))));if("error"in u)throw new Ft(u.error,`failed to get info for accounts ${s}`);return u.result}async getMultipleAccountsInfoAndContext(e,r){const{commitment:n,config:i}=Nn(r),s=e.map(f=>f.toBase58()),o=this._buildArgs([s],n,"base64",i),a=await this._rpcRequest("getMultipleAccounts",o),u=Oe(a,pi(me(ye(Ow))));if("error"in u)throw new Ft(u.error,`failed to get info for accounts ${s}`);return u.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,n){const{commitment:i,config:s}=Nn(r),o=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:n??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getStakeActivation",o),u=Oe(a,br(bxe));if("error"in u)throw new Ft(u.error,`failed to get Stake Activation ${e.toBase58()}`);return u.result}async getProgramAccounts(e,r){const{commitment:n,config:i}=Nn(r),{encoding:s,...o}=i||{},a=this._buildArgs([e.toBase58()],n,s||"base64",{...o,...o.filters?{filters:LU(o.filters)}:null}),u=await this._rpcRequest("getProgramAccounts",a),f=me(gxe),d=o.withContext===!0?Oe(u,pi(f)):Oe(u,br(f));if("error"in d)throw new Ft(d.error,`failed to get accounts owned by program ${e.toBase58()}`);return d.result}async getParsedProgramAccounts(e,r){const{commitment:n,config:i}=Nn(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),a=Oe(o,br(me(yxe)));if("error"in a)throw new Ft(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,r){var s;let n;if(typeof e=="string")n=e;else{const o=e;if((s=o.abortSignal)!=null&&s.aborted)return Promise.reject(o.abortSignal.reason);n=o.signature}let i;try{i=Is.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return Fn(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((r,n)=>{e!=null&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:r}){let n,i,s=!1;const o=new Promise((u,f)=>{try{n=this.onSignature(r,(g,y)=>{n=void 0;const b={context:y,value:g};u({__type:vd.PROCESSED,response:b})},e);const d=new Promise(g=>{n==null?g():i=this._onSubscriptionStateChange(n,y=>{y==="subscribed"&&g()})});(async()=>{if(await d,s)return;const g=await this.getSignatureStatus(r);if(s||g==null)return;const{context:y,value:b}=g;if(b!=null)if(b!=null&&b.err)f(b.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(b.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(b.confirmationStatus==="processed"||b.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,u({__type:vd.PROCESSED,response:{context:y,value:b}})}})()}catch(d){f(d)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:i}}){let s=!1;const o=new Promise(g=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let b=await y();if(!s){for(;b<=n;)if(await Vg(1e3),s||(b=await y(),s))return;g({__type:vd.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),f=this.getCancellationPromise(r);let d;try{const g=await Promise.race([f,u,o]);if(g.__type===vd.PROCESSED)d=g.response;else throw new PZ(i)}finally{s=!0,a()}return d}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let a=!1;const u=new Promise(b=>{let A=s,x=null;const k=async()=>{try{const{context:I,value:R}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:n});return x=I.slot,R==null?void 0:R.nonce}catch{return A}};(async()=>{if(A=await k(),!a)for(;;){if(s!==A){b({__type:vd.NONCE_INVALID,slotInWhichNonceDidAdvance:x});return}if(await Vg(2e3),a||(A=await k(),a))return}})()}),{abortConfirmation:f,confirmationPromise:d}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),g=this.getCancellationPromise(r);let y;try{const b=await Promise.race([g,d,u]);if(b.__type===vd.PROCESSED)y=b.response;else{let A;for(;;){const x=await this.getSignatureStatus(o);if(x==null)break;if(x.context.slot<(b.slotInWhichNonceDidAdvance??n)){await Vg(400);continue}A=x;break}if(A!=null&&A.value){const x=e||"finalized",{confirmationStatus:k}=A.value;switch(x){case"processed":case"recent":if(k!=="processed"&&k!=="confirmed"&&k!=="finalized")throw new Bv(o);break;case"confirmed":case"single":case"singleGossip":if(k!=="confirmed"&&k!=="finalized")throw new Bv(o);break;case"finalized":case"max":case"root":if(k!=="finalized")throw new Bv(o);break;default:}y={context:A.context,value:{err:A.value.err}}}else throw new Bv(o)}}finally{a=!0,f()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:r}){let n;const i=new Promise(u=>{let f=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{f=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>u({__type:vd.TIMED_OUT,timeoutMs:f}),f)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:r});let a;try{const u=await Promise.race([o,i]);if(u.__type===vd.PROCESSED)a=u.response;else throw new NZ(r,u.timeoutMs/1e3)}finally{clearTimeout(n),s()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),r=Oe(e,br(me(Mxe)));if("error"in r)throw new Ft(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",r),i=Oe(n,Cxe);if("error"in i)throw new Ft(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:r,config:n}=Nn(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlot",i),o=Oe(s,br(Y()));if("error"in o)throw new Ft(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:r,config:n}=Nn(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlotLeader",i),o=Oe(s,br(he()));if("error"in o)throw new Ft(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,r){const n=[e,r],i=await this._rpcRequest("getSlotLeaders",n),s=Oe(i,br(me(ui)));if("error"in s)throw new Ft(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,r){const{context:n,value:i}=await this.getSignatureStatuses([e],r);Fn(i.length===1);const s=i[0];return{context:n,value:s}}async getSignatureStatuses(e,r){const n=[e];r&&n.push(r);const i=await this._rpcRequest("getSignatureStatuses",n),s=Oe(i,Bxe);if("error"in s)throw new Ft(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:r,config:n}=Nn(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getTransactionCount",i),o=Oe(s,br(Y()));if("error"in o)throw new Ft(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",r),i=Oe(n,nxe);if("error"in i)throw new Ft(i.error,"failed to get inflation");return i.result}async getInflationReward(e,r,n){const{commitment:i,config:s}=Nn(n),o=this._buildArgs([e.map(f=>f.toBase58())],i,void 0,{...s,epoch:r??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getInflationReward",o),u=Oe(a,W2e);if("error"in u)throw new Ft(u.error,"failed to get inflation reward");return u.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),r=Oe(e,ixe);if("error"in r)throw new Ft(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(e){const{commitment:r,config:n}=Nn(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getEpochInfo",i),o=Oe(s,oxe);if("error"in o)throw new Ft(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),r=Oe(e,axe);if("error"in r)throw new Ft(r.error,"failed to get epoch schedule");const n=r.result;return new C2e(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),r=Oe(e,uxe);if("error"in r)throw new Ft(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(e,r){const n=this._buildArgs([e],r),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),s=Oe(i,Oxe);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getRecentBlockhash",r),i=Oe(n,Hxe);if("error"in i)throw new Ft(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(e){const r=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=Oe(r,Yxe);if("error"in n)throw new Ft(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,r){const n=this._buildArgs([e],r),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),s=Oe(i,Zxe);if("error"in s)throw new Ft(s.error,"failed to get fee calculator");const{context:o,value:a}=s.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,r){const n=is(e.serialize()).toString("base64"),i=this._buildArgs([n],r),s=await this._rpcRequest("getFeeForMessage",i),o=Oe(s,pi(ye(Y())));if("error"in o)throw new Ft(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const r=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),n=r!=null&&r.length?[r]:[],i=await this._rpcRequest("getRecentPrioritizationFees",n),s=Oe(i,sxe);if("error"in s)throw new Ft(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(e){const{commitment:r,config:n}=Nn(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getLatestBlockhash",i),o=Oe(s,qxe);if("error"in o)throw new Ft(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,r){const{commitment:n,config:i}=Nn(r),s=this._buildArgs([e],n,void 0,i),o=await this._rpcRequest("isBlockhashValid",s),a=Oe(o,Vxe);if("error"in a)throw new Ft(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),r=Oe(e,br(Z2e));if("error"in r)throw new Ft(r.error,"failed to get version");return r.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),r=Oe(e,br(he()));if("error"in r)throw new Ft(r.error,"failed to get genesis hash");return r.result}async getBlock(e,r){const{commitment:n,config:i}=Nn(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=Oe(o,Uxe);if("error"in a)throw a.error;return a.result}case"none":{const a=Oe(o,$xe);if("error"in a)throw a.error;return a.result}default:{const a=Oe(o,Fxe);if("error"in a)throw a.error;const{result:u}=a;return u?{...u,transactions:u.transactions.map(({transaction:f,meta:d,version:g})=>({meta:d,transaction:{...f,message:w4(g,f.message)},version:g}))}:null}}}catch(a){throw new Ft(a,"failed to get confirmed block")}}async getParsedBlock(e,r){const{commitment:n,config:i}=Nn(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=Oe(o,Wxe);if("error"in a)throw a.error;return a.result}case"none":{const a=Oe(o,jxe);if("error"in a)throw a.error;return a.result}default:{const a=Oe(o,zxe);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Ft(a,"failed to get block")}}async getBlockProduction(e){let r,n;if(typeof e=="string")n=e;else if(e){const{commitment:a,...u}=e;n=a,r=u}const i=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getBlockProduction",i),o=Oe(s,Q2e);if("error"in o)throw new Ft(o.error,"failed to get block production information");return o.result}async getTransaction(e,r){const{commitment:n,config:i}=Nn(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),o=await this._rpcRequest("getTransaction",s),a=Oe(o,S4);if("error"in a)throw new Ft(a.error,"failed to get transaction");const u=a.result;return u&&{...u,transaction:{...u.transaction,message:w4(u.version,u.transaction.message)}}}async getParsedTransaction(e,r){const{commitment:n,config:i}=Nn(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),a=Oe(o,yA);if("error"in a)throw new Ft(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,r){const{commitment:n,config:i}=Nn(r),s=e.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],n,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(u=>{const f=Oe(u,yA);if("error"in f)throw new Ft(f.error,"failed to get transactions");return f.result})}async getTransactions(e,r){const{commitment:n,config:i}=Nn(r),s=e.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],n,void 0,i)}));return(await this._rpcBatchRequest(s)).map(u=>{const f=Oe(u,S4);if("error"in f)throw new Ft(f.error,"failed to get transactions");const d=f.result;return d&&{...d,transaction:{...d.transaction,message:w4(d.version,d.transaction.message)}}})}async getConfirmedBlock(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getConfirmedBlock",n),s=Oe(i,Kxe);if("error"in s)throw new Ft(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:u,meta:f})=>{const d=new y0(u.message);return{meta:f,transaction:{...u,message:d}}})};return{...a,transactions:a.transactions.map(({transaction:u,meta:f})=>({meta:f,transaction:qg.populate(u.message,u.signatures)}))}}async getBlocks(e,r,n){const i=this._buildArgsAtLeastConfirmed(r!==void 0?[e,r]:[e],n),s=await this._rpcRequest("getBlocks",i),o=Oe(s,br(me(Y())));if("error"in o)throw new Ft(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),s=Oe(i,$U);if("error"in s)throw new Ft(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",n),s=Oe(i,$U);if("error"in s)throw new Ft(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getConfirmedTransaction",n),s=Oe(i,S4);if("error"in s)throw new Ft(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const a=new y0(o.transaction.message),u=o.transaction.signatures;return{...o,transaction:qg.populate(a,u)}}async getParsedConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",n),s=Oe(i,yA);if("error"in s)throw new Ft(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,r){const n=e.map(o=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([o],r,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(o=>{const a=Oe(o,yA);if("error"in a)throw new Ft(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,r,n){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(r--,!(r<=0||r<s));)try{const u=await this.getConfirmedBlockSignatures(r,"finalized");u.signatures.length>0&&(i.until=u.signatures[u.signatures.length-1].toString())}catch(u){if(u instanceof Error&&u.message.includes("skipped"))continue;throw u}let o=await this.getSlot("finalized");for(;!("before"in i)&&(n++,!(n>o));)try{const u=await this.getConfirmedBlockSignatures(n);u.signatures.length>0&&(i.before=u.signatures[u.signatures.length-1].toString())}catch(u){if(u instanceof Error&&u.message.includes("skipped"))continue;throw u}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(u=>u.signature)}async getConfirmedSignaturesForAddress2(e,r,n){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=Oe(s,vxe);if("error"in o)throw new Ft(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,r,n){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getSignaturesForAddress",i),o=Oe(s,wxe);if("error"in o)throw new Ft(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,r){const{context:n,value:i}=await this.getAccountInfoAndContext(e,r);let s=null;return i!==null&&(s=new OU({key:e,state:OU.deserialize(i.data)})),{context:n,value:s}}async getNonceAndContext(e,r){const{context:n,value:i}=await this.getAccountInfoAndContext(e,r);let s=null;return i!==null&&(s=A2e.fromAccountData(i.data)),{context:n,value:s}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,r){const n=await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),i=Oe(n,Xxe);if("error"in i)throw new Ft(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Vg(100);const n=Date.now()-this._blockhashInfo.lastFetch>=F2e;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(n!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await Vg(S2e/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:r,config:n}=Nn(e),i=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=Oe(s,pi(Y()));if("error"in o)throw new Ft(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,r,n){if("message"in e){const x=e.serialize(),k=xe.Buffer.from(x).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");const I=r||{};I.encoding="base64","commitment"in I||(I.commitment=this.commitment),r&&typeof r=="object"&&"innerInstructions"in r&&(I.innerInstructions=r.innerInstructions);const R=[k,I],M=await this._rpcRequest("simulateTransaction",R),P=Oe(M,DU);if("error"in P)throw new Error("failed to simulate transaction: "+P.error.message);return P.result}let i;if(e instanceof qg){let A=e;i=new qg,i.feePayer=A.feePayer,i.instructions=e.instructions,i.nonceInfo=A.nonceInfo,i.signatures=A.signatures}else i=qg.populate(e),i._message=i._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");const s=r;if(i.nonceInfo&&s)i.sign(...s);else{let A=this._disableBlockhashCaching;for(;;){const x=await this._blockhashWithExpiryBlockHeight(A);if(i.lastValidBlockHeight=x.lastValidBlockHeight,i.recentBlockhash=x.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const k=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(k)&&!this._blockhashInfo.transactionSignatures.includes(k)){this._blockhashInfo.simulatedSignatures.push(k);break}else A=!0}}const o=i._compile(),a=o.serialize(),f=i._serialize(a).toString("base64"),d={encoding:"base64",commitment:this.commitment};if(n){const A=(Array.isArray(n)?n:o.nonProgramIds()).map(x=>x.toBase58());d.accounts={encoding:"base64",addresses:A}}s&&(d.sigVerify=!0),r&&typeof r=="object"&&"innerInstructions"in r&&(d.innerInstructions=r.innerInstructions);const g=[f,d],y=await this._rpcRequest("simulateTransaction",g),b=Oe(y,DU);if("error"in b){let A;if("data"in b.error&&(A=b.error.data.logs,A&&Array.isArray(A))){const x=`
    `,k=x+A.join(x);console.error(b.error.message,k)}throw new CU({action:"simulate",signature:"",transactionMessage:b.error.message,logs:A})}return b.result}async sendTransaction(e,r,n){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");const i=r;if(e.nonceInfo)e.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const u=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(u))o=!0;else{this._blockhashInfo.transactionSignatures.push(u);break}}}const s=e.serialize();return await this.sendRawTransaction(s,n)}async sendRawTransaction(e,r){const n=is(e).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(e,r){const n={encoding:"base64"},i=r&&r.skipPreflight,s=i===!0?"processed":r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),s&&(n.preflightCommitment=s);const o=[e,n],a=await this._rpcRequest("sendTransaction",o),u=Oe(a,Jxe);if("error"in u){let f;throw"data"in u.error&&(f=u.error.data.logs),new CU({action:i?"send":"simulate",signature:"",transactionMessage:u.error.message,logs:f})}return u.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(e,r){var i;const n=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=r,n!==r.state){const s=this._subscriptionStateChangeCallbacksByHash[e];s&&s.forEach(o=>{try{o(r.state)}catch{}})}}_onSubscriptionStateChange(e,r){var s;const n=this._subscriptionHashByClientSubscriptionId[e];if(n==null)return()=>{};const i=(s=this._subscriptionStateChangeCallbacksByHash)[n]||(s[n]=new Set);return i.add(r),()=>{i.delete(r),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,r=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{const i=this._subscriptionsByHash[n];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[n],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(n,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(o,s);this._setSubscription(n,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${o} error for argument`,s,a.message),!r())return;this._setSubscription(n,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(n,{...i,state:"unsubscribing"}),this._setSubscription(n,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!r())return;this._setSubscription(n,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,r){const n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(i=>{try{i(...r)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:r,subscription:n}=Oe(e,Sxe);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(e,r){const n=this._nextClientSubscriptionId++,i=NU([e.method,r]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const o=this._subscriptionsByHash[i];Fn(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,r,n){const{commitment:i,config:s}=Nn(n),o=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",s);return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:r,subscription:n}=Oe(e,Axe);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,n,i){const{commitment:s,config:o}=Nn(n),a=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",o||(i?{filters:LU(i)}:void 0));return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,n){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:r,subscription:n}=Oe(e,eEe);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(e){const{result:r,subscription:n}=Oe(e,Exe);this._handleServerNotification(n,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:r,subscription:n}=Oe(e,Txe);this._handleServerNotification(n,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,n,i){const s=r||this._commitment;if(s||n||i){let o={};n&&(o.encoding=n),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,r,n,i){const s=r||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,n,i)}_wsOnSignatureNotification(e){const{result:r,subscription:n}=Oe(e,Ixe);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,n){const i=this._buildArgs([e],n||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){r(o.result,a);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,r,n){const{commitment:i,...s}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},o=this._buildArgs([e],i,void 0,s),a=this._makeSubscription({callback:(u,f)=>{r(u,f);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:r,subscription:n}=Oe(e,Rxe);this._handleServerNotification(n,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}};Object.freeze({CreateLookupTable:{index:0,layout:pe([ge("instruction"),pb("recentSlot"),Ge("bumpSeed")])},FreezeLookupTable:{index:1,layout:pe([ge("instruction")])},ExtendLookupTable:{index:2,layout:pe([ge("instruction"),pb(),Mt(Tr(),zr(ge(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:pe([ge("instruction")])},CloseLookupTable:{index:4,layout:pe([ge("instruction")])}});new dt("AddressLookupTab1e1111111111111111111111111");const bA=Object.freeze({RequestUnits:{index:0,layout:pe([Ge("instruction"),ge("units"),ge("additionalFee")])},RequestHeapFrame:{index:1,layout:pe([Ge("instruction"),ge("bytes")])},SetComputeUnitLimit:{index:2,layout:pe([Ge("instruction"),ge("units")])},SetComputeUnitPrice:{index:3,layout:pe([Ge("instruction"),pb("microLamports")])}});let rX=class{constructor(){}static requestUnits(e){const r=bA.RequestUnits,n=Gs(r,e);return new Xs({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){const r=bA.RequestHeapFrame,n=Gs(r,e);return new Xs({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){const r=bA.SetComputeUnitLimit,n=Gs(r,e);return new Xs({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){const r=bA.SetComputeUnitPrice,n=Gs(r,{microLamports:BigInt(e.microLamports)});return new Xs({keys:[],programId:this.programId,data:n})}};rX.programId=new dt("ComputeBudget111111111111111111111111111111");pe([Ge("numSignatures"),Ge("padding"),jt("signatureOffset"),jt("signatureInstructionIndex"),jt("publicKeyOffset"),jt("publicKeyInstructionIndex"),jt("messageDataOffset"),jt("messageDataSize"),jt("messageInstructionIndex")]);new dt("Ed25519SigVerify111111111111111111111111111");Ra.utils.isValidPrivateKey;Ra.getPublicKey;pe([Ge("numSignatures"),jt("signatureOffset"),Ge("signatureInstructionIndex"),jt("ethAddressOffset"),Ge("ethAddressInstructionIndex"),jt("messageDataOffset"),jt("messageDataSize"),Ge("messageInstructionIndex"),at(20,"ethAddress"),at(64,"signature"),Ge("recoveryId")]);new dt("KeccakSecp256k11111111111111111111111111111");var nX;new dt("StakeConfig11111111111111111111111111111111");let iX=class{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}};nX=iX;iX.default=new nX(0,0,dt.default);Object.freeze({Initialize:{index:0,layout:pe([ge("instruction"),h2e(),p2e()])},Authorize:{index:1,layout:pe([ge("instruction"),Tr("newAuthorized"),ge("stakeAuthorizationType")])},Delegate:{index:2,layout:pe([ge("instruction")])},Split:{index:3,layout:pe([ge("instruction"),Lt("lamports")])},Withdraw:{index:4,layout:pe([ge("instruction"),Lt("lamports")])},Deactivate:{index:5,layout:pe([ge("instruction")])},Merge:{index:7,layout:pe([ge("instruction")])},AuthorizeWithSeed:{index:8,layout:pe([ge("instruction"),Tr("newAuthorized"),ge("stakeAuthorizationType"),Rm("authoritySeed"),Tr("authorityOwner")])}});new dt("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:pe([ge("instruction"),g2e()])},Authorize:{index:1,layout:pe([ge("instruction"),Tr("newAuthorized"),ge("voteAuthorizationType")])},Withdraw:{index:3,layout:pe([ge("instruction"),Lt("lamports")])},UpdateValidatorIdentity:{index:4,layout:pe([ge("instruction")])},AuthorizeWithSeed:{index:10,layout:pe([ge("instruction"),m2e()])}});new dt("Vote111111111111111111111111111111111111111");new dt("Va1idator1nfo111111111111111111111111111111");ce({name:he(),website:Ie(he()),details:Ie(he()),iconUrl:Ie(he()),keybaseUsername:Ie(he())});new dt("Vote111111111111111111111111111111111111111");pe([Tr("nodePubkey"),Tr("authorizedWithdrawer"),Ge("commission"),bt(),Mt(pe([bt("slot"),ge("confirmationCount")]),zr(ge(),-8),"votes"),Ge("rootSlotValid"),bt("rootSlot"),bt(),Mt(pe([bt("epoch"),Tr("authorizedVoter")]),zr(ge(),-8),"authorizedVoters"),pe([Mt(pe([Tr("authorizedPubkey"),bt("epochOfLastAuthorizedSwitch"),bt("targetEpoch")]),32,"buf"),bt("idx"),Ge("isEmpty")],"priorVoters"),bt(),Mt(pe([bt("epoch"),bt("credits"),bt("prevCredits")]),zr(ge(),-8),"epochCredits"),pe([bt("slot"),bt("timestamp")],"lastTimestamp")]);const UU={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Jvt(t,e){const r="https";if(!t)return UU[r].devnet;const n=UU[r][t];if(!n)throw new Error(`Unknown ${r} cluster: ${t}`);return n}function rEe(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var o=t.length,a=t.charAt(0),u=Math.log(o)/Math.log(256),f=Math.log(256)/Math.log(o);function d(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var A=0,x=0,k=0,I=b.length;k!==I&&b[k]===0;)k++,A++;for(var R=(I-k)*f+1>>>0,M=new Uint8Array(R);k!==I;){for(var P=b[k],j=0,V=R-1;(P!==0||j<x)&&V!==-1;V--,j++)P+=256*M[V]>>>0,M[V]=P%o>>>0,P=P/o>>>0;if(P!==0)throw new Error("Non-zero carry");x=j,k++}for(var Z=R-x;Z!==R&&M[Z]===0;)Z++;for(var G=a.repeat(A);Z<R;++Z)G+=t.charAt(M[Z]);return G}function g(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;for(var A=0,x=0,k=0;b[A]===a;)x++,A++;for(var I=(b.length-A)*u+1>>>0,R=new Uint8Array(I);b[A];){var M=e[b.charCodeAt(A)];if(M===255)return;for(var P=0,j=I-1;(M!==0||P<k)&&j!==-1;j--,P++)M+=o*R[j]>>>0,R[j]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");k=P,A++}for(var V=I-k;V!==I&&R[V]===0;)V++;for(var Z=new Uint8Array(x+(I-V)),G=x;V!==I;)Z[G++]=R[V++];return Z}function y(b){var A=g(b);if(A)return A;throw new Error("Non-base"+o+" character")}return{encode:d,decodeUnsafe:g,decode:y}}var nEe=rEe;const iEe=nEe,sEe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var e_=iEe(sEe);const sX=ro(e_),oEe="modulepreload",aEe=function(t){return"/"+t},zU={},uEe=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(u=>{if(u=aEe(u),u in zU)return;zU[u]=!0;const f=u.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":oEe,f||(g.as="script"),g.crossOrigin="",g.href=u,a&&g.setAttribute("nonce",a),document.head.appendChild(g),f)return new Promise((y,b)=>{g.addEventListener("load",y),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};var nB={exports:{}},oy=typeof Reflect=="object"?Reflect:null,WU=oy&&typeof oy.apply=="function"?oy.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},E2;oy&&typeof oy.ownKeys=="function"?E2=oy.ownKeys:Object.getOwnPropertySymbols?E2=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:E2=function(e){return Object.getOwnPropertyNames(e)};function cEe(t){console&&console.warn&&console.warn(t)}var oX=Number.isNaN||function(e){return e!==e};function gn(){gn.init.call(this)}nB.exports=gn;nB.exports.once=hEe;gn.EventEmitter=gn;gn.prototype._events=void 0;gn.prototype._eventsCount=0;gn.prototype._maxListeners=void 0;var jU=10;function Uk(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(gn,"defaultMaxListeners",{enumerable:!0,get:function(){return jU},set:function(t){if(typeof t!="number"||t<0||oX(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");jU=t}});gn.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};gn.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||oX(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function aX(t){return t._maxListeners===void 0?gn.defaultMaxListeners:t._maxListeners}gn.prototype.getMaxListeners=function(){return aX(this)};gn.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var u=s[e];if(u===void 0)return!1;if(typeof u=="function")WU(u,this,r);else for(var f=u.length,d=dX(u,f),n=0;n<f;++n)WU(d[n],this,r);return!0};function uX(t,e,r,n){var i,s,o;if(Uk(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),o===void 0)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=aX(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,cEe(a)}return t}gn.prototype.addListener=function(e,r){return uX(this,e,r,!1)};gn.prototype.on=gn.prototype.addListener;gn.prototype.prependListener=function(e,r){return uX(this,e,r,!0)};function lEe(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function cX(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=lEe.bind(n);return i.listener=r,n.wrapFn=i,i}gn.prototype.once=function(e,r){return Uk(r),this.on(e,cX(this,e,r)),this};gn.prototype.prependOnceListener=function(e,r){return Uk(r),this.prependListener(e,cX(this,e,r)),this};gn.prototype.removeListener=function(e,r){var n,i,s,o,a;if(Uk(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){a=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():fEe(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||r)}return this};gn.prototype.off=gn.prototype.removeListener;gn.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function lX(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?dEe(i):dX(i,i.length)}gn.prototype.listeners=function(e){return lX(this,e,!0)};gn.prototype.rawListeners=function(e){return lX(this,e,!1)};gn.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):fX.call(t,e)};gn.prototype.listenerCount=fX;function fX(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}gn.prototype.eventNames=function(){return this._eventsCount>0?E2(this._events):[]};function dX(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function fEe(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function dEe(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function hEe(t,e){return new Promise(function(r,n){function i(o){t.removeListener(e,s),n(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}hX(t,e,s,{once:!0}),e!=="error"&&pEe(t,i,{once:!0})})}function pEe(t,e,r){typeof t.on=="function"&&hX(t,"error",e,r)}function hX(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){n.once&&t.removeEventListener(e,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var zk=nB.exports,h1=1e9,gEe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},sB,ti=!0,nu="[DecimalError] ",o0=nu+"Invalid argument: ",iB=nu+"Exponent out of range: ",p1=Math.floor,sp=Math.pow,mEe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ya,os=1e7,Gn=7,pX=9007199254740991,Dx=p1(pX/Gn),Bt={};Bt.absoluteValue=Bt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Bt.comparedTo=Bt.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};Bt.decimalPlaces=Bt.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Gn;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Bt.dividedBy=Bt.div=function(t){return Ff(this,new this.constructor(t))};Bt.dividedToIntegerBy=Bt.idiv=function(t){var e=this,r=e.constructor;return Mn(Ff(e,new r(t),0,1),r.precision)};Bt.equals=Bt.eq=function(t){return!this.cmp(t)};Bt.exponent=function(){return $i(this)};Bt.greaterThan=Bt.gt=function(t){return this.cmp(t)>0};Bt.greaterThanOrEqualTo=Bt.gte=function(t){return this.cmp(t)>=0};Bt.isInteger=Bt.isint=function(){return this.e>this.d.length-2};Bt.isNegative=Bt.isneg=function(){return this.s<0};Bt.isPositive=Bt.ispos=function(){return this.s>0};Bt.isZero=function(){return this.s===0};Bt.lessThan=Bt.lt=function(t){return this.cmp(t)<0};Bt.lessThanOrEqualTo=Bt.lte=function(t){return this.cmp(t)<1};Bt.logarithm=Bt.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(ya))throw Error(nu+"NaN");if(r.s<1)throw Error(nu+(r.s?"NaN":"-Infinity"));return r.eq(ya)?new n(0):(ti=!1,e=Ff(Lw(r,s),Lw(t,s),s),ti=!0,Mn(e,i))};Bt.minus=Bt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?yX(e,t):gX(e,(t.s=-t.s,t))};Bt.modulo=Bt.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(nu+"NaN");return r.s?(ti=!1,e=Ff(r,t,0,1).times(t),ti=!0,r.minus(e)):Mn(new n(r),i)};Bt.naturalExponential=Bt.exp=function(){return mX(this)};Bt.naturalLogarithm=Bt.ln=function(){return Lw(this)};Bt.negated=Bt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Bt.plus=Bt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?gX(e,t):yX(e,(t.s=-t.s,t))};Bt.precision=Bt.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(o0+t);if(e=$i(i)+1,n=i.d.length-1,r=n*Gn+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Bt.squareRoot=Bt.sqrt=function(){var t,e,r,n,i,s,o,a=this,u=a.constructor;if(a.s<1){if(!a.s)return new u(0);throw Error(nu+"NaN")}for(t=$i(a),ti=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Hc(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=p1((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new u(e)):n=new u(i.toString()),r=u.precision,i=o=r+3;;)if(s=n,n=s.plus(Ff(a,s,o+2)).times(.5),Hc(s.d).slice(0,o)===(e=Hc(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Mn(s,r+1,0),s.times(s).eq(a)){n=s;break}}else if(e!="9999")break;o+=4}return ti=!0,Mn(n,r)};Bt.times=Bt.mul=function(t){var e,r,n,i,s,o,a,u,f,d=this,g=d.constructor,y=d.d,b=(t=new g(t)).d;if(!d.s||!t.s)return new g(0);for(t.s*=d.s,r=d.e+t.e,u=y.length,f=b.length,u<f&&(s=y,y=b,b=s,o=u,u=f,f=o),s=[],o=u+f,n=o;n--;)s.push(0);for(n=f;--n>=0;){for(e=0,i=u+n;i>n;)a=s[i]+b[n]*y[i-n-1]+e,s[i--]=a%os|0,e=a/os|0;s[i]=(s[i]+e)%os|0}for(;!s[--o];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,ti?Mn(t,g.precision):t};Bt.toDecimalPlaces=Bt.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(ll(t,0,h1),e===void 0?e=n.rounding:ll(e,0,8),Mn(r,t+$i(r)+1,e))};Bt.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=b0(n,!0):(ll(t,0,h1),e===void 0?e=i.rounding:ll(e,0,8),n=Mn(new i(n),t+1,e),r=b0(n,!0,t+1)),r};Bt.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?b0(i):(ll(t,0,h1),e===void 0?e=s.rounding:ll(e,0,8),n=Mn(new s(i),t+$i(i)+1,e),r=b0(n.abs(),!1,t+$i(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Bt.toInteger=Bt.toint=function(){var t=this,e=t.constructor;return Mn(new e(t),$i(t)+1,e.rounding)};Bt.toNumber=function(){return+this};Bt.toPower=Bt.pow=function(t){var e,r,n,i,s,o,a=this,u=a.constructor,f=12,d=+(t=new u(t));if(!t.s)return new u(ya);if(a=new u(a),!a.s){if(t.s<1)throw Error(nu+"Infinity");return a}if(a.eq(ya))return a;if(n=u.precision,t.eq(ya))return Mn(a,n);if(e=t.e,r=t.d.length-1,o=e>=r,s=a.s,o){if((r=d<0?-d:d)<=pX){for(i=new u(ya),e=Math.ceil(n/Gn+4),ti=!1;r%2&&(i=i.times(a),HU(i.d,e)),r=p1(r/2),r!==0;)a=a.times(a),HU(a.d,e);return ti=!0,t.s<0?new u(ya).div(i):Mn(i,n)}}else if(s<0)throw Error(nu+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,a.s=1,ti=!1,i=t.times(Lw(a,n+f)),ti=!0,i=mX(i),i.s=s,i};Bt.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=$i(i),n=b0(i,r<=s.toExpNeg||r>=s.toExpPos)):(ll(t,1,h1),e===void 0?e=s.rounding:ll(e,0,8),i=Mn(new s(i),t,e),r=$i(i),n=b0(i,t<=r||r<=s.toExpNeg,t)),n};Bt.toSignificantDigits=Bt.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(ll(t,1,h1),e===void 0?e=n.rounding:ll(e,0,8)),Mn(new n(r),t,e)};Bt.toString=Bt.valueOf=Bt.val=Bt.toJSON=Bt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=$i(t),r=t.constructor;return b0(t,e<=r.toExpNeg||e>=r.toExpPos)};function gX(t,e){var r,n,i,s,o,a,u,f,d=t.constructor,g=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),ti?Mn(e,g):e;if(u=t.d,f=e.d,o=t.e,i=e.e,u=u.slice(),s=o-i,s){for(s<0?(n=u,s=-s,a=f.length):(n=f,i=o,a=u.length),o=Math.ceil(g/Gn),a=o>a?o+1:a+1,s>a&&(s=a,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(a=u.length,s=f.length,a-s<0&&(s=a,n=f,f=u,u=n),r=0;s;)r=(u[--s]=u[s]+f[s]+r)/os|0,u[s]%=os;for(r&&(u.unshift(r),++i),a=u.length;u[--a]==0;)u.pop();return e.d=u,e.e=i,ti?Mn(e,g):e}function ll(t,e,r){if(t!==~~t||t<e||t>r)throw Error(o0+t)}function Hc(t){var e,r,n,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)n=t[e]+"",r=Gn-n.length,r&&(s+=Bd(r)),s+=n;o=t[e],n=o+"",r=Gn-n.length,r&&(s+=Bd(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Ff=function(){function t(n,i){var s,o=0,a=n.length;for(n=n.slice();a--;)s=n[a]*i+o,n[a]=s%os|0,o=s/os|0;return o&&n.unshift(o),n}function e(n,i,s,o){var a,u;if(s!=o)u=s>o?1:-1;else for(a=u=0;a<s;a++)if(n[a]!=i[a]){u=n[a]>i[a]?1:-1;break}return u}function r(n,i,s){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*os+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o){var a,u,f,d,g,y,b,A,x,k,I,R,M,P,j,V,Z,G,q=n.constructor,ae=n.s==i.s?1:-1,T=n.d,c=i.d;if(!n.s)return new q(n);if(!i.s)throw Error(nu+"Division by zero");for(u=n.e-i.e,Z=c.length,j=T.length,b=new q(ae),A=b.d=[],f=0;c[f]==(T[f]||0);)++f;if(c[f]>(T[f]||0)&&--u,s==null?R=s=q.precision:o?R=s+($i(n)-$i(i))+1:R=s,R<0)return new q(0);if(R=R/Gn+2|0,f=0,Z==1)for(d=0,c=c[0],R++;(f<j||d)&&R--;f++)M=d*os+(T[f]||0),A[f]=M/c|0,d=M%c|0;else{for(d=os/(c[0]+1)|0,d>1&&(c=t(c,d),T=t(T,d),Z=c.length,j=T.length),P=Z,x=T.slice(0,Z),k=x.length;k<Z;)x[k++]=0;G=c.slice(),G.unshift(0),V=c[0],c[1]>=os/2&&++V;do d=0,a=e(c,x,Z,k),a<0?(I=x[0],Z!=k&&(I=I*os+(x[1]||0)),d=I/V|0,d>1?(d>=os&&(d=os-1),g=t(c,d),y=g.length,k=x.length,a=e(g,x,y,k),a==1&&(d--,r(g,Z<y?G:c,y))):(d==0&&(a=d=1),g=c.slice()),y=g.length,y<k&&g.unshift(0),r(x,g,k),a==-1&&(k=x.length,a=e(c,x,Z,k),a<1&&(d++,r(x,Z<k?G:c,k))),k=x.length):a===0&&(d++,x=[0]),A[f++]=d,a&&x[0]?x[k++]=T[P]||0:(x=[T[P]],k=1);while((P++<j||x[0]!==void 0)&&R--)}return A[0]||A.shift(),b.e=u,Mn(b,o?s+$i(b)+1:s)}}();function mX(t,e){var r,n,i,s,o,a,u=0,f=0,d=t.constructor,g=d.precision;if($i(t)>16)throw Error(iB+$i(t));if(!t.s)return new d(ya);for(ti=!1,a=g,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),f+=5;for(n=Math.log(sp(2,f))/Math.LN10*2+5|0,a+=n,r=i=s=new d(ya),d.precision=a;;){if(i=Mn(i.times(t),a),r=r.times(++u),o=s.plus(Ff(i,r,a)),Hc(o.d).slice(0,a)===Hc(s.d).slice(0,a)){for(;f--;)s=Mn(s.times(s),a);return d.precision=g,e==null?(ti=!0,Mn(s,g)):s}s=o}}function $i(t){for(var e=t.e*Gn,r=t.d[0];r>=10;r/=10)e++;return e}function _4(t,e,r){if(e>t.LN10.sd())throw ti=!0,r&&(t.precision=r),Error(nu+"LN10 precision limit exceeded");return Mn(new t(t.LN10),e)}function Bd(t){for(var e="";t--;)e+="0";return e}function Lw(t,e){var r,n,i,s,o,a,u,f,d,g=1,y=10,b=t,A=b.d,x=b.constructor,k=x.precision;if(b.s<1)throw Error(nu+(b.s?"NaN":"-Infinity"));if(b.eq(ya))return new x(0);if(e==null?(ti=!1,f=k):f=e,b.eq(10))return e==null&&(ti=!0),_4(x,f);if(f+=y,x.precision=f,r=Hc(A),n=r.charAt(0),s=$i(b),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)b=b.times(t),r=Hc(b.d),n=r.charAt(0),g++;s=$i(b),n>1?(b=new x("0."+r),s++):b=new x(n+"."+r.slice(1))}else return u=_4(x,f+2,k).times(s+""),b=Lw(new x(n+"."+r.slice(1)),f-y).plus(u),x.precision=k,e==null?(ti=!0,Mn(b,k)):b;for(a=o=b=Ff(b.minus(ya),b.plus(ya),f),d=Mn(b.times(b),f),i=3;;){if(o=Mn(o.times(d),f),u=a.plus(Ff(o,new x(i),f)),Hc(u.d).slice(0,f)===Hc(a.d).slice(0,f))return a=a.times(2),s!==0&&(a=a.plus(_4(x,f+2,k).times(s+""))),a=Ff(a,new x(g),f),x.precision=k,e==null?(ti=!0,Mn(a,k)):a;a=u,i+=2}}function KU(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=p1(r/Gn),t.d=[],n=(r+1)%Gn,r<0&&(n+=Gn),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Gn;n<i;)t.d.push(+e.slice(n,n+=Gn));e=e.slice(n),n=Gn-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),ti&&(t.e>Dx||t.e<-Dx))throw Error(iB+r)}else t.s=0,t.e=0,t.d=[0];return t}function Mn(t,e,r){var n,i,s,o,a,u,f,d,g=t.d;for(o=1,s=g[0];s>=10;s/=10)o++;if(n=e-o,n<0)n+=Gn,i=e,f=g[d=0];else{if(d=Math.ceil((n+1)/Gn),s=g.length,d>=s)return t;for(f=s=g[d],o=1;s>=10;s/=10)o++;n%=Gn,i=n-Gn+o}if(r!==void 0&&(s=sp(10,o-i-1),a=f/s%10|0,u=e<0||g[d+1]!==void 0||f%s,u=r<4?(a||u)&&(r==0||r==(t.s<0?3:2)):a>5||a==5&&(r==4||u||r==6&&(n>0?i>0?f/sp(10,o-i):0:g[d-1])%10&1||r==(t.s<0?8:7))),e<1||!g[0])return u?(s=$i(t),g.length=1,e=e-s-1,g[0]=sp(10,(Gn-e%Gn)%Gn),t.e=p1(-e/Gn)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(n==0?(g.length=d,s=1,d--):(g.length=d+1,s=sp(10,Gn-n),g[d]=i>0?(f/sp(10,o-i)%sp(10,i)|0)*s:0),u)for(;;)if(d==0){(g[0]+=s)==os&&(g[0]=1,++t.e);break}else{if(g[d]+=s,g[d]!=os)break;g[d--]=0,s=1}for(n=g.length;g[--n]===0;)g.pop();if(ti&&(t.e>Dx||t.e<-Dx))throw Error(iB+$i(t));return t}function yX(t,e){var r,n,i,s,o,a,u,f,d,g,y=t.constructor,b=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),ti?Mn(e,b):e;if(u=t.d,g=e.d,n=e.e,f=t.e,u=u.slice(),o=f-n,o){for(d=o<0,d?(r=u,o=-o,a=g.length):(r=g,n=f,a=u.length),i=Math.max(Math.ceil(b/Gn),a)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=u.length,a=g.length,d=i<a,d&&(a=i),i=0;i<a;i++)if(u[i]!=g[i]){d=u[i]<g[i];break}o=0}for(d&&(r=u,u=g,g=r,e.s=-e.s),a=u.length,i=g.length-a;i>0;--i)u[a++]=0;for(i=g.length;i>o;){if(u[--i]<g[i]){for(s=i;s&&u[--s]===0;)u[s]=os-1;--u[s],u[i]+=os}u[i]-=g[i]}for(;u[--a]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(e.d=u,e.e=n,ti?Mn(e,b):e):new y(0)}function b0(t,e,r){var n,i=$i(t),s=Hc(t.d),o=s.length;return e?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+Bd(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Bd(-i-1)+s,r&&(n=r-o)>0&&(s+=Bd(n))):i>=o?(s+=Bd(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+Bd(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=Bd(n))),t.s<0?"-"+s:s}function HU(t,e){if(t.length>e)return t.length=e,!0}function bX(t){var e,r,n;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(o0+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return KU(o,s.toString())}else if(typeof s!="string")throw Error(o0+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,mEe.test(s))KU(o,s);else throw Error(o0+s)}if(i.prototype=Bt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=bX,i.config=i.set=yEe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function yEe(t){if(!t||typeof t!="object")throw Error(nu+"Object expected");var e,r,n,i=["precision",1,h1,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(p1(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(o0+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(o0+r+": "+n);return this}var sB=bX(gEe);ya=new sB(1);const v0=sB;typeof window<"u"&&(window.__ORDERLY_VERSION__=window.__ORDERLY_VERSION__||{},window.__ORDERLY_VERSION__["@orderly.network/types"]="2.0.2");var Qr=(t=>(t[t.EnableTradingWithoutConnected=-1]="EnableTradingWithoutConnected",t[t.NotConnected=0]="NotConnected",t[t.Connected=1]="Connected",t[t.NotSignedIn=2]="NotSignedIn",t[t.SignedIn=3]="SignedIn",t[t.DisabledTrading=4]="DisabledTrading",t[t.EnableTrading=5]="EnableTrading",t))(Qr||{}),oB=421614,bEe=901901901,Lv=1516,vX=42161,Qvt="(max-width: 768px)",vEe=1.05,Fx=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),wX="0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",rv=t=>t===wX,It=(t=>(t.LIMIT="LIMIT",t.MARKET="MARKET",t.IOC="IOC",t.FOK="FOK",t.POST_ONLY="POST_ONLY",t.ASK="ASK",t.BID="BID",t.STOP_LIMIT="STOP_LIMIT",t.STOP_MARKET="STOP_MARKET",t.CLOSE_POSITION="CLOSE_POSITION",t))(It||{}),wEe=(t=>(t.COUNTERPARTY1="counterparty1",t.COUNTERPARTY5="counterparty5",t.QUEUE1="queue1",t.QUEUE5="queue5",t))(wEe||{}),SEe=(t=>(t[t.ONE=0]="ONE",t[t.TWO=1]="TWO",t[t.THREE=2]="THREE",t[t.FOUR=3]="FOUR",t[t.FIVE=4]="FIVE",t))(SEe||{}),$n=(t=>(t.TP_SL="TP_SL",t.POSITIONAL_TP_SL="POSITIONAL_TP_SL",t.STOP="STOP",t.BRACKET="BRACKET",t))($n||{}),a0=(t=>(t.MARK_PRICE="MARK_PRICE",t))(a0||{}),Cn=(t=>(t.TAKE_PROFIT="TAKE_PROFIT",t.STOP_LOSS="STOP_LOSS",t))(Cn||{}),zt=(t=>(t.BUY="BUY",t.SELL="SELL",t))(zt||{}),Qc=(t=>(t.OPEN="OPEN",t.NEW="NEW",t.FILLED="FILLED",t.PARTIAL_FILLED="PARTIAL_FILLED",t.CANCELLED="CANCELLED",t.REPLACED="REPLACED",t.COMPLETED="COMPLETED",t.INCOMPLETE="INCOMPLETE",t.REJECTED="REJECTED",t))(Qc||{}),Hf=(t=>(t.evm="EVM",t.solana="SOL",t))(Hf||{}),fl=(t=>(t.WITHDRAW_SUCCESS="withdraw:success",t.WITHDRAW_FAILED="withdraw:failed",t.DEPOSIT_SUCCESS="deposit:success",t.DEPOSIT_FAILED="deposit:failed",t.SIGNIN_SUCCESS="signin:success",t.PLACEORDER_SUCCESS="place_order:success",t.WALLET_CONNECT="wallet:connected",t.CLICK_LINK_DEVICE_BUTTON="click_link_device_button",t.SIGN_LINK_DEVICE_MESSAGE_SUCCESS="sign_link_device_message_success",t.LINK_DEVICE_MODAL_CLICK_CONFIRM="link_device_modal_click_confirm",t))(fl||{}),vA={"withdraw:success":"withdraw_request_success","withdraw:failed":"withdraw_request_failure","deposit:success":"deposit_request_success","deposit:failed":"deposit_request_failure","signin:success":"sign_message_success","wallet:connected":"connect_wallet_success","place_order:success":"place_order_success",click_link_device_button:"click_link_device_button",sign_link_device_message_success:"sign_link_device_message_success",link_device_modal_click_confirm:"link_device_modal_click_confirm"},_Ee=class extends Error{constructor(e,r){super(e),this.code=r,this.name="ApiError"}},Ar=class extends Error{constructor(t){super(`[ORDERLY SDK ERROR]:${t}`),this.name="SDKError"}},Ah={EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Registration:[{name:"brokerId",type:"string"},{name:"chainId",type:"uint256"},{name:"timestamp",type:"uint64"},{name:"registrationNonce",type:"uint256"}],Withdraw:[{name:"brokerId",type:"string"},{name:"chainId",type:"uint256"},{name:"receiver",type:"address"},{name:"token",type:"string"},{name:"amount",type:"uint256"},{name:"withdrawNonce",type:"uint64"},{name:"timestamp",type:"uint64"}],AddOrderlyKey:[{name:"brokerId",type:"string"},{name:"chainId",type:"uint256"},{name:"orderlyKey",type:"string"},{name:"scope",type:"string"},{name:"timestamp",type:"uint64"},{name:"expiration",type:"uint64"}],SettlePnl:[{name:"brokerId",type:"string"},{name:"chainId",type:"uint256"},{name:"settleNonce",type:"uint64"},{name:"timestamp",type:"uint64"}]},AEe={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(St,function(){var r=1e3,n=6e4,i=36e5,s="millisecond",o="second",a="minute",u="hour",f="day",d="week",g="month",y="quarter",b="year",A="date",x="Invalid Date",k=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,I=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,R={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(p){var m=["th","st","nd","rd"],v=p%100;return"["+p+(m[(v-20)%10]||m[v]||m[0])+"]"}},M=function(p,m,v){var _=String(p);return!_||_.length>=m?p:""+Array(m+1-_.length).join(v)+p},P={s:M,z:function(p){var m=-p.utcOffset(),v=Math.abs(m),_=Math.floor(v/60),E=v%60;return(m<=0?"+":"-")+M(_,2,"0")+":"+M(E,2,"0")},m:function p(m,v){if(m.date()<v.date())return-p(v,m);var _=12*(v.year()-m.year())+(v.month()-m.month()),E=m.clone().add(_,g),w=v-E<0,l=m.clone().add(_+(w?-1:1),g);return+(-(_+(v-E)/(w?E-l:l-E))||0)},a:function(p){return p<0?Math.ceil(p)||0:Math.floor(p)},p:function(p){return{M:g,y:b,w:d,d:f,D:A,h:u,m:a,s:o,ms:s,Q:y}[p]||String(p||"").toLowerCase().replace(/s$/,"")},u:function(p){return p===void 0}},j="en",V={};V[j]=R;var Z="$isDayjsObject",G=function(p){return p instanceof c||!(!p||!p[Z])},q=function p(m,v,_){var E;if(!m)return j;if(typeof m=="string"){var w=m.toLowerCase();V[w]&&(E=w),v&&(V[w]=v,E=w);var l=m.split("-");if(!E&&l.length>1)return p(l[0])}else{var S=m.name;V[S]=m,E=S}return!_&&E&&(j=E),E||!_&&j},ae=function(p,m){if(G(p))return p.clone();var v=typeof m=="object"?m:{};return v.date=p,v.args=arguments,new c(v)},T=P;T.l=q,T.i=G,T.w=function(p,m){return ae(p,{locale:m.$L,utc:m.$u,x:m.$x,$offset:m.$offset})};var c=function(){function p(v){this.$L=q(v.locale,null,!0),this.parse(v),this.$x=this.$x||v.x||{},this[Z]=!0}var m=p.prototype;return m.parse=function(v){this.$d=function(_){var E=_.date,w=_.utc;if(E===null)return new Date(NaN);if(T.u(E))return new Date;if(E instanceof Date)return new Date(E);if(typeof E=="string"&&!/Z$/i.test(E)){var l=E.match(k);if(l){var S=l[2]-1||0,C=(l[7]||"0").substring(0,3);return w?new Date(Date.UTC(l[1],S,l[3]||1,l[4]||0,l[5]||0,l[6]||0,C)):new Date(l[1],S,l[3]||1,l[4]||0,l[5]||0,l[6]||0,C)}}return new Date(E)}(v),this.init()},m.init=function(){var v=this.$d;this.$y=v.getFullYear(),this.$M=v.getMonth(),this.$D=v.getDate(),this.$W=v.getDay(),this.$H=v.getHours(),this.$m=v.getMinutes(),this.$s=v.getSeconds(),this.$ms=v.getMilliseconds()},m.$utils=function(){return T},m.isValid=function(){return this.$d.toString()!==x},m.isSame=function(v,_){var E=ae(v);return this.startOf(_)<=E&&E<=this.endOf(_)},m.isAfter=function(v,_){return ae(v)<this.startOf(_)},m.isBefore=function(v,_){return this.endOf(_)<ae(v)},m.$g=function(v,_,E){return T.u(v)?this[_]:this.set(E,v)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(v,_){var E=this,w=!!T.u(_)||_,l=T.p(v),S=function(Q,te){var X=T.w(E.$u?Date.UTC(E.$y,te,Q):new Date(E.$y,te,Q),E);return w?X:X.endOf(f)},C=function(Q,te){return T.w(E.toDate()[Q].apply(E.toDate("s"),(w?[0,0,0,0]:[23,59,59,999]).slice(te)),E)},D=this.$W,U=this.$M,O=this.$D,$="set"+(this.$u?"UTC":"");switch(l){case b:return w?S(1,0):S(31,11);case g:return w?S(1,U):S(0,U+1);case d:var F=this.$locale().weekStart||0,H=(D<F?D+7:D)-F;return S(w?O-H:O+(6-H),U);case f:case A:return C($+"Hours",0);case u:return C($+"Minutes",1);case a:return C($+"Seconds",2);case o:return C($+"Milliseconds",3);default:return this.clone()}},m.endOf=function(v){return this.startOf(v,!1)},m.$set=function(v,_){var E,w=T.p(v),l="set"+(this.$u?"UTC":""),S=(E={},E[f]=l+"Date",E[A]=l+"Date",E[g]=l+"Month",E[b]=l+"FullYear",E[u]=l+"Hours",E[a]=l+"Minutes",E[o]=l+"Seconds",E[s]=l+"Milliseconds",E)[w],C=w===f?this.$D+(_-this.$W):_;if(w===g||w===b){var D=this.clone().set(A,1);D.$d[S](C),D.init(),this.$d=D.set(A,Math.min(this.$D,D.daysInMonth())).$d}else S&&this.$d[S](C);return this.init(),this},m.set=function(v,_){return this.clone().$set(v,_)},m.get=function(v){return this[T.p(v)]()},m.add=function(v,_){var E,w=this;v=Number(v);var l=T.p(_),S=function(U){var O=ae(w);return T.w(O.date(O.date()+Math.round(U*v)),w)};if(l===g)return this.set(g,this.$M+v);if(l===b)return this.set(b,this.$y+v);if(l===f)return S(1);if(l===d)return S(7);var C=(E={},E[a]=n,E[u]=i,E[o]=r,E)[l]||1,D=this.$d.getTime()+v*C;return T.w(D,this)},m.subtract=function(v,_){return this.add(-1*v,_)},m.format=function(v){var _=this,E=this.$locale();if(!this.isValid())return E.invalidDate||x;var w=v||"YYYY-MM-DDTHH:mm:ssZ",l=T.z(this),S=this.$H,C=this.$m,D=this.$M,U=E.weekdays,O=E.months,$=E.meridiem,F=function(te,X,K,oe){return te&&(te[X]||te(_,w))||K[X].slice(0,oe)},H=function(te){return T.s(S%12||12,te,"0")},Q=$||function(te,X,K){var oe=te<12?"AM":"PM";return K?oe.toLowerCase():oe};return w.replace(I,function(te,X){return X||function(K){switch(K){case"YY":return String(_.$y).slice(-2);case"YYYY":return T.s(_.$y,4,"0");case"M":return D+1;case"MM":return T.s(D+1,2,"0");case"MMM":return F(E.monthsShort,D,O,3);case"MMMM":return F(O,D);case"D":return _.$D;case"DD":return T.s(_.$D,2,"0");case"d":return String(_.$W);case"dd":return F(E.weekdaysMin,_.$W,U,2);case"ddd":return F(E.weekdaysShort,_.$W,U,3);case"dddd":return U[_.$W];case"H":return String(S);case"HH":return T.s(S,2,"0");case"h":return H(1);case"hh":return H(2);case"a":return Q(S,C,!0);case"A":return Q(S,C,!1);case"m":return String(C);case"mm":return T.s(C,2,"0");case"s":return String(_.$s);case"ss":return T.s(_.$s,2,"0");case"SSS":return T.s(_.$ms,3,"0");case"Z":return l}return null}(te)||l.replace(":","")})},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(v,_,E){var w,l=this,S=T.p(_),C=ae(v),D=(C.utcOffset()-this.utcOffset())*n,U=this-C,O=function(){return T.m(l,C)};switch(S){case b:w=O()/12;break;case g:w=O();break;case y:w=O()/3;break;case d:w=(U-D)/6048e5;break;case f:w=(U-D)/864e5;break;case u:w=U/i;break;case a:w=U/n;break;case o:w=U/r;break;default:w=U}return E?w:T.a(w)},m.daysInMonth=function(){return this.endOf(g).$D},m.$locale=function(){return V[this.$L]},m.locale=function(v,_){if(!v)return this.$L;var E=this.clone(),w=q(v,_,!0);return w&&(E.$L=w),E},m.clone=function(){return T.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},p}(),h=c.prototype;return ae.prototype=h,[["$ms",s],["$s",o],["$m",a],["$H",u],["$W",f],["$M",g],["$y",b],["$D",A]].forEach(function(p){h[p[1]]=function(m){return this.$g(m,p[0],p[1])}}),ae.extend=function(p,m){return p.$i||(p(m,c,ae),p.$i=!0),ae},ae.locale=q,ae.isDayjs=G,ae.unix=function(p){return ae(1e3*p)},ae.en=V[j],ae.Ls=V,ae.p={},ae})})(AEe);v0.set({rounding:v0.ROUND_DOWN});var Re=v0,ei=new v0(0),twt=(t,e)=>{if(typeof t=="string"&&isNaN(Number(t)))return(e==null?void 0:e.fallback)||"--";let r=(e==null?void 0:e.prefix)||"";if(typeof t>"u")return r+((e==null?void 0:e.fallback)||"--");let n=gb(t,e==null?void 0:e.fix);if(e&&e.padEnd&&e.fix){let i=(e==null?void 0:e.fillString)||"0",s=n.includes("."),o=n.split(".");return s?r+o[0]+"."+o[1].padEnd(e.fix,i):r+o[0]+"."+"".padEnd(e.fix,i)}return r+n},gb=(t,e)=>{let r=`${t}`;var n=r.split(".");let i=n[0],s=n[1],o=/\B(?=(\d{3})+(?!\d))/g,a=r.endsWith(".")&&r.length>1,u=i.replace(o,",")+(s?"."+s.substring(0,e||s.length):a?".":"");return e===0&&u.includes(".")?u.substring(0,u.indexOf(".")):u},Dw=t=>{t=xEe(Number(t));let e=t.toString().split(".");return e[1]?e[1].length:0};function xEe(t){let e=t.toExponential().match(/\d(?:\.(\d*))?e([+-]\d+)/);return Array.isArray(e)?t.toFixed(Math.max(0,(e[1]||"").length-e[2])):t}function EEe(t,e=2,r){let n=["","K","M","B","T"],i=0;for(;t>=1e3&&i<n.length-1;)t/=1e3,i++;let s=new v0(t).toFixed(e,v0.ROUND_DOWN).toString();return s=s.replace(/\.0+$/,""),`${s}${n[i]}`}function kEe(t,e=16){let r=`${t}`,n=/^[-+]?[0-9]+(\.[0-9]+)?[eE][-+]?[0-9]+$/.test(r);return!t.toString().includes(".")&&!n?`${t}`:new v0(t).toFixed(e).replace(/(\.[0-9]*[1-9])0+$/,"$1")}var SX=(t,e)=>{if(t===void 0||t===""||(typeof t=="number"&&(t=t.toString()),t.endsWith(".")))return t;let r=t.split(".");return r.length===1||r[1].length<=e||!r[1]?t:`${r[0]}.${r[1].substring(0,e)}`},TEe=t=>{t/=1e3;let e=Math.floor(t/3600),r=Math.floor(t/60%60),n=Math.floor(t%60);return[e,r,n]};function rwt(t,e){let r=e||new Date,n=new Date(r);return n.setDate(r.getDate()-t),n}var IEe=t=>parseInt(t),nwt=t=>`0x${t.toString(16)}`,REe=t=>typeof t=="string"&&t.startsWith("0x")&&/^[a-f0-9]+$/iu.test(t.slice(2))?IEe(t):t,iwt=REe,_X=t=>[oB,bEe,Lv].includes(t);function swt(t){let e=t.toLowerCase();return e.charAt(0).toUpperCase()+e.slice(1)}function owt(t){let e=t.split("_");if(e.length!==3)throw new Error("Invalid string format");let[r,n,i]=e;if(!r.startsWith("PERP"))throw new Error("Invalid string format");return`${n}-${r}`}function MEe(t){return t.replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase()}var CEe=(t,e)=>{for(let r=0;r<t.length;r++){let n=t.at(r),i=e.at(r);if(n!==i)return r}return-1},PEe=t=>{typeof window<"u"&&t()},Wk=()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof we.global<"u")return we.global;throw new Error("cannot find the global object")},Hu=()=>{var t;if(typeof window<"u"){let e=(t=Wk())==null?void 0:t.__ORDERLY_timestamp_offset;if(typeof e=="number")return Date.now()+(e||0)}return Date.now()},AX={exports:{}},xX={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mb=N;function NEe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var BEe=typeof Object.is=="function"?Object.is:NEe,OEe=mb.useState,LEe=mb.useEffect,DEe=mb.useLayoutEffect,FEe=mb.useDebugValue;function $Ee(t,e){var r=e(),n=OEe({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return DEe(function(){i.value=r,i.getSnapshot=e,A4(i)&&s({inst:i})},[t,r,e]),LEe(function(){return A4(i)&&s({inst:i}),t(function(){A4(i)&&s({inst:i})})},[t]),FEe(r),r}function A4(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!BEe(t,r)}catch{return!0}}function UEe(t,e){return e()}var zEe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?UEe:$Ee;xX.useSyncExternalStore=mb.useSyncExternalStore!==void 0?mb.useSyncExternalStore:zEe;AX.exports=xX;var aB=AX.exports;const oh=()=>{},Oi=oh(),x4=Object,Er=t=>t===Oi,qc=t=>typeof t=="function",zu=(t,e)=>({...t,...e}),WEe=t=>qc(t.then),wA=new WeakMap;let jEe=0;const Fw=t=>{const e=typeof t,r=t&&t.constructor,n=r==Date;let i,s;if(x4(t)===t&&!n&&r!=RegExp){if(i=wA.get(t),i)return i;if(i=++jEe+"~",wA.set(t,i),r==Array){for(i="@",s=0;s<t.length;s++)i+=Fw(t[s])+",";wA.set(t,i)}if(r==x4){i="#";const o=x4.keys(t).sort();for(;!Er(s=o.pop());)Er(t[s])||(i+=s+":"+Fw(t[s])+",");wA.set(t,i)}}else i=n?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return i},Lc=new WeakMap,E4={},SA={},uB="undefined",jk=typeof window!=uB,oC=typeof document!=uB,KEe=()=>jk&&typeof window.requestAnimationFrame!=uB,of=(t,e)=>{const r=Lc.get(t);return[()=>!Er(e)&&t.get(e)||E4,n=>{if(!Er(e)){const i=t.get(e);e in SA||(SA[e]=i),r[5](e,zu(i,n),i||E4)}},r[6],()=>!Er(e)&&e in SA?SA[e]:!Er(e)&&t.get(e)||E4]};let aC=!0;const HEe=()=>aC,[uC,cC]=jk&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[oh,oh],qEe=()=>{const t=oC&&document.visibilityState;return Er(t)||t!=="hidden"},VEe=t=>(oC&&document.addEventListener("visibilitychange",t),uC("focus",t),()=>{oC&&document.removeEventListener("visibilitychange",t),cC("focus",t)}),GEe=t=>{const e=()=>{aC=!0,t()},r=()=>{aC=!1};return uC("online",e),uC("offline",r),()=>{cC("online",e),cC("offline",r)}},YEe={isOnline:HEe,isVisible:qEe},ZEe={initFocus:VEe,initReconnect:GEe},lC=!gt.useId,$w=!jk||"Deno"in window,XEe=t=>KEe()?window.requestAnimationFrame(t):setTimeout(t,1),u0=$w?N.useEffect:N.useLayoutEffect,k4=typeof navigator<"u"&&navigator.connection,qU=!$w&&k4&&(["slow-2g","2g"].includes(k4.effectiveType)||k4.saveData),qf=t=>{if(qc(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?Fw(t):"",[t,e]};let JEe=0;const Uw=()=>++JEe,EX=0,kX=1,TX=2,QEe=3;var nv={__proto__:null,ERROR_REVALIDATE_EVENT:QEe,FOCUS_EVENT:EX,MUTATE_EVENT:TX,RECONNECT_EVENT:kX};async function IX(...t){const[e,r,n,i]=t,s=zu({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let o=s.populateCache;const a=s.rollbackOnError;let u=s.optimisticData;const f=s.revalidate!==!1,d=b=>typeof a=="function"?a(b):a!==!1,g=s.throwOnError;if(qc(r)){const b=r,A=[],x=e.keys();for(const k of x)!/^\$(inf|sub)\$/.test(k)&&b(e.get(k)._k)&&A.push(k);return Promise.all(A.map(y))}return y(r);async function y(b){const[A]=qf(b);if(!A)return;const[x,k]=of(e,A),[I,R,M,P]=Lc.get(e),j=()=>{const p=I[A];return f&&(delete M[A],delete P[A],p&&p[0])?p[0](TX).then(()=>x().data):x().data};if(t.length<3)return j();let V=n,Z;const G=Uw();R[A]=[G,0];const q=!Er(u),ae=x(),T=ae.data,c=ae._c,h=Er(c)?T:c;if(q&&(u=qc(u)?u(h,T):u,k({data:u,_c:h})),qc(V))try{V=V(h)}catch(p){Z=p}if(V&&WEe(V))if(V=await V.catch(p=>{Z=p}),G!==R[A][0]){if(Z)throw Z;return V}else Z&&q&&d(Z)&&(o=!0,k({data:h,_c:Oi}));if(o&&!Z)if(qc(o)){const p=o(V,h);k({data:p,error:Oi,_c:Oi})}else k({data:V,error:Oi,_c:Oi});if(R[A][1]=Uw(),Promise.resolve(j()).then(()=>{k({_c:Oi})}),Z){if(g)throw Z;return}return V}}const VU=(t,e)=>{for(const r in t)t[r][0]&&t[r][0](e)},eke=(t,e)=>{if(!Lc.has(t)){const r=zu(ZEe,e),n={},i=IX.bind(Oi,t);let s=oh;const o={},a=(d,g)=>{const y=o[d]||[];return o[d]=y,y.push(g),()=>y.splice(y.indexOf(g),1)},u=(d,g,y)=>{t.set(d,g);const b=o[d];if(b)for(const A of b)A(g,y)},f=()=>{if(!Lc.has(t)&&(Lc.set(t,[n,{},{},{},i,u,a]),!$w)){const d=r.initFocus(setTimeout.bind(Oi,VU.bind(Oi,n,EX))),g=r.initReconnect(setTimeout.bind(Oi,VU.bind(Oi,n,kX)));s=()=>{d&&d(),g&&g(),Lc.delete(t)}}};return f(),[t,i,f,s]}return[t,Lc.get(t)[4]]},tke=(t,e,r,n,i)=>{const s=r.errorRetryCount,o=i.retryCount,a=~~((Math.random()+.5)*(1<<(o<8?o:8)))*r.errorRetryInterval;!Er(s)&&o>s||setTimeout(n,a,i)},rke=(t,e)=>Fw(t)==Fw(e),[cB,fC]=eke(new Map),nke=zu({onLoadingSlow:oh,onSuccess:oh,onError:oh,onErrorRetry:tke,onDiscarded:oh,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:qU?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:qU?5e3:3e3,compare:rke,isPaused:()=>!1,cache:cB,mutate:fC,fallback:{}},YEe),ike=(t,e)=>{const r=zu(t,e);if(e){const{use:n,fallback:i}=t,{use:s,fallback:o}=e;n&&s&&(r.use=n.concat(s)),i&&o&&(r.fallback=zu(i,o))}return r},ske=N.createContext({}),lB="$inf$",RX=jk&&window.__SWR_DEVTOOLS_USE__,oke=RX?window.__SWR_DEVTOOLS_USE__:[],ake=()=>{RX&&(window.__SWR_DEVTOOLS_REACT__=gt)},MX=t=>qc(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],CX=()=>zu(nke,N.useContext(ske)),uke=t=>(e,r,n)=>t(e,r&&((...s)=>{const[o]=qf(e),[,,,a]=Lc.get(cB);if(o.startsWith(lB))return r(...s);const u=a[o];return Er(u)?r(...s):(delete a[o],u)}),n),cke=oke.concat(uke),lke=t=>function(...r){const n=CX(),[i,s,o]=MX(r),a=ike(n,o);let u=t;const{use:f}=a,d=(f||[]).concat(cke);for(let g=d.length;g--;)u=d[g](u);return u(i,s||a.fetcher||null,a)},fke=(t,e,r)=>{const n=e[t]||(e[t]=[]);return n.push(r),()=>{const i=n.indexOf(r);i>=0&&(n[i]=n[n.length-1],n.pop())}},fB=(t,e)=>(...r)=>{const[n,i,s]=MX(r),o=(s.use||[]).concat(e);return t(n,i,{...s,use:o})};ake();const awt=t=>qf(t)[0],GU=gt.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t)}),T4={dedupe:!0},dke=(t,e,r)=>{const{cache:n,compare:i,suspense:s,fallbackData:o,revalidateOnMount:a,revalidateIfStale:u,refreshInterval:f,refreshWhenHidden:d,refreshWhenOffline:g,keepPreviousData:y}=r,[b,A,x,k]=Lc.get(n),[I,R]=qf(t),M=N.useRef(!1),P=N.useRef(!1),j=N.useRef(I),V=N.useRef(e),Z=N.useRef(r),G=()=>Z.current,q=()=>G().isVisible()&&G().isOnline(),[ae,T,c,h]=of(n,I),p=N.useRef({}).current,m=Er(o)?r.fallback[I]:o,v=(K,oe)=>{for(const _e in p){const Se=_e;if(Se==="data"){if(!i(K[Se],oe[Se])&&(!Er(K[Se])||!i(O,oe[Se])))return!1}else if(oe[Se]!==K[Se])return!1}return!0},_=N.useMemo(()=>{const K=!I||!e?!1:Er(a)?G().isPaused()||s?!1:Er(u)?!0:u:a,oe=se=>{const Te=zu(se);return delete Te._k,K?{isValidating:!0,isLoading:!0,...Te}:Te},_e=ae(),Se=h(),W=oe(_e),re=_e===Se?W:oe(Se);let ne=W;return[()=>{const se=oe(ae());return v(se,ne)?(ne.data=se.data,ne.isLoading=se.isLoading,ne.isValidating=se.isValidating,ne.error=se.error,ne):(ne=se,se)},()=>re]},[n,I]),E=aB.useSyncExternalStore(N.useCallback(K=>c(I,(oe,_e)=>{v(_e,oe)||K()}),[n,I]),_[0],_[1]),w=!M.current,l=b[I]&&b[I].length>0,S=E.data,C=Er(S)?m:S,D=E.error,U=N.useRef(C),O=y?Er(S)?U.current:S:C,$=l&&!Er(D)?!1:w&&!Er(a)?a:G().isPaused()?!1:s?Er(C)?!1:u:Er(C)||u,F=!!(I&&e&&w&&$),H=Er(E.isValidating)?F:E.isValidating,Q=Er(E.isLoading)?F:E.isLoading,te=N.useCallback(async K=>{const oe=V.current;if(!I||!oe||P.current||G().isPaused())return!1;let _e,Se,W=!0;const re=K||{},ne=!x[I]||!re.dedupe,se=()=>lC?!P.current&&I===j.current&&M.current:I===j.current,Te={isValidating:!1,isLoading:!1},be=()=>{T(Te)},Ee=()=>{const le=x[I];le&&le[1]===Se&&delete x[I]},ut={isValidating:!0};Er(ae().data)&&(ut.isLoading=!0);try{if(ne&&(T(ut),r.loadingTimeout&&Er(ae().data)&&setTimeout(()=>{W&&se()&&G().onLoadingSlow(I,r)},r.loadingTimeout),x[I]=[oe(R),Uw()]),[_e,Se]=x[I],_e=await _e,ne&&setTimeout(Ee,r.dedupingInterval),!x[I]||x[I][1]!==Se)return ne&&se()&&G().onDiscarded(I),!1;Te.error=Oi;const le=A[I];if(!Er(le)&&(Se<=le[0]||Se<=le[1]||le[1]===0))return be(),ne&&se()&&G().onDiscarded(I),!1;const de=ae().data;Te.data=i(de,_e)?de:_e,ne&&se()&&G().onSuccess(_e,I,r)}catch(le){Ee();const de=G(),{shouldRetryOnError:Fe}=de;de.isPaused()||(Te.error=le,ne&&se()&&(de.onError(le,I,de),(Fe===!0||qc(Fe)&&Fe(le))&&q()&&de.onErrorRetry(le,I,de,ee=>{const z=b[I];z&&z[0]&&z[0](nv.ERROR_REVALIDATE_EVENT,ee)},{retryCount:(re.retryCount||0)+1,dedupe:!0})))}return W=!1,be(),!0},[I,n]),X=N.useCallback((...K)=>IX(n,j.current,...K),[]);if(u0(()=>{V.current=e,Z.current=r,Er(S)||(U.current=S)}),u0(()=>{if(!I)return;const K=te.bind(Oi,T4);let oe=0;const Se=fke(I,b,(W,re={})=>{if(W==nv.FOCUS_EVENT){const ne=Date.now();G().revalidateOnFocus&&ne>oe&&q()&&(oe=ne+G().focusThrottleInterval,K())}else if(W==nv.RECONNECT_EVENT)G().revalidateOnReconnect&&q()&&K();else{if(W==nv.MUTATE_EVENT)return te();if(W==nv.ERROR_REVALIDATE_EVENT)return te(re)}});return P.current=!1,j.current=I,M.current=!0,T({_k:R}),$&&(Er(C)||$w?K():XEe(K)),()=>{P.current=!0,Se()}},[I]),u0(()=>{let K;function oe(){const Se=qc(f)?f(ae().data):f;Se&&K!==-1&&(K=setTimeout(_e,Se))}function _e(){!ae().error&&(d||G().isVisible())&&(g||G().isOnline())?te(T4).then(oe):oe()}return oe(),()=>{K&&(clearTimeout(K),K=-1)}},[f,d,g,I]),N.useDebugValue(O),s&&Er(C)&&I){if(!lC&&$w)throw new Error("Fallback data is required when using suspense in SSR.");V.current=e,Z.current=r,P.current=!1;const K=k[I];if(!Er(K)){const oe=X(K);GU(oe)}if(Er(D)){const oe=te(T4);Er(O)||(oe.status="fulfilled",oe.value=!0),GU(oe)}else throw D}return{mutate:X,get data(){return p.data=!0,O},get error(){return p.error=!0,D},get isValidating(){return p.isValidating=!0,H},get isLoading(){return p.isLoading=!0,Q}}},g1=lke(dke);var hke=Object.defineProperty,pke=Object.defineProperties,gke=Object.getOwnPropertyDescriptors,YU=Object.getOwnPropertySymbols,mke=Object.prototype.hasOwnProperty,yke=Object.prototype.propertyIsEnumerable,ZU=(t,e,r)=>e in t?hke(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Mm=(t,e)=>{for(var r in e||(e={}))mke.call(e,r)&&ZU(t,r,e[r]);if(YU)for(var r of YU(e))yke.call(e,r)&&ZU(t,r,e[r]);return t},Dv=(t,e)=>pke(t,gke(e)),Kk=(t,e,r)=>new Promise((n,i)=>{var s=u=>{try{a(r.next(u))}catch(f){i(f)}},o=u=>{try{a(r.throw(u))}catch(f){i(f)}},a=u=>u.done?n(u.value):Promise.resolve(u.value).then(s,o);a((r=r.apply(t,e)).next())});typeof window<"u"&&(window.__ORDERLY_VERSION__=window.__ORDERLY_VERSION__||{},window.__ORDERLY_VERSION__["@orderly.network/net"]="2.0.2");var bke=class extends Error{constructor(t,e){super(t),this.code=e,this.name="ApiError"}};function PX(t,e){return Kk(this,null,function*(){if(!t.startsWith("http"))throw new Error("url must start with http(s)");const r=yield fetch(t,Dv(Mm({},e),{headers:vke(e.headers,e.method)}));if(r.ok)return yield r.json();try{const n=yield r.json();throw r.status===400?new bke(n.message||n.code||r.statusText,n.code):new Error(n.message||n.code||r.statusText)}catch(n){throw n}})}function vke(t={},e){const r=new Headers(t);return r.has("Content-Type")||(e!=="DELETE"?r.append("Content-Type","application/json;charset=utf-8"):r.append("Content-Type","application/x-www-form-urlencoded")),r}function NX(t,e,r){return Kk(this,null,function*(){const n=yield PX(t,Mm({method:"GET"},e));if(n.success)return typeof r=="function"?r(n.data):Array.isArray(n.data.rows)?n.data.rows:n.data;throw new Error(n.message)})}function wke(t,e){return Kk(this,null,function*(){return yield PX(t,e)})}var Ske=class{handle(t,e){throw new Error("Method not implemented.")}},_ke=class extends Ske{handle(t,e){e.send(JSON.stringify({event:"pong",ts:Date.now()}))}},Ake=new Map([["ping",new _ke]]),xke=t=>t.data,Eke="OqdphuyCtYWxwzhxyLLjOWNdFP7sQt8RPWzmb5xY",XU=1e3*60*2,JU=5,kke=class{constructor(t){this.options=t,this._eventContainer=new Map,this.publicIsReconnecting=!1,this.privateIsReconnecting=!1,this.reconnectInterval=1e3,this.authenticated=!1,this._pendingPrivateSubscribe=[],this._pendingPublicSubscribe=[],this._eventHandlers=new Map,this._eventPrivateHandlers=new Map,this._publicRetryCount=0,this._privateRetryCount=0,this.send=e=>{typeof e!="string"&&(e=JSON.stringify(e)),!(typeof e>"u")&&(this._publicSocket.readyState===WebSocket.OPEN?this._publicSocket.send(e):console.warn("WebSocket connection is not open. Cannot send message."))},this.createPublicSC(t),t.accountId&&this.createPrivateSC(t),this.bindEvents()}bindEvents(){var t,e;typeof document<"u"&&((t=document.addEventListener)==null||t.call(document,"visibilitychange",this.onVisibilityChange.bind(this))),typeof window<"u"&&((e=window.addEventListener)==null||e.call(window,"online",this.onNetworkStatusChange.bind(this)))}onVisibilityChange(){document.visibilityState==="visible"&&this.checkSocketStatus()}onNetworkStatusChange(){navigator.onLine&&this.checkSocketStatus()}checkSocketStatus(){var t,e;const r=Date.now();document.visibilityState==="visible"&&navigator.onLine&&(this.publicIsReconnecting||(this._publicSocket.readyState===WebSocket.CLOSED?this.reconnectPublic():r-this._publicHeartbeatTime>XU&&this._publicSocket.close()),this.privateIsReconnecting||(((t=this.privateSocket)==null?void 0:t.readyState)===WebSocket.CLOSED?this.reconnectPrivate():this._privateHeartbeatTime&&r-this._privateHeartbeatTime>XU&&((e=this.privateSocket)==null||e.close())))}openPrivate(t){var e;((e=this.privateSocket)==null?void 0:e.readyState)!==WebSocket.OPEN&&this.createPrivateSC(Dv(Mm({},this.options),{accountId:t}))}closePrivate(t,e){var r,n;((r=this.privateSocket)==null?void 0:r.readyState)===WebSocket.OPEN&&(this.authenticated=!1,this._pendingPrivateSubscribe=[],this._eventPrivateHandlers.clear(),(n=this.privateSocket)==null||n.close(t,e))}createPublicSC(t){this._publicSocket&&this._publicSocket.readyState===WebSocket.OPEN||(this._publicSocket=new WebSocket(`${this.options.publicUrl}/ws/stream/${Eke}`),this._publicSocket.onopen=this.onOpen.bind(this),this._publicSocket.addEventListener("message",this.onPublicMessage.bind(this)),this._publicSocket.addEventListener("close",this.onPublicClose.bind(this)),this._publicSocket.addEventListener("error",this.onPublicError.bind(this)))}createPrivateSC(t){this.privateSocket&&this.privateSocket.readyState===WebSocket.OPEN||(this.options=t,this.privateSocket=new WebSocket(`${this.options.privateUrl}/v2/ws/private/stream/${t.accountId}`),this.privateSocket.onopen=this.onPrivateOpen.bind(this),this.privateSocket.onmessage=this.onPrivateMessage.bind(this),this.privateSocket.onclose=this.onPrivateClose.bind(this),this.privateSocket.onerror=this.onPrivateError.bind(this))}onOpen(t){this._pendingPublicSubscribe.length>0&&(this._pendingPublicSubscribe.forEach(([e,r,n])=>{this.subscribe(e,r,n)}),this._pendingPublicSubscribe=[]),this.publicIsReconnecting=!1,this._publicRetryCount=0,this.emit("status:change",{type:"open",isPrivate:!1})}onPrivateOpen(t){this.authenticate(this.options.accountId),this.privateIsReconnecting=!1,this._privateRetryCount=0,this.emit("status:change",{type:"open",isPrivate:!0})}onMessage(t,e,r){try{const n=JSON.parse(t.data),i=Ake.get(n.event);if(n.event==="auth"&&n.success){this.authenticated=!0,this.handlePendingPrivateTopic();return}if(i)i.handle(n,e);else{const s=this.getTopicKeyFromMessage(n),o=r.get(s);o!=null&&o.callback&&o.callback.forEach(a=>{const u=a.formatter?a.formatter(n):xke(n);u&&a.onMessage(u)}),this._eventContainer.forEach((a,u)=>{new RegExp(u).test(s)&&this.emit(u,n)})}}catch{}}onPublicMessage(t){this.onMessage(t,this._publicSocket,this._eventHandlers),this._publicHeartbeatTime=Date.now()}onPrivateMessage(t){this.onMessage(t,this.privateSocket,this._eventPrivateHandlers),this._privateHeartbeatTime=Date.now()}handlePendingPrivateTopic(){this._pendingPrivateSubscribe.length>0&&(this._pendingPrivateSubscribe.forEach(([t,e])=>{this.privateSubscribe(t,e)}),this._pendingPrivateSubscribe=[])}onPublicClose(t){this._eventHandlers.forEach((e,r)=>{e.callback.forEach(n=>{this._pendingPublicSubscribe.push([e.params,n,e.isOnce])}),this._eventHandlers.delete(r)}),this.emit("status:change",{type:"close",isPrivate:!1}),setTimeout(()=>this.checkSocketStatus(),0)}onPrivateClose(t){t.code!==1e3&&(this.privateIsReconnecting||(this._eventPrivateHandlers.forEach((e,r)=>{e.callback.forEach(n=>{this._pendingPrivateSubscribe.push([e.params,n,e.isOnce])}),this._eventPrivateHandlers.delete(r)}),this.authenticated=!1,this.emit("status:change",{type:"close",isPrivate:!0,event:t}),setTimeout(()=>this.checkSocketStatus(),0)))}onPublicError(t){if(console.error("public WebSocket error:",t),this.publicIsReconnecting=!1,this._publicSocket.readyState===WebSocket.OPEN)this._publicSocket.close();else{if(this._publicRetryCount>JU)return;setTimeout(()=>{this.reconnectPublic(),this._publicRetryCount++},this._publicRetryCount*1e3)}this.errorBoardscast(t,this._eventHandlers),this.emit("status:change",{type:"error",isPrivate:!1})}onPrivateError(t){var e;if(console.error("Private WebSocket error:",t),this.privateIsReconnecting=!1,((e=this.privateSocket)==null?void 0:e.readyState)===WebSocket.OPEN)this.privateSocket.close();else{if(this._privateRetryCount>JU)return;setTimeout(()=>{this.reconnectPrivate(),this._privateRetryCount++},this._privateRetryCount*1e3)}this.errorBoardscast(t,this._eventPrivateHandlers),this.emit("status:change",{type:"error",isPrivate:!0})}errorBoardscast(t,e){e.forEach(r=>{r.callback.forEach(n=>{var i;(i=n.onError)==null||i.call(n,t)})})}close(){var t;this._publicSocket.close(),(t=this.privateSocket)==null||t.close()}set accountId(t){}authenticate(t){return Kk(this,null,function*(){var e,r;if(this.authenticated)return;if(!this.privateSocket){console.error("private ws not connected");return}if(this.privateSocket.readyState!==WebSocket.OPEN)return;const n=yield(r=(e=this.options).onSigntureRequest)==null?void 0:r.call(e,t);this.privateSocket.send(JSON.stringify({id:"auth",event:"auth",params:{orderly_key:n.publicKey,sign:n.signature,timestamp:n.timestamp}}))})}privateSubscribe(t,e){var r;const[n,i]=this.generateMessage(t,e.onUnsubscribe);if(((r=this.privateSocket)==null?void 0:r.readyState)!==WebSocket.OPEN)return this._pendingPrivateSubscribe.push([t,e]),()=>{this.unsubscribePrivate(n)};const s=n.topic||n.event,o=this._eventPrivateHandlers.get(s),a=Dv(Mm({},e),{onUnsubscribe:i});return o?o.callback.push(a):(this._eventPrivateHandlers.set(s,{params:t,callback:[a]}),this.privateSocket.send(JSON.stringify(n))),()=>{this.unsubscribePrivate(n)}}subscribe(t,e,r,n){const[i,s]=this.generateMessage(t,e.onUnsubscribe,e.onMessage);if(this._publicSocket.readyState!==WebSocket.OPEN)return this._pendingPublicSubscribe.push([t,e,r,n]),r?void 0:()=>{this.unsubscribePublic(i)};let o=this.getTopicKeyFromParams(i);const a=this._eventHandlers.get(o),u=Dv(Mm({},e),{onUnsubscribe:s});if(a?r?(a.callback=[u],this._publicSocket.send(JSON.stringify(i))):a.callback.push(u):(this._eventHandlers.set(o,{params:t,isOnce:r,callback:[u]}),this._publicSocket.send(JSON.stringify(i))),!r)return()=>{this.unsubscribePublic(i)}}getTopicKeyFromParams(t){let e;return t.topic?e=t.topic:(t.event,e=t.event,t.id&&(e+=`_${t.id}`)),e}getTopicKeyFromMessage(t){let e;return t.topic?e=t.topic:t.event&&(e=`${t.event}`,t.id&&(e+=`_${t.id}`)),e}onceSubscribe(t,e){this.subscribe(t,e,!0)}unsubscribe(t,e,r){const n=t.topic||t.event,i=r.get(n);if(i&&Array.isArray(i==null?void 0:i.callback))if(i.callback.length===1){const s=i.callback[0].onUnsubscribe(n);e.send(JSON.stringify(s)),r.delete(n)}else{const s=i.callback.findIndex(o=>o.onMessage===t.onMessage);if(s===-1)return;i.callback.splice(s,1)}}unsubscribePrivate(t){this.unsubscribe(t,this.privateSocket,this._eventPrivateHandlers)}unsubscribePublic(t){this.unsubscribe(t,this._publicSocket,this._eventHandlers)}generateMessage(t,e,r){let n;return typeof t=="string"?n={event:"subscribe",topic:t}:n=t,typeof e!="function"&&(typeof t=="string"?e=()=>({event:"unsubscribe",topic:t}):e=()=>({event:"unsubscribe",topic:t.topic})),[Dv(Mm({},n),{onMessage:r}),e]}reconnectPublic(){this.publicIsReconnecting||(this.publicIsReconnecting=!0,!(typeof window>"u")&&window.setTimeout(()=>{this.createPublicSC(this.options),this.emit("status:change",{type:"reconnecting",isPrivate:!1,count:this._publicRetryCount})},this.reconnectInterval))}reconnectPrivate(){this.options.accountId&&(this.privateIsReconnecting||(this.privateIsReconnecting=!0,!(typeof window>"u")&&window.setTimeout(()=>{this.createPrivateSC(this.options),this.emit("status:change",{type:"reconnecting",isPrivate:!0,count:this._privateRetryCount})},this.reconnectInterval)))}get client(){return{public:this._publicSocket,private:this.privateSocket}}on(t,e){var r;this._eventContainer.has(t)&&((r=this._eventContainer.get(t))==null||r.add(e)),this._eventContainer.set(t,new Set([e]))}off(t,e){var r;this._eventContainer.has(t)&&((r=this._eventContainer.get(t))==null||r.delete(e))}emit(t,e){var r;this._eventContainer.has(t)&&((r=this._eventContainer.get(t))==null||r.forEach(n=>n(e)))}};const QU=lC?t=>{t()}:gt.startTransition,Tke=t=>{const[,e]=N.useState({}),r=N.useRef(!1),n=N.useRef(t),i=N.useRef({data:!1,error:!1,isValidating:!1}),s=N.useCallback(o=>{let a=!1;const u=n.current;for(const f in o){const d=f;u[d]!==o[d]&&(u[d]=o[d],i.current[d]&&(a=!0))}a&&!r.current&&e({})},[]);return u0(()=>(r.current=!1,()=>{r.current=!0})),[n,i.current,s]},Ike=()=>(t,e,r={})=>{const{mutate:n}=CX(),i=N.useRef(t),s=N.useRef(e),o=N.useRef(r),a=N.useRef(0),[u,f,d]=Tke({data:Oi,error:Oi,isMutating:!1}),g=u.current,y=N.useCallback(async(A,x)=>{const[k,I]=qf(i.current);if(!s.current)throw new Error("Cant trigger the mutation: missing fetcher.");if(!k)throw new Error("Cant trigger the mutation: missing key.");const R=zu(zu({populateCache:!1,throwOnError:!0},o.current),x),M=Uw();a.current=M,d({isMutating:!0});try{const G=await n(k,s.current(I,{arg:A}),zu(R,{throwOnError:!0}));if(a.current<=M){var P,j;QU(()=>d({data:G,isMutating:!1,error:void 0})),(P=(j=R).onSuccess)==null||P.call(j,G,k,R)}return G}catch(G){if(a.current<=M){var V,Z;if(QU(()=>d({error:G,isMutating:!1})),(V=(Z=R).onError)==null||V.call(Z,G,k,R),R.throwOnError)throw G}}},[]),b=N.useCallback(()=>{a.current=Uw(),d({data:Oi,error:Oi,isMutating:!1})},[]);return u0(()=>{i.current=t,s.current=e,o.current=r}),{trigger:y,reset:b,get data(){return f.data=!0,g.data},get error(){return f.error=!0,g.error},get isMutating(){return f.isMutating=!0,g.isMutating}}},BX=fB(g1,Ike);function Hk(t){var e=N.useRef();return e.current||(e.current={v:t()}),e.current.v}const Rke="6.13.5";function Mke(t,e,r){const n=e.split("|").map(s=>s.trim());for(let s=0;s<n.length;s++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${r}`,i.value=t,i}async function uo(t){const e=Object.keys(t);return(await Promise.all(e.map(n=>Promise.resolve(t[n])))).reduce((n,i,s)=>(n[e[s]]=i,n),{})}function Xt(t,e,r){for(let n in e){let i=e[n];const s=r?r[n]:null;s&&Mke(i,s,n),Object.defineProperty(t,n,{enumerable:!0,value:i,writable:!1})}}function Cm(t){if(t==null)return"null";if(Array.isArray(t))return"[ "+t.map(Cm).join(", ")+" ]";if(t instanceof Uint8Array){const e="0123456789abcdef";let r="0x";for(let n=0;n<t.length;n++)r+=e[t[n]>>4],r+=e[t[n]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return Cm(t.toJSON());switch(typeof t){case"boolean":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"number":return t.toString();case"string":return JSON.stringify(t);case"object":{const e=Object.keys(t);return e.sort(),"{ "+e.map(r=>`${Cm(r)}: ${Cm(t[r])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Cs(t,e){return t&&t.code===e}function dB(t){return Cs(t,"CALL_EXCEPTION")}function fi(t,e,r){let n=t;{const s=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${Cm(r)}`);for(const o in r){if(o==="shortMessage")continue;const a=r[o];s.push(o+"="+Cm(a))}}s.push(`code=${e}`),s.push(`version=${Rke}`),s.length&&(t+=" ("+s.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(t);break;default:i=new Error(t)}return Xt(i,{code:e}),r&&Object.assign(i,r),i.shortMessage==null&&Xt(i,{shortMessage:n}),i}function st(t,e,r,n){if(!t)throw fi(e,r,n)}function Me(t,e,r,n){st(t,e,"INVALID_ARGUMENT",{argument:r,value:n})}function OX(t,e,r){r==null&&(r=""),r&&(r=": "+r),st(t>=e,"missing argument"+r,"MISSING_ARGUMENT",{count:t,expectedCount:e}),st(t<=e,"too many arguments"+r,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");t.push(e)}catch{}return t},[]);function t_(t,e,r){if(r==null&&(r=""),t!==e){let n=r,i="new";r&&(n+=".",i+=" "+r),st(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function LX(t,e,r){if(t instanceof Uint8Array)return r?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const n=new Uint8Array((t.length-2)/2);let i=2;for(let s=0;s<n.length;s++)n[s]=parseInt(t.substring(i,i+2),16),i+=2;return n}Me(!1,"invalid BytesLike value",e||"value",t)}function fr(t,e){return LX(t,e,!1)}function mo(t,e){return LX(t,e,!0)}function Un(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function hB(t){return Un(t,!0)||t instanceof Uint8Array}const ez="0123456789abcdef";function Pt(t){const e=fr(t);let r="0x";for(let n=0;n<e.length;n++){const i=e[n];r+=ez[(i&240)>>4]+ez[i&15]}return r}function ai(t){return"0x"+t.map(e=>Pt(e).substring(2)).join("")}function c0(t){return Un(t,!0)?(t.length-2)/2:fr(t).length}function gi(t,e,r){const n=fr(t);return r!=null&&r>n.length&&st(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r}),Pt(n.slice(e??0,r??n.length))}function DX(t,e,r){const n=fr(t);st(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),r?i.set(n,e-n.length):i.set(n,0),Pt(i)}function el(t,e){return DX(t,e,!0)}function FX(t,e){return DX(t,e,!1)}const qk=BigInt(0),Nu=BigInt(1),dC=9007199254740991;function $x(t,e){const r=Vk(t,"value"),n=BigInt(gr(e,"width"));if(st(r>>n===qk,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),r>>n-Nu){const i=(Nu<<n)-Nu;return-((~r&i)+Nu)}return r}function pB(t,e){let r=Ot(t,"value");const n=BigInt(gr(e,"width")),i=Nu<<n-Nu;if(r<qk){r=-r,st(r<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const s=(Nu<<n)-Nu;return(~r&s)+Nu}else st(r<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return r}function Ep(t,e){const r=Vk(t,"value"),n=BigInt(gr(e,"bits"));return r&(Nu<<n)-Nu}function Ot(t,e){switch(typeof t){case"bigint":return t;case"number":return Me(Number.isInteger(t),"underflow",e||"value",t),Me(t>=-9007199254740991&&t<=dC,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(r){Me(!1,`invalid BigNumberish string: ${r.message}`,e||"value",t)}}Me(!1,"invalid BigNumberish value",e||"value",t)}function Vk(t,e){const r=Ot(t,e);return st(r>=qk,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),r}const tz="0123456789abcdef";function Gk(t){if(t instanceof Uint8Array){let e="0x0";for(const r of t)e+=tz[r>>4],e+=tz[r&15];return BigInt(e)}return Ot(t)}function gr(t,e){switch(typeof t){case"bigint":return Me(t>=-9007199254740991&&t<=dC,"overflow",e||"value",t),Number(t);case"number":return Me(Number.isInteger(t),"underflow",e||"value",t),Me(t>=-9007199254740991&&t<=dC,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return gr(BigInt(t),e)}catch(r){Me(!1,`invalid numeric string: ${r.message}`,e||"value",t)}}Me(!1,"invalid numeric value",e||"value",t)}function Cke(t){return gr(Gk(t))}function xh(t,e){let n=Vk(t,"value").toString(16);if(e==null)n.length%2&&(n="0"+n);else{const i=gr(e,"width");for(st(i*2>=n.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});n.length<i*2;)n="0"+n}return"0x"+n}function Qs(t){const e=Vk(t,"value");if(e===qk)return new Uint8Array([]);let r=e.toString(16);r.length%2&&(r="0"+r);const n=new Uint8Array(r.length/2);for(let i=0;i<n.length;i++){const s=i*2;n[i]=parseInt(r.substring(s,s+2),16)}return n}function Pm(t){let e=Pt(hB(t)?t:Qs(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const rz="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const nz=BigInt(58);function Pke(t){const e=fr(t);let r=Gk(e),n="";for(;r;)n=rz[Number(r%nz)]+n,r/=nz;for(let i=0;i<e.length&&!e[i];i++)n=rz[0]+n;return n}function Nke(t){t=atob(t);const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return fr(e)}function Bke(t){const e=fr(t);let r="";for(let n=0;n<e.length;n++)r+=String.fromCharCode(e[n]);return btoa(r)}var xy;class $X{constructor(e,r,n){Ce(this,"filter");Ce(this,"emitter");Ye(this,xy);Ae(this,xy,r),Xt(this,{emitter:e,filter:n})}async removeListener(){ue(this,xy)!=null&&await this.emitter.off(this.filter,ue(this,xy))}}xy=new WeakMap;function Oke(t,e,r,n,i){Me(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function UX(t,e,r,n,i){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t==="OVERRUN"?r.length-e-1:0}function Lke(t,e,r,n,i){return t==="OVERLONG"?(Me(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),n.push(i),0):(n.push(65533),UX(t,e,r))}const Dke=Object.freeze({error:Oke,ignore:UX,replace:Lke});function Fke(t,e){e==null&&(e=Dke.error);const r=fr(t,"bytes"),n=[];let i=0;for(;i<r.length;){const s=r[i++];if(!(s>>7)){n.push(s);continue}let o=null,a=null;if((s&224)===192)o=1,a=127;else if((s&240)===224)o=2,a=2047;else if((s&248)===240)o=3,a=65535;else{(s&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,r,n):i+=e("BAD_PREFIX",i-1,r,n);continue}if(i-1+o>=r.length){i+=e("OVERRUN",i-1,r,n);continue}let u=s&(1<<8-o-1)-1;for(let f=0;f<o;f++){let d=r[i];if((d&192)!=128){i+=e("MISSING_CONTINUE",i,r,n),u=null;break}u=u<<6|d&63,i++}if(u!==null){if(u>1114111){i+=e("OUT_OF_RANGE",i-1-o,r,n,u);continue}if(u>=55296&&u<=57343){i+=e("UTF16_SURROGATE",i-1-o,r,n,u);continue}if(u<=a){i+=e("OVERLONG",i-1-o,r,n,u);continue}n.push(u)}}return n}function tl(t,e){Me(typeof t=="string","invalid string value","str",t);let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);Me(n<t.length&&(s&64512)===56320,"invalid surrogate pair","str",t);const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return new Uint8Array(r)}function $ke(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Ux(t,e){return $ke(Fke(t,e))}function zX(t){async function e(r,n){st(n==null||!n.cancelled,"request cancelled before sending","CANCELLED");const i=r.url.split(":")[0].toLowerCase();st(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),st(i==="https"||!r.credentials||r.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let s=null;const o=new AbortController,a=setTimeout(()=>{s=fi("request timeout","TIMEOUT"),o.abort()},r.timeout);n&&n.addListener(()=>{s=fi("request cancelled","CANCELLED"),o.abort()});const u={method:r.method,headers:new Headers(Array.from(r)),body:r.body||void 0,signal:o.signal};let f;try{f=await fetch(r.url,u)}catch(b){throw clearTimeout(a),s||b}clearTimeout(a);const d={};f.headers.forEach((b,A)=>{d[A.toLowerCase()]=b});const g=await f.arrayBuffer(),y=g==null?null:new Uint8Array(g);return{statusCode:f.status,statusMessage:f.statusText,headers:d,body:y}}return e}const Uke=12,zke=250;let iz=zX();const Wke=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),jke=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let I4=!1;async function WX(t,e){try{const r=t.match(Wke);if(!r)throw new Error("invalid data");return new dh(200,"OK",{"content-type":r[1]||"text/plain"},r[2]?Nke(r[3]):Hke(r[3]))}catch{return new dh(599,"BAD REQUEST (invalid data: URI)",{},null,new Vf(t))}}function jX(t){async function e(r,n){try{const i=r.match(jke);if(!i)throw new Error("invalid link");return new Vf(`${t}${i[2]}`)}catch{return new dh(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Vf(r))}}return e}const _A={data:WX,ipfs:jX("https://gateway.ipfs.io/ipfs/")},KX=new WeakMap;var $p,zd;class Kke{constructor(e){Ye(this,$p);Ye(this,zd);Ae(this,$p,[]),Ae(this,zd,!1),KX.set(e,()=>{if(!ue(this,zd)){Ae(this,zd,!0);for(const r of ue(this,$p))setTimeout(()=>{r()},0);Ae(this,$p,[])}})}addListener(e){st(!ue(this,zd),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),ue(this,$p).push(e)}get cancelled(){return ue(this,zd)}checkSignal(){st(!this.cancelled,"cancelled","CANCELLED",{})}}$p=new WeakMap,zd=new WeakMap;function AA(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var Ey,ky,Eu,cf,Ty,Iy,ts,na,lf,Up,zp,Wp,kc,ku,Wd,jp,Fv;const mk=class mk{constructor(e){Ye(this,jp);Ye(this,Ey);Ye(this,ky);Ye(this,Eu);Ye(this,cf);Ye(this,Ty);Ye(this,Iy);Ye(this,ts);Ye(this,na);Ye(this,lf);Ye(this,Up);Ye(this,zp);Ye(this,Wp);Ye(this,kc);Ye(this,ku);Ye(this,Wd);Ae(this,Iy,String(e)),Ae(this,Ey,!1),Ae(this,ky,!0),Ae(this,Eu,{}),Ae(this,cf,""),Ae(this,Ty,3e5),Ae(this,ku,{slotInterval:zke,maxAttempts:Uke}),Ae(this,Wd,null)}get url(){return ue(this,Iy)}set url(e){Ae(this,Iy,String(e))}get body(){return ue(this,ts)==null?null:new Uint8Array(ue(this,ts))}set body(e){if(e==null)Ae(this,ts,void 0),Ae(this,na,void 0);else if(typeof e=="string")Ae(this,ts,tl(e)),Ae(this,na,"text/plain");else if(e instanceof Uint8Array)Ae(this,ts,e),Ae(this,na,"application/octet-stream");else if(typeof e=="object")Ae(this,ts,tl(JSON.stringify(e))),Ae(this,na,"application/json");else throw new Error("invalid body")}hasBody(){return ue(this,ts)!=null}get method(){return ue(this,cf)?ue(this,cf):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),Ae(this,cf,String(e).toUpperCase())}get headers(){const e=Object.assign({},ue(this,Eu));return ue(this,lf)&&(e.authorization=`Basic ${Bke(tl(ue(this,lf)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&ue(this,na)&&(e["content-type"]=ue(this,na)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,r){ue(this,Eu)[String(e).toLowerCase()]=String(r)}clearHeaders(){Ae(this,Eu,{})}[Symbol.iterator](){const e=this.headers,r=Object.keys(e);let n=0;return{next:()=>{if(n<r.length){const i=r[n++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return ue(this,lf)||null}setCredentials(e,r){Me(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),Ae(this,lf,`${e}:${r}`)}get allowGzip(){return ue(this,ky)}set allowGzip(e){Ae(this,ky,!!e)}get allowInsecureAuthentication(){return!!ue(this,Ey)}set allowInsecureAuthentication(e){Ae(this,Ey,!!e)}get timeout(){return ue(this,Ty)}set timeout(e){Me(e>=0,"timeout must be non-zero","timeout",e),Ae(this,Ty,e)}get preflightFunc(){return ue(this,Up)||null}set preflightFunc(e){Ae(this,Up,e)}get processFunc(){return ue(this,zp)||null}set processFunc(e){Ae(this,zp,e)}get retryFunc(){return ue(this,Wp)||null}set retryFunc(e){Ae(this,Wp,e)}get getUrlFunc(){return ue(this,Wd)||iz}set getUrlFunc(e){Ae(this,Wd,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${ue(this,ts)?Pt(ue(this,ts)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(ue(this,ku).slotInterval=e.slotInterval),e.maxAttempts!=null&&(ue(this,ku).maxAttempts=e.maxAttempts)}send(){return st(ue(this,kc)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),Ae(this,kc,new Kke(this)),lt(this,jp,Fv).call(this,0,sz()+this.timeout,0,this,new dh(0,"",{},null,this))}cancel(){st(ue(this,kc)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=KX.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const r=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();st(this.method==="GET"&&(r!=="https"||n!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const i=new mk(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,Ae(i,Eu,Object.assign({},ue(this,Eu))),ue(this,ts)&&Ae(i,ts,new Uint8Array(ue(this,ts))),Ae(i,na,ue(this,na)),i}clone(){const e=new mk(this.url);return Ae(e,cf,ue(this,cf)),ue(this,ts)&&Ae(e,ts,ue(this,ts)),Ae(e,na,ue(this,na)),Ae(e,Eu,Object.assign({},ue(this,Eu))),Ae(e,lf,ue(this,lf)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),Ae(e,Up,ue(this,Up)),Ae(e,zp,ue(this,zp)),Ae(e,Wp,ue(this,Wp)),Ae(e,ku,Object.assign({},ue(this,ku))),Ae(e,Wd,ue(this,Wd)),e}static lockConfig(){I4=!0}static getGateway(e){return _A[e.toLowerCase()]||null}static registerGateway(e,r){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(I4)throw new Error("gateways locked");_A[e]=r}static registerGetUrl(e){if(I4)throw new Error("gateways locked");iz=e}static createGetUrlFunc(e){return zX()}static createDataGateway(){return WX}static createIpfsGatewayFunc(e){return jX(e)}};Ey=new WeakMap,ky=new WeakMap,Eu=new WeakMap,cf=new WeakMap,Ty=new WeakMap,Iy=new WeakMap,ts=new WeakMap,na=new WeakMap,lf=new WeakMap,Up=new WeakMap,zp=new WeakMap,Wp=new WeakMap,kc=new WeakMap,ku=new WeakMap,Wd=new WeakMap,jp=new WeakSet,Fv=async function(e,r,n,i,s){var d,g,y;if(e>=ue(this,ku).maxAttempts)return s.makeServerError("exceeded maximum retry limit");st(sz()<=r,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),n>0&&await qke(n);let o=this.clone();const a=(o.url.split(":")[0]||"").toLowerCase();if(a in _A){const b=await _A[a](o.url,AA(ue(i,kc)));if(b instanceof dh){let A=b;if(this.processFunc){AA(ue(i,kc));try{A=await this.processFunc(o,A)}catch(x){(x.throttle==null||typeof x.stall!="number")&&A.makeServerError("error in post-processing function",x).assertOk()}}return A}o=b}this.preflightFunc&&(o=await this.preflightFunc(o));const u=await this.getUrlFunc(o,AA(ue(i,kc)));let f=new dh(u.statusCode,u.statusMessage,u.headers,u.body,i);if(f.statusCode===301||f.statusCode===302){try{const b=f.headers.location||"";return lt(d=o.redirect(b),jp,Fv).call(d,e+1,r,0,i,f)}catch{}return f}else if(f.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,f,e))){const b=f.headers["retry-after"];let A=ue(this,ku).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof b=="string"&&b.match(/^[1-9][0-9]*$/)&&(A=parseInt(b)),lt(g=o.clone(),jp,Fv).call(g,e+1,r,A,i,f)}if(this.processFunc){AA(ue(i,kc));try{f=await this.processFunc(o,f)}catch(b){(b.throttle==null||typeof b.stall!="number")&&f.makeServerError("error in post-processing function",b).assertOk();let A=ue(this,ku).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return b.stall>=0&&(A=b.stall),lt(y=o.clone(),jp,Fv).call(y,e+1,r,A,i,f)}}return f};let Vf=mk;var LS,DS,FS,ia,Ry,Kp;const uU=class uU{constructor(e,r,n,i,s){Ye(this,LS);Ye(this,DS);Ye(this,FS);Ye(this,ia);Ye(this,Ry);Ye(this,Kp);Ae(this,LS,e),Ae(this,DS,r),Ae(this,FS,Object.keys(n).reduce((o,a)=>(o[a.toLowerCase()]=String(n[a]),o),{})),Ae(this,ia,i==null?null:new Uint8Array(i)),Ae(this,Ry,s||null),Ae(this,Kp,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${ue(this,ia)?Pt(ue(this,ia)):"null"}>`}get statusCode(){return ue(this,LS)}get statusMessage(){return ue(this,DS)}get headers(){return Object.assign({},ue(this,FS))}get body(){return ue(this,ia)==null?null:new Uint8Array(ue(this,ia))}get bodyText(){try{return ue(this,ia)==null?"":Ux(ue(this,ia))}catch{st(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{st(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,r=Object.keys(e);let n=0;return{next:()=>{if(n<r.length){const i=r[n++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,r){let n;e?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${e})`);const i=new uU(599,n,this.headers,this.body,ue(this,Ry)||void 0);return Ae(i,Kp,{message:e,error:r}),i}throwThrottleError(e,r){r==null?r=-1:Me(Number.isInteger(r)&&r>=0,"invalid stall timeout","stall",r);const n=new Error(e||"throttling requests");throw Xt(n,{stall:r,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return ue(this,ia)!=null}get request(){return ue(this,Ry)}ok(){return ue(this,Kp).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:r}=ue(this,Kp);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let i=null;try{ue(this,ia)&&(i=Ux(ue(this,ia)))}catch{}st(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:r,info:{requestUrl:n,responseBody:i,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};LS=new WeakMap,DS=new WeakMap,FS=new WeakMap,ia=new WeakMap,Ry=new WeakMap,Kp=new WeakMap;let dh=uU;function sz(){return new Date().getTime()}function Hke(t){return tl(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function qke(t){return new Promise(e=>setTimeout(e,t))}const Vke=BigInt(-1),Su=BigInt(0),Nm=BigInt(1),Gke=BigInt(5),Ig={};let ay="0000";for(;ay.length<80;)ay+=ay;function Qh(t){let e=ay;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function iv(t,e,r){const n=BigInt(e.width);if(e.signed){const i=Nm<<n-Nm;st(r==null||t>=-i&&t<i,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t>Su?t=$x(Ep(t,n),n):t=-$x(Ep(-t,n),n)}else{const i=Nm<<n;st(r==null||t>=0&&t<i,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t=(t%i+i)%i&i-Nm}return t}function R4(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,r=128,n=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const s=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);Me(s,"invalid fixed format","format",t),e=s[1]!=="u",r=parseInt(s[2]),n=parseInt(s[3])}}else if(t){const s=t,o=(a,u,f)=>s[a]==null?f:(Me(typeof s[a]===u,"invalid fixed format ("+a+" not "+u+")","format."+a,s[a]),s[a]);e=o("signed","boolean",e),r=o("width","number",r),n=o("decimals","number",n)}Me(r%8===0,"invalid FixedNumber width (not byte aligned)","format.width",r),Me(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n);const i=(e?"":"u")+"fixed"+String(r)+"x"+String(n);return{signed:e,width:r,decimals:n,name:i}}function Yke(t,e){let r="";t<Su&&(r="-",t*=Vke);let n=t.toString();if(e===0)return r+n;for(;n.length<=e;)n=ay+n;const i=n.length-e;for(n=n.substring(0,i)+"."+n.substring(i);n[0]==="0"&&n[1]!==".";)n=n.substring(1);for(;n[n.length-1]==="0"&&n[n.length-2]!==".";)n=n.substring(0,n.length-1);return r+n}var Tu,hn,io,sn,op,Hl,hC,pC,gC,mC;const Fd=class Fd{constructor(e,r,n){Ye(this,sn);Ce(this,"format");Ye(this,Tu);Ye(this,hn);Ye(this,io);Ce(this,"_value");t_(e,Ig,"FixedNumber"),Ae(this,hn,r),Ae(this,Tu,n);const i=Yke(r,n.decimals);Xt(this,{format:n.name,_value:i}),Ae(this,io,Qh(n.decimals))}get signed(){return ue(this,Tu).signed}get width(){return ue(this,Tu).width}get decimals(){return ue(this,Tu).decimals}get value(){return ue(this,hn)}addUnsafe(e){return lt(this,sn,hC).call(this,e)}add(e){return lt(this,sn,hC).call(this,e,"add")}subUnsafe(e){return lt(this,sn,pC).call(this,e)}sub(e){return lt(this,sn,pC).call(this,e,"sub")}mulUnsafe(e){return lt(this,sn,gC).call(this,e)}mul(e){return lt(this,sn,gC).call(this,e,"mul")}mulSignal(e){lt(this,sn,op).call(this,e);const r=ue(this,hn)*ue(e,hn);return st(r%ue(this,io)===Su,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),lt(this,sn,Hl).call(this,r/ue(this,io),"mulSignal")}divUnsafe(e){return lt(this,sn,mC).call(this,e)}div(e){return lt(this,sn,mC).call(this,e,"div")}divSignal(e){st(ue(e,hn)!==Su,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),lt(this,sn,op).call(this,e);const r=ue(this,hn)*ue(this,io);return st(r%ue(e,hn)===Su,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),lt(this,sn,Hl).call(this,r/ue(e,hn),"divSignal")}cmp(e){let r=this.value,n=e.value;const i=this.decimals-e.decimals;return i>0?n*=Qh(i):i<0&&(r*=Qh(-i)),r<n?-1:r>n?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=ue(this,hn);return ue(this,hn)<Su&&(e-=ue(this,io)-Nm),e=ue(this,hn)/ue(this,io)*ue(this,io),lt(this,sn,Hl).call(this,e,"floor")}ceiling(){let e=ue(this,hn);return ue(this,hn)>Su&&(e+=ue(this,io)-Nm),e=ue(this,hn)/ue(this,io)*ue(this,io),lt(this,sn,Hl).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const r=this.decimals-e,n=Gke*Qh(r-1);let i=this.value+n;const s=Qh(r);return i=i/s*s,iv(i,ue(this,Tu),"round"),new Fd(Ig,i,ue(this,Tu))}isZero(){return ue(this,hn)===Su}isNegative(){return ue(this,hn)<Su}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Fd.fromString(this.toString(),e)}static fromValue(e,r,n){const i=r==null?0:gr(r),s=R4(n);let o=Ot(e,"value");const a=i-s.decimals;if(a>0){const u=Qh(a);st(o%u===Su,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),o/=u}else a<0&&(o*=Qh(-a));return iv(o,s,"fromValue"),new Fd(Ig,o,s)}static fromString(e,r){const n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);Me(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);const i=R4(r);let s=n[2]||"0",o=n[3]||"";for(;o.length<i.decimals;)o+=ay;st(o.substring(i.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),o=o.substring(0,i.decimals);const a=BigInt(n[1]+s+o);return iv(a,i,"fromString"),new Fd(Ig,a,i)}static fromBytes(e,r){let n=Gk(fr(e,"value"));const i=R4(r);return i.signed&&(n=$x(n,i.width)),iv(n,i,"fromBytes"),new Fd(Ig,n,i)}};Tu=new WeakMap,hn=new WeakMap,io=new WeakMap,sn=new WeakSet,op=function(e){Me(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},Hl=function(e,r){return e=iv(e,ue(this,Tu),r),new Fd(Ig,e,ue(this,Tu))},hC=function(e,r){return lt(this,sn,op).call(this,e),lt(this,sn,Hl).call(this,ue(this,hn)+ue(e,hn),r)},pC=function(e,r){return lt(this,sn,op).call(this,e),lt(this,sn,Hl).call(this,ue(this,hn)-ue(e,hn),r)},gC=function(e,r){return lt(this,sn,op).call(this,e),lt(this,sn,Hl).call(this,ue(this,hn)*ue(e,hn)/ue(this,io),r)},mC=function(e,r){return st(ue(e,hn)!==Su,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),lt(this,sn,op).call(this,e),lt(this,sn,Hl).call(this,ue(this,hn)*ue(this,io)/ue(e,hn),r)};let zx=Fd;function Zke(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function oz(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function az(t,e,r,n){const i=[];for(;r<e+1+n;){const s=HX(t,r);i.push(s.result),r+=s.consumed,st(r<=e+1+n,"child data too short","BUFFER_OVERRUN",{buffer:t,length:n,offset:e})}return{consumed:1+n,result:i}}function HX(t,e){st(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const r=n=>{st(n<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:n})};if(t[e]>=248){const n=t[e]-247;r(e+1+n);const i=oz(t,e+1,n);return r(e+1+n+i),az(t,e,e+1+n,n+i)}else if(t[e]>=192){const n=t[e]-192;return r(e+1+n),az(t,e,e+1,n)}else if(t[e]>=184){const n=t[e]-183;r(e+1+n);const i=oz(t,e+1,n);r(e+1+n+i);const s=Pt(t.slice(e+1+n,e+1+n+i));return{consumed:1+n+i,result:s}}else if(t[e]>=128){const n=t[e]-128;r(e+1+n);const i=Pt(t.slice(e+1,e+1+n));return{consumed:1+n,result:i}}return{consumed:1,result:Zke(t[e])}}function Yk(t){const e=fr(t,"data"),r=HX(e,0);return Me(r.consumed===e.length,"unexpected junk after rlp payload","data",t),r.result}function uz(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function qX(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(qX(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=uz(n.length);return i.unshift(247+i.length),i.concat(n)}const e=Array.prototype.slice.call(fr(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=uz(e.length);return r.unshift(183+r.length),r.concat(e)}const cz="0123456789abcdef";function w0(t){let e="0x";for(const r of qX(t))e+=cz[r>>4],e+=cz[r&15];return e}const VX=["wei","kwei","mwei","gwei","szabo","finney","ether"];function gB(t,e){let r=18;if(typeof e=="string"){const n=VX.indexOf(e);Me(n>=0,"invalid unit","unit",e),r=3*n}else e!=null&&(r=gr(e,"unit"));return zx.fromValue(t,r,{decimals:r,width:512}).toString()}function mB(t,e){Me(typeof t=="string","value must be a string","value",t);let r=18;if(typeof e=="string"){const n=VX.indexOf(e);Me(n>=0,"invalid unit","unit",e),r=3*n}else e!=null&&(r=gr(e,"unit"));return zx.fromString(t,{decimals:r,width:512}).value}const bo=32,yC=new Uint8Array(bo),Xke=["then"],xA={},GX=new WeakMap;function hp(t){return GX.get(t)}function lz(t,e){GX.set(t,e)}function sv(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw r.error=e,r}function bC(t,e,r){return t.indexOf(null)>=0?e.map((n,i)=>n instanceof yb?bC(hp(n),n,r):n):t.reduce((n,i,s)=>{let o=e.getValue(i);return i in n||(r&&o instanceof yb&&(o=bC(hp(o),o,r)),n[i]=o),n},{})}var My;const ey=class ey extends Array{constructor(...r){const n=r[0];let i=r[1],s=(r[2]||[]).slice(),o=!0;n!==xA&&(i=r,s=[],o=!1);super(i.length);Ye(this,My);i.forEach((f,d)=>{this[d]=f});const a=s.reduce((f,d)=>(typeof d=="string"&&f.set(d,(f.get(d)||0)+1),f),new Map);if(lz(this,Object.freeze(i.map((f,d)=>{const g=s[d];return g!=null&&a.get(g)===1?g:null}))),Ae(this,My,[]),ue(this,My)==null&&ue(this,My),!o)return;Object.freeze(this);const u=new Proxy(this,{get:(f,d,g)=>{if(typeof d=="string"){if(d.match(/^[0-9]+$/)){const b=gr(d,"%index");if(b<0||b>=this.length)throw new RangeError("out of result range");const A=f[b];return A instanceof Error&&sv(`index ${b}`,A),A}if(Xke.indexOf(d)>=0)return Reflect.get(f,d,g);const y=f[d];if(y instanceof Function)return function(...b){return y.apply(this===g?f:this,b)};if(!(d in f))return f.getValue.apply(this===g?f:this,[d])}return Reflect.get(f,d,g)}});return lz(u,hp(this)),u}toArray(r){const n=[];return this.forEach((i,s)=>{i instanceof Error&&sv(`index ${s}`,i),r&&i instanceof ey&&(i=i.toArray(r)),n.push(i)}),n}toObject(r){const n=hp(this);return n.reduce((i,s,o)=>(st(s!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),bC(n,this,r)),{})}slice(r,n){r==null&&(r=0),r<0&&(r+=this.length,r<0&&(r=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);const i=hp(this),s=[],o=[];for(let a=r;a<n;a++)s.push(this[a]),o.push(i[a]);return new ey(xA,s,o)}filter(r,n){const i=hp(this),s=[],o=[];for(let a=0;a<this.length;a++){const u=this[a];u instanceof Error&&sv(`index ${a}`,u),r.call(n,u,a,this)&&(s.push(u),o.push(i[a]))}return new ey(xA,s,o)}map(r,n){const i=[];for(let s=0;s<this.length;s++){const o=this[s];o instanceof Error&&sv(`index ${s}`,o),i.push(r.call(n,o,s,this))}return i}getValue(r){const n=hp(this).indexOf(r);if(n===-1)return;const i=this[n];return i instanceof Error&&sv(`property ${JSON.stringify(r)}`,i.error),i}static fromItems(r,n){return new ey(xA,r,n)}};My=new WeakMap;let yb=ey;function fz(t){let e=Qs(t);return st(e.length<=bo,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:bo,offset:e.length}),e.length!==bo&&(e=mo(ai([yC.slice(e.length%bo),e]))),e}class od{constructor(e,r,n,i){Ce(this,"name");Ce(this,"type");Ce(this,"localName");Ce(this,"dynamic");Xt(this,{name:e,type:r,localName:n,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,r){Me(!1,e,this.localName,r)}}var ff,Hp,Cy,k2;class vC{constructor(){Ye(this,Cy);Ye(this,ff);Ye(this,Hp);Ae(this,ff,[]),Ae(this,Hp,0)}get data(){return ai(ue(this,ff))}get length(){return ue(this,Hp)}appendWriter(e){return lt(this,Cy,k2).call(this,mo(e.data))}writeBytes(e){let r=mo(e);const n=r.length%bo;return n&&(r=mo(ai([r,yC.slice(n)]))),lt(this,Cy,k2).call(this,r)}writeValue(e){return lt(this,Cy,k2).call(this,fz(e))}writeUpdatableValue(){const e=ue(this,ff).length;return ue(this,ff).push(yC),Ae(this,Hp,ue(this,Hp)+bo),r=>{ue(this,ff)[e]=fz(r)}}}ff=new WeakMap,Hp=new WeakMap,Cy=new WeakSet,k2=function(e){return ue(this,ff).push(e),Ae(this,Hp,ue(this,Hp)+e.length),e.length};var Ro,sa,qp,Vp,jd,G0,SC,YX;const cU=class cU{constructor(e,r,n){Ye(this,G0);Ce(this,"allowLoose");Ye(this,Ro);Ye(this,sa);Ye(this,qp);Ye(this,Vp);Ye(this,jd);Xt(this,{allowLoose:!!r}),Ae(this,Ro,mo(e)),Ae(this,qp,0),Ae(this,Vp,null),Ae(this,jd,n??1024),Ae(this,sa,0)}get data(){return Pt(ue(this,Ro))}get dataLength(){return ue(this,Ro).length}get consumed(){return ue(this,sa)}get bytes(){return new Uint8Array(ue(this,Ro))}subReader(e){const r=new cU(ue(this,Ro).slice(ue(this,sa)+e),this.allowLoose,ue(this,jd));return Ae(r,Vp,this),r}readBytes(e,r){let n=lt(this,G0,YX).call(this,0,e,!!r);return lt(this,G0,SC).call(this,e),Ae(this,sa,ue(this,sa)+n.length),n.slice(0,e)}readValue(){return Gk(this.readBytes(bo))}readIndex(){return Cke(this.readBytes(bo))}};Ro=new WeakMap,sa=new WeakMap,qp=new WeakMap,Vp=new WeakMap,jd=new WeakMap,G0=new WeakSet,SC=function(e){var r;if(ue(this,Vp))return lt(r=ue(this,Vp),G0,SC).call(r,e);Ae(this,qp,ue(this,qp)+e),st(ue(this,jd)<1||ue(this,qp)<=ue(this,jd)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${ue(this,jd)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:mo(ue(this,Ro)),offset:ue(this,sa),length:e,info:{bytesRead:ue(this,qp),dataLength:this.dataLength}})},YX=function(e,r,n){let i=Math.ceil(r/bo)*bo;return ue(this,sa)+i>ue(this,Ro).length&&(this.allowLoose&&n&&ue(this,sa)+r<=ue(this,Ro).length?i=r:st(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:mo(ue(this,Ro)),length:ue(this,Ro).length,offset:ue(this,sa)+i})),ue(this,Ro).slice(ue(this,sa),ue(this,sa)+i)};let wC=cU;function Wx(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function yB(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function Jke(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Wx(t.outputLen),Wx(t.blockLen)}function bb(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function ZX(t,e){yB(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const M4=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const XX=t=>t instanceof Uint8Array,Qke=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),C4=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),mc=(t,e)=>t<<32-e|t>>>e,e3e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!e3e)throw new Error("Non little-endian hardware is not supported");function t3e(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Zk(t){if(typeof t=="string"&&(t=t3e(t)),!XX(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function r3e(...t){const e=new Uint8Array(t.reduce((n,i)=>n+i.length,0));let r=0;return t.forEach(n=>{if(!XX(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}let bB=class{clone(){return this._cloneInto()}};function vB(t){const e=n=>t().update(Zk(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function n3e(t=32){if(M4&&typeof M4.getRandomValues=="function")return M4.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class JX extends bB{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,Jke(e);const n=Zk(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return bb(this),this.iHash.update(e),this}digestInto(e){bb(this),yB(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const QX=(t,e,r)=>new JX(t,e).update(r).digest();QX.create=(t,e)=>new JX(t,e);function i3e(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,f=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+f,a,n)}class eJ extends bB{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=C4(this.buffer)}update(e){bb(this);const{view:r,buffer:n,blockLen:i}=this;e=Zk(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const u=C4(e);for(;i<=s-o;o+=i)this.process(u,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){bb(this),ZX(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let g=o;g<i;g++)r[g]=0;i3e(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=C4(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=u/4,d=this.get();if(f>d.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<f;g++)a.setUint32(4*g,d[g],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}}const s3e=(t,e,r)=>t&e^~t&r,o3e=(t,e,r)=>t&e^t&r^e&r,a3e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),wd=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Sd=new Uint32Array(64);let u3e=class extends eJ{constructor(){super(64,32,8,!1),this.A=wd[0]|0,this.B=wd[1]|0,this.C=wd[2]|0,this.D=wd[3]|0,this.E=wd[4]|0,this.F=wd[5]|0,this.G=wd[6]|0,this.H=wd[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:u}=this;return[e,r,n,i,s,o,a,u]}set(e,r,n,i,s,o,a,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=u|0}process(e,r){for(let g=0;g<16;g++,r+=4)Sd[g]=e.getUint32(r,!1);for(let g=16;g<64;g++){const y=Sd[g-15],b=Sd[g-2],A=mc(y,7)^mc(y,18)^y>>>3,x=mc(b,17)^mc(b,19)^b>>>10;Sd[g]=x+Sd[g-7]+A+Sd[g-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:u,G:f,H:d}=this;for(let g=0;g<64;g++){const y=mc(a,6)^mc(a,11)^mc(a,25),b=d+y+s3e(a,u,f)+a3e[g]+Sd[g]|0,x=(mc(n,2)^mc(n,13)^mc(n,22))+o3e(n,i,s)|0;d=f,f=u,u=a,a=o+b|0,o=s,s=i,i=n,n=b+x|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,f=f+this.G|0,d=d+this.H|0,this.set(n,i,s,o,a,u,f,d)}roundClean(){Sd.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const tJ=vB(()=>new u3e),EA=BigInt(2**32-1),_C=BigInt(32);function rJ(t,e=!1){return e?{h:Number(t&EA),l:Number(t>>_C&EA)}:{h:Number(t>>_C&EA)|0,l:Number(t&EA)|0}}function nJ(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=rJ(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const c3e=(t,e)=>BigInt(t>>>0)<<_C|BigInt(e>>>0),l3e=(t,e,r)=>t>>>r,f3e=(t,e,r)=>t<<32-r|e>>>r,d3e=(t,e,r)=>t>>>r|e<<32-r,h3e=(t,e,r)=>t<<32-r|e>>>r,p3e=(t,e,r)=>t<<64-r|e>>>r-32,g3e=(t,e,r)=>t>>>r-32|e<<64-r,m3e=(t,e)=>e,y3e=(t,e)=>t,iJ=(t,e,r)=>t<<r|e>>>32-r,sJ=(t,e,r)=>e<<r|t>>>32-r,oJ=(t,e,r)=>e<<r-32|t>>>64-r,aJ=(t,e,r)=>t<<r-32|e>>>64-r;function b3e(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const v3e=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),w3e=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,S3e=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),_3e=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,A3e=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),x3e=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,yr={fromBig:rJ,split:nJ,toBig:c3e,shrSH:l3e,shrSL:f3e,rotrSH:d3e,rotrSL:h3e,rotrBH:p3e,rotrBL:g3e,rotr32H:m3e,rotr32L:y3e,rotlSH:iJ,rotlSL:sJ,rotlBH:oJ,rotlBL:aJ,add:b3e,add3L:v3e,add3H:w3e,add4L:S3e,add4H:_3e,add5H:x3e,add5L:A3e},[E3e,k3e]=yr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),_d=new Uint32Array(80),Ad=new Uint32Array(80);let T3e=class extends eJ{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:u,Eh:f,El:d,Fh:g,Fl:y,Gh:b,Gl:A,Hh:x,Hl:k}=this;return[e,r,n,i,s,o,a,u,f,d,g,y,b,A,x,k]}set(e,r,n,i,s,o,a,u,f,d,g,y,b,A,x,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=u|0,this.Eh=f|0,this.El=d|0,this.Fh=g|0,this.Fl=y|0,this.Gh=b|0,this.Gl=A|0,this.Hh=x|0,this.Hl=k|0}process(e,r){for(let M=0;M<16;M++,r+=4)_d[M]=e.getUint32(r),Ad[M]=e.getUint32(r+=4);for(let M=16;M<80;M++){const P=_d[M-15]|0,j=Ad[M-15]|0,V=yr.rotrSH(P,j,1)^yr.rotrSH(P,j,8)^yr.shrSH(P,j,7),Z=yr.rotrSL(P,j,1)^yr.rotrSL(P,j,8)^yr.shrSL(P,j,7),G=_d[M-2]|0,q=Ad[M-2]|0,ae=yr.rotrSH(G,q,19)^yr.rotrBH(G,q,61)^yr.shrSH(G,q,6),T=yr.rotrSL(G,q,19)^yr.rotrBL(G,q,61)^yr.shrSL(G,q,6),c=yr.add4L(Z,T,Ad[M-7],Ad[M-16]),h=yr.add4H(c,V,ae,_d[M-7],_d[M-16]);_d[M]=h|0,Ad[M]=c|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:u,Dh:f,Dl:d,Eh:g,El:y,Fh:b,Fl:A,Gh:x,Gl:k,Hh:I,Hl:R}=this;for(let M=0;M<80;M++){const P=yr.rotrSH(g,y,14)^yr.rotrSH(g,y,18)^yr.rotrBH(g,y,41),j=yr.rotrSL(g,y,14)^yr.rotrSL(g,y,18)^yr.rotrBL(g,y,41),V=g&b^~g&x,Z=y&A^~y&k,G=yr.add5L(R,j,Z,k3e[M],Ad[M]),q=yr.add5H(G,I,P,V,E3e[M],_d[M]),ae=G|0,T=yr.rotrSH(n,i,28)^yr.rotrBH(n,i,34)^yr.rotrBH(n,i,39),c=yr.rotrSL(n,i,28)^yr.rotrBL(n,i,34)^yr.rotrBL(n,i,39),h=n&s^n&a^s&a,p=i&o^i&u^o&u;I=x|0,R=k|0,x=b|0,k=A|0,b=g|0,A=y|0,{h:g,l:y}=yr.add(f|0,d|0,q|0,ae|0),f=a|0,d=u|0,a=s|0,u=o|0,s=n|0,o=i|0;const m=yr.add3L(ae,c,p);n=yr.add3H(m,q,T,h),i=m|0}({h:n,l:i}=yr.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=yr.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:u}=yr.add(this.Ch|0,this.Cl|0,a|0,u|0),{h:f,l:d}=yr.add(this.Dh|0,this.Dl|0,f|0,d|0),{h:g,l:y}=yr.add(this.Eh|0,this.El|0,g|0,y|0),{h:b,l:A}=yr.add(this.Fh|0,this.Fl|0,b|0,A|0),{h:x,l:k}=yr.add(this.Gh|0,this.Gl|0,x|0,k|0),{h:I,l:R}=yr.add(this.Hh|0,this.Hl|0,I|0,R|0),this.set(n,i,s,o,a,u,f,d,g,y,b,A,x,k,I,R)}roundClean(){_d.fill(0),Ad.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const I3e=vB(()=>new T3e);function R3e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof we.global<"u")return we.global;throw new Error("unable to locate global object")}const dz=R3e();dz.crypto||dz.msCrypto;function M3e(t){switch(t){case"sha256":return tJ.create();case"sha512":return I3e.create()}Me(!1,"invalid hashing algorithm name","algorithm",t)}const[uJ,cJ,lJ]=[[],[],[]],C3e=BigInt(0),ov=BigInt(1),P3e=BigInt(2),N3e=BigInt(7),B3e=BigInt(256),O3e=BigInt(113);for(let t=0,e=ov,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],uJ.push(2*(5*n+r)),cJ.push((t+1)*(t+2)/2%64);let i=C3e;for(let s=0;s<7;s++)e=(e<<ov^(e>>N3e)*O3e)%B3e,e&P3e&&(i^=ov<<(ov<<BigInt(s))-ov);lJ.push(i)}const[L3e,D3e]=nJ(lJ,!0),hz=(t,e,r)=>r>32?oJ(t,e,r):iJ(t,e,r),pz=(t,e,r)=>r>32?aJ(t,e,r):sJ(t,e,r);function F3e(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,u=(o+2)%10,f=r[u],d=r[u+1],g=hz(f,d,1)^r[a],y=pz(f,d,1)^r[a+1];for(let b=0;b<50;b+=10)t[o+b]^=g,t[o+b+1]^=y}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=cJ[o],u=hz(i,s,a),f=pz(i,s,a),d=uJ[o];i=t[d],s=t[d+1],t[d]=u,t[d+1]=f}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=L3e[n],t[1]^=D3e[n]}r.fill(0)}let $3e=class fJ extends bB{constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Wx(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Qke(this.state)}keccak(){F3e(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){bb(this);const{blockLen:r,state:n}=this;e=Zk(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){bb(this,!1),yB(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Wx(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(ZX(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new fJ(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const U3e=(t,e,r)=>vB(()=>new $3e(e,t,r)),z3e=U3e(1,136,256/8);let dJ=!1;const hJ=function(t){return z3e(t)};let pJ=hJ;function oi(t){const e=fr(t,"data");return Pt(pJ(e))}oi._=hJ;oi.lock=function(){dJ=!0};oi.register=function(t){if(dJ)throw new TypeError("keccak256 is locked");pJ=t};Object.freeze(oi);const gJ=function(t){return M3e("sha256").update(t).digest()};let mJ=gJ,yJ=!1;function m1(t){const e=fr(t,"data");return Pt(mJ(e))}m1._=gJ;m1.lock=function(){yJ=!0};m1.register=function(t){if(yJ)throw new Error("sha256 is locked");mJ=t};Object.freeze(m1);Object.freeze(m1);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const bJ=BigInt(0),Xk=BigInt(1),W3e=BigInt(2),Jk=t=>t instanceof Uint8Array,j3e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function vb(t){if(!Jk(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=j3e[t[r]];return e}function vJ(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function wB(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function wb(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){const i=n*2,s=t.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");r[n]=o}return r}function l0(t){return wB(vb(t))}function SB(t){if(!Jk(t))throw new Error("Uint8Array expected");return wB(vb(Uint8Array.from(t).reverse()))}function Sb(t,e){return wb(t.toString(16).padStart(e*2,"0"))}function _B(t,e){return Sb(t,e).reverse()}function K3e(t){return wb(vJ(t))}function Au(t,e,r){let n;if(typeof e=="string")try{n=wb(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(Jk(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function zw(...t){const e=new Uint8Array(t.reduce((n,i)=>n+i.length,0));let r=0;return t.forEach(n=>{if(!Jk(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function H3e(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function q3e(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function V3e(t){let e;for(e=0;t>bJ;t>>=Xk,e+=1);return e}function G3e(t,e){return t>>BigInt(e)&Xk}const Y3e=(t,e,r)=>t|(r?Xk:bJ)<<BigInt(e),AB=t=>(W3e<<BigInt(t-1))-Xk,P4=t=>new Uint8Array(t),gz=t=>Uint8Array.from(t);function wJ(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=P4(t),i=P4(t),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...g)=>r(i,n,...g),u=(g=P4())=>{i=a(gz([0]),g),n=a(),g.length!==0&&(i=a(gz([1]),g),n=a())},f=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let g=0;const y=[];for(;g<e;){n=a();const b=n.slice();y.push(b),g+=n.length}return zw(...y)};return(g,y)=>{o(),u(g);let b;for(;!(b=y(f()));)u();return o(),b}}const Z3e={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function r_(t,e,r={}){const n=(i,s,o)=>{const a=Z3e[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const u=t[i];if(!(o&&u===void 0)&&!a(u,t))throw new Error(`Invalid param ${String(i)}=${u} (${typeof u}), expected ${s}`)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}const X3e=Object.freeze(Object.defineProperty({__proto__:null,bitGet:G3e,bitLen:V3e,bitMask:AB,bitSet:Y3e,bytesToHex:vb,bytesToNumberBE:l0,bytesToNumberLE:SB,concatBytes:zw,createHmacDrbg:wJ,ensureBytes:Au,equalBytes:H3e,hexToBytes:wb,hexToNumber:wB,numberToBytesBE:Sb,numberToBytesLE:_B,numberToHexUnpadded:vJ,numberToVarBytesBE:K3e,utf8ToBytes:q3e,validateObject:r_},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ps=BigInt(0),ki=BigInt(1),pp=BigInt(2),J3e=BigInt(3),AC=BigInt(4),mz=BigInt(5),yz=BigInt(8);BigInt(9);BigInt(16);function Oo(t,e){const r=t%e;return r>=ps?r:e+r}function Q3e(t,e,r){if(r<=ps||e<ps)throw new Error("Expected power/modulo > 0");if(r===ki)return ps;let n=ki;for(;e>ps;)e&ki&&(n=n*t%r),t=t*t%r,e>>=ki;return n}function La(t,e,r){let n=t;for(;e-- >ps;)n*=n,n%=r;return n}function xC(t,e){if(t===ps||e<=ps)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Oo(t,e),n=e,i=ps,s=ki;for(;r!==ps;){const a=n/r,u=n%r,f=i-s*a;n=r,r=u,i=s,s=f}if(n!==ki)throw new Error("invert: does not exist");return Oo(i,e)}function eTe(t){const e=(t-ki)/pp;let r,n,i;for(r=t-ki,n=0;r%pp===ps;r/=pp,n++);for(i=pp;i<t&&Q3e(i,e,t)!==t-ki;i++);if(n===1){const o=(t+ki)/AC;return function(u,f){const d=u.pow(f,o);if(!u.eql(u.sqr(d),f))throw new Error("Cannot find square root");return d}}const s=(r+ki)/pp;return function(a,u){if(a.pow(u,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let f=n,d=a.pow(a.mul(a.ONE,i),r),g=a.pow(u,s),y=a.pow(u,r);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let b=1;for(let x=a.sqr(y);b<f&&!a.eql(x,a.ONE);b++)x=a.sqr(x);const A=a.pow(d,ki<<BigInt(f-b-1));d=a.sqr(A),g=a.mul(g,A),y=a.mul(y,d),f=b}return g}}function tTe(t){if(t%AC===J3e){const e=(t+ki)/AC;return function(n,i){const s=n.pow(i,e);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%yz===mz){const e=(t-mz)/yz;return function(n,i){const s=n.mul(i,pp),o=n.pow(s,e),a=n.mul(i,o),u=n.mul(n.mul(a,pp),o),f=n.mul(a,n.sub(u,n.ONE));if(!n.eql(n.sqr(f),i))throw new Error("Cannot find square root");return f}}return eTe(t)}const rTe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function nTe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=rTe.reduce((n,i)=>(n[i]="function",n),e);return r_(t,r)}function iTe(t,e,r){if(r<ps)throw new Error("Expected power > 0");if(r===ps)return t.ONE;if(r===ki)return e;let n=t.ONE,i=e;for(;r>ps;)r&ki&&(n=t.mul(n,i)),i=t.sqr(i),r>>=ki;return n}function sTe(t,e){const r=new Array(e.length),n=e.reduce((s,o,a)=>t.is0(o)?s:(r[a]=s,t.mul(s,o)),t.ONE),i=t.inv(n);return e.reduceRight((s,o,a)=>t.is0(o)?s:(r[a]=t.mul(s,r[a]),t.mul(s,o)),i),r}function SJ(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function oTe(t,e,r=!1,n={}){if(t<=ps)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=SJ(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=tTe(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:AB(i),ZERO:ps,ONE:ki,create:u=>Oo(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof u}`);return ps<=u&&u<t},is0:u=>u===ps,isOdd:u=>(u&ki)===ki,neg:u=>Oo(-u,t),eql:(u,f)=>u===f,sqr:u=>Oo(u*u,t),add:(u,f)=>Oo(u+f,t),sub:(u,f)=>Oo(u-f,t),mul:(u,f)=>Oo(u*f,t),pow:(u,f)=>iTe(a,u,f),div:(u,f)=>Oo(u*xC(f,t),t),sqrN:u=>u*u,addN:(u,f)=>u+f,subN:(u,f)=>u-f,mulN:(u,f)=>u*f,inv:u=>xC(u,t),sqrt:n.sqrt||(u=>o(a,u)),invertBatch:u=>sTe(a,u),cmov:(u,f,d)=>d?f:u,toBytes:u=>r?_B(u,s):Sb(u,s),fromBytes:u=>{if(u.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${u.length}`);return r?SB(u):l0(u)}});return Object.freeze(a)}function _J(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function AJ(t){const e=_J(t);return e+Math.ceil(e/2)}function aTe(t,e,r=!1){const n=t.length,i=_J(e),s=AJ(e);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);const o=r?l0(t):SB(t),a=Oo(o,e-ki)+ki;return r?_B(a,i):Sb(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const uTe=BigInt(0),N4=BigInt(1);function cTe(t,e){const r=(i,s)=>{const o=s.negate();return i?o:s},n=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:r,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>uTe;)s&N4&&(o=o.add(a)),a=a.double(),s>>=N4;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=n(s),u=[];let f=i,d=f;for(let g=0;g<o;g++){d=f,u.push(d);for(let y=1;y<a;y++)d=d.add(f),u.push(d);f=d.double()}return u},wNAF(i,s,o){const{windows:a,windowSize:u}=n(i);let f=t.ZERO,d=t.BASE;const g=BigInt(2**i-1),y=2**i,b=BigInt(i);for(let A=0;A<a;A++){const x=A*u;let k=Number(o&g);o>>=b,k>u&&(k-=y,o+=N4);const I=x,R=x+Math.abs(k)-1,M=A%2!==0,P=k<0;k===0?d=d.add(r(M,s[I])):f=f.add(r(P,s[R]))}return{p:f,f:d}},wNAFCached(i,s,o,a){const u=i._WINDOW_SIZE||1;let f=s.get(i);return f||(f=this.precomputeWindow(i,u),u!==1&&s.set(i,a(f))),this.wNAF(u,f,o)}}}function xJ(t){return nTe(t.Fp),r_(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...SJ(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function lTe(t){const e=xJ(t);r_(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:fTe,hexToBytes:dTe}=X3e,kp={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=kp;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:fTe(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=kp,r=typeof t=="string"?dTe(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=kp._parseInt(r.subarray(2)),{d:o,l:a}=kp._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){const e=f=>Number.parseInt(f[0],16)&8?"00"+f:f,r=f=>{const d=f.toString(16);return d.length&1?`0${d}`:d},n=e(r(t.s)),i=e(r(t.r)),s=n.length/2,o=i.length/2,a=r(s),u=r(o);return`30${r(o+s+4)}02${u}${i}02${a}${n}`}},xf=BigInt(0),Ga=BigInt(1);BigInt(2);const bz=BigInt(3);BigInt(4);function hTe(t){const e=lTe(t),{Fp:r}=e,n=e.toBytes||((A,x,k)=>{const I=x.toAffine();return zw(Uint8Array.from([4]),r.toBytes(I.x),r.toBytes(I.y))}),i=e.fromBytes||(A=>{const x=A.subarray(1),k=r.fromBytes(x.subarray(0,r.BYTES)),I=r.fromBytes(x.subarray(r.BYTES,2*r.BYTES));return{x:k,y:I}});function s(A){const{a:x,b:k}=e,I=r.sqr(A),R=r.mul(I,A);return r.add(r.add(R,r.mul(A,x)),k)}if(!r.eql(r.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(A){return typeof A=="bigint"&&xf<A&&A<e.n}function a(A){if(!o(A))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(A){const{allowedPrivateKeyLengths:x,nByteLength:k,wrapPrivateKey:I,n:R}=e;if(x&&typeof A!="bigint"){if(A instanceof Uint8Array&&(A=vb(A)),typeof A!="string"||!x.includes(A.length))throw new Error("Invalid key");A=A.padStart(k*2,"0")}let M;try{M=typeof A=="bigint"?A:l0(Au("private key",A,k))}catch{throw new Error(`private key must be ${k} bytes, hex or bigint, not ${typeof A}`)}return I&&(M=Oo(M,R)),a(M),M}const f=new Map;function d(A){if(!(A instanceof g))throw new Error("ProjectivePoint expected")}class g{constructor(x,k,I){if(this.px=x,this.py=k,this.pz=I,x==null||!r.isValid(x))throw new Error("x required");if(k==null||!r.isValid(k))throw new Error("y required");if(I==null||!r.isValid(I))throw new Error("z required")}static fromAffine(x){const{x:k,y:I}=x||{};if(!x||!r.isValid(k)||!r.isValid(I))throw new Error("invalid affine point");if(x instanceof g)throw new Error("projective point not allowed");const R=M=>r.eql(M,r.ZERO);return R(k)&&R(I)?g.ZERO:new g(k,I,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(x){const k=r.invertBatch(x.map(I=>I.pz));return x.map((I,R)=>I.toAffine(k[R])).map(g.fromAffine)}static fromHex(x){const k=g.fromAffine(i(Au("pointHex",x)));return k.assertValidity(),k}static fromPrivateKey(x){return g.BASE.multiply(u(x))}_setWindowSize(x){this._WINDOW_SIZE=x,f.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x,y:k}=this.toAffine();if(!r.isValid(x)||!r.isValid(k))throw new Error("bad point: x or y not FE");const I=r.sqr(k),R=s(x);if(!r.eql(I,R))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:x}=this.toAffine();if(r.isOdd)return!r.isOdd(x);throw new Error("Field doesn't support isOdd")}equals(x){d(x);const{px:k,py:I,pz:R}=this,{px:M,py:P,pz:j}=x,V=r.eql(r.mul(k,j),r.mul(M,R)),Z=r.eql(r.mul(I,j),r.mul(P,R));return V&&Z}negate(){return new g(this.px,r.neg(this.py),this.pz)}double(){const{a:x,b:k}=e,I=r.mul(k,bz),{px:R,py:M,pz:P}=this;let j=r.ZERO,V=r.ZERO,Z=r.ZERO,G=r.mul(R,R),q=r.mul(M,M),ae=r.mul(P,P),T=r.mul(R,M);return T=r.add(T,T),Z=r.mul(R,P),Z=r.add(Z,Z),j=r.mul(x,Z),V=r.mul(I,ae),V=r.add(j,V),j=r.sub(q,V),V=r.add(q,V),V=r.mul(j,V),j=r.mul(T,j),Z=r.mul(I,Z),ae=r.mul(x,ae),T=r.sub(G,ae),T=r.mul(x,T),T=r.add(T,Z),Z=r.add(G,G),G=r.add(Z,G),G=r.add(G,ae),G=r.mul(G,T),V=r.add(V,G),ae=r.mul(M,P),ae=r.add(ae,ae),G=r.mul(ae,T),j=r.sub(j,G),Z=r.mul(ae,q),Z=r.add(Z,Z),Z=r.add(Z,Z),new g(j,V,Z)}add(x){d(x);const{px:k,py:I,pz:R}=this,{px:M,py:P,pz:j}=x;let V=r.ZERO,Z=r.ZERO,G=r.ZERO;const q=e.a,ae=r.mul(e.b,bz);let T=r.mul(k,M),c=r.mul(I,P),h=r.mul(R,j),p=r.add(k,I),m=r.add(M,P);p=r.mul(p,m),m=r.add(T,c),p=r.sub(p,m),m=r.add(k,R);let v=r.add(M,j);return m=r.mul(m,v),v=r.add(T,h),m=r.sub(m,v),v=r.add(I,R),V=r.add(P,j),v=r.mul(v,V),V=r.add(c,h),v=r.sub(v,V),G=r.mul(q,m),V=r.mul(ae,h),G=r.add(V,G),V=r.sub(c,G),G=r.add(c,G),Z=r.mul(V,G),c=r.add(T,T),c=r.add(c,T),h=r.mul(q,h),m=r.mul(ae,m),c=r.add(c,h),h=r.sub(T,h),h=r.mul(q,h),m=r.add(m,h),T=r.mul(c,m),Z=r.add(Z,T),T=r.mul(v,m),V=r.mul(p,V),V=r.sub(V,T),T=r.mul(p,c),G=r.mul(v,G),G=r.add(G,T),new g(V,Z,G)}subtract(x){return this.add(x.negate())}is0(){return this.equals(g.ZERO)}wNAF(x){return b.wNAFCached(this,f,x,k=>{const I=r.invertBatch(k.map(R=>R.pz));return k.map((R,M)=>R.toAffine(I[M])).map(g.fromAffine)})}multiplyUnsafe(x){const k=g.ZERO;if(x===xf)return k;if(a(x),x===Ga)return this;const{endo:I}=e;if(!I)return b.unsafeLadder(this,x);let{k1neg:R,k1:M,k2neg:P,k2:j}=I.splitScalar(x),V=k,Z=k,G=this;for(;M>xf||j>xf;)M&Ga&&(V=V.add(G)),j&Ga&&(Z=Z.add(G)),G=G.double(),M>>=Ga,j>>=Ga;return R&&(V=V.negate()),P&&(Z=Z.negate()),Z=new g(r.mul(Z.px,I.beta),Z.py,Z.pz),V.add(Z)}multiply(x){a(x);let k=x,I,R;const{endo:M}=e;if(M){const{k1neg:P,k1:j,k2neg:V,k2:Z}=M.splitScalar(k);let{p:G,f:q}=this.wNAF(j),{p:ae,f:T}=this.wNAF(Z);G=b.constTimeNegate(P,G),ae=b.constTimeNegate(V,ae),ae=new g(r.mul(ae.px,M.beta),ae.py,ae.pz),I=G.add(ae),R=q.add(T)}else{const{p:P,f:j}=this.wNAF(k);I=P,R=j}return g.normalizeZ([I,R])[0]}multiplyAndAddUnsafe(x,k,I){const R=g.BASE,M=(j,V)=>V===xf||V===Ga||!j.equals(R)?j.multiplyUnsafe(V):j.multiply(V),P=M(this,k).add(M(x,I));return P.is0()?void 0:P}toAffine(x){const{px:k,py:I,pz:R}=this,M=this.is0();x==null&&(x=M?r.ONE:r.inv(R));const P=r.mul(k,x),j=r.mul(I,x),V=r.mul(R,x);if(M)return{x:r.ZERO,y:r.ZERO};if(!r.eql(V,r.ONE))throw new Error("invZ was invalid");return{x:P,y:j}}isTorsionFree(){const{h:x,isTorsionFree:k}=e;if(x===Ga)return!0;if(k)return k(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:x,clearCofactor:k}=e;return x===Ga?this:k?k(g,this):this.multiplyUnsafe(e.h)}toRawBytes(x=!0){return this.assertValidity(),n(g,this,x)}toHex(x=!0){return vb(this.toRawBytes(x))}}g.BASE=new g(e.Gx,e.Gy,r.ONE),g.ZERO=new g(r.ZERO,r.ONE,r.ZERO);const y=e.nBitLength,b=cTe(g,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:g,normPrivateKeyToScalar:u,weierstrassEquation:s,isWithinCurveOrder:o}}function pTe(t){const e=xJ(t);return r_(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function gTe(t){const e=pTe(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function o(m){return xf<m&&m<r.ORDER}function a(m){return Oo(m,n)}function u(m){return xC(m,n)}const{ProjectivePoint:f,normPrivateKeyToScalar:d,weierstrassEquation:g,isWithinCurveOrder:y}=hTe({...e,toBytes(m,v,_){const E=v.toAffine(),w=r.toBytes(E.x),l=zw;return _?l(Uint8Array.from([v.hasEvenY()?2:3]),w):l(Uint8Array.from([4]),w,r.toBytes(E.y))},fromBytes(m){const v=m.length,_=m[0],E=m.subarray(1);if(v===i&&(_===2||_===3)){const w=l0(E);if(!o(w))throw new Error("Point is not on curve");const l=g(w);let S=r.sqrt(l);const C=(S&Ga)===Ga;return(_&1)===1!==C&&(S=r.neg(S)),{x:w,y:S}}else if(v===s&&_===4){const w=r.fromBytes(E.subarray(0,r.BYTES)),l=r.fromBytes(E.subarray(r.BYTES,2*r.BYTES));return{x:w,y:l}}else throw new Error(`Point of length ${v} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),b=m=>vb(Sb(m,e.nByteLength));function A(m){const v=n>>Ga;return m>v}function x(m){return A(m)?a(-m):m}const k=(m,v,_)=>l0(m.slice(v,_));class I{constructor(v,_,E){this.r=v,this.s=_,this.recovery=E,this.assertValidity()}static fromCompact(v){const _=e.nByteLength;return v=Au("compactSignature",v,_*2),new I(k(v,0,_),k(v,_,2*_))}static fromDER(v){const{r:_,s:E}=kp.toSig(Au("DER",v));return new I(_,E)}assertValidity(){if(!y(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!y(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(v){return new I(this.r,this.s,v)}recoverPublicKey(v){const{r:_,s:E,recovery:w}=this,l=Z(Au("msgHash",v));if(w==null||![0,1,2,3].includes(w))throw new Error("recovery id invalid");const S=w===2||w===3?_+e.n:_;if(S>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const C=w&1?"03":"02",D=f.fromHex(C+b(S)),U=u(S),O=a(-l*U),$=a(E*U),F=f.BASE.multiplyAndAddUnsafe(D,O,$);if(!F)throw new Error("point at infinify");return F.assertValidity(),F}hasHighS(){return A(this.s)}normalizeS(){return this.hasHighS()?new I(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return wb(this.toDERHex())}toDERHex(){return kp.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return wb(this.toCompactHex())}toCompactHex(){return b(this.r)+b(this.s)}}const R={isValidPrivateKey(m){try{return d(m),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const m=AJ(e.n);return aTe(e.randomBytes(m),e.n)},precompute(m=8,v=f.BASE){return v._setWindowSize(m),v.multiply(BigInt(3)),v}};function M(m,v=!0){return f.fromPrivateKey(m).toRawBytes(v)}function P(m){const v=m instanceof Uint8Array,_=typeof m=="string",E=(v||_)&&m.length;return v?E===i||E===s:_?E===2*i||E===2*s:m instanceof f}function j(m,v,_=!0){if(P(m))throw new Error("first arg must be private key");if(!P(v))throw new Error("second arg must be public key");return f.fromHex(v).multiply(d(m)).toRawBytes(_)}const V=e.bits2int||function(m){const v=l0(m),_=m.length*8-e.nBitLength;return _>0?v>>BigInt(_):v},Z=e.bits2int_modN||function(m){return a(V(m))},G=AB(e.nBitLength);function q(m){if(typeof m!="bigint")throw new Error("bigint expected");if(!(xf<=m&&m<G))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Sb(m,e.nByteLength)}function ae(m,v,_=T){if(["recovered","canonical"].some(Q=>Q in _))throw new Error("sign() legacy options not supported");const{hash:E,randomBytes:w}=e;let{lowS:l,prehash:S,extraEntropy:C}=_;l==null&&(l=!0),m=Au("msgHash",m),S&&(m=Au("prehashed msgHash",E(m)));const D=Z(m),U=d(v),O=[q(U),q(D)];if(C!=null){const Q=C===!0?w(r.BYTES):C;O.push(Au("extraEntropy",Q))}const $=zw(...O),F=D;function H(Q){const te=V(Q);if(!y(te))return;const X=u(te),K=f.BASE.multiply(te).toAffine(),oe=a(K.x);if(oe===xf)return;const _e=a(X*a(F+oe*U));if(_e===xf)return;let Se=(K.x===oe?0:2)|Number(K.y&Ga),W=_e;return l&&A(_e)&&(W=x(_e),Se^=1),new I(oe,W,Se)}return{seed:$,k2sig:H}}const T={lowS:e.lowS,prehash:!1},c={lowS:e.lowS,prehash:!1};function h(m,v,_=T){const{seed:E,k2sig:w}=ae(m,v,_),l=e;return wJ(l.hash.outputLen,l.nByteLength,l.hmac)(E,w)}f.BASE._setWindowSize(8);function p(m,v,_,E=c){var K;const w=m;if(v=Au("msgHash",v),_=Au("publicKey",_),"strict"in E)throw new Error("options.strict was renamed to lowS");const{lowS:l,prehash:S}=E;let C,D;try{if(typeof w=="string"||w instanceof Uint8Array)try{C=I.fromDER(w)}catch(oe){if(!(oe instanceof kp.Err))throw oe;C=I.fromCompact(w)}else if(typeof w=="object"&&typeof w.r=="bigint"&&typeof w.s=="bigint"){const{r:oe,s:_e}=w;C=new I(oe,_e)}else throw new Error("PARSE");D=f.fromHex(_)}catch(oe){if(oe.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(l&&C.hasHighS())return!1;S&&(v=e.hash(v));const{r:U,s:O}=C,$=Z(v),F=u(O),H=a($*F),Q=a(U*F),te=(K=f.BASE.multiplyAndAddUnsafe(D,H,Q))==null?void 0:K.toAffine();return te?a(te.x)===U:!1}return{CURVE:e,getPublicKey:M,getSharedSecret:j,sign:h,verify:p,ProjectivePoint:f,Signature:I,utils:R}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function mTe(t){return{hash:t,hmac:(e,...r)=>QX(t,e,r3e(...r)),randomBytes:n3e}}function yTe(t,e){const r=n=>gTe({...t,...mTe(n)});return Object.freeze({...r(e),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const EJ=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),vz=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),bTe=BigInt(1),EC=BigInt(2),wz=(t,e)=>(t+e/EC)/e;function vTe(t){const e=EJ,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),u=BigInt(88),f=t*t*t%e,d=f*f*t%e,g=La(d,r,e)*d%e,y=La(g,r,e)*d%e,b=La(y,EC,e)*f%e,A=La(b,i,e)*b%e,x=La(A,s,e)*A%e,k=La(x,a,e)*x%e,I=La(k,u,e)*k%e,R=La(I,a,e)*x%e,M=La(R,r,e)*d%e,P=La(M,o,e)*A%e,j=La(P,n,e)*f%e,V=La(j,EC,e);if(!kC.eql(kC.sqr(V),t))throw new Error("Cannot find square root");return V}const kC=oTe(EJ,void 0,void 0,{sqrt:vTe}),Cd=yTe({a:BigInt(0),b:BigInt(7),Fp:kC,n:vz,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=vz,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-bTe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=wz(s*t,e),u=wz(-n*t,e);let f=Oo(t-a*r-u*i,e),d=Oo(-a*n-u*s,e);const g=f>o,y=d>o;if(g&&(f=e-f),y&&(d=e-d),f>o||d>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:g,k1:f,k2neg:y,k2:d}}}},tJ);BigInt(0);Cd.ProjectivePoint;const Ww="0x0000000000000000000000000000000000000000",Sz="0x0000000000000000000000000000000000000000000000000000000000000000",_z=BigInt(0),Az=BigInt(1),xz=BigInt(2),Ez=BigInt(27),kz=BigInt(28),kA=BigInt(35),Rg={};function Tz(t){return el(Qs(t),32)}var Py,Ny,By,Gp,Po;let Gf=(Po=class{constructor(e,r,n,i){Ye(this,Py);Ye(this,Ny);Ye(this,By);Ye(this,Gp);t_(e,Rg,"Signature"),Ae(this,Py,r),Ae(this,Ny,n),Ae(this,By,i),Ae(this,Gp,null)}get r(){return ue(this,Py)}set r(e){Me(c0(e)===32,"invalid r","value",e),Ae(this,Py,Pt(e))}get s(){return ue(this,Ny)}set s(e){Me(c0(e)===32,"invalid s","value",e);const r=Pt(e);Me(parseInt(r.substring(0,3))<8,"non-canonical s","value",r),Ae(this,Ny,r)}get v(){return ue(this,By)}set v(e){const r=gr(e,"value");Me(r===27||r===28,"invalid v","v",e),Ae(this,By,r)}get networkV(){return ue(this,Gp)}get legacyChainId(){const e=this.networkV;return e==null?null:Po.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=fr(this.s);return this.yParity&&(e[0]|=128),Pt(e)}get compactSerialized(){return ai([this.r,this.yParityAndS])}get serialized(){return ai([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new Po(Rg,this.r,this.s,this.v);return this.networkV&&Ae(e,Gp,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const r=Ot(e,"v");return r==Ez||r==kz?_z:(Me(r>=kA,"invalid EIP-155 v","v",e),(r-kA)/xz)}static getChainIdV(e,r){return Ot(e)*xz+BigInt(35+r-27)}static getNormalizedV(e){const r=Ot(e);return r===_z||r===Ez?27:r===Az||r===kz?28:(Me(r>=kA,"invalid v","v",e),r&Az?27:28)}static from(e){function r(f,d){Me(f,d,"signature",e)}if(e==null)return new Po(Rg,Sz,Sz,27);if(typeof e=="string"){const f=fr(e,"signature");if(f.length===64){const d=Pt(f.slice(0,32)),g=f.slice(32,64),y=g[0]&128?28:27;return g[0]&=127,new Po(Rg,d,Pt(g),y)}if(f.length===65){const d=Pt(f.slice(0,32)),g=f.slice(32,64);r((g[0]&128)===0,"non-canonical s");const y=Po.getNormalizedV(f[64]);return new Po(Rg,d,Pt(g),y)}r(!1,"invalid raw signature length")}if(e instanceof Po)return e.clone();const n=e.r;r(n!=null,"missing r");const i=Tz(n),s=function(f,d){if(f!=null)return Tz(f);if(d!=null){r(Un(d,32),"invalid yParityAndS");const g=fr(d);return g[0]&=127,Pt(g)}r(!1,"missing s")}(e.s,e.yParityAndS);r((fr(s)[0]&128)==0,"non-canonical s");const{networkV:o,v:a}=function(f,d,g){if(f!=null){const y=Ot(f);return{networkV:y>=kA?y:void 0,v:Po.getNormalizedV(y)}}if(d!=null)return r(Un(d,32),"invalid yParityAndS"),{v:fr(d)[0]&128?28:27};if(g!=null){switch(gr(g,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}r(!1,"invalid yParity")}r(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),u=new Po(Rg,i,s,a);return o&&Ae(u,Gp,o),r(e.yParity==null||gr(e.yParity,"sig.yParity")===u.yParity,"yParity mismatch"),r(e.yParityAndS==null||e.yParityAndS===u.yParityAndS,"yParityAndS mismatch"),u}},Py=new WeakMap,Ny=new WeakMap,By=new WeakMap,Gp=new WeakMap,Po);var df;const _p=class _p{constructor(e){Ye(this,df);Me(c0(e)===32,"invalid private key","privateKey","[REDACTED]"),Ae(this,df,Pt(e))}get privateKey(){return ue(this,df)}get publicKey(){return _p.computePublicKey(ue(this,df))}get compressedPublicKey(){return _p.computePublicKey(ue(this,df),!0)}sign(e){Me(c0(e)===32,"invalid digest length","digest",e);const r=Cd.sign(mo(e),mo(ue(this,df)),{lowS:!0});return Gf.from({r:xh(r.r,32),s:xh(r.s,32),v:r.recovery?28:27})}computeSharedSecret(e){const r=_p.computePublicKey(e);return Pt(Cd.getSharedSecret(mo(ue(this,df)),fr(r),!1))}static computePublicKey(e,r){let n=fr(e,"key");if(n.length===32){const s=Cd.getPublicKey(n,!!r);return Pt(s)}if(n.length===64){const s=new Uint8Array(65);s[0]=4,s.set(n,1),n=s}const i=Cd.ProjectivePoint.fromHex(n);return Pt(i.toRawBytes(r))}static recoverPublicKey(e,r){Me(c0(e)===32,"invalid digest length","digest",e);const n=Gf.from(r);let i=Cd.Signature.fromCompact(mo(ai([n.r,n.s])));i=i.addRecoveryBit(n.yParity);const s=i.recoverPublicKey(mo(e));return Me(s!=null,"invalid signautre for digest","signature",r),"0x"+s.toHex(!1)}static addPoints(e,r,n){const i=Cd.ProjectivePoint.fromHex(_p.computePublicKey(e).substring(2)),s=Cd.ProjectivePoint.fromHex(_p.computePublicKey(r).substring(2));return"0x"+i.add(s).toHex(!!n)}};df=new WeakMap;let jw=_p;const wTe=BigInt(0),STe=BigInt(36);function Iz(t){t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=fr(oi(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const xB={};for(let t=0;t<10;t++)xB[String(t)]=String(t);for(let t=0;t<26;t++)xB[String.fromCharCode(65+t)]=String(10+t);const Rz=15;function _Te(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>xB[n]).join("");for(;e.length>=Rz;){let n=e.substring(0,Rz);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}const ATe=function(){const t={};for(let e=0;e<36;e++){const r="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[r]=BigInt(e)}return t}();function xTe(t){t=t.toLowerCase();let e=wTe;for(let r=0;r<t.length;r++)e=e*STe+ATe[t[r]];return e}function ln(t){if(Me(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=Iz(t);return Me(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){Me(t.substring(2,4)===_Te(t),"bad icap checksum","address",t);let e=xTe(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return Iz("0x"+e)}Me(!1,"invalid address","address",t)}function ETe(t){const e=ln(t.from);let n=Ot(t.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,ln(gi(oi(w0([e,n])),12))}function kJ(t){return t&&typeof t.getAddress=="function"}async function B4(t,e){const r=await e;return(r==null||r==="0x0000000000000000000000000000000000000000")&&(st(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),Me(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),ln(r)}function vo(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?ln(t):(st(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),B4(t,e.resolveName(t)));if(kJ(t))return B4(t,t.getAddress());if(t&&typeof t.then=="function")return B4(t,t);Me(!1,"unsupported addressable value","target",t)}const Jl={};function Ct(t,e){let r=!1;return e<0&&(r=!0,e*=-1),new eo(Jl,`${r?"":"u"}int${e}`,t,{signed:r,width:e})}function Gr(t,e){return new eo(Jl,`bytes${e||""}`,t,{size:e})}const Mz=Symbol.for("_ethers_typed");var Yp;const nf=class nf{constructor(e,r,n,i){Ce(this,"type");Ce(this,"value");Ye(this,Yp);Ce(this,"_typedSymbol");i==null&&(i=null),t_(Jl,e,"Typed"),Xt(this,{_typedSymbol:Mz,type:r,value:n}),Ae(this,Yp,i),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return ue(this,Yp)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return ue(this,Yp)===!0?-1:ue(this,Yp)===!1?this.value.length:null}static from(e,r){return new nf(Jl,e,r)}static uint8(e){return Ct(e,8)}static uint16(e){return Ct(e,16)}static uint24(e){return Ct(e,24)}static uint32(e){return Ct(e,32)}static uint40(e){return Ct(e,40)}static uint48(e){return Ct(e,48)}static uint56(e){return Ct(e,56)}static uint64(e){return Ct(e,64)}static uint72(e){return Ct(e,72)}static uint80(e){return Ct(e,80)}static uint88(e){return Ct(e,88)}static uint96(e){return Ct(e,96)}static uint104(e){return Ct(e,104)}static uint112(e){return Ct(e,112)}static uint120(e){return Ct(e,120)}static uint128(e){return Ct(e,128)}static uint136(e){return Ct(e,136)}static uint144(e){return Ct(e,144)}static uint152(e){return Ct(e,152)}static uint160(e){return Ct(e,160)}static uint168(e){return Ct(e,168)}static uint176(e){return Ct(e,176)}static uint184(e){return Ct(e,184)}static uint192(e){return Ct(e,192)}static uint200(e){return Ct(e,200)}static uint208(e){return Ct(e,208)}static uint216(e){return Ct(e,216)}static uint224(e){return Ct(e,224)}static uint232(e){return Ct(e,232)}static uint240(e){return Ct(e,240)}static uint248(e){return Ct(e,248)}static uint256(e){return Ct(e,256)}static uint(e){return Ct(e,256)}static int8(e){return Ct(e,-8)}static int16(e){return Ct(e,-16)}static int24(e){return Ct(e,-24)}static int32(e){return Ct(e,-32)}static int40(e){return Ct(e,-40)}static int48(e){return Ct(e,-48)}static int56(e){return Ct(e,-56)}static int64(e){return Ct(e,-64)}static int72(e){return Ct(e,-72)}static int80(e){return Ct(e,-80)}static int88(e){return Ct(e,-88)}static int96(e){return Ct(e,-96)}static int104(e){return Ct(e,-104)}static int112(e){return Ct(e,-112)}static int120(e){return Ct(e,-120)}static int128(e){return Ct(e,-128)}static int136(e){return Ct(e,-136)}static int144(e){return Ct(e,-144)}static int152(e){return Ct(e,-152)}static int160(e){return Ct(e,-160)}static int168(e){return Ct(e,-168)}static int176(e){return Ct(e,-176)}static int184(e){return Ct(e,-184)}static int192(e){return Ct(e,-192)}static int200(e){return Ct(e,-200)}static int208(e){return Ct(e,-208)}static int216(e){return Ct(e,-216)}static int224(e){return Ct(e,-224)}static int232(e){return Ct(e,-232)}static int240(e){return Ct(e,-240)}static int248(e){return Ct(e,-248)}static int256(e){return Ct(e,-256)}static int(e){return Ct(e,-256)}static bytes1(e){return Gr(e,1)}static bytes2(e){return Gr(e,2)}static bytes3(e){return Gr(e,3)}static bytes4(e){return Gr(e,4)}static bytes5(e){return Gr(e,5)}static bytes6(e){return Gr(e,6)}static bytes7(e){return Gr(e,7)}static bytes8(e){return Gr(e,8)}static bytes9(e){return Gr(e,9)}static bytes10(e){return Gr(e,10)}static bytes11(e){return Gr(e,11)}static bytes12(e){return Gr(e,12)}static bytes13(e){return Gr(e,13)}static bytes14(e){return Gr(e,14)}static bytes15(e){return Gr(e,15)}static bytes16(e){return Gr(e,16)}static bytes17(e){return Gr(e,17)}static bytes18(e){return Gr(e,18)}static bytes19(e){return Gr(e,19)}static bytes20(e){return Gr(e,20)}static bytes21(e){return Gr(e,21)}static bytes22(e){return Gr(e,22)}static bytes23(e){return Gr(e,23)}static bytes24(e){return Gr(e,24)}static bytes25(e){return Gr(e,25)}static bytes26(e){return Gr(e,26)}static bytes27(e){return Gr(e,27)}static bytes28(e){return Gr(e,28)}static bytes29(e){return Gr(e,29)}static bytes30(e){return Gr(e,30)}static bytes31(e){return Gr(e,31)}static bytes32(e){return Gr(e,32)}static address(e){return new nf(Jl,"address",e)}static bool(e){return new nf(Jl,"bool",!!e)}static bytes(e){return new nf(Jl,"bytes",e)}static string(e){return new nf(Jl,"string",e)}static array(e,r){throw new Error("not implemented yet")}static tuple(e,r){throw new Error("not implemented yet")}static overrides(e){return new nf(Jl,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===Mz}static dereference(e,r){if(nf.isTyped(e)){if(e.type!==r)throw new Error(`invalid type: expecetd ${r}, got ${e.type}`);return e.value}return e}};Yp=new WeakMap;let eo=nf;class kTe extends od{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){let n=eo.dereference(r,"string");try{n=ln(n)}catch(i){return this._throwError(i.message,r)}return e.writeValue(n)}decode(e){return ln(xh(e.readValue(),20))}}class TTe extends od{constructor(r){super(r.name,r.type,"_",r.dynamic);Ce(this,"coder");this.coder=r}defaultValue(){return this.coder.defaultValue()}encode(r,n){return this.coder.encode(r,n)}decode(r){return this.coder.decode(r)}}function TJ(t,e,r){let n=[];if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let u={};n=e.map(f=>{const d=f.localName;return st(d,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:f},value:r}),st(!u[d],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:f},value:r}),u[d]=!0,r[d]})}else Me(!1,"invalid tuple value","tuple",r);Me(e.length===n.length,"types/value length mismatch","tuple",r);let i=new vC,s=new vC,o=[];e.forEach((u,f)=>{let d=n[f];if(u.dynamic){let g=s.length;u.encode(s,d);let y=i.writeUpdatableValue();o.push(b=>{y(b+g)})}else u.encode(i,d)}),o.forEach(u=>{u(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function IJ(t,e){let r=[],n=[],i=t.subReader(0);return e.forEach(s=>{let o=null;if(s.dynamic){let a=t.readIndex(),u=i.subReader(a);try{o=s.decode(u)}catch(f){if(Cs(f,"BUFFER_OVERRUN"))throw f;o=f,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(t)}catch(a){if(Cs(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}if(o==null)throw new Error("investigate");r.push(o),n.push(s.localName||null)}),yb.fromItems(r,n)}class ITe extends od{constructor(r,n,i){const s=r.type+"["+(n>=0?n:"")+"]",o=n===-1||r.dynamic;super("array",s,i,o);Ce(this,"coder");Ce(this,"length");Xt(this,{coder:r,length:n})}defaultValue(){const r=this.coder.defaultValue(),n=[];for(let i=0;i<this.length;i++)n.push(r);return n}encode(r,n){const i=eo.dereference(n,"array");Array.isArray(i)||this._throwError("expected array value",i);let s=this.length;s===-1&&(s=i.length,r.writeValue(i.length)),OX(i.length,s,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let a=0;a<i.length;a++)o.push(this.coder);return TJ(r,o,i)}decode(r){let n=this.length;n===-1&&(n=r.readIndex(),st(n*bo<=r.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:r.bytes,offset:n*bo,length:r.dataLength}));let i=[];for(let s=0;s<n;s++)i.push(new TTe(this.coder));return IJ(r,i)}}class RTe extends od{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){const n=eo.dereference(r,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}}class RJ extends od{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=mo(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readIndex(),!0)}}class MTe extends RJ{constructor(e){super("bytes",e)}decode(e){return Pt(super.decode(e))}}class CTe extends od{constructor(r,n){let i="bytes"+String(r);super(i,i,n,!1);Ce(this,"size");Xt(this,{size:r},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(r,n){let i=mo(eo.dereference(n,this.type));return i.length!==this.size&&this._throwError("incorrect data length",n),r.writeBytes(i)}decode(r){return Pt(r.readBytes(this.size))}}const PTe=new Uint8Array([]);class NTe extends od{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes(PTe)}decode(e){return e.readBytes(0),null}}const BTe=BigInt(0),OTe=BigInt(1),LTe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class DTe extends od{constructor(r,n,i){const s=(n?"int":"uint")+r*8;super(s,s,i,!1);Ce(this,"size");Ce(this,"signed");Xt(this,{size:r,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(r,n){let i=Ot(eo.dereference(n,this.type)),s=Ep(LTe,bo*8);if(this.signed){let o=Ep(s,this.size*8-1);(i>o||i<-(o+OTe))&&this._throwError("value out-of-bounds",n),i=pB(i,8*bo)}else(i<BTe||i>Ep(s,this.size*8))&&this._throwError("value out-of-bounds",n);return r.writeValue(i)}decode(r){let n=Ep(r.readValue(),this.size*8);return this.signed&&(n=$x(n,this.size*8)),n}}class FTe extends RJ{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,tl(eo.dereference(r,"string")))}decode(e){return Ux(super.decode(e))}}class TA extends od{constructor(r,n){let i=!1;const s=[];r.forEach(a=>{a.dynamic&&(i=!0),s.push(a.type)});const o="tuple("+s.join(",")+")";super("tuple",o,n,i);Ce(this,"coders");Xt(this,{coders:Object.freeze(r.slice())})}defaultValue(){const r=[];this.coders.forEach(i=>{r.push(i.defaultValue())});const n=this.coders.reduce((i,s)=>{const o=s.localName;return o&&(i[o]||(i[o]=0),i[o]++),i},{});return this.coders.forEach((i,s)=>{let o=i.localName;!o||n[o]!==1||(o==="length"&&(o="_length"),r[o]==null&&(r[o]=r[s]))}),Object.freeze(r)}encode(r,n){const i=eo.dereference(n,"tuple");return TJ(r,this.coders,i)}decode(r){return IJ(r,this.coders)}}function S0(t){return oi(tl(t))}var $Te="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const Cz=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),Pz=4;function UTe(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let j=1;j<n;j++)s.push(i+=r());let o=r(),a=e;e+=o;let u=0,f=0;function d(){return u==0&&(f=f<<8|t[e++],u=8),f>>--u&1}const g=31,y=2**g,b=y>>>1,A=b>>1,x=y-1;let k=0;for(let j=0;j<g;j++)k=k<<1|d();let I=[],R=0,M=y;for(;;){let j=Math.floor(((k-R+1)*i-1)/M),V=0,Z=n;for(;Z-V>1;){let ae=V+Z>>>1;j<s[ae]?Z=ae:V=ae}if(V==0)break;I.push(V);let G=R+Math.floor(M*s[V]/i),q=R+Math.floor(M*s[V+1]/i)-1;for(;!((G^q)&b);)k=k<<1&x|d(),G=G<<1&x,q=q<<1&x|1;for(;G&~q&A;)k=k&b|k<<1&x>>>1|d(),G=G<<1^b,q=(q^b)<<1|b|1;R=G,M=1+q-G}let P=n-4;return I.map(j=>{switch(j-P){case 3:return P+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return P+256+(t[a++]<<8|t[a++]);case 1:return P+t[a++];default:return j-1}})}function zTe(t){let e=0;return()=>t[e++]}function MJ(t){return zTe(UTe(WTe(t)))}function WTe(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,s)=>e[i.charCodeAt(0)]=s);let r=t.length,n=new Uint8Array(6*r>>3);for(let i=0,s=0,o=0,a=0;i<r;i++)a=a<<6|e[t.charCodeAt(i)],o+=6,o>=8&&(n[s++]=a>>(o-=8));return n}function jTe(t){return t&1?~t>>1:t>>1}function KTe(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=jTe(e());return r}function Kw(t,e=0){let r=[];for(;;){let n=t(),i=t();if(!i)break;e+=n;for(let s=0;s<i;s++)r.push(e+s);e+=i+1}return r}function CJ(t){return Hw(()=>{let e=Kw(t);if(e.length)return e})}function PJ(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(HTe(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(qTe(r,t))}return e.flat()}function Hw(t){let e=[];for(;;){let r=t(e.length);if(!r)break;e.push(r)}return e}function NJ(t,e,r){let n=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)KTe(t,r).forEach((s,o)=>n[o].push(s));return n}function HTe(t,e){let r=1+e(),n=e(),i=Hw(e);return NJ(i.length,1+t,e).flatMap((o,a)=>{let[u,...f]=o;return Array(i[a]).fill().map((d,g)=>{let y=g*n;return[u+g*r,f.map(b=>b+y)]})})}function qTe(t,e){let r=1+e();return NJ(r,1+t,e).map(i=>[i[0],i.slice(1)])}function VTe(t){let e=[],r=Kw(t);return i(n([]),[]),e;function n(s){let o=t(),a=Hw(()=>{let u=Kw(t).map(f=>r[f]);if(u.length)return n(u)});return{S:o,B:a,Q:s}}function i({S:s,B:o},a,u){if(!(s&4&&u===a[a.length-1])){s&2&&(u=a[a.length-1]),s&1&&e.push(a);for(let f of o)for(let d of f.Q)i(f,[...a,d],u)}}}function GTe(t){return t.toString(16).toUpperCase().padStart(2,"0")}function BJ(t){return`{${GTe(t)}}`}function YTe(t){let e=[];for(let r=0,n=t.length;r<n;){let i=t.codePointAt(r);r+=i<65536?1:2,e.push(i)}return e}function _b(t){let r=t.length;if(r<4096)return String.fromCodePoint(...t);let n=[];for(let i=0;i<r;)n.push(String.fromCodePoint(...t.slice(i,i+=4096)));return n.join("")}function ZTe(t,e){let r=t.length,n=r-e.length;for(let i=0;n==0&&i<r;i++)n=t[i]-e[i];return n}var XTe="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const qw=44032,jx=4352,Kx=4449,Hx=4519,OJ=19,LJ=21,Ab=28,qx=LJ*Ab,JTe=OJ*qx,QTe=qw+JTe,eIe=jx+OJ,tIe=Kx+LJ,rIe=Hx+Ab;function $v(t){return t>>24&255}function DJ(t){return t&16777215}let TC,Nz,IC,T2;function nIe(){let t=MJ(XTe);TC=new Map(CJ(t).flatMap((e,r)=>e.map(n=>[n,r+1<<24]))),Nz=new Set(Kw(t)),IC=new Map,T2=new Map;for(let[e,r]of PJ(t)){if(!Nz.has(e)&&r.length==2){let[n,i]=r,s=T2.get(n);s||(s=new Map,T2.set(n,s)),s.set(i,e)}IC.set(e,r.reverse())}}function FJ(t){return t>=qw&&t<QTe}function iIe(t,e){if(t>=jx&&t<eIe&&e>=Kx&&e<tIe)return qw+(t-jx)*qx+(e-Kx)*Ab;if(FJ(t)&&e>Hx&&e<rIe&&(t-qw)%Ab==0)return t+(e-Hx);{let r=T2.get(t);return r&&(r=r.get(e),r)?r:-1}}function $J(t){TC||nIe();let e=[],r=[],n=!1;function i(s){let o=TC.get(s);o&&(n=!0,s|=o),e.push(s)}for(let s of t)for(;;){if(s<128)e.push(s);else if(FJ(s)){let o=s-qw,a=o/qx|0,u=o%qx/Ab|0,f=o%Ab;i(jx+a),i(Kx+u),f>0&&i(Hx+f)}else{let o=IC.get(s);o?r.push(...o):i(s)}if(!r.length)break;s=r.pop()}if(n&&e.length>1){let s=$v(e[0]);for(let o=1;o<e.length;o++){let a=$v(e[o]);if(a==0||s<=a){s=a;continue}let u=o-1;for(;;){let f=e[u+1];if(e[u+1]=e[u],e[u]=f,!u||(s=$v(e[--u]),s<=a))break}s=$v(e[o])}}return e}function sIe(t){let e=[],r=[],n=-1,i=0;for(let s of t){let o=$v(s),a=DJ(s);if(n==-1)o==0?n=a:e.push(a);else if(i>0&&i>=o)o==0?(e.push(n,...r),r.length=0,n=a):r.push(a),i=o;else{let u=iIe(n,a);u>=0?n=u:i==0&&o==0?(e.push(n),n=a):(r.push(a),i=o)}}return n>=0&&e.push(n,...r),e}function UJ(t){return $J(t).map(DJ)}function oIe(t){return sIe($J(t))}const Bz=45,zJ=".",WJ=65039,jJ=1,Vx=t=>Array.from(t);function Vw(t,e){return t.P.has(e)||t.Q.has(e)}class aIe extends Array{get is_emoji(){return!0}}let RC,KJ,Tp,MC,HJ,uy,O4,Gg,ap,Oz,CC;function EB(){if(RC)return;let t=MJ($Te);const e=()=>Kw(t),r=()=>new Set(e()),n=(d,g)=>g.forEach(y=>d.add(y));RC=new Map(PJ(t)),KJ=r(),Tp=e(),MC=new Set(e().map(d=>Tp[d])),Tp=new Set(Tp),HJ=r(),r();let i=CJ(t),s=t();const o=()=>{let d=new Set;return e().forEach(g=>n(d,i[g])),n(d,e()),d};uy=Hw(d=>{let g=Hw(t).map(y=>y+96);if(g.length){let y=d>=s;g[0]-=32,g=_b(g),y&&(g=`Restricted[${g}]`);let b=o(),A=o(),x=!t();return{N:g,P:b,Q:A,M:x,R:y}}}),O4=r(),Gg=new Map;let a=e().concat(Vx(O4)).sort((d,g)=>d-g);a.forEach((d,g)=>{let y=t(),b=a[g]=y?a[g-y]:{V:[],M:new Map};b.V.push(d),O4.has(d)||Gg.set(d,b)});for(let{V:d,M:g}of new Set(Gg.values())){let y=[];for(let A of d){let x=uy.filter(I=>Vw(I,A)),k=y.find(({G:I})=>x.some(R=>I.has(R)));k||(k={G:new Set,V:[]},y.push(k)),k.V.push(A),n(k.G,x)}let b=y.flatMap(A=>Vx(A.G));for(let{G:A,V:x}of y){let k=new Set(b.filter(I=>!A.has(I)));for(let I of x)g.set(I,k)}}ap=new Set;let u=new Set;const f=d=>ap.has(d)?u.add(d):ap.add(d);for(let d of uy){for(let g of d.P)f(g);for(let g of d.Q)f(g)}for(let d of ap)!Gg.has(d)&&!u.has(d)&&Gg.set(d,jJ);n(ap,UJ(ap)),Oz=VTe(t).map(d=>aIe.from(d)).sort(ZTe),CC=new Map;for(let d of Oz){let g=[CC];for(let y of d){let b=g.map(A=>{let x=A.get(y);return x||(x=new Map,A.set(y,x)),x});y===WJ?g.push(...b):g=b}for(let y of g)y.V=d}}function kB(t){return(qJ(t)?"":`${TB(Qk([t]))} `)+BJ(t)}function TB(t){return`"${t}"`}function uIe(t){if(t.length>=4&&t[2]==Bz&&t[3]==Bz)throw new Error(`invalid label extension: "${_b(t.slice(0,4))}"`)}function cIe(t){for(let r=t.lastIndexOf(95);r>0;)if(t[--r]!==95)throw new Error("underscore allowed only at start")}function lIe(t){let e=t[0],r=Cz.get(e);if(r)throw gw(`leading ${r}`);let n=t.length,i=-1;for(let s=1;s<n;s++){e=t[s];let o=Cz.get(e);if(o){if(i==s)throw gw(`${r} + ${o}`);i=s+1,r=o}}if(i==n)throw gw(`trailing ${r}`)}function Qk(t,e=1/0,r=BJ){let n=[];fIe(t[0])&&n.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,s=t.length;for(let o=0;o<s;o++){let a=t[o];qJ(a)&&(n.push(_b(t.slice(i,o))),n.push(r(a)),i=o+1)}return n.push(_b(t.slice(i,s))),n.join("")}function fIe(t){return EB(),Tp.has(t)}function qJ(t){return EB(),HJ.has(t)}function dIe(t){return mIe(hIe(t,oIe,vIe))}function hIe(t,e,r){if(!t)return[];EB();let n=0;return t.split(zJ).map(i=>{let s=YTe(i),o={input:s,offset:n};n+=s.length+1;try{let a=o.tokens=bIe(s,e,r),u=a.length,f;if(!u)throw new Error("empty label");let d=o.output=a.flat();if(cIe(d),!(o.emoji=u>1||a[0].is_emoji)&&d.every(y=>y<128))uIe(d),f="ASCII";else{let y=a.flatMap(b=>b.is_emoji?[]:b);if(!y.length)f="Emoji";else{if(Tp.has(d[0]))throw gw("leading combining mark");for(let x=1;x<u;x++){let k=a[x];if(!k.is_emoji&&Tp.has(k[0]))throw gw(`emoji + combining mark: "${_b(a[x-1])} + ${Qk([k[0]])}"`)}lIe(d);let b=Vx(new Set(y)),[A]=gIe(b);yIe(A,y),pIe(A,b),f=A.N}}o.type=f}catch(a){o.error=a}return o})}function pIe(t,e){let r,n=[];for(let i of e){let s=Gg.get(i);if(s===jJ)return;if(s){let o=s.M.get(i);if(r=r?r.filter(a=>o.has(a)):Vx(o),!r.length)return}else n.push(i)}if(r){for(let i of r)if(n.every(s=>Vw(i,s)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function gIe(t){let e=uy;for(let r of t){let n=e.filter(i=>Vw(i,r));if(!n.length)throw uy.some(i=>Vw(i,r))?GJ(e[0],r):VJ(r);if(e=n,n.length==1)break}return e}function mIe(t){return t.map(({input:e,error:r,output:n})=>{if(r){let i=r.message;throw new Error(t.length==1?i:`Invalid label ${TB(Qk(e,63))}: ${i}`)}return _b(n)}).join(zJ)}function VJ(t){return new Error(`disallowed character: ${kB(t)}`)}function GJ(t,e){let r=kB(e),n=uy.find(i=>i.P.has(e));return n&&(r=`${n.N} ${r}`),new Error(`illegal mixture: ${t.N} + ${r}`)}function gw(t){return new Error(`illegal placement: ${t}`)}function yIe(t,e){for(let r of e)if(!Vw(t,r))throw GJ(t,r);if(t.M){let r=UJ(e);for(let n=1,i=r.length;n<i;n++)if(MC.has(r[n])){let s=n+1;for(let o;s<i&&MC.has(o=r[s]);s++)for(let a=n;a<s;a++)if(r[a]==o)throw new Error(`duplicate non-spacing marks: ${kB(o)}`);if(s-n>Pz)throw new Error(`excessive non-spacing marks: ${TB(Qk(r.slice(n-1,s)))} (${s-n}/${Pz})`);n=s}}}function bIe(t,e,r){let n=[],i=[];for(t=t.slice().reverse();t.length;){let s=wIe(t);if(s)i.length&&(n.push(e(i)),i=[]),n.push(r(s));else{let o=t.pop();if(ap.has(o))i.push(o);else{let a=RC.get(o);if(a)i.push(...a);else if(!KJ.has(o))throw VJ(o)}}}return i.length&&n.push(e(i)),n}function vIe(t){return t.filter(e=>e!=WJ)}function wIe(t,e){let r=CC,n,i=t.length;for(;i&&(r=r.get(t[--i]),!!r);){let{V:s}=r;s&&(n=s,t.length=i)}return n}const YJ=new Uint8Array(32);YJ.fill(0);function Lz(t){return Me(t.length!==0,"invalid ENS name; empty component","comp",t),t}function ZJ(t){const e=tl(SIe(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(Lz(e.slice(n,i))),n=i+1);return Me(n<e.length,"invalid ENS name; empty component","name",t),r.push(Lz(e.slice(n))),r}function SIe(t){try{if(t.length===0)throw new Error("empty label");return dIe(t)}catch(e){Me(!1,`invalid ENS name (${e.message})`,"name",t)}}function PC(t){Me(typeof t=="string","invalid ENS name; not a string","name",t),Me(t.length,"invalid ENS name (empty label)","name",t);let e=YJ;const r=ZJ(t);for(;r.length;)e=oi(ai([e,oi(r.pop())]));return Pt(e)}function _Ie(t,e){const r=e;return Me(r<=255,"DNS encoded label cannot exceed 255","length",r),Pt(ai(ZJ(t).map(n=>{Me(n.length<=r,`label ${JSON.stringify(t)} exceeds ${r} bytes`,"name",t);const i=new Uint8Array(n.length+1);return i.set(n,1),i[0]=i.length-1,i})))+"00"}function L4(t,e){return{address:ln(t),storageKeys:e.map((r,n)=>(Me(Un(r,32),"invalid slot",`storageKeys[${n}]`,r),r.toLowerCase()))}}function tg(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(Me(r.length===2,"invalid slot set",`value[${n}]`,r),L4(r[0],r[1])):(Me(r!=null&&typeof r=="object","invalid address-slot set","value",t),L4(r.address,r.storageKeys)));Me(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return L4(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function AIe(t){let e;return typeof t=="string"?e=jw.computePublicKey(t,!1):e=t.publicKey,ln(oi("0x"+e.substring(4)).substring(26))}function xIe(t,e){return AIe(jw.recoverPublicKey(t,e))}const cs=BigInt(0),EIe=BigInt(2),kIe=BigInt(27),TIe=BigInt(28),IIe=BigInt(35),RIe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),D4=4096*32;function Dz(t,e){let r=t.toString(16);for(;r.length<2;)r="0"+r;return r+=m1(e).substring(4),"0x"+r}function e3(t){return t==="0x"?null:ln(t)}function IB(t,e){try{return tg(t)}catch(r){Me(!1,r.message,e,t)}}function n_(t,e){return t==="0x"?0:gr(t,e)}function Ti(t,e){if(t==="0x")return cs;const r=Ot(t,e);return Me(r<=RIe,"value exceeds uint size",e,r),r}function Yn(t,e){const r=Ot(t,"value"),n=Qs(r);return Me(n.length<=32,"value too large",`tx.${e}`,r),n}function RB(t){return tg(t).map(e=>[e.address,e.storageKeys])}function MIe(t,e){Me(Array.isArray(t),`invalid ${e}`,"value",t);for(let r=0;r<t.length;r++)Me(Un(t[r],32),"invalid ${ param } hash",`value[${r}]`,t[r]);return t}function CIe(t){const e=Yk(t);Me(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const r={type:0,nonce:n_(e[0],"nonce"),gasPrice:Ti(e[1],"gasPrice"),gasLimit:Ti(e[2],"gasLimit"),to:e3(e[3]),value:Ti(e[4],"value"),data:Pt(e[5]),chainId:cs};if(e.length===6)return r;const n=Ti(e[6],"v"),i=Ti(e[7],"r"),s=Ti(e[8],"s");if(i===cs&&s===cs)r.chainId=n;else{let o=(n-IIe)/EIe;o<cs&&(o=cs),r.chainId=o,Me(o!==cs||n===kIe||n===TIe,"non-canonical legacy v","v",e[6]),r.signature=Gf.from({r:el(e[7],32),s:el(e[8],32),v:n})}return r}function PIe(t,e){const r=[Yn(t.nonce,"nonce"),Yn(t.gasPrice||0,"gasPrice"),Yn(t.gasLimit,"gasLimit"),t.to||"0x",Yn(t.value,"value"),t.data];let n=cs;if(t.chainId!=cs)n=Ot(t.chainId,"tx.chainId"),Me(!e||e.networkV==null||e.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const s=t.signature.legacyChainId;s!=null&&(n=s)}if(!e)return n!==cs&&(r.push(Qs(n)),r.push("0x"),r.push("0x")),w0(r);let i=BigInt(27+e.yParity);return n!==cs?i=Gf.getChainIdV(n,e.v):BigInt(e.v)!==i&&Me(!1,"tx.chainId/sig.v mismatch","sig",e),r.push(Qs(i)),r.push(Qs(e.r)),r.push(Qs(e.s)),w0(r)}function MB(t,e){let r;try{if(r=n_(e[0],"yParity"),r!==0&&r!==1)throw new Error("bad yParity")}catch{Me(!1,"invalid yParity","yParity",e[0])}const n=el(e[1],32),i=el(e[2],32),s=Gf.from({r:n,s:i,yParity:r});t.signature=s}function NIe(t){const e=Yk(fr(t).slice(1));Me(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",Pt(t));const r={type:2,chainId:Ti(e[0],"chainId"),nonce:n_(e[1],"nonce"),maxPriorityFeePerGas:Ti(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Ti(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Ti(e[4],"gasLimit"),to:e3(e[5]),value:Ti(e[6],"value"),data:Pt(e[7]),accessList:IB(e[8],"accessList")};return e.length===9||MB(r,e.slice(9)),r}function BIe(t,e){const r=[Yn(t.chainId,"chainId"),Yn(t.nonce,"nonce"),Yn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Yn(t.maxFeePerGas||0,"maxFeePerGas"),Yn(t.gasLimit,"gasLimit"),t.to||"0x",Yn(t.value,"value"),t.data,RB(t.accessList||[])];return e&&(r.push(Yn(e.yParity,"yParity")),r.push(Qs(e.r)),r.push(Qs(e.s))),ai(["0x02",w0(r)])}function OIe(t){const e=Yk(fr(t).slice(1));Me(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",Pt(t));const r={type:1,chainId:Ti(e[0],"chainId"),nonce:n_(e[1],"nonce"),gasPrice:Ti(e[2],"gasPrice"),gasLimit:Ti(e[3],"gasLimit"),to:e3(e[4]),value:Ti(e[5],"value"),data:Pt(e[6]),accessList:IB(e[7],"accessList")};return e.length===8||MB(r,e.slice(8)),r}function LIe(t,e){const r=[Yn(t.chainId,"chainId"),Yn(t.nonce,"nonce"),Yn(t.gasPrice||0,"gasPrice"),Yn(t.gasLimit,"gasLimit"),t.to||"0x",Yn(t.value,"value"),t.data,RB(t.accessList||[])];return e&&(r.push(Yn(e.yParity,"recoveryParam")),r.push(Qs(e.r)),r.push(Qs(e.s))),ai(["0x01",w0(r)])}function DIe(t){let e=Yk(fr(t).slice(1)),r="3",n=null;if(e.length===4&&Array.isArray(e[0])){r="3 (network format)";const s=e[1],o=e[2],a=e[3];Me(Array.isArray(s),"invalid network format: blobs not an array","fields[1]",s),Me(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),Me(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),Me(s.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),Me(s.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",e),n=[];for(let u=0;u<e[1].length;u++)n.push({data:s[u],commitment:o[u],proof:a[u]});e=e[0]}Me(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${r}`,"data",Pt(t));const i={type:3,chainId:Ti(e[0],"chainId"),nonce:n_(e[1],"nonce"),maxPriorityFeePerGas:Ti(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Ti(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Ti(e[4],"gasLimit"),to:e3(e[5]),value:Ti(e[6],"value"),data:Pt(e[7]),accessList:IB(e[8],"accessList"),maxFeePerBlobGas:Ti(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};n&&(i.blobs=n),Me(i.to!=null,`invalid address for transaction type: ${r}`,"data",t),Me(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let s=0;s<i.blobVersionedHashes.length;s++)Me(Un(i.blobVersionedHashes[s],32),`invalid blobVersionedHash at index ${s}: must be length 32`,"data",t);return e.length===11||MB(i,e.slice(11)),i}function FIe(t,e,r){const n=[Yn(t.chainId,"chainId"),Yn(t.nonce,"nonce"),Yn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Yn(t.maxFeePerGas||0,"maxFeePerGas"),Yn(t.gasLimit,"gasLimit"),t.to||Ww,Yn(t.value,"value"),t.data,RB(t.accessList||[]),Yn(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),MIe(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(n.push(Yn(e.yParity,"yParity")),n.push(Qs(e.r)),n.push(Qs(e.s)),r)?ai(["0x03",w0([n,r.map(i=>i.data),r.map(i=>i.commitment),r.map(i=>i.proof)])]):ai(["0x03",w0(n)])}var Tc,Oy,Ly,Dy,Fy,$y,Uy,zy,Wy,jy,Ky,Hy,Zp,Kd,hf,Hd,qy,I2,Ya;let XJ=(Ya=class{constructor(){Ye(this,qy);Ye(this,Tc);Ye(this,Oy);Ye(this,Ly);Ye(this,Dy);Ye(this,Fy);Ye(this,$y);Ye(this,Uy);Ye(this,zy);Ye(this,Wy);Ye(this,jy);Ye(this,Ky);Ye(this,Hy);Ye(this,Zp);Ye(this,Kd);Ye(this,hf);Ye(this,Hd);Ae(this,Tc,null),Ae(this,Oy,null),Ae(this,Dy,0),Ae(this,Fy,cs),Ae(this,$y,null),Ae(this,Uy,null),Ae(this,zy,null),Ae(this,Ly,"0x"),Ae(this,Wy,cs),Ae(this,jy,cs),Ae(this,Ky,null),Ae(this,Hy,null),Ae(this,Zp,null),Ae(this,Kd,null),Ae(this,Hd,null),Ae(this,hf,null)}get type(){return ue(this,Tc)}set type(e){switch(e){case null:Ae(this,Tc,null);break;case 0:case"legacy":Ae(this,Tc,0);break;case 1:case"berlin":case"eip-2930":Ae(this,Tc,1);break;case 2:case"london":case"eip-1559":Ae(this,Tc,2);break;case 3:case"cancun":case"eip-4844":Ae(this,Tc,3);break;default:Me(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){const e=ue(this,Oy);return e==null&&this.type===3?Ww:e}set to(e){Ae(this,Oy,e==null?null:ln(e))}get nonce(){return ue(this,Dy)}set nonce(e){Ae(this,Dy,gr(e,"value"))}get gasLimit(){return ue(this,Fy)}set gasLimit(e){Ae(this,Fy,Ot(e))}get gasPrice(){const e=ue(this,$y);return e==null&&(this.type===0||this.type===1)?cs:e}set gasPrice(e){Ae(this,$y,e==null?null:Ot(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=ue(this,Uy);return e??(this.type===2||this.type===3?cs:null)}set maxPriorityFeePerGas(e){Ae(this,Uy,e==null?null:Ot(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=ue(this,zy);return e??(this.type===2||this.type===3?cs:null)}set maxFeePerGas(e){Ae(this,zy,e==null?null:Ot(e,"maxFeePerGas"))}get data(){return ue(this,Ly)}set data(e){Ae(this,Ly,Pt(e))}get value(){return ue(this,Wy)}set value(e){Ae(this,Wy,Ot(e,"value"))}get chainId(){return ue(this,jy)}set chainId(e){Ae(this,jy,Ot(e))}get signature(){return ue(this,Ky)||null}set signature(e){Ae(this,Ky,e==null?null:Gf.from(e))}get accessList(){const e=ue(this,Hy)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){Ae(this,Hy,e==null?null:tg(e))}get maxFeePerBlobGas(){const e=ue(this,Zp);return e==null&&this.type===3?cs:e}set maxFeePerBlobGas(e){Ae(this,Zp,e==null?null:Ot(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=ue(this,Kd);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){Me(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let r=0;r<e.length;r++)Me(Un(e[r],32),"invalid blobVersionedHash",`value[${r}]`,e[r])}Ae(this,Kd,e)}get blobs(){return ue(this,Hd)==null?null:ue(this,Hd).map(e=>Object.assign({},e))}set blobs(e){if(e==null){Ae(this,Hd,null);return}const r=[],n=[];for(let i=0;i<e.length;i++){const s=e[i];if(hB(s)){st(ue(this,hf),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=fr(s);if(Me(o.length<=D4,"blob is too large",`blobs[${i}]`,s),o.length!==D4){const f=new Uint8Array(D4);f.set(o),o=f}const a=ue(this,hf).blobToKzgCommitment(o),u=Pt(ue(this,hf).computeBlobKzgProof(o,a));r.push({data:Pt(o),commitment:Pt(a),proof:u}),n.push(Dz(1,a))}else{const o=Pt(s.commitment);r.push({data:Pt(s.data),commitment:o,proof:Pt(s.proof)}),n.push(Dz(1,o))}}Ae(this,Hd,r),Ae(this,Kd,n)}get kzg(){return ue(this,hf)}set kzg(e){Ae(this,hf,e)}get hash(){return this.signature==null?null:oi(lt(this,qy,I2).call(this,!0,!1))}get unsignedHash(){return oi(this.unsignedSerialized)}get from(){return this.signature==null?null:xIe(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:jw.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return lt(this,qy,I2).call(this,!0,!0)}get unsignedSerialized(){return lt(this,qy,I2).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,r=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null,i=ue(this,Zp)!=null||ue(this,Kd);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&st(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),st(!r||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),st(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const s=[];return this.type!=null?s.push(this.type):r?s.push(2):e?(s.push(1),n||s.push(0)):n?(s.push(1),s.push(2)):(i&&this.to||(s.push(0),s.push(1),s.push(2)),s.push(3)),s.sort(),s}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Ya.from(this)}toJSON(){const e=r=>r==null?null:r.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new Ya;if(typeof e=="string"){const n=fr(e);if(n[0]>=127)return Ya.from(CIe(n));switch(n[0]){case 1:return Ya.from(OIe(n));case 2:return Ya.from(NIe(n));case 3:return Ya.from(DIe(n))}st(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const r=new Ya;return e.type!=null&&(r.type=e.type),e.to!=null&&(r.to=e.to),e.nonce!=null&&(r.nonce=e.nonce),e.gasLimit!=null&&(r.gasLimit=e.gasLimit),e.gasPrice!=null&&(r.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(r.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(r.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(r.data=e.data),e.value!=null&&(r.value=e.value),e.chainId!=null&&(r.chainId=e.chainId),e.signature!=null&&(r.signature=Gf.from(e.signature)),e.accessList!=null&&(r.accessList=e.accessList),e.blobVersionedHashes!=null&&(r.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(r.kzg=e.kzg),e.blobs!=null&&(r.blobs=e.blobs),e.hash!=null&&(Me(r.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),Me(r.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(Me(r.isSigned(),"unsigned transaction cannot define '.from'","tx",e),Me(r.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),r}},Tc=new WeakMap,Oy=new WeakMap,Ly=new WeakMap,Dy=new WeakMap,Fy=new WeakMap,$y=new WeakMap,Uy=new WeakMap,zy=new WeakMap,Wy=new WeakMap,jy=new WeakMap,Ky=new WeakMap,Hy=new WeakMap,Zp=new WeakMap,Kd=new WeakMap,hf=new WeakMap,Hd=new WeakMap,qy=new WeakSet,I2=function(e,r){st(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const n=e?this.signature:null;switch(this.inferType()){case 0:return PIe(this,n);case 1:return LIe(this,n);case 2:return BIe(this,n);case 3:return FIe(this,n,r?this.blobs:null)}st(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})},Ya);const $Ie=new RegExp("^bytes([0-9]+)$"),UIe=new RegExp("^(u?int)([0-9]*)$"),zIe=new RegExp("^(.*)\\[([0-9]*)\\]$");function JJ(t,e,r){switch(t){case"address":return fr(r?el(e,32):ln(e));case"string":return tl(e);case"bytes":return fr(e);case"bool":return e=e?"0x01":"0x00",fr(r?el(e,32):e)}let n=t.match(UIe);if(n){let i=n[1]==="int",s=parseInt(n[2]||"256");return Me((!n[2]||n[2]===String(s))&&s%8===0&&s!==0&&s<=256,"invalid number type","type",t),r&&(s=256),i&&(e=pB(e,s)),fr(el(Qs(e),s/8))}if(n=t.match($Ie),n){const i=parseInt(n[1]);return Me(String(i)===n[1]&&i!==0&&i<=32,"invalid bytes type","type",t),Me(c0(e)===i,`invalid value for ${t}`,"value",e),r?fr(FX(e,32)):e}if(n=t.match(zIe),n&&Array.isArray(e)){const i=n[1],s=parseInt(n[2]||String(e.length));Me(s===e.length,`invalid array length for ${t}`,"value",e);const o=[];return e.forEach(function(a){o.push(JJ(i,a,!0))}),fr(ai(o))}Me(!1,"invalid type","type",t)}function WIe(t,e){Me(t.length===e.length,"wrong number of values; expected ${ types.length }","values",e);const r=[];return t.forEach(function(n,i){r.push(JJ(n,e[i]))}),Pt(ai(r))}function hh(t,e){return oi(WIe(t,e))}const QJ=new Uint8Array(32);QJ.fill(0);const jIe=BigInt(-1),eQ=BigInt(0),tQ=BigInt(1),KIe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function HIe(t){const e=fr(t),r=e.length%32;return r?ai([e,QJ.slice(r)]):Pt(e)}const qIe=xh(tQ,32),VIe=xh(eQ,32),Fz={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},F4=["name","version","chainId","verifyingContract","salt"];function $z(t){return function(e){return Me(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const GIe={name:$z("name"),version:$z("version"),chainId:function(t){const e=Ot(t,"domain.chainId");return Me(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):Pm(e)},verifyingContract:function(t){try{return ln(t).toLowerCase()}catch{}Me(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=fr(t,"domain.salt");return Me(e.length===32,'invalid domain value "salt"',"domain.salt",t),Pt(e)}};function $4(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const r=e[1]==="",n=parseInt(e[2]);Me(n%8===0&&n!==0&&n<=256&&e[2]===String(n),"invalid numeric width","type",t);const i=Ep(KIe,r?n-1:n),s=r?(i+tQ)*jIe:eQ;return function(o){const a=Ot(o,"value");return Me(a>=s&&a<=i,`value out-of-bounds for ${t}`,"value",a),xh(r?pB(a,256):a,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return Me(r!==0&&r<=32&&e[1]===String(r),"invalid bytes width","type",t),function(n){const i=fr(n);return Me(i.length===r,`invalid length for ${t}`,"value",n),HIe(n)}}}switch(t){case"address":return function(e){return el(ln(e),32)};case"bool":return function(e){return e?qIe:VIe};case"bytes":return function(e){return oi(e)};case"string":return function(e){return S0(e)}}return null}function Uz(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}function IA(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var $S,pf,Vy,yk,rQ;const Ua=class Ua{constructor(e){Ye(this,yk);Ce(this,"primaryType");Ye(this,$S);Ye(this,pf);Ye(this,Vy);Ae(this,pf,new Map),Ae(this,Vy,new Map);const r=new Map,n=new Map,i=new Map,s={};Object.keys(e).forEach(u=>{s[u]=e[u].map(({name:f,type:d})=>{let{base:g,index:y}=IA(d);return g==="int"&&!e.int&&(g="int256"),g==="uint"&&!e.uint&&(g="uint256"),{name:f,type:g+(y||"")}}),r.set(u,new Set),n.set(u,[]),i.set(u,new Set)}),Ae(this,$S,JSON.stringify(s));for(const u in s){const f=new Set;for(const d of s[u]){Me(!f.has(d.name),`duplicate variable name ${JSON.stringify(d.name)} in ${JSON.stringify(u)}`,"types",e),f.add(d.name);const g=IA(d.type).base;Me(g!==u,`circular type reference to ${JSON.stringify(g)}`,"types",e),!$4(g)&&(Me(n.has(g),`unknown type ${JSON.stringify(g)}`,"types",e),n.get(g).push(u),r.get(u).add(g))}}const o=Array.from(n.keys()).filter(u=>n.get(u).length===0);Me(o.length!==0,"missing primary type","types",e),Me(o.length===1,`ambiguous primary types or unused types: ${o.map(u=>JSON.stringify(u)).join(", ")}`,"types",e),Xt(this,{primaryType:o[0]});function a(u,f){Me(!f.has(u),`circular type reference to ${JSON.stringify(u)}`,"types",e),f.add(u);for(const d of r.get(u))if(n.has(d)){a(d,f);for(const g of f)i.get(g).add(d)}f.delete(u)}a(this.primaryType,new Set);for(const[u,f]of i){const d=Array.from(f);d.sort(),ue(this,pf).set(u,Uz(u,s[u])+d.map(g=>Uz(g,s[g])).join(""))}}get types(){return JSON.parse(ue(this,$S))}getEncoder(e){let r=ue(this,Vy).get(e);return r||(r=lt(this,yk,rQ).call(this,e),ue(this,Vy).set(e,r)),r}encodeType(e){const r=ue(this,pf).get(e);return Me(r,`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return oi(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if($4(e))return n(e,r);const i=IA(e).array;if(i)return Me(i.count===-1||i.count===r.length,`array length mismatch; expected length ${i.count}`,"value",r),r.map(o=>this._visit(i.prefix,o,n));const s=this.types[e];if(s)return s.reduce((o,{name:a,type:u})=>(o[a]=this._visit(u,r[a],n),o),{});Me(!1,`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new Ua(e)}static getPrimaryType(e){return Ua.from(e).primaryType}static hashStruct(e,r,n){return Ua.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){if(e[n]==null)continue;const i=Fz[n];Me(i,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>F4.indexOf(n.name)-F4.indexOf(i.name)),Ua.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return ai(["0x1901",Ua.hashDomain(e),Ua.from(r).hash(n)])}static hash(e,r,n){return oi(Ua.encode(e,r,n))}static async resolveNames(e,r,n,i){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const s={};e.verifyingContract&&!Un(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=Ua.from(r);o.visit(n,(a,u)=>(a==="address"&&!Un(u,20)&&(s[u]="0x"),u));for(const a in s)s[a]=await i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=o.visit(n,(a,u)=>a==="address"&&s[u]?s[u]:u),{domain:e,value:n}}static getPayload(e,r,n){Ua.hashDomain(e);const i={},s=[];F4.forEach(u=>{const f=e[u];f!=null&&(i[u]=GIe[u](f),s.push({name:u,type:Fz[u]}))});const o=Ua.from(r);r=o.types;const a=Object.assign({},r);return Me(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",r),a.EIP712Domain=s,o.encode(n),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(n,(u,f)=>{if(u.match(/^bytes(\d*)/))return Pt(fr(f));if(u.match(/^u?int/))return Ot(f).toString();switch(u){case"address":return f.toLowerCase();case"bool":return!!f;case"string":return Me(typeof f=="string","invalid string","value",f),f}Me(!1,"unsupported type","type",u)})}}};$S=new WeakMap,pf=new WeakMap,Vy=new WeakMap,yk=new WeakSet,rQ=function(e){{const i=$4(e);if(i)return i}const r=IA(e).array;if(r){const i=r.prefix,s=this.getEncoder(i);return o=>{Me(r.count===-1||r.count===o.length,`array length mismatch; expected length ${r.count}`,"value",o);let a=o.map(s);return ue(this,pf).has(i)&&(a=a.map(oi)),oi(ai(a))}}const n=this.types[e];if(n){const i=S0(ue(this,pf).get(e));return s=>{const o=n.map(({name:a,type:u})=>{const f=this.getEncoder(u)(s[a]);return ue(this,pf).has(u)?oi(f):f});return o.unshift(i),ai(o)}}Me(!1,`unknown type: ${e}`,"type",e)};let Gx=Ua;function wo(t){const e=new Set;return t.forEach(r=>e.add(r)),Object.freeze(e)}const YIe="external public payable override",ZIe=wo(YIe.split(" ")),nQ="constant external internal payable private public pure view override",XIe=wo(nQ.split(" ")),iQ="constructor error event fallback function receive struct",sQ=wo(iQ.split(" ")),oQ="calldata memory storage payable indexed",JIe=wo(oQ.split(" ")),QIe="tuple returns",e6e=[iQ,oQ,QIe,nQ].join(" "),t6e=wo(e6e.split(" ")),r6e={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},n6e=new RegExp("^(\\s*)"),i6e=new RegExp("^([0-9]+)"),s6e=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),aQ=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),uQ=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var xs,Iu,US,NC;const bk=class bk{constructor(e){Ye(this,US);Ye(this,xs);Ye(this,Iu);Ae(this,xs,0),Ae(this,Iu,e.slice())}get offset(){return ue(this,xs)}get length(){return ue(this,Iu).length-ue(this,xs)}clone(){return new bk(ue(this,Iu))}reset(){Ae(this,xs,0)}popKeyword(e){const r=this.peek();if(r.type!=="KEYWORD"||!e.has(r.text))throw new Error(`expected keyword ${r.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const r=this.peek();throw new Error(`expected ${e}; got ${r.type} ${JSON.stringify(r.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const r=lt(this,US,NC).call(this,ue(this,xs)+1,e.match+1);return Ae(this,xs,e.match+1),r}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const r=[];for(;ue(this,xs)<e.match-1;){const n=this.peek().linkNext;r.push(lt(this,US,NC).call(this,ue(this,xs)+1,n)),Ae(this,xs,n)}return Ae(this,xs,e.match+1),r}peek(){if(ue(this,xs)>=ue(this,Iu).length)throw new Error("out-of-bounds");return ue(this,Iu)[ue(this,xs)]}peekKeyword(e){const r=this.peekType("KEYWORD");return r!=null&&e.has(r)?r:null}peekType(e){if(this.length===0)return null;const r=this.peek();return r.type===e?r.text:null}pop(){const e=this.peek();return Q1(this,xs)._++,e}toString(){const e=[];for(let r=ue(this,xs);r<ue(this,Iu).length;r++){const n=ue(this,Iu)[r];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}};xs=new WeakMap,Iu=new WeakMap,US=new WeakSet,NC=function(e=0,r=0){return new bk(ue(this,Iu).slice(e,r).map(n=>Object.freeze(Object.assign({},n,{match:n.match-e,linkBack:n.linkBack-e,linkNext:n.linkNext-e}))))};let qu=bk;function Wh(t){const e=[],r=o=>{const a=s<t.length?JSON.stringify(t[s]):"$EOI";throw new Error(`invalid token ${a} at ${s}: ${o}`)};let n=[],i=[],s=0;for(;s<t.length;){let o=t.substring(s),a=o.match(n6e);a&&(s+=a[1].length,o=t.substring(s));const u={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};e.push(u);let f=r6e[o[0]]||"";if(f){if(u.type=f,u.text=o[0],s++,f==="OPEN_PAREN")n.push(e.length-1),i.push(e.length-1);else if(f=="CLOSE_PAREN")n.length===0&&r("no matching open bracket"),u.match=n.pop(),e[u.match].match=e.length-1,u.depth--,u.linkBack=i.pop(),e[u.linkBack].linkNext=e.length-1;else if(f==="COMMA")u.linkBack=i.pop(),e[u.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(f==="OPEN_BRACKET")u.type="BRACKET";else if(f==="CLOSE_BRACKET"){let d=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const g=e.pop().text;d=g+d,e[e.length-1].value=gr(g)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=d}continue}if(a=o.match(s6e),a){if(u.text=a[1],s+=u.text.length,t6e.has(u.text)){u.type="KEYWORD";continue}if(u.text.match(uQ)){u.type="TYPE";continue}u.type="ID";continue}if(a=o.match(i6e),a){u.text=a[1],u.type="NUMBER",s+=u.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${s}`)}return new qu(e.map(o=>Object.freeze(o)))}function zz(t,e){let r=[];for(const n in e.keys())t.has(n)&&r.push(n);if(r.length>1)throw new Error(`conflicting types: ${r.join(", ")}`)}function t3(t,e){if(e.peekKeyword(sQ)){const r=e.pop().text;if(r!==t)throw new Error(`expected ${t}, got ${r}`)}return e.popType("ID")}function Yf(t,e){const r=new Set;for(;;){const n=t.peekType("KEYWORD");if(n==null||e&&!e.has(n))break;if(t.pop(),r.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}function cQ(t){let e=Yf(t,XIe);return zz(e,wo("constant payable nonpayable".split(" "))),zz(e,wo("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function $f(t,e){return t.popParams().map(r=>Ns.from(r,e))}function lQ(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return Ot(t.pop().text);throw new Error("invalid gas")}return null}function _0(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const o6e=new RegExp(/^(.*)\[([0-9]*)\]$/);function Wz(t){const e=t.match(uQ);if(Me(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const r=parseInt(e[2]);Me(r!==0&&r<=32,"invalid bytes length","type",t)}else if(e[3]){const r=parseInt(e[3]);Me(r!==0&&r<=256&&r%8===0,"invalid numeric width","type",t)}return t}const si={},Go=Symbol.for("_ethers_internal"),jz="_ParamTypeInternal",Kz="_ErrorInternal",Hz="_EventInternal",qz="_ConstructorInternal",Vz="_FallbackInternal",Gz="_FunctionInternal",Yz="_StructInternal";var Gy,R2;const za=class za{constructor(e,r,n,i,s,o,a,u){Ye(this,Gy);Ce(this,"name");Ce(this,"type");Ce(this,"baseType");Ce(this,"indexed");Ce(this,"components");Ce(this,"arrayLength");Ce(this,"arrayChildren");if(t_(e,si,"ParamType"),Object.defineProperty(this,Go,{value:jz}),o&&(o=Object.freeze(o.slice())),i==="array"){if(a==null||u==null)throw new Error("")}else if(a!=null||u!=null)throw new Error("");if(i==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");Xt(this,{name:r,type:n,baseType:i,indexed:s,components:o,arrayLength:a,arrayChildren:u})}format(e){if(e==null&&(e="sighash"),e==="json"){const n=this.name||"";if(this.isArray()){const s=JSON.parse(this.arrayChildren.format("json"));return s.name=n,s.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(s)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(s=>JSON.parse(s.format(e)))),JSON.stringify(i)}let r="";return this.isArray()?(r+=this.arrayChildren.format(e),r+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?r+="("+this.components.map(n=>n.format(e)).join(e==="full"?", ":",")+")":r+=this.type,e!=="sighash"&&(this.indexed===!0&&(r+=" indexed"),e==="full"&&this.name&&(r+=" "+this.name)),r}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,r){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return e.map(i=>n.arrayChildren.walk(i,r))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const n=this;return e.map((i,s)=>n.components[s].walk(i,r))}return r(this.type,e)}async walkAsync(e,r){const n=[],i=[e];return lt(this,Gy,R2).call(this,n,e,r,s=>{i[0]=s}),n.length&&await Promise.all(n),i[0]}static from(e,r){if(za.isParamType(e))return e;if(typeof e=="string")try{return za.from(Wh(e),r)}catch{Me(!1,"invalid param type","obj",e)}else if(e instanceof qu){let a="",u="",f=null;Yf(e,wo(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(u="tuple",f=e.popParams().map(x=>za.from(x)),a=`tuple(${f.map(x=>x.format()).join(",")})`):(a=Wz(e.popType("TYPE")),u=a);let d=null,g=null;for(;e.length&&e.peekType("BRACKET");){const x=e.pop();d=new za(si,"",a,u,null,f,g,d),g=x.value,a+=x.text,u="array",f=null}let y=null;if(Yf(e,JIe).has("indexed")){if(!r)throw new Error("");y=!0}const A=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new za(si,A,a,u,y,f,g,d)}const n=e.name;Me(!n||typeof n=="string"&&n.match(aQ),"invalid name","obj.name",n);let i=e.indexed;i!=null&&(Me(r,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let s=e.type,o=s.match(o6e);if(o){const a=parseInt(o[2]||"-1"),u=za.from({type:o[1],components:e.components});return new za(si,n||"",s,"array",i,null,a,u)}if(s==="tuple"||s.startsWith("tuple(")||s.startsWith("(")){const a=e.components!=null?e.components.map(f=>za.from(f)):null;return new za(si,n||"",s,"tuple",i,a,null,null)}return s=Wz(e.type),new za(si,n||"",s,s,i,null,null,null)}static isParamType(e){return e&&e[Go]===jz}};Gy=new WeakSet,R2=function(e,r,n,i){if(this.isArray()){if(!Array.isArray(r))throw new Error("invalid array value");if(this.arrayLength!==-1&&r.length!==this.arrayLength)throw new Error("array is wrong length");const o=this.arrayChildren,a=r.slice();a.forEach((u,f)=>{var d;lt(d=o,Gy,R2).call(d,e,u,n,g=>{a[f]=g})}),i(a);return}if(this.isTuple()){const o=this.components;let a;if(Array.isArray(r))a=r.slice();else{if(r==null||typeof r!="object")throw new Error("invalid tuple value");a=o.map(u=>{if(!u.name)throw new Error("cannot use object value with unnamed components");if(!(u.name in r))throw new Error(`missing value for component ${u.name}`);return r[u.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((u,f)=>{var d;lt(d=o[f],Gy,R2).call(d,e,u,n,g=>{a[f]=g})}),i(a);return}const s=n(this.type,r);s.then?e.push(async function(){i(await s)}()):i(s)};let Ns=za;class A0{constructor(e,r,n){Ce(this,"type");Ce(this,"inputs");t_(e,si,"Fragment"),n=Object.freeze(n.slice()),Xt(this,{type:r,inputs:n})}static from(e){if(typeof e=="string"){try{A0.from(JSON.parse(e))}catch{}return A0.from(Wh(e))}if(e instanceof qu)switch(e.peekKeyword(sQ)){case"constructor":return Pf.from(e);case"error":return Uo.from(e);case"event":return Dc.from(e);case"fallback":case"receive":return af.from(e);case"function":return Fc.from(e);case"struct":return f0.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Pf.from(e);case"error":return Uo.from(e);case"event":return Dc.from(e);case"fallback":case"receive":return af.from(e);case"function":return Fc.from(e);case"struct":return f0.from(e)}st(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}Me(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Pf.isFragment(e)}static isError(e){return Uo.isFragment(e)}static isEvent(e){return Dc.isFragment(e)}static isFunction(e){return Fc.isFragment(e)}static isStruct(e){return f0.isFragment(e)}}class r3 extends A0{constructor(r,n,i,s){super(r,n,s);Ce(this,"name");Me(typeof i=="string"&&i.match(aQ),"invalid identifier","name",i),s=Object.freeze(s.slice()),Xt(this,{name:i})}}function Gw(t,e){return"("+e.map(r=>r.format(t)).join(t==="full"?", ":",")+")"}class Uo extends r3{constructor(e,r,n){super(e,"error",r,n),Object.defineProperty(this,Go,{value:Kz})}get selector(){return S0(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});const r=[];return e!=="sighash"&&r.push("error"),r.push(this.name+Gw(e,this.inputs)),r.join(" ")}static from(e){if(Uo.isFragment(e))return e;if(typeof e=="string")return Uo.from(Wh(e));if(e instanceof qu){const r=t3("error",e),n=$f(e);return _0(e),new Uo(si,r,n)}return new Uo(si,e.name,e.inputs?e.inputs.map(Ns.from):[])}static isFragment(e){return e&&e[Go]===Kz}}class Dc extends r3{constructor(r,n,i,s){super(r,"event",n,i);Ce(this,"anonymous");Object.defineProperty(this,Go,{value:Hz}),Xt(this,{anonymous:s})}get topicHash(){return S0(this.format("sighash"))}format(r){if(r==null&&(r="sighash"),r==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(r)))});const n=[];return r!=="sighash"&&n.push("event"),n.push(this.name+Gw(r,this.inputs)),r!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(r,n){return n=(n||[]).map(s=>Ns.from(s)),new Dc(si,r,n,!1).topicHash}static from(r){if(Dc.isFragment(r))return r;if(typeof r=="string")try{return Dc.from(Wh(r))}catch{Me(!1,"invalid event fragment","obj",r)}else if(r instanceof qu){const n=t3("event",r),i=$f(r,!0),s=!!Yf(r,wo(["anonymous"])).has("anonymous");return _0(r),new Dc(si,n,i,s)}return new Dc(si,r.name,r.inputs?r.inputs.map(n=>Ns.from(n,!0)):[],!!r.anonymous)}static isFragment(r){return r&&r[Go]===Hz}}class Pf extends A0{constructor(r,n,i,s,o){super(r,n,i);Ce(this,"payable");Ce(this,"gas");Object.defineProperty(this,Go,{value:qz}),Xt(this,{payable:s,gas:o})}format(r){if(st(r!=null&&r!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),r==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(r)))});const n=[`constructor${Gw(r,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(r){if(Pf.isFragment(r))return r;if(typeof r=="string")try{return Pf.from(Wh(r))}catch{Me(!1,"invalid constuctor fragment","obj",r)}else if(r instanceof qu){Yf(r,wo(["constructor"]));const n=$f(r),i=!!Yf(r,ZIe).has("payable"),s=lQ(r);return _0(r),new Pf(si,"constructor",n,i,s)}return new Pf(si,"constructor",r.inputs?r.inputs.map(Ns.from):[],!!r.payable,r.gas!=null?r.gas:null)}static isFragment(r){return r&&r[Go]===qz}}class af extends A0{constructor(r,n,i){super(r,"fallback",n);Ce(this,"payable");Object.defineProperty(this,Go,{value:Vz}),Xt(this,{payable:i})}format(r){const n=this.inputs.length===0?"receive":"fallback";if(r==="json"){const i=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:i})}return`${n}()${this.payable?" payable":""}`}static from(r){if(af.isFragment(r))return r;if(typeof r=="string")try{return af.from(Wh(r))}catch{Me(!1,"invalid fallback fragment","obj",r)}else if(r instanceof qu){const n=r.toString(),i=r.peekKeyword(wo(["fallback","receive"]));if(Me(i,"type must be fallback or receive","obj",n),r.popKeyword(wo(["fallback","receive"]))==="receive"){const u=$f(r);return Me(u.length===0,"receive cannot have arguments","obj.inputs",u),Yf(r,wo(["payable"])),_0(r),new af(si,[],!0)}let o=$f(r);o.length?Me(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(u=>u.format("minimal")).join(", ")):o=[Ns.from("bytes")];const a=cQ(r);if(Me(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),Yf(r,wo(["returns"])).has("returns")){const u=$f(r);Me(u.length===1&&u[0].type==="bytes","invalid fallback outputs","obj.outputs",u.map(f=>f.format("minimal")).join(", "))}return _0(r),new af(si,o,a==="payable")}if(r.type==="receive")return new af(si,[],!0);if(r.type==="fallback"){const n=[Ns.from("bytes")],i=r.stateMutability==="payable";return new af(si,n,i)}Me(!1,"invalid fallback description","obj",r)}static isFragment(r){return r&&r[Go]===Vz}}class Fc extends r3{constructor(r,n,i,s,o,a){super(r,"function",n,s);Ce(this,"constant");Ce(this,"outputs");Ce(this,"stateMutability");Ce(this,"payable");Ce(this,"gas");Object.defineProperty(this,Go,{value:Gz}),o=Object.freeze(o.slice()),Xt(this,{constant:i==="view"||i==="pure",gas:a,outputs:o,payable:i==="payable",stateMutability:i})}get selector(){return S0(this.format("sighash")).substring(0,10)}format(r){if(r==null&&(r="sighash"),r==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(r))),outputs:this.outputs.map(i=>JSON.parse(i.format(r)))});const n=[];return r!=="sighash"&&n.push("function"),n.push(this.name+Gw(r,this.inputs)),r!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(Gw(r,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(r,n){return n=(n||[]).map(s=>Ns.from(s)),new Fc(si,r,"view",n,[],null).selector}static from(r){if(Fc.isFragment(r))return r;if(typeof r=="string")try{return Fc.from(Wh(r))}catch{Me(!1,"invalid function fragment","obj",r)}else if(r instanceof qu){const i=t3("function",r),s=$f(r),o=cQ(r);let a=[];Yf(r,wo(["returns"])).has("returns")&&(a=$f(r));const u=lQ(r);return _0(r),new Fc(si,i,o,s,a,u)}let n=r.stateMutability;return n==null&&(n="payable",typeof r.constant=="boolean"?(n="view",r.constant||(n="payable",typeof r.payable=="boolean"&&!r.payable&&(n="nonpayable"))):typeof r.payable=="boolean"&&!r.payable&&(n="nonpayable")),new Fc(si,r.name,n,r.inputs?r.inputs.map(Ns.from):[],r.outputs?r.outputs.map(Ns.from):[],r.gas!=null?r.gas:null)}static isFragment(r){return r&&r[Go]===Gz}}class f0 extends r3{constructor(e,r,n){super(e,"struct",r,n),Object.defineProperty(this,Go,{value:Yz})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return f0.from(Wh(e))}catch{Me(!1,"invalid struct fragment","obj",e)}else if(e instanceof qu){const r=t3("struct",e),n=$f(e);return _0(e),new f0(si,r,n)}return new f0(si,e.name,e.inputs?e.inputs.map(Ns.from):[])}static isFragment(e){return e&&e[Go]===Yz}}const ic=new Map;ic.set(0,"GENERIC_PANIC");ic.set(1,"ASSERT_FALSE");ic.set(17,"OVERFLOW");ic.set(18,"DIVIDE_BY_ZERO");ic.set(33,"ENUM_RANGE_ERROR");ic.set(34,"BAD_STORAGE_DATA");ic.set(49,"STACK_UNDERFLOW");ic.set(50,"ARRAY_RANGE_ERROR");ic.set(65,"OUT_OF_MEMORY");ic.set(81,"UNINITIALIZED_FUNCTION_CALL");const a6e=new RegExp(/^bytes([0-9]*)$/),u6e=new RegExp(/^(u?int)([0-9]*)$/);let U4=null,Zz=1024;function c6e(t,e,r,n){let i="missing revert data",s=null;const o=null;let a=null;if(r){i="execution reverted";const f=fr(r);if(r=Pt(r),f.length===0)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(f.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(Pt(f.slice(0,4))==="0x08c379a0")try{s=n.decode(["string"],f.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(Pt(f.slice(0,4))==="0x4e487b71")try{const d=Number(n.decode(["uint256"],f.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[d]},s=`Panic due to ${ic.get(d)||"UNKNOWN"}(${d})`,i+=`: ${s}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const u={to:e.to?ln(e.to):null,data:e.data||"0x"};return e.from&&(u.from=ln(e.from)),fi(i,"CALL_EXCEPTION",{action:t,data:r,reason:s,transaction:u,invocation:o,revert:a})}var qd,Yg;const vk=class vk{constructor(){Ye(this,qd)}getDefaultValue(e){const r=e.map(i=>lt(this,qd,Yg).call(this,Ns.from(i)));return new TA(r,"_").defaultValue()}encode(e,r){OX(r.length,e.length,"types/values length mismatch");const n=e.map(o=>lt(this,qd,Yg).call(this,Ns.from(o))),i=new TA(n,"_"),s=new vC;return i.encode(s,r),s.data}decode(e,r,n){const i=e.map(o=>lt(this,qd,Yg).call(this,Ns.from(o)));return new TA(i,"_").decode(new wC(r,n,Zz))}static _setDefaultMaxInflation(e){Me(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),Zz=e}static defaultAbiCoder(){return U4==null&&(U4=new vk),U4}static getBuiltinCallException(e,r,n){return c6e(e,r,n,vk.defaultAbiCoder())}};qd=new WeakSet,Yg=function(e){if(e.isArray())return new ITe(lt(this,qd,Yg).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new TA(e.components.map(n=>lt(this,qd,Yg).call(this,n)),e.name);switch(e.baseType){case"address":return new kTe(e.name);case"bool":return new RTe(e.name);case"string":return new FTe(e.name);case"bytes":return new MTe(e.name);case"":return new NTe(e.name)}let r=e.type.match(u6e);if(r){let n=parseInt(r[2]||"256");return Me(n!==0&&n<=256&&n%8===0,"invalid "+r[1]+" bit length","param",e),new DTe(n/8,r[1]==="int",e.name)}if(r=e.type.match(a6e),r){let n=parseInt(r[1]);return Me(n!==0&&n<=32,"invalid bytes length","param",e),new CTe(n,e.name)}Me(!1,"invalid type","type",e.type)};let Vu=vk;class l6e{constructor(e,r,n){Ce(this,"fragment");Ce(this,"name");Ce(this,"signature");Ce(this,"topic");Ce(this,"args");const i=e.name,s=e.format();Xt(this,{fragment:e,name:i,signature:s,topic:r,args:n})}}class f6e{constructor(e,r,n,i){Ce(this,"fragment");Ce(this,"name");Ce(this,"args");Ce(this,"signature");Ce(this,"selector");Ce(this,"value");const s=e.name,o=e.format();Xt(this,{fragment:e,name:s,args:n,signature:o,selector:r,value:i})}}class d6e{constructor(e,r,n){Ce(this,"fragment");Ce(this,"name");Ce(this,"args");Ce(this,"signature");Ce(this,"selector");const i=e.name,s=e.format();Xt(this,{fragment:e,name:i,args:n,signature:s,selector:r})}}class Xz{constructor(e){Ce(this,"hash");Ce(this,"_isIndexed");Xt(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const Jz={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Qz={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&Jz[t.toString()]&&(e=Jz[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var Ic,Rc,Mc,Hs,cl,M2,C2;const Ap=class Ap{constructor(e){Ye(this,cl);Ce(this,"fragments");Ce(this,"deploy");Ce(this,"fallback");Ce(this,"receive");Ye(this,Ic);Ye(this,Rc);Ye(this,Mc);Ye(this,Hs);let r=[];typeof e=="string"?r=JSON.parse(e):r=e,Ae(this,Mc,new Map),Ae(this,Ic,new Map),Ae(this,Rc,new Map);const n=[];for(const o of r)try{n.push(A0.from(o))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,a.message)}Xt(this,{fragments:Object.freeze(n)});let i=null,s=!1;Ae(this,Hs,this.getAbiCoder()),this.fragments.forEach((o,a)=>{let u;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Xt(this,{deploy:o});return;case"fallback":o.inputs.length===0?s=!0:(Me(!i||o.payable!==i.payable,"conflicting fallback fragments",`fragments[${a}]`,o),i=o,s=i.payable);return;case"function":u=ue(this,Mc);break;case"event":u=ue(this,Rc);break;case"error":u=ue(this,Ic);break;default:return}const f=o.format();u.has(f)||u.set(f,o)}),this.deploy||Xt(this,{deploy:Pf.from("constructor()")}),Xt(this,{fallback:i,receive:s})}format(e){const r=e?"minimal":"full";return this.fragments.map(i=>i.format(r))}formatJson(){const e=this.fragments.map(r=>r.format("json"));return JSON.stringify(e.map(r=>JSON.parse(r)))}getAbiCoder(){return Vu.defaultAbiCoder()}getFunctionName(e){const r=lt(this,cl,M2).call(this,e,null,!1);return Me(r,"no matching function","key",e),r.name}hasFunction(e){return!!lt(this,cl,M2).call(this,e,null,!1)}getFunction(e,r){return lt(this,cl,M2).call(this,e,r||null,!0)}forEachFunction(e){const r=Array.from(ue(this,Mc).keys());r.sort((n,i)=>n.localeCompare(i));for(let n=0;n<r.length;n++){const i=r[n];e(ue(this,Mc).get(i),n)}}getEventName(e){const r=lt(this,cl,C2).call(this,e,null,!1);return Me(r,"no matching event","key",e),r.name}hasEvent(e){return!!lt(this,cl,C2).call(this,e,null,!1)}getEvent(e,r){return lt(this,cl,C2).call(this,e,r||null,!0)}forEachEvent(e){const r=Array.from(ue(this,Rc).keys());r.sort((n,i)=>n.localeCompare(i));for(let n=0;n<r.length;n++){const i=r[n];e(ue(this,Rc).get(i),n)}}getError(e,r){if(Un(e)){const i=e.toLowerCase();if(Qz[i])return Uo.from(Qz[i].signature);for(const s of ue(this,Ic).values())if(i===s.selector)return s;return null}if(e.indexOf("(")===-1){const i=[];for(const[s,o]of ue(this,Ic))s.split("(")[0]===e&&i.push(o);if(i.length===0)return e==="Error"?Uo.from("error Error(string)"):e==="Panic"?Uo.from("error Panic(uint256)"):null;if(i.length>1){const s=i.map(o=>JSON.stringify(o.format())).join(", ");Me(!1,`ambiguous error description (i.e. ${s})`,"name",e)}return i[0]}if(e=Uo.from(e).format(),e==="Error(string)")return Uo.from("error Error(string)");if(e==="Panic(uint256)")return Uo.from("error Panic(uint256)");const n=ue(this,Ic).get(e);return n||null}forEachError(e){const r=Array.from(ue(this,Ic).keys());r.sort((n,i)=>n.localeCompare(i));for(let n=0;n<r.length;n++){const i=r[n];e(ue(this,Ic).get(i),n)}}_decodeParams(e,r){return ue(this,Hs).decode(e,r)}_encodeParams(e,r){return ue(this,Hs).encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){if(typeof e=="string"){const n=this.getError(e);Me(n,"unknown error","fragment",e),e=n}return Me(gi(r,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",r),this._decodeParams(e.inputs,gi(r,4))}encodeErrorResult(e,r){if(typeof e=="string"){const n=this.getError(e);Me(n,"unknown error","fragment",e),e=n}return ai([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionData(e,r){if(typeof e=="string"){const n=this.getFunction(e);Me(n,"unknown function","fragment",e),e=n}return Me(gi(r,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",r),this._decodeParams(e.inputs,gi(r,4))}encodeFunctionData(e,r){if(typeof e=="string"){const n=this.getFunction(e);Me(n,"unknown function","fragment",e),e=n}return ai([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionResult(e,r){if(typeof e=="string"){const s=this.getFunction(e);Me(s,"unknown function","fragment",e),e=s}let n="invalid length for result data";const i=mo(r);if(i.length%32===0)try{return ue(this,Hs).decode(e.outputs,i)}catch{n="could not decode result data"}st(!1,n,"BAD_DATA",{value:Pt(i),info:{method:e.name,signature:e.format()}})}makeError(e,r){const n=fr(e,"data"),i=Vu.getBuiltinCallException("call",r,n);if(i.message.startsWith("execution reverted (unknown custom error)")){const a=Pt(n.slice(0,4)),u=this.getError(a);if(u)try{const f=ue(this,Hs).decode(u.inputs,n.slice(4));i.revert={name:u.name,signature:u.format(),args:f},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const o=this.parseTransaction(r);return o&&(i.invocation={method:o.name,signature:o.signature,args:o.args}),i}encodeFunctionResult(e,r){if(typeof e=="string"){const n=this.getFunction(e);Me(n,"unknown function","fragment",e),e=n}return Pt(ue(this,Hs).encode(e.outputs,r||[]))}encodeFilterTopics(e,r){if(typeof e=="string"){const s=this.getEvent(e);Me(s,"unknown event","eventFragment",e),e=s}st(r.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:r.length,expectedCount:e.inputs.length});const n=[];e.anonymous||n.push(e.topicHash);const i=(s,o)=>s.type==="string"?S0(o):s.type==="bytes"?oi(Pt(o)):(s.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":s.type.match(/^u?int/)?o=xh(o):s.type.match(/^bytes/)?o=FX(o,32):s.type==="address"&&ue(this,Hs).encode(["address"],[o]),el(Pt(o),32));for(r.forEach((s,o)=>{const a=e.inputs[o];if(!a.indexed){Me(s==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?Me(!1,"filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?n.push(s.map(u=>i(a,u))):n.push(i(a,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){if(typeof e=="string"){const o=this.getEvent(e);Me(o,"unknown event","eventFragment",e),e=o}const n=[],i=[],s=[];return e.anonymous||n.push(e.topicHash),Me(r.length===e.inputs.length,"event arguments/values mismatch","values",r),e.inputs.forEach((o,a)=>{const u=r[a];if(o.indexed)if(o.type==="string")n.push(S0(u));else if(o.type==="bytes")n.push(oi(u));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(ue(this,Hs).encode([o.type],[u]))}else i.push(o),s.push(u)}),{data:ue(this,Hs).encode(i,s),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"){const b=this.getEvent(e);Me(b,"unknown event","eventFragment",e),e=b}if(n!=null&&!e.anonymous){const b=e.topicHash;Me(Un(n[0],32)&&n[0].toLowerCase()===b,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const i=[],s=[],o=[];e.inputs.forEach((b,A)=>{b.indexed?b.type==="string"||b.type==="bytes"||b.baseType==="tuple"||b.baseType==="array"?(i.push(Ns.from({type:"bytes32",name:b.name})),o.push(!0)):(i.push(b),o.push(!1)):(s.push(b),o.push(!1))});const a=n!=null?ue(this,Hs).decode(i,ai(n)):null,u=ue(this,Hs).decode(s,r,!0),f=[],d=[];let g=0,y=0;return e.inputs.forEach((b,A)=>{let x=null;if(b.indexed)if(a==null)x=new Xz(null);else if(o[A])x=new Xz(a[y++]);else try{x=a[y++]}catch(k){x=k}else try{x=u[g++]}catch(k){x=k}f.push(x),d.push(b.name||null)}),yb.fromItems(f,d)}parseTransaction(e){const r=fr(e.data,"tx.data"),n=Ot(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(Pt(r.slice(0,4)));if(!i)return null;const s=ue(this,Hs).decode(i.inputs,r.slice(4));return new f6e(i,i.selector,s,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new l6e(r,r.topicHash,this.decodeEventLog(r,e.data,e.topics))}parseError(e){const r=Pt(e),n=this.getError(gi(r,0,4));if(!n)return null;const i=ue(this,Hs).decode(n.inputs,gi(r,4));return new d6e(n,n.selector,i)}static from(e){return e instanceof Ap?e:typeof e=="string"?new Ap(JSON.parse(e)):typeof e.formatJson=="function"?new Ap(e.formatJson()):typeof e.format=="function"?new Ap(e.format("json")):new Ap(e)}};Ic=new WeakMap,Rc=new WeakMap,Mc=new WeakMap,Hs=new WeakMap,cl=new WeakSet,M2=function(e,r,n){if(Un(e)){const s=e.toLowerCase();for(const o of ue(this,Mc).values())if(s===o.selector)return o;return null}if(e.indexOf("(")===-1){const s=[];for(const[o,a]of ue(this,Mc))o.split("(")[0]===e&&s.push(a);if(r){const o=r.length>0?r[r.length-1]:null;let a=r.length,u=!0;eo.isTyped(o)&&o.type==="overrides"&&(u=!1,a--);for(let f=s.length-1;f>=0;f--){const d=s[f].inputs.length;d!==a&&(!u||d!==a-1)&&s.splice(f,1)}for(let f=s.length-1;f>=0;f--){const d=s[f].inputs;for(let g=0;g<r.length;g++)if(eo.isTyped(r[g])){if(g>=d.length){if(r[g].type==="overrides")continue;s.splice(f,1);break}if(r[g].type!==d[g].baseType){s.splice(f,1);break}}}}if(s.length===1&&r&&r.length!==s[0].inputs.length){const o=r[r.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&s.splice(0,1)}if(s.length===0)return null;if(s.length>1&&n){const o=s.map(a=>JSON.stringify(a.format())).join(", ");Me(!1,`ambiguous function description (i.e. matches ${o})`,"key",e)}return s[0]}const i=ue(this,Mc).get(Fc.from(e).format());return i||null},C2=function(e,r,n){if(Un(e)){const s=e.toLowerCase();for(const o of ue(this,Rc).values())if(s===o.topicHash)return o;return null}if(e.indexOf("(")===-1){const s=[];for(const[o,a]of ue(this,Rc))o.split("(")[0]===e&&s.push(a);if(r){for(let o=s.length-1;o>=0;o--)s[o].inputs.length<r.length&&s.splice(o,1);for(let o=s.length-1;o>=0;o--){const a=s[o].inputs;for(let u=0;u<r.length;u++)if(eo.isTyped(r[u])&&r[u].type!==a[u].baseType){s.splice(o,1);break}}}if(s.length===0)return null;if(s.length>1&&n){const o=s.map(a=>JSON.stringify(a.format())).join(", ");Me(!1,`ambiguous event description (i.e. matches ${o})`,"key",e)}return s[0]}const i=ue(this,Rc).get(Dc.from(e).format());return i||null};let BC=Ap;const fQ=BigInt(0);function cy(t){return t??null}function Ei(t){return t==null?null:t.toString()}class eW{constructor(e,r,n){Ce(this,"gasPrice");Ce(this,"maxFeePerGas");Ce(this,"maxPriorityFeePerGas");Xt(this,{gasPrice:cy(e),maxFeePerGas:cy(r),maxPriorityFeePerGas:cy(n)})}toJSON(){const{gasPrice:e,maxFeePerGas:r,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:Ei(e),maxFeePerGas:Ei(r),maxPriorityFeePerGas:Ei(n)}}}function Yx(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=Pt(t.data));const r="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of r)!(i in t)||t[i]==null||(e[i]=Ot(t[i],`request.${i}`));const n="type,nonce".split(/,/);for(const i of n)!(i in t)||t[i]==null||(e[i]=gr(t[i],`request.${i}`));return t.accessList&&(e.accessList=tg(t.accessList)),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(i=>hB(i)?Pt(i):Object.assign({},i))),e}var gf;class h6e{constructor(e,r){Ce(this,"provider");Ce(this,"number");Ce(this,"hash");Ce(this,"timestamp");Ce(this,"parentHash");Ce(this,"parentBeaconBlockRoot");Ce(this,"nonce");Ce(this,"difficulty");Ce(this,"gasLimit");Ce(this,"gasUsed");Ce(this,"stateRoot");Ce(this,"receiptsRoot");Ce(this,"blobGasUsed");Ce(this,"excessBlobGas");Ce(this,"miner");Ce(this,"prevRandao");Ce(this,"extraData");Ce(this,"baseFeePerGas");Ye(this,gf);Ae(this,gf,e.transactions.map(n=>typeof n!="string"?new Yw(n,r):n)),Xt(this,{provider:r,hash:cy(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:cy(e.prevRandao),extraData:e.extraData,baseFeePerGas:cy(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return ue(this,gf).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=ue(this,gf).slice();return e.length===0?[]:(st(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:r,extraData:n,gasLimit:i,gasUsed:s,hash:o,miner:a,prevRandao:u,nonce:f,number:d,parentHash:g,parentBeaconBlockRoot:y,stateRoot:b,receiptsRoot:A,timestamp:x,transactions:k}=this;return{_type:"Block",baseFeePerGas:Ei(e),difficulty:Ei(r),extraData:n,gasLimit:Ei(i),gasUsed:Ei(s),blobGasUsed:Ei(this.blobGasUsed),excessBlobGas:Ei(this.excessBlobGas),hash:o,miner:a,prevRandao:u,nonce:f,number:d,parentHash:g,timestamp:x,parentBeaconBlockRoot:y,stateRoot:b,receiptsRoot:A,transactions:k}}[Symbol.iterator](){let e=0;const r=this.transactions;return{next:()=>e<this.length?{value:r[e++],done:!1}:{value:void 0,done:!0}}}get length(){return ue(this,gf).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let r;if(typeof e=="number")r=ue(this,gf)[e];else{const n=e.toLowerCase();for(const i of ue(this,gf))if(typeof i=="string"){if(i!==n)continue;r=i;break}else{if(i.hash!==n)continue;r=i;break}}if(r==null)throw new Error("no such tx");return typeof r=="string"?await this.provider.getTransaction(r):r}getPrefetchedTransaction(e){const r=this.prefetchedTransactions;if(typeof e=="number")return r[e];e=e.toLowerCase();for(const n of r)if(n.hash===e)return n;Me(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return p6e(this)}}gf=new WeakMap;class i_{constructor(e,r){Ce(this,"provider");Ce(this,"transactionHash");Ce(this,"blockHash");Ce(this,"blockNumber");Ce(this,"removed");Ce(this,"address");Ce(this,"data");Ce(this,"topics");Ce(this,"index");Ce(this,"transactionIndex");this.provider=r;const n=Object.freeze(e.topics.slice());Xt(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:r,blockNumber:n,data:i,index:s,removed:o,topics:a,transactionHash:u,transactionIndex:f}=this;return{_type:"log",address:e,blockHash:r,blockNumber:n,data:i,index:s,removed:o,topics:a,transactionHash:u,transactionIndex:f}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return st(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return st(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return st(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return g6e(this)}}var zS;class dQ{constructor(e,r){Ce(this,"provider");Ce(this,"to");Ce(this,"from");Ce(this,"contractAddress");Ce(this,"hash");Ce(this,"index");Ce(this,"blockHash");Ce(this,"blockNumber");Ce(this,"logsBloom");Ce(this,"gasUsed");Ce(this,"blobGasUsed");Ce(this,"cumulativeGasUsed");Ce(this,"gasPrice");Ce(this,"blobGasPrice");Ce(this,"type");Ce(this,"status");Ce(this,"root");Ye(this,zS);Ae(this,zS,Object.freeze(e.logs.map(i=>new i_(i,r))));let n=fQ;e.effectiveGasPrice!=null?n=e.effectiveGasPrice:e.gasPrice!=null&&(n=e.gasPrice),Xt(this,{provider:r,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return ue(this,zS)}toJSON(){const{to:e,from:r,contractAddress:n,hash:i,index:s,blockHash:o,blockNumber:a,logsBloom:u,logs:f,status:d,root:g}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:n,cumulativeGasUsed:Ei(this.cumulativeGasUsed),from:r,gasPrice:Ei(this.gasPrice),blobGasUsed:Ei(this.blobGasUsed),blobGasPrice:Ei(this.blobGasPrice),gasUsed:Ei(this.gasUsed),hash:i,index:s,logs:f,logsBloom:u,root:g,status:d,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return pQ(this)}reorderedEvent(e){return st(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),hQ(this,e)}}zS=new WeakMap;var Vd;const lU=class lU{constructor(e,r){Ce(this,"provider");Ce(this,"blockNumber");Ce(this,"blockHash");Ce(this,"index");Ce(this,"hash");Ce(this,"type");Ce(this,"to");Ce(this,"from");Ce(this,"nonce");Ce(this,"gasLimit");Ce(this,"gasPrice");Ce(this,"maxPriorityFeePerGas");Ce(this,"maxFeePerGas");Ce(this,"maxFeePerBlobGas");Ce(this,"data");Ce(this,"value");Ce(this,"chainId");Ce(this,"signature");Ce(this,"accessList");Ce(this,"blobVersionedHashes");Ye(this,Vd);this.provider=r,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,Ae(this,Vd,-1)}toJSON(){const{blockNumber:e,blockHash:r,index:n,hash:i,type:s,to:o,from:a,nonce:u,data:f,signature:d,accessList:g,blobVersionedHashes:y}=this;return{_type:"TransactionResponse",accessList:g,blockNumber:e,blockHash:r,blobVersionedHashes:y,chainId:Ei(this.chainId),data:f,from:a,gasLimit:Ei(this.gasLimit),gasPrice:Ei(this.gasPrice),hash:i,maxFeePerGas:Ei(this.maxFeePerGas),maxPriorityFeePerGas:Ei(this.maxPriorityFeePerGas),maxFeePerBlobGas:Ei(this.maxFeePerBlobGas),nonce:u,signature:d,to:o,index:n,type:s,value:Ei(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const n=await this.getTransaction();n&&(e=n.blockNumber)}if(e==null)return null;const r=this.provider.getBlock(e);if(r==null)throw new Error("TODO");return r}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:r,blockNumber:n}=await uo({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return r==null||r.blockNumber==null?0:n-r.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,r){const n=e??1,i=r??0;let s=ue(this,Vd),o=-1,a=s===-1;const u=async()=>{if(a)return null;const{blockNumber:y,nonce:b}=await uo({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(b<this.nonce){s=y;return}if(a)return null;const A=await this.getTransaction();if(!(A&&A.blockNumber!=null))for(o===-1&&(o=s-3,o<ue(this,Vd)&&(o=ue(this,Vd)));o<=y;){if(a)return null;const x=await this.provider.getBlock(o,!0);if(x==null)return;for(const k of x)if(k===this.hash)return;for(let k=0;k<x.length;k++){const I=await x.getTransaction(k);if(I.from===this.from&&I.nonce===this.nonce){if(a)return null;const R=await this.provider.getTransactionReceipt(I.hash);if(R==null||y-R.blockNumber+1<n)return;let M="replaced";I.data===this.data&&I.to===this.to&&I.value===this.value?M="repriced":I.data==="0x"&&I.from===I.to&&I.value===fQ&&(M="cancelled"),st(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:M==="replaced"||M==="cancelled",reason:M,replacement:I.replaceableTransaction(s),hash:I.hash,receipt:R})}}o++}},f=y=>{if(y==null||y.status!==0)return y;st(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:y.to,from:y.from,data:""},receipt:y})},d=await this.provider.getTransactionReceipt(this.hash);if(n===0)return f(d);if(d){if(await d.confirmations()>=n)return f(d)}else if(await u(),n===0)return null;return await new Promise((y,b)=>{const A=[],x=()=>{A.forEach(I=>I())};if(A.push(()=>{a=!0}),i>0){const I=setTimeout(()=>{x(),b(fi("wait for transaction timeout","TIMEOUT"))},i);A.push(()=>{clearTimeout(I)})}const k=async I=>{if(await I.confirmations()>=n){x();try{y(f(I))}catch(R){b(R)}}};if(A.push(()=>{this.provider.off(this.hash,k)}),this.provider.on(this.hash,k),s>=0){const I=async()=>{try{await u()}catch(R){if(Cs(R,"TRANSACTION_REPLACED")){x(),b(R);return}}a||this.provider.once("block",I)};A.push(()=>{this.provider.off("block",I)}),this.provider.once("block",I)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return st(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),pQ(this)}reorderedEvent(e){return st(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),st(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),hQ(this,e)}replaceableTransaction(e){Me(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const r=new lU(this,this.provider);return Ae(r,Vd,e),r}};Vd=new WeakMap;let Yw=lU;function p6e(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function hQ(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function pQ(t){return{orphan:"drop-transaction",tx:t}}function g6e(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class CB extends i_{constructor(r,n,i){super(r,r.provider);Ce(this,"interface");Ce(this,"fragment");Ce(this,"args");const s=n.decodeEventLog(i,r.data,r.topics);Xt(this,{args:s,fragment:i,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class gQ extends i_{constructor(r,n){super(r,r.provider);Ce(this,"error");Xt(this,{error:n})}}var Yy;class m6e extends dQ{constructor(r,n,i){super(i,n);Ye(this,Yy);Ae(this,Yy,r)}get logs(){return super.logs.map(r=>{const n=r.topics.length?ue(this,Yy).getEvent(r.topics[0]):null;if(n)try{return new CB(r,ue(this,Yy),n)}catch(i){return new gQ(r,i)}return r})}}Yy=new WeakMap;var WS;class PB extends Yw{constructor(r,n,i){super(i,n);Ye(this,WS);Ae(this,WS,r)}async wait(r,n){const i=await super.wait(r,n);return i==null?null:new m6e(ue(this,WS),this.provider,i)}}WS=new WeakMap;class mQ extends $X{constructor(r,n,i,s){super(r,n,i);Ce(this,"log");Xt(this,{log:s})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class y6e extends mQ{constructor(e,r,n,i,s){super(e,r,n,new CB(s,e.interface,i));const o=e.interface.decodeEventLog(i,this.log.data,this.log.topics);Xt(this,{args:o,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const tW=BigInt(0);function yQ(t){return t&&typeof t.call=="function"}function bQ(t){return t&&typeof t.estimateGas=="function"}function n3(t){return t&&typeof t.resolveName=="function"}function vQ(t){return t&&typeof t.sendTransaction=="function"}function wQ(t){if(t!=null){if(n3(t))return t;if(t.provider)return t.provider}}var jS;class b6e{constructor(e,r,n){Ye(this,jS);Ce(this,"fragment");if(Xt(this,{fragment:r}),r.inputs.length<n.length)throw new Error("too many arguments");const i=x0(e.runner,"resolveName"),s=n3(i)?i:null;Ae(this,jS,async function(){const o=await Promise.all(r.inputs.map((a,u)=>n[u]==null?null:a.walkAsync(n[u],(d,g)=>d==="address"?Array.isArray(g)?Promise.all(g.map(y=>vo(y,s))):vo(g,s):g)));return e.interface.encodeFilterTopics(r,o)}())}getTopicFilter(){return ue(this,jS)}}jS=new WeakMap;function x0(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function Ip(t){return t==null?null:t.provider||null}async function SQ(t,e){const r=eo.dereference(t,"overrides");Me(typeof r=="object","invalid overrides parameter","overrides",t);const n=Yx(r);return Me(n.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),Me(n.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}async function v6e(t,e,r){const n=x0(t,"resolveName"),i=n3(n)?n:null;return await Promise.all(e.map((s,o)=>s.walkAsync(r[o],(a,u)=>(u=eo.dereference(u,a),a==="address"?vo(u,i):u))))}function w6e(t){const e=async function(o){const a=await SQ(o,["data"]);a.to=await t.getAddress(),a.from&&(a.from=await vo(a.from,wQ(t.runner)));const u=t.interface,f=Ot(a.value||tW,"overrides.value")===tW,d=(a.data||"0x")==="0x";u.fallback&&!u.fallback.payable&&u.receive&&!d&&!f&&Me(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),Me(u.fallback||d,"cannot send data to receive-only contract","overrides.data",a.data);const g=u.receive||u.fallback&&u.fallback.payable;return Me(g||f,"cannot send value to non-payable fallback","overrides.value",a.value),Me(u.fallback||d,"cannot send data to receive-only contract","overrides.data",a.data),a},r=async function(o){const a=x0(t.runner,"call");st(yQ(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const u=await e(o);try{return await a.call(u)}catch(f){throw dB(f)&&f.data?t.interface.makeError(f.data,u):f}},n=async function(o){const a=t.runner;st(vQ(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const u=await a.sendTransaction(await e(o)),f=Ip(t.runner);return new PB(t.interface,f,u)},i=async function(o){const a=x0(t.runner,"estimateGas");return st(bQ(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(o))},s=async o=>await n(o);return Xt(s,{_contract:t,estimateGas:i,populateTransaction:e,send:n,staticCall:r}),s}function S6e(t,e){const r=function(...f){const d=t.interface.getFunction(e,f);return st(d,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:f}}),d},n=async function(...f){const d=r(...f);let g={};if(d.inputs.length+1===f.length&&(g=await SQ(f.pop()),g.from&&(g.from=await vo(g.from,wQ(t.runner)))),d.inputs.length!==f.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const y=await v6e(t.runner,d.inputs,f);return Object.assign({},g,await uo({to:t.getAddress(),data:t.interface.encodeFunctionData(d,y)}))},i=async function(...f){const d=await a(...f);return d.length===1?d[0]:d},s=async function(...f){const d=t.runner;st(vQ(d),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const g=await d.sendTransaction(await n(...f)),y=Ip(t.runner);return new PB(t.interface,y,g)},o=async function(...f){const d=x0(t.runner,"estimateGas");return st(bQ(d),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await d.estimateGas(await n(...f))},a=async function(...f){const d=x0(t.runner,"call");st(yQ(d),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const g=await n(...f);let y="0x";try{y=await d.call(g)}catch(A){throw dB(A)&&A.data?t.interface.makeError(A.data,g):A}const b=r(...f);return t.interface.decodeFunctionResult(b,y)},u=async(...f)=>r(...f).constant?await i(...f):await s(...f);return Xt(u,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:r,estimateGas:o,populateTransaction:n,send:s,staticCall:i,staticCallResult:a}),Object.defineProperty(u,"fragment",{configurable:!1,enumerable:!0,get:()=>{const f=t.interface.getFunction(e);return st(f,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),f}}),u}function _6e(t,e){const r=function(...i){const s=t.interface.getEvent(e,i);return st(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),s},n=function(...i){return new b6e(t,r(...i),i)};return Xt(n,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:r}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{const i=t.interface.getEvent(e);return st(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),n}const Zx=Symbol.for("_ethersInternal_contract"),_Q=new WeakMap;function A6e(t,e){_Q.set(t[Zx],e)}function ta(t){return _Q.get(t[Zx])}function x6e(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function NB(t,e){let r,n=null;if(Array.isArray(e)){const s=function(o){if(Un(o,32))return o;const a=t.interface.getEvent(o);return Me(a,"unknown fragment","name",o),a.topicHash};r=e.map(o=>o==null?null:Array.isArray(o)?o.map(s):s(o))}else e==="*"?r=[null]:typeof e=="string"?Un(e,32)?r=[e]:(n=t.interface.getEvent(e),Me(n,"unknown fragment","event",e),r=[n.topicHash]):x6e(e)?r=await e.getTopicFilter():"fragment"in e?(n=e.fragment,r=[n.topicHash]):Me(!1,"unknown event name","event",e);r=r.map(s=>{if(s==null)return null;if(Array.isArray(s)){const o=Array.from(new Set(s.map(a=>a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return s.toLowerCase()});const i=r.map(s=>s==null?"null":Array.isArray(s)?s.join("|"):s).join("&");return{fragment:n,tag:i,topics:r}}async function Uv(t,e){const{subs:r}=ta(t);return r.get((await NB(t,e)).tag)||null}async function rW(t,e,r){const n=Ip(t.runner);st(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:i,tag:s,topics:o}=await NB(t,r),{addr:a,subs:u}=ta(t);let f=u.get(s);if(!f){const g={address:a||t,topics:o},y=k=>{let I=i;if(I==null)try{I=t.interface.getEvent(k.topics[0])}catch{}if(I){const R=I,M=i?t.interface.decodeEventLog(i,k.data,k.topics):[];LC(t,r,M,P=>new y6e(t,P,r,R,k))}else LC(t,r,[],R=>new mQ(t,R,r,k))};let b=[];f={tag:s,listeners:[],start:()=>{b.length||b.push(n.on(g,y))},stop:async()=>{if(b.length==0)return;let k=b;b=[],await Promise.all(k),n.off(g,y)}},u.set(s,f)}return f}let OC=Promise.resolve();async function E6e(t,e,r,n){await OC;const i=await Uv(t,e);if(!i)return!1;const s=i.listeners.length;return i.listeners=i.listeners.filter(({listener:o,once:a})=>{const u=Array.from(r);n&&u.push(n(a?null:o));try{o.call(t,...u)}catch{}return!a}),i.listeners.length===0&&(i.stop(),ta(t).subs.delete(i.tag)),s>0}async function LC(t,e,r,n){try{await OC}catch{}const i=E6e(t,e,r,n);return OC=i,await i}const RA=["then"];var gY;gY=Zx;const Cw=class Cw{constructor(e,r,n,i){Ce(this,"target");Ce(this,"interface");Ce(this,"runner");Ce(this,"filters");Ce(this,gY);Ce(this,"fallback");Me(typeof e=="string"||kJ(e),"invalid value for Contract target","target",e),n==null&&(n=null);const s=BC.from(r);Xt(this,{target:e,runner:n,interface:s}),Object.defineProperty(this,Zx,{value:{}});let o,a=null,u=null;if(i){const g=Ip(n);u=new PB(this.interface,g,i)}let f=new Map;if(typeof e=="string")if(Un(e))a=e,o=Promise.resolve(e);else{const g=x0(n,"resolveName");if(!n3(g))throw fi("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=g.resolveName(e).then(y=>{if(y==null)throw fi("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return ta(this).addr=y,y})}else o=e.getAddress().then(g=>{if(g==null)throw new Error("TODO");return ta(this).addr=g,g});A6e(this,{addrPromise:o,addr:a,deployTx:u,subs:f});const d=new Proxy({},{get:(g,y,b)=>{if(typeof y=="symbol"||RA.indexOf(y)>=0)return Reflect.get(g,y,b);try{return this.getEvent(y)}catch(A){if(!Cs(A,"INVALID_ARGUMENT")||A.argument!=="key")throw A}},has:(g,y)=>RA.indexOf(y)>=0?Reflect.has(g,y):Reflect.has(g,y)||this.interface.hasEvent(String(y))});return Xt(this,{filters:d}),Xt(this,{fallback:s.receive||s.fallback?w6e(this):null}),new Proxy(this,{get:(g,y,b)=>{if(typeof y=="symbol"||y in g||RA.indexOf(y)>=0)return Reflect.get(g,y,b);try{return g.getFunction(y)}catch(A){if(!Cs(A,"INVALID_ARGUMENT")||A.argument!=="key")throw A}},has:(g,y)=>typeof y=="symbol"||y in g||RA.indexOf(y)>=0?Reflect.has(g,y):g.interface.hasFunction(y)})}connect(e){return new Cw(this.target,this.interface,e)}attach(e){return new Cw(e,this.interface,this.runner)}async getAddress(){return await ta(this).addrPromise}async getDeployedCode(){const e=Ip(this.runner);st(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const r=await e.getCode(await this.getAddress());return r==="0x"?null:r}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const n=Ip(this.runner);return st(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,s)=>{const o=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);n.once("block",o)}catch(a){s(a)}};o()})}deploymentTransaction(){return ta(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),S6e(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),_6e(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,r,n){r==null&&(r=0),n==null&&(n="latest");const{addr:i,addrPromise:s}=ta(this),o=i||await s,{fragment:a,topics:u}=await NB(this,e),f={address:o,topics:u,fromBlock:r,toBlock:n},d=Ip(this.runner);return st(d,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await d.getLogs(f)).map(g=>{let y=a;if(y==null)try{y=this.interface.getEvent(g.topics[0])}catch{}if(y)try{return new CB(g,this.interface,y)}catch(b){return new gQ(g,b)}return new i_(g,d)})}async on(e,r){const n=await rW(this,"on",e);return n.listeners.push({listener:r,once:!1}),n.start(),this}async once(e,r){const n=await rW(this,"once",e);return n.listeners.push({listener:r,once:!0}),n.start(),this}async emit(e,...r){return await LC(this,e,r,null)}async listenerCount(e){if(e){const i=await Uv(this,e);return i?i.listeners.length:0}const{subs:r}=ta(this);let n=0;for(const{listeners:i}of r.values())n+=i.length;return n}async listeners(e){if(e){const i=await Uv(this,e);return i?i.listeners.map(({listener:s})=>s):[]}const{subs:r}=ta(this);let n=[];for(const{listeners:i}of r.values())n=n.concat(i.map(({listener:s})=>s));return n}async off(e,r){const n=await Uv(this,e);if(!n)return this;if(r){const i=n.listeners.map(({listener:s})=>s).indexOf(r);i>=0&&n.listeners.splice(i,1)}return(r==null||n.listeners.length===0)&&(n.stop(),ta(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){const r=await Uv(this,e);if(!r)return this;r.stop(),ta(this).subs.delete(r.tag)}else{const{subs:r}=ta(this);for(const{tag:n,stop:i}of r.values())i(),r.delete(n)}return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return await this.off(e,r)}static buildClass(e){class r extends Cw{constructor(i,s=null){super(i,e,s)}}return r}static from(e,r,n){return n==null&&(n=null),new this(e,r,n)}};let DC=Cw;function k6e(){return DC}class ph extends k6e(){}function z4(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):Me(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class T6e{constructor(e){Ce(this,"name");Xt(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,r){throw new Error("unsupported coin")}async decodeAddress(e,r){throw new Error("unsupported coin")}}const AQ=new RegExp("^(ipfs)://(.*)$","i"),nW=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),AQ,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var Gd,Xp,Yd,Zg,wk,xQ;const ty=class ty{constructor(e,r,n){Ye(this,Yd);Ce(this,"provider");Ce(this,"address");Ce(this,"name");Ye(this,Gd);Ye(this,Xp);Xt(this,{provider:e,address:r,name:n}),Ae(this,Gd,null),Ae(this,Xp,new ph(r,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return ue(this,Gd)==null&&Ae(this,Gd,(async()=>{try{return await ue(this,Xp).supportsInterface("0x9061b923")}catch(e){if(Cs(e,"CALL_EXCEPTION"))return!1;throw Ae(this,Gd,null),e}})()),await ue(this,Gd)}async getAddress(e){if(e==null&&(e=60),e===60)try{const s=await lt(this,Yd,Zg).call(this,"addr(bytes32)");return s==null||s===Ww?null:s}catch(s){if(Cs(s,"CALL_EXCEPTION"))return null;throw s}if(e>=0&&e<2147483648){let s=e+2147483648;const o=await lt(this,Yd,Zg).call(this,"addr(bytes32,uint)",[s]);if(Un(o,20))return ln(o)}let r=null;for(const s of this.provider.plugins)if(s instanceof T6e&&s.supportsCoinType(e)){r=s;break}if(r==null)return null;const n=await lt(this,Yd,Zg).call(this,"addr(bytes32,uint)",[e]);if(n==null||n==="0x")return null;const i=await r.decodeAddress(e,n);if(i!=null)return i;st(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){const r=await lt(this,Yd,Zg).call(this,"text(bytes32,string)",[e]);return r==null||r==="0x"?null:r}async getContentHash(){const e=await lt(this,Yd,Zg).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const r=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const i=r[1]==="e3010170"?"ipfs":"ipns",s=parseInt(r[4],16);if(r[5].length===s*2)return`${i}://${Pke("0x"+r[2])}`}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return`bzz://${n[1]}`;st(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const r=await this.getText("avatar");if(r==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:r});for(let n=0;n<nW.length;n++){const i=r.match(nW[n]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:r}),{linkage:e,url:r};case"ipfs":{const o=z4(r);return e.push({type:"ipfs",value:r}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{const o=s==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:r});const a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const u=(i[2]||"").split("/");if(u.length!==2)return e.push({type:`!${s}caip`,value:i[2]||""}),{url:null,linkage:e};const f=u[1],d=new ph(u[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(s==="erc721"){const x=await d.ownerOf(f);if(a!==x)return e.push({type:"!owner",value:x}),{url:null,linkage:e};e.push({type:"owner",value:x})}else if(s==="erc1155"){const x=await d.balanceOf(a,f);if(!x)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:x.toString()})}let g=await d[o](f);if(g==null||g==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:g}),s==="erc1155"&&(g=g.replace("{id}",xh(f,32).substring(2)),e.push({type:"metadata-url-expanded",value:g})),g.match(/^ipfs:/i)&&(g=z4(g)),e.push({type:"metadata-url",value:g});let y={};const b=await new Vf(g).send();b.assertOk();try{y=b.bodyJson}catch{try{e.push({type:"!metadata",value:b.bodyText})}catch{const I=b.body;return I&&e.push({type:"!metadata",value:Pt(I)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!y)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(y)});let A=y.image;if(typeof A!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!A.match(/^(https:\/\/|data:)/i)){if(A.match(AQ)==null)return e.push({type:"!imageUrl-ipfs",value:A}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:A}),A=z4(A)}return e.push({type:"url",value:A}),{linkage:e,url:A}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const r=await e.getNetwork(),n=r.getPlugin("org.ethers.plugins.network.Ens");return st(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:r}}),n.address}static async fromName(e,r){var i;let n=r;for(;;){if(n===""||n==="."||r!=="eth"&&n==="eth")return null;const s=await lt(i=ty,wk,xQ).call(i,e,n);if(s!=null){const o=new ty(e,s,r);return n!==r&&!await o.supportsWildcard()?null:o}n=n.split(".").slice(1).join(".")}}};Gd=new WeakMap,Xp=new WeakMap,Yd=new WeakSet,Zg=async function(e,r){r=(r||[]).slice();const n=ue(this,Xp).interface;r.unshift(PC(this.name));let i=null;await this.supportsWildcard()&&(i=n.getFunction(e),st(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),r=[_Ie(this.name,255),n.encodeFunctionData(i,r)],e="resolve(bytes,bytes)"),r.push({enableCcipRead:!0});try{const s=await ue(this,Xp)[e](...r);return i?n.decodeFunctionResult(i,s)[0]:s}catch(s){if(!Cs(s,"CALL_EXCEPTION"))throw s}return null},wk=new WeakSet,xQ=async function(e,r){const n=await ty.getEnsAddress(e);try{const s=await new ph(n,["function resolver(bytes32) view returns (address)"],e).resolver(PC(r),{enableCcipRead:!0});return s===Ww?null:s}catch(i){throw i}return null},Ye(ty,wk);let Xx=ty;const iW=BigInt(0);function Or(t,e){return function(r){return r==null?e:t(r)}}function i3(t,e){return r=>{if(e&&r==null)return null;if(!Array.isArray(r))throw new Error("not an array");return r.map(n=>t(n))}}function s_(t,e){return r=>{const n={};for(const i in t){let s=i;if(e&&i in e&&!(s in r)){for(const o of e[i])if(o in r){s=o;break}}try{const o=t[i](r[s]);o!==void 0&&(n[i]=o)}catch(o){const a=o instanceof Error?o.message:"not-an-error";st(!1,`invalid value for value.${i} (${a})`,"BAD_DATA",{value:r})}}return n}}function I6e(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}Me(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function xb(t){return Me(Un(t,!0),"invalid data","value",t),t}function Rs(t){return Me(Un(t,32),"invalid hash","value",t),t}const R6e=s_({address:ln,blockHash:Rs,blockNumber:gr,data:xb,index:gr,removed:Or(I6e,!1),topics:i3(Rs),transactionHash:Rs,transactionIndex:gr},{index:["logIndex"]});function M6e(t){return R6e(t)}const C6e=s_({hash:Or(Rs),parentHash:Rs,parentBeaconBlockRoot:Or(Rs,null),number:gr,timestamp:gr,nonce:Or(xb),difficulty:Ot,gasLimit:Ot,gasUsed:Ot,stateRoot:Or(Rs,null),receiptsRoot:Or(Rs,null),blobGasUsed:Or(Ot,null),excessBlobGas:Or(Ot,null),miner:Or(ln),prevRandao:Or(Rs,null),extraData:xb,baseFeePerGas:Or(Ot)},{prevRandao:["mixHash"]});function P6e(t){const e=C6e(t);return e.transactions=t.transactions.map(r=>typeof r=="string"?r:EQ(r)),e}const N6e=s_({transactionIndex:gr,blockNumber:gr,transactionHash:Rs,address:ln,topics:i3(Rs),data:xb,index:gr,blockHash:Rs},{index:["logIndex"]});function B6e(t){return N6e(t)}const O6e=s_({to:Or(ln,null),from:Or(ln,null),contractAddress:Or(ln,null),index:gr,root:Or(Pt),gasUsed:Ot,blobGasUsed:Or(Ot,null),logsBloom:Or(xb),blockHash:Rs,hash:Rs,logs:i3(B6e),blockNumber:gr,cumulativeGasUsed:Ot,effectiveGasPrice:Or(Ot),blobGasPrice:Or(Ot,null),status:Or(gr),type:Or(gr,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function L6e(t){return O6e(t)}function EQ(t){t.to&&Ot(t.to)===iW&&(t.to="0x0000000000000000000000000000000000000000");const e=s_({hash:Rs,index:Or(gr,void 0),type:r=>r==="0x"||r==null?0:gr(r),accessList:Or(tg,null),blobVersionedHashes:Or(i3(Rs,!0),null),blockHash:Or(Rs,null),blockNumber:Or(gr,null),transactionIndex:Or(gr,null),from:ln,gasPrice:Or(Ot),maxPriorityFeePerGas:Or(Ot),maxFeePerGas:Or(Ot),maxFeePerBlobGas:Or(Ot,null),gasLimit:Ot,to:Or(ln,null),value:Ot,nonce:gr,data:xb,creates:Or(ln,null),chainId:Or(Ot,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=ETe(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=Gf.from(t.signature):e.signature=Gf.from(t),e.chainId==null){const r=e.signature.legacyChainId;r!=null&&(e.chainId=r)}return e.blockHash&&Ot(e.blockHash)===iW&&(e.blockHash=null),e}const D6e="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class o_{constructor(e){Ce(this,"name");Xt(this,{name:e})}clone(){return new o_(this.name)}}class s3 extends o_{constructor(r,n){r==null&&(r=0);super(`org.ethers.network.plugins.GasCost#${r||0}`);Ce(this,"effectiveBlock");Ce(this,"txBase");Ce(this,"txCreate");Ce(this,"txDataZero");Ce(this,"txDataNonzero");Ce(this,"txAccessListStorageKey");Ce(this,"txAccessListAddress");const i={effectiveBlock:r};function s(o,a){let u=(n||{})[o];u==null&&(u=a),Me(typeof u=="number",`invalud value for ${o}`,"costs",n),i[o]=u}s("txBase",21e3),s("txCreate",32e3),s("txDataZero",4),s("txDataNonzero",16),s("txAccessListStorageKey",1900),s("txAccessListAddress",2400),Xt(this,i)}clone(){return new s3(this.effectiveBlock,this)}}class o3 extends o_{constructor(r,n){super("org.ethers.plugins.network.Ens");Ce(this,"address");Ce(this,"targetNetwork");Xt(this,{address:r||D6e,targetNetwork:n??1})}clone(){return new o3(this.address,this.targetNetwork)}}var KS,HS;class F6e extends o_{constructor(r,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");Ye(this,KS);Ye(this,HS);Ae(this,KS,r),Ae(this,HS,n)}get url(){return ue(this,KS)}get processFunc(){return ue(this,HS)}clone(){return this}}KS=new WeakMap,HS=new WeakMap;const W4=new Map;var Zy,Xy,Zd;const ry=class ry{constructor(e,r){Ye(this,Zy);Ye(this,Xy);Ye(this,Zd);Ae(this,Zy,e),Ae(this,Xy,Ot(r)),Ae(this,Zd,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return ue(this,Zy)}set name(e){Ae(this,Zy,e)}get chainId(){return ue(this,Xy)}set chainId(e){Ae(this,Xy,Ot(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===Ot(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===Ot(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===Ot(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(ue(this,Zd).values())}attachPlugin(e){if(ue(this,Zd).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return ue(this,Zd).set(e.name,e.clone()),this}getPlugin(e){return ue(this,Zd).get(e)||null}getPlugins(e){return this.plugins.filter(r=>r.name.split("#")[0]===e)}clone(){const e=new ry(this.name,this.chainId);return this.plugins.forEach(r=>{e.attachPlugin(r.clone())}),e}computeIntrinsicGas(e){const r=this.getPlugin("org.ethers.plugins.network.GasCost")||new s3;let n=r.txBase;if(e.to==null&&(n+=r.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?n+=r.txDataZero:n+=r.txDataNonzero;if(e.accessList){const i=tg(e.accessList);for(const s in i)n+=r.txAccessListAddress+r.txAccessListStorageKey*i[s].storageKeys.length}return n}static from(e){if($6e(),e==null)return ry.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const r=W4.get(e);if(r)return r();if(typeof e=="bigint")return new ry("unknown",e);Me(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){Me(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const r=new ry(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&r.attachPlugin(new o3(e.ensAddress,e.ensNetwork)),r}Me(!1,"invalid network","network",e)}static register(e,r){typeof e=="number"&&(e=BigInt(e));const n=W4.get(e);n&&Me(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),W4.set(e,r)}};Zy=new WeakMap,Xy=new WeakMap,Zd=new WeakMap;let Vc=ry;function sW(t,e){const r=String(t);if(!r.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const n=r.split(".");if(n.length===1&&n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;n[1].length<e;)n[1]+="0";if(n[1].length>9){let i=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||i++,n[1]=i.toString()}return BigInt(n[0]+n[1])}function oW(t){return new F6e(t,async(e,r,n)=>{n.setHeader("User-Agent","ethers");let i;try{const[s,o]=await Promise.all([n.send(),e()]);i=s;const a=i.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:sW(a.maxFee,9),maxPriorityFeePerGas:sW(a.maxPriorityFee,9)}}catch(s){st(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:i,error:s})}})}let aW=!1;function $6e(){if(aW)return;aW=!0;function t(e,r,n){const i=function(){const s=new Vc(e,r);return n.ensNetwork!=null&&s.attachPlugin(new o3(null,n.ensNetwork)),s.attachPlugin(new s3),(n.plugins||[]).forEach(o=>{s.attachPlugin(o)}),s};Vc.register(e,i),Vc.register(r,i),n.altNames&&n.altNames.forEach(s=>{Vc.register(s,i)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[oW("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[oW("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function FC(t){return JSON.parse(JSON.stringify(t))}var mf,Ka,Xd,Cc,Jy,P2;class U6e{constructor(e){Ye(this,Jy);Ye(this,mf);Ye(this,Ka);Ye(this,Xd);Ye(this,Cc);Ae(this,mf,e),Ae(this,Ka,null),Ae(this,Xd,4e3),Ae(this,Cc,-2)}get pollingInterval(){return ue(this,Xd)}set pollingInterval(e){Ae(this,Xd,e)}start(){ue(this,Ka)||(Ae(this,Ka,ue(this,mf)._setTimeout(lt(this,Jy,P2).bind(this),ue(this,Xd))),lt(this,Jy,P2).call(this))}stop(){ue(this,Ka)&&(ue(this,mf)._clearTimeout(ue(this,Ka)),Ae(this,Ka,null))}pause(e){this.stop(),e&&Ae(this,Cc,-2)}resume(){this.start()}}mf=new WeakMap,Ka=new WeakMap,Xd=new WeakMap,Cc=new WeakMap,Jy=new WeakSet,P2=async function(){try{const e=await ue(this,mf).getBlockNumber();if(ue(this,Cc)===-2){Ae(this,Cc,e);return}if(e!==ue(this,Cc)){for(let r=ue(this,Cc)+1;r<=e;r++){if(ue(this,Ka)==null)return;await ue(this,mf).emit("block",r)}Ae(this,Cc,e)}}catch{}ue(this,Ka)!=null&&Ae(this,Ka,ue(this,mf)._setTimeout(lt(this,Jy,P2).bind(this),ue(this,Xd)))};var Jp,Qp,Jd;class BB{constructor(e){Ye(this,Jp);Ye(this,Qp);Ye(this,Jd);Ae(this,Jp,e),Ae(this,Jd,!1),Ae(this,Qp,r=>{this._poll(r,ue(this,Jp))})}async _poll(e,r){throw new Error("sub-classes must override this")}start(){ue(this,Jd)||(Ae(this,Jd,!0),ue(this,Qp).call(this,-2),ue(this,Jp).on("block",ue(this,Qp)))}stop(){ue(this,Jd)&&(Ae(this,Jd,!1),ue(this,Jp).off("block",ue(this,Qp)))}pause(e){this.stop()}resume(){this.start()}}Jp=new WeakMap,Qp=new WeakMap,Jd=new WeakMap;var Qy,yf;class z6e extends BB{constructor(r,n){super(r);Ye(this,Qy);Ye(this,yf);Ae(this,Qy,n),Ae(this,yf,-2)}pause(r){r&&Ae(this,yf,-2),super.pause(r)}async _poll(r,n){const i=await n.getBlock(ue(this,Qy));i!=null&&(ue(this,yf)===-2?Ae(this,yf,i.number):i.number>ue(this,yf)&&(n.emit(ue(this,Qy),i.number),Ae(this,yf,i.number)))}}Qy=new WeakMap,yf=new WeakMap;var Sk;class W6e extends BB{constructor(r,n){super(r);Ye(this,Sk);Ae(this,Sk,FC(n))}async _poll(r,n){throw new Error("@TODO")}}Sk=new WeakMap;var eb;class j6e extends BB{constructor(r,n){super(r);Ye(this,eb);Ae(this,eb,n)}async _poll(r,n){const i=await n.getTransactionReceipt(ue(this,eb));i&&n.emit(ue(this,eb),i)}}eb=new WeakMap;var bf,tb,rb,Qd,Ha,_k,kQ;class OB{constructor(e,r){Ye(this,_k);Ye(this,bf);Ye(this,tb);Ye(this,rb);Ye(this,Qd);Ye(this,Ha);Ae(this,bf,e),Ae(this,tb,FC(r)),Ae(this,rb,lt(this,_k,kQ).bind(this)),Ae(this,Qd,!1),Ae(this,Ha,-2)}start(){ue(this,Qd)||(Ae(this,Qd,!0),ue(this,Ha)===-2&&ue(this,bf).getBlockNumber().then(e=>{Ae(this,Ha,e)}),ue(this,bf).on("block",ue(this,rb)))}stop(){ue(this,Qd)&&(Ae(this,Qd,!1),ue(this,bf).off("block",ue(this,rb)))}pause(e){this.stop(),e&&Ae(this,Ha,-2)}resume(){this.start()}}bf=new WeakMap,tb=new WeakMap,rb=new WeakMap,Qd=new WeakMap,Ha=new WeakMap,_k=new WeakSet,kQ=async function(e){if(ue(this,Ha)===-2)return;const r=FC(ue(this,tb));r.fromBlock=ue(this,Ha)+1,r.toBlock=e;const n=await ue(this,bf).getLogs(r);if(n.length===0){ue(this,Ha)<e-60&&Ae(this,Ha,e-60);return}for(const i of n)ue(this,bf).emit(ue(this,tb),i),Ae(this,Ha,i.blockNumber)};const K6e=BigInt(2),H6e=10;function MA(t){return t&&typeof t.then=="function"}function N2(t,e){return t+":"+JSON.stringify(e,(r,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){const i=Object.keys(n);return i.sort(),i.reduce((s,o)=>(s[o]=n[o],s),{})}return n})}class TQ{constructor(e){Ce(this,"name");Xt(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function q6e(t){return JSON.parse(JSON.stringify(t))}function $C(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function j4(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(Un(t,32)){const r=t.toLowerCase();return{type:"transaction",tag:N2("tx",{hash:r}),hash:r}}if(t.orphan){const r=t;return{type:"orphan",tag:N2("orphan",r),filter:q6e(r)}}if(t.address||t.topics){const r=t,n={topics:(r.topics||[]).map(i=>i==null?null:Array.isArray(i)?$C(i.map(s=>s.toLowerCase())):i.toLowerCase())};if(r.address){const i=[],s=[],o=a=>{Un(a)?i.push(a):s.push((async()=>{i.push(await vo(a,e))})())};Array.isArray(r.address)?r.address.forEach(o):o(r.address),s.length&&await Promise.all(s),n.address=$C(i.map(a=>a.toLowerCase()))}return{filter:n,tag:N2("event",n),type:"event"}}Me(!1,"unknown ProviderEvent","event",t)}function K4(){return new Date().getTime()}const V6e={cacheTimeout:250,pollingInterval:4e3};var qs,eh,Vs,nb,oa,e0,th,vf,qS,qa,ib,sb,kr,Qo,UC,zC,zv,WC,Wv,B2;class G6e{constructor(e,r){Ye(this,kr);Ye(this,qs);Ye(this,eh);Ye(this,Vs);Ye(this,nb);Ye(this,oa);Ye(this,e0);Ye(this,th);Ye(this,vf);Ye(this,qS);Ye(this,qa);Ye(this,ib);Ye(this,sb);if(Ae(this,sb,Object.assign({},V6e,r||{})),e==="any")Ae(this,e0,!0),Ae(this,oa,null);else if(e){const n=Vc.from(e);Ae(this,e0,!1),Ae(this,oa,Promise.resolve(n)),setTimeout(()=>{this.emit("network",n,null)},0)}else Ae(this,e0,!1),Ae(this,oa,null);Ae(this,vf,-1),Ae(this,th,new Map),Ae(this,qs,new Map),Ae(this,eh,new Map),Ae(this,Vs,null),Ae(this,nb,!1),Ae(this,qS,1),Ae(this,qa,new Map),Ae(this,ib,!1)}get pollingInterval(){return ue(this,sb).pollingInterval}get provider(){return this}get plugins(){return Array.from(ue(this,eh).values())}attachPlugin(e){if(ue(this,eh).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return ue(this,eh).set(e.name,e.connect(this)),this}getPlugin(e){return ue(this,eh).get(e)||null}get disableCcipRead(){return ue(this,ib)}set disableCcipRead(e){Ae(this,ib,!!e)}async ccipReadFetch(e,r,n){if(this.disableCcipRead||n.length===0||e.to==null)return null;const i=e.to.toLowerCase(),s=r.toLowerCase(),o=[];for(let a=0;a<n.length;a++){const u=n[a],f=u.replace("{sender}",i).replace("{data}",s),d=new Vf(f);u.indexOf("{data}")===-1&&(d.body={data:s,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:d,index:a,urls:n});let g="unknown error",y;try{y=await d.send()}catch(b){o.push(b.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:d,result:{error:b}});continue}try{const b=y.bodyJson;if(b.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:d,result:b}),b.data;b.message&&(g=b.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:d,result:b})}catch{}st(y.statusCode<400||y.statusCode>=500,`response not found during CCIP fetch: ${g}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:u,errorMessage:g}}),o.push(g)}st(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:o}})}_wrapBlock(e,r){return new h6e(P6e(e),this)}_wrapLog(e,r){return new i_(M6e(e),this)}_wrapTransactionReceipt(e,r){return new dQ(L6e(e),this)}_wrapTransactionResponse(e,r){return new Yw(EQ(e),this)}_detectNetwork(){st(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){st(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=gr(await lt(this,kr,Qo).call(this,{method:"getBlockNumber"}),"%response");return ue(this,vf)>=0&&Ae(this,vf,e),e}_getAddress(e){return vo(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(Un(e))return Un(e,32)?e:Pm(e);if(typeof e=="bigint"&&(e=gr(e,"blockTag")),typeof e=="number")return e>=0?Pm(e):ue(this,vf)>=0?Pm(ue(this,vf)+e):this.getBlockNumber().then(r=>Pm(r+e));Me(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const r=(e.topics||[]).map(u=>u==null?null:Array.isArray(u)?$C(u.map(f=>f.toLowerCase())):u.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,i=(u,f,d)=>{let g;switch(u.length){case 0:break;case 1:g=u[0];break;default:u.sort(),g=u}if(n&&(f!=null||d!=null))throw new Error("invalid filter");const y={};return g&&(y.address=g),r.length&&(y.topics=r),f&&(y.fromBlock=f),d&&(y.toBlock=d),n&&(y.blockHash=n),y};let s=[];if(e.address)if(Array.isArray(e.address))for(const u of e.address)s.push(this._getAddress(u));else s.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),s.filter(u=>typeof u!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(s),o,a]).then(u=>i(u[0],u[1],u[2])):i(s,o,a)}_getTransactionRequest(e){const r=Yx(e),n=[];if(["to","from"].forEach(i=>{if(r[i]==null)return;const s=vo(r[i],this);MA(s)?n.push(async function(){r[i]=await s}()):r[i]=s}),r.blockTag!=null){const i=this._getBlockTag(r.blockTag);MA(i)?n.push(async function(){r.blockTag=await i}()):r.blockTag=i}return n.length?async function(){return await Promise.all(n),r}():r}async getNetwork(){if(ue(this,oa)==null){const i=(async()=>{try{const s=await this._detectNetwork();return this.emit("network",s,null),s}catch(s){throw ue(this,oa)===i&&Ae(this,oa,null),s}})();return Ae(this,oa,i),(await i).clone()}const e=ue(this,oa),[r,n]=await Promise.all([e,this._detectNetwork()]);return r.chainId!==n.chainId&&(ue(this,e0)?(this.emit("network",n,r),ue(this,oa)===e&&Ae(this,oa,Promise.resolve(n))):st(!1,`network changed: ${r.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),r.clone()}async getFeeData(){const e=await this.getNetwork(),r=async()=>{const{_block:i,gasPrice:s,priorityFee:o}=await uo({_block:lt(this,kr,WC).call(this,"latest",!1),gasPrice:(async()=>{try{const d=await lt(this,kr,Qo).call(this,{method:"getGasPrice"});return Ot(d,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const d=await lt(this,kr,Qo).call(this,{method:"getPriorityFee"});return Ot(d,"%response")}catch{}return null})()});let a=null,u=null;const f=this._wrapBlock(i,e);return f&&f.baseFeePerGas&&(u=o??BigInt("1000000000"),a=f.baseFeePerGas*K6e+u),new eW(s,a,u)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const i=new Vf(n.url),s=await n.processFunc(r,this,i);return new eW(s.gasPrice,s.maxFeePerGas,s.maxPriorityFeePerGas)}return await r()}async estimateGas(e){let r=this._getTransactionRequest(e);return MA(r)&&(r=await r),Ot(await lt(this,kr,Qo).call(this,{method:"estimateGas",transaction:r}),"%response")}async call(e){const{tx:r,blockTag:n}=await uo({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await lt(this,kr,zC).call(this,lt(this,kr,UC).call(this,r,n,e.enableCcipRead?0:-1))}async getBalance(e,r){return Ot(await lt(this,kr,zv).call(this,{method:"getBalance"},e,r),"%response")}async getTransactionCount(e,r){return gr(await lt(this,kr,zv).call(this,{method:"getTransactionCount"},e,r),"%response")}async getCode(e,r){return Pt(await lt(this,kr,zv).call(this,{method:"getCode"},e,r))}async getStorage(e,r,n){const i=Ot(r,"position");return Pt(await lt(this,kr,zv).call(this,{method:"getStorage",position:i},e,n))}async broadcastTransaction(e){const{blockNumber:r,hash:n,network:i}=await uo({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),s=XJ.from(e);if(s.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(s,i).replaceableTransaction(r)}async getBlock(e,r){const{network:n,params:i}=await uo({network:this.getNetwork(),params:lt(this,kr,WC).call(this,e,!!r)});return i==null?null:this._wrapBlock(i,n)}async getTransaction(e){const{network:r,params:n}=await uo({network:this.getNetwork(),params:lt(this,kr,Qo).call(this,{method:"getTransaction",hash:e})});return n==null?null:this._wrapTransactionResponse(n,r)}async getTransactionReceipt(e){const{network:r,params:n}=await uo({network:this.getNetwork(),params:lt(this,kr,Qo).call(this,{method:"getTransactionReceipt",hash:e})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){const i=await lt(this,kr,Qo).call(this,{method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(n,r)}async getTransactionResult(e){const{result:r}=await uo({network:this.getNetwork(),result:lt(this,kr,Qo).call(this,{method:"getTransactionResult",hash:e})});return r==null?null:Pt(r)}async getLogs(e){let r=this._getFilter(e);MA(r)&&(r=await r);const{network:n,params:i}=await uo({network:this.getNetwork(),params:lt(this,kr,Qo).call(this,{method:"getLogs",filter:r})});return i.map(s=>this._wrapLog(s,n))}_getProvider(e){st(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await Xx.fromName(this,e)}async getAvatar(e){const r=await this.getResolver(e);return r?await r.getAvatar():null}async resolveName(e){const r=await this.getResolver(e);return r?await r.getAddress():null}async lookupAddress(e){e=ln(e);const r=PC(e.substring(2).toLowerCase()+".addr.reverse");try{const n=await Xx.getEnsAddress(this),s=await new ph(n,["function resolver(bytes32) view returns (address)"],this).resolver(r);if(s==null||s===Ww)return null;const a=await new ph(s,["function name(bytes32) view returns (string)"],this).name(r);return await this.resolveName(a)!==e?null:a}catch(n){if(Cs(n,"BAD_DATA")&&n.value==="0x"||Cs(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(e,r,n){const i=r??1;return i===0?this.getTransactionReceipt(e):new Promise(async(s,o)=>{let a=null;const u=async f=>{try{const d=await this.getTransactionReceipt(e);if(d!=null&&f-d.blockNumber+1>=i){s(d),a&&(clearTimeout(a),a=null);return}}catch(d){console.log("EEE",d)}this.once("block",u)};n!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",u),o(fi("timeout","TIMEOUT",{reason:"timeout"})))},n)),u(await this.getBlockNumber())})}async waitForBlock(e){st(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const r=ue(this,qa).get(e);r&&(r.timer&&clearTimeout(r.timer),ue(this,qa).delete(e))}_setTimeout(e,r){r==null&&(r=0);const n=Q1(this,qS)._++,i=()=>{ue(this,qa).delete(n),e()};if(this.paused)ue(this,qa).set(n,{timer:null,func:i,time:r});else{const s=setTimeout(i,r);ue(this,qa).set(n,{timer:s,func:i,time:K4()})}return n}_forEachSubscriber(e){for(const r of ue(this,qs).values())e(r.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new TQ(e.type);case"block":{const r=new U6e(this);return r.pollingInterval=this.pollingInterval,r}case"safe":case"finalized":return new z6e(this,e.type);case"event":return new OB(this,e.filter);case"transaction":return new j6e(this,e.hash);case"orphan":return new W6e(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,r){for(const n of ue(this,qs).values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=r,n.started&&r.start(),ue(this,Vs)!=null&&r.pause(ue(this,Vs));break}}async on(e,r){const n=await lt(this,kr,B2).call(this,e);return n.listeners.push({listener:r,once:!1}),n.started||(n.subscriber.start(),n.started=!0,ue(this,Vs)!=null&&n.subscriber.pause(ue(this,Vs))),this}async once(e,r){const n=await lt(this,kr,B2).call(this,e);return n.listeners.push({listener:r,once:!0}),n.started||(n.subscriber.start(),n.started=!0,ue(this,Vs)!=null&&n.subscriber.pause(ue(this,Vs))),this}async emit(e,...r){const n=await lt(this,kr,Wv).call(this,e,r);if(!n||n.listeners.length===0)return!1;const i=n.listeners.length;return n.listeners=n.listeners.filter(({listener:s,once:o})=>{const a=new $X(this,o?null:s,e);try{s.call(this,...r,a)}catch{}return!o}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),ue(this,qs).delete(n.tag)),i>0}async listenerCount(e){if(e){const n=await lt(this,kr,Wv).call(this,e);return n?n.listeners.length:0}let r=0;for(const{listeners:n}of ue(this,qs).values())r+=n.length;return r}async listeners(e){if(e){const n=await lt(this,kr,Wv).call(this,e);return n?n.listeners.map(({listener:i})=>i):[]}let r=[];for(const{listeners:n}of ue(this,qs).values())r=r.concat(n.map(({listener:i})=>i));return r}async off(e,r){const n=await lt(this,kr,Wv).call(this,e);if(!n)return this;if(r){const i=n.listeners.map(({listener:s})=>s).indexOf(r);i>=0&&n.listeners.splice(i,1)}return(!r||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),ue(this,qs).delete(n.tag)),this}async removeAllListeners(e){if(e){const{tag:r,started:n,subscriber:i}=await lt(this,kr,B2).call(this,e);n&&i.stop(),ue(this,qs).delete(r)}else for(const[r,{started:n,subscriber:i}]of ue(this,qs))n&&i.stop(),ue(this,qs).delete(r);return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return this.off(e,r)}get destroyed(){return ue(this,nb)}destroy(){this.removeAllListeners();for(const e of ue(this,qa).keys())this._clearTimeout(e);Ae(this,nb,!0)}get paused(){return ue(this,Vs)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(Ae(this,vf,-1),ue(this,Vs)!=null){if(ue(this,Vs)==!!e)return;st(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(r=>r.pause(e)),Ae(this,Vs,!!e);for(const r of ue(this,qa).values())r.timer&&clearTimeout(r.timer),r.time=K4()-r.time}resume(){if(ue(this,Vs)!=null){this._forEachSubscriber(e=>e.resume()),Ae(this,Vs,null);for(const e of ue(this,qa).values()){let r=e.time;r<0&&(r=0),e.time=K4(),setTimeout(e.func,r)}}}}qs=new WeakMap,eh=new WeakMap,Vs=new WeakMap,nb=new WeakMap,oa=new WeakMap,e0=new WeakMap,th=new WeakMap,vf=new WeakMap,qS=new WeakMap,qa=new WeakMap,ib=new WeakMap,sb=new WeakMap,kr=new WeakSet,Qo=async function(e){const r=ue(this,sb).cacheTimeout;if(r<0)return await this._perform(e);const n=N2(e.method,e);let i=ue(this,th).get(n);return i||(i=this._perform(e),ue(this,th).set(n,i),setTimeout(()=>{ue(this,th).get(n)===i&&ue(this,th).delete(n)},r)),await i},UC=async function(e,r,n){st(n<H6e,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:r,enableCcipRead:!0})});const i=Yx(e);try{return Pt(await this._perform({method:"call",transaction:i,blockTag:r}))}catch(s){if(!this.disableCcipRead&&dB(s)&&s.data&&n>=0&&r==="latest"&&i.to!=null&&gi(s.data,0,4)==="0x556f1830"){const o=s.data,a=await vo(i.to,this);let u;try{u=Q6e(gi(s.data,4))}catch(g){st(!1,g.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:o}})}st(u.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:u.errorArgs}});const f=await this.ccipReadFetch(i,u.calldata,u.urls);st(f!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:s.data,errorArgs:u.errorArgs}});const d={to:a,data:ai([u.selector,J6e([f,u.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:d});try{const g=await lt(this,kr,UC).call(this,d,r,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},d),result:g}),g}catch(g){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},d),error:g}),g}}throw s}},zC=async function(e){const{value:r}=await uo({network:this.getNetwork(),value:e});return r},zv=async function(e,r,n){let i=this._getAddress(r),s=this._getBlockTag(n);return(typeof i!="string"||typeof s!="string")&&([i,s]=await Promise.all([i,s])),await lt(this,kr,zC).call(this,lt(this,kr,Qo).call(this,Object.assign(e,{address:i,blockTag:s})))},WC=async function(e,r){if(Un(e,32))return await lt(this,kr,Qo).call(this,{method:"getBlock",blockHash:e,includeTransactions:r});let n=this._getBlockTag(e);return typeof n!="string"&&(n=await n),await lt(this,kr,Qo).call(this,{method:"getBlock",blockTag:n,includeTransactions:r})},Wv=async function(e,r){let n=await j4(e,this);return n.type==="event"&&r&&r.length>0&&r[0].removed===!0&&(n=await j4({orphan:"drop-log",log:r[0]},this)),ue(this,qs).get(n.tag)||null},B2=async function(e){const r=await j4(e,this),n=r.tag;let i=ue(this,qs).get(n);return i||(i={subscriber:this._getSubscriber(r),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},ue(this,qs).set(n,i)),i};function Y6e(t,e){try{const r=jC(t,e);if(r)return Ux(r)}catch{}return null}function jC(t,e){if(t==="0x")return null;try{const r=gr(gi(t,e,e+32)),n=gr(gi(t,r,r+32));return gi(t,r+32,r+32+n)}catch{}return null}function uW(t){const e=Qs(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function Z6e(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const X6e=new Uint8Array([]);function J6e(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(X6e),r+=32;for(let n=0;n<t.length;n++){const i=fr(t[n]);e[n]=uW(r),e.push(uW(i.length)),e.push(Z6e(i)),r+=32+Math.ceil(i.length/32)*32}return ai(e)}const cW="0x0000000000000000000000000000000000000000000000000000000000000000";function Q6e(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};st(c0(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const r=gi(t,0,32);st(gi(r,0,12)===gi(cW,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=gi(r,12);try{const n=[],i=gr(gi(t,32,64)),s=gr(gi(t,i,i+32)),o=gi(t,i+32);for(let a=0;a<s;a++){const u=Y6e(o,a*32);if(u==null)throw new Error("abort");n.push(u)}e.urls=n}catch{st(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=jC(t,64);if(n==null)throw new Error("abort");e.calldata=n}catch{st(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}st(gi(t,100,128)===gi(cW,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=gi(t,96,100);try{const n=jC(t,128);if(n==null)throw new Error("abort");e.extraData=n}catch{st(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=>e[n]),e}function Mg(t,e){if(t.provider)return t.provider;st(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function lW(t,e){let r=Yx(e);if(r.to!=null&&(r.to=vo(r.to,t)),r.from!=null){const n=r.from;r.from=Promise.all([t.getAddress(),vo(n,t)]).then(([i,s])=>(Me(i.toLowerCase()===s.toLowerCase(),"transaction from mismatch","tx.from",s),i))}else r.from=t.getAddress();return await uo(r)}class e4e{constructor(e){Ce(this,"provider");Xt(this,{provider:e||null})}async getNonce(e){return Mg(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await lW(this,e)}async populateTransaction(e){const r=Mg(this,"populateTransaction"),n=await lW(this,e);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));const i=await this.provider.getNetwork();if(n.chainId!=null){const o=Ot(n.chainId);Me(o===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=i.chainId;const s=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||s)?Me(!1,"eip-1559 transaction do not support gasPrice","tx",e):(n.type===0||n.type===1)&&s&&Me(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){const o=await r.getFeeData();st(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=o.gasPrice)}else{const o=await r.getFeeData();if(n.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(n.type=2,n.gasPrice!=null){const a=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=a,n.maxPriorityFeePerGas=a}else n.maxFeePerGas==null&&(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(st(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=o.gasPrice),n.type=0):st(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(n.type===2||n.type===3)&&(n.maxFeePerGas==null&&(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await uo(n)}async estimateGas(e){return Mg(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Mg(this,"call").call(await this.populateCall(e))}async resolveName(e){return await Mg(this,"resolveName").resolveName(e)}async sendTransaction(e){const r=Mg(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const i=XJ.from(n);return await r.broadcastTransaction(await this.signTransaction(i))}}function t4e(t){return JSON.parse(JSON.stringify(t))}var so,Pc,t0,rh,r0,ob,Fh,KC,HC;class IQ{constructor(e){Ye(this,Fh);Ye(this,so);Ye(this,Pc);Ye(this,t0);Ye(this,rh);Ye(this,r0);Ye(this,ob);Ae(this,so,e),Ae(this,Pc,null),Ae(this,t0,lt(this,Fh,KC).bind(this)),Ae(this,rh,!1),Ae(this,r0,null),Ae(this,ob,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,r){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){ue(this,rh)||(Ae(this,rh,!0),lt(this,Fh,KC).call(this,-2))}stop(){ue(this,rh)&&(Ae(this,rh,!1),Ae(this,ob,!0),lt(this,Fh,HC).call(this),ue(this,so).off("block",ue(this,t0)))}pause(e){e&&lt(this,Fh,HC).call(this),ue(this,so).off("block",ue(this,t0))}resume(){this.start()}}so=new WeakMap,Pc=new WeakMap,t0=new WeakMap,rh=new WeakMap,r0=new WeakMap,ob=new WeakMap,Fh=new WeakSet,KC=async function(e){try{ue(this,Pc)==null&&Ae(this,Pc,this._subscribe(ue(this,so)));let r=null;try{r=await ue(this,Pc)}catch(s){if(!Cs(s,"UNSUPPORTED_OPERATION")||s.operation!=="eth_newFilter")throw s}if(r==null){Ae(this,Pc,null),ue(this,so)._recoverSubscriber(this,this._recover(ue(this,so)));return}const n=await ue(this,so).getNetwork();if(ue(this,r0)||Ae(this,r0,n),ue(this,r0).chainId!==n.chainId)throw new Error("chaid changed");if(ue(this,ob))return;const i=await ue(this,so).send("eth_getFilterChanges",[r]);await this._emitResults(ue(this,so),i)}catch(r){console.log("@TODO",r)}ue(this,so).once("block",ue(this,t0))},HC=function(){const e=ue(this,Pc);e&&(Ae(this,Pc,null),e.then(r=>{ue(this,so).destroyed||ue(this,so).send("eth_uninstallFilter",[r])}))};var n0;class r4e extends IQ{constructor(r,n){super(r);Ye(this,n0);Ae(this,n0,t4e(n))}_recover(r){return new OB(r,ue(this,n0))}async _subscribe(r){return await r.send("eth_newFilter",[ue(this,n0)])}async _emitResults(r,n){for(const i of n)r.emit(ue(this,n0),r._wrapLog(i,r._network))}}n0=new WeakMap;class n4e extends IQ{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,r){for(const n of r)e.emit("pending",n)}}const i4e="bigint,boolean,function,number,string,symbol".split(/,/g);function O2(t){if(t==null||i4e.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(O2);if(typeof t=="object")return Object.keys(t).reduce((e,r)=>(e[r]=t[r],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function s4e(t){return new Promise(e=>{setTimeout(e,t)})}function Cg(t){return t&&t.toLowerCase()}function fW(t){return t&&typeof t.pollingInterval=="number"}const RQ={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class H4 extends e4e{constructor(r,n){super(r);Ce(this,"address");n=ln(n),Xt(this,{address:n})}connect(r){st(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(r){return await this.populateCall(r)}async sendUncheckedTransaction(r){const n=O2(r),i=[];if(n.from){const o=n.from;i.push((async()=>{const a=await vo(o,this.provider);Me(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",r),n.from=a})())}else n.from=this.address;if(n.gasLimit==null&&i.push((async()=>{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){const o=n.to;i.push((async()=>{n.to=await vo(o,this.provider)})())}i.length&&await Promise.all(i);const s=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[s])}async sendTransaction(r){const n=await this.provider.getBlockNumber(),i=await this.sendUncheckedTransaction(r);return await new Promise((s,o)=>{const a=[1e3,100];let u=0;const f=async()=>{try{const d=await this.provider.getTransaction(i);if(d!=null){s(d.replaceableTransaction(n));return}}catch(d){if(Cs(d,"CANCELLED")||Cs(d,"BAD_DATA")||Cs(d,"NETWORK_ERROR")||Cs(d,"UNSUPPORTED_OPERATION")){d.info==null&&(d.info={}),d.info.sendTransactionHash=i,o(d);return}if(Cs(d,"INVALID_ARGUMENT")&&(u++,d.info==null&&(d.info={}),d.info.sendTransactionHash=i,u>10)){o(d);return}this.provider.emit("error",fi("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:d}))}this.provider._setTimeout(()=>{f()},a.pop()||4e3)};f()})}async signTransaction(r){const n=O2(r);if(n.from){const s=await vo(n.from,this.provider);Me(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",r),n.from=s}else n.from=this.address;const i=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[i])}async signMessage(r){const n=typeof r=="string"?tl(r):r;return await this.provider.send("personal_sign",[Pt(n),this.address.toLowerCase()])}async signTypedData(r,n,i){const s=O2(i),o=await Gx.resolveNames(r,n,s,async a=>{const u=await vo(a);return Me(u!=null,"TypedData does not support null address","value",a),u});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Gx.getPayload(o.domain,n,o.value))])}async unlock(r){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),r,null])}async _legacySignMessage(r){const n=typeof r=="string"?tl(r):r;return await this.provider.send("eth_sign",[this.address.toLowerCase(),Pt(n)])}}var i0,ab,wf,Nc,Ru,Va,Mo,VS,qC;class o4e extends G6e{constructor(r,n){super(r,n);Ye(this,VS);Ye(this,i0);Ye(this,ab);Ye(this,wf);Ye(this,Nc);Ye(this,Ru);Ye(this,Va);Ye(this,Mo);Ae(this,ab,1),Ae(this,i0,Object.assign({},RQ,n||{})),Ae(this,wf,[]),Ae(this,Nc,null),Ae(this,Va,null),Ae(this,Mo,null);{let s=null;const o=new Promise(a=>{s=a});Ae(this,Ru,{promise:o,resolve:s})}const i=this._getOption("staticNetwork");typeof i=="boolean"?(Me(!i||r!=="any","staticNetwork cannot be used on special network 'any'","options",n),i&&r!=null&&Ae(this,Va,Vc.from(r))):i&&(Me(r==null||i.matches(r),"staticNetwork MUST match network object","options",n),Ae(this,Va,i))}_getOption(r){return ue(this,i0)[r]}get _network(){return st(ue(this,Va),"network is not available yet","NETWORK_ERROR"),ue(this,Va)}async _perform(r){if(r.method==="call"||r.method==="estimateGas"){let i=r.transaction;if(i&&i.type!=null&&Ot(i.type)&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=await this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(r=Object.assign({},r,{transaction:Object.assign({},i,{type:void 0})}))}}const n=this.getRpcRequest(r);return n!=null?await this.send(n.method,n.args):super._perform(r)}async _detectNetwork(){const r=this._getOption("staticNetwork");if(r)if(r===!0){if(ue(this,Va))return ue(this,Va)}else return r;return ue(this,Mo)?await ue(this,Mo):this.ready?(Ae(this,Mo,(async()=>{try{const n=Vc.from(Ot(await this.send("eth_chainId",[])));return Ae(this,Mo,null),n}catch(n){throw Ae(this,Mo,null),n}})()),await ue(this,Mo)):(Ae(this,Mo,(async()=>{const n={id:Q1(this,ab)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let i;try{i=(await this._send(n))[0],Ae(this,Mo,null)}catch(s){throw Ae(this,Mo,null),this.emit("debug",{action:"receiveRpcError",error:s}),s}if(this.emit("debug",{action:"receiveRpcResult",result:i}),"result"in i)return Vc.from(Ot(i.result));throw this.getRpcError(n,i)})()),await ue(this,Mo))}_start(){ue(this,Ru)==null||ue(this,Ru).resolve==null||(ue(this,Ru).resolve(),Ae(this,Ru,null),(async()=>{for(;ue(this,Va)==null&&!this.destroyed;)try{Ae(this,Va,await this._detectNetwork())}catch(r){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",fi("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:r}})),await s4e(1e3)}lt(this,VS,qC).call(this)})())}async _waitUntilReady(){if(ue(this,Ru)!=null)return await ue(this,Ru).promise}_getSubscriber(r){return r.type==="pending"?new n4e(this):r.type==="event"?this._getOption("polling")?new OB(this,r.filter):new r4e(this,r.filter):r.type==="orphan"&&r.filter.orphan==="drop-log"?new TQ("orphan"):super._getSubscriber(r)}get ready(){return ue(this,Ru)==null}getRpcTransaction(r){const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(i=>{if(r[i]==null)return;let s=i;i==="gasLimit"&&(s="gas"),n[s]=Pm(Ot(r[i],`tx.${i}`))}),["from","to","data"].forEach(i=>{r[i]!=null&&(n[i]=Pt(r[i]))}),r.accessList&&(n.accessList=tg(r.accessList)),r.blobVersionedHashes&&(n.blobVersionedHashes=r.blobVersionedHashes.map(i=>i.toLowerCase())),n}getRpcRequest(r){switch(r.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Cg(r.address),r.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Cg(r.address),r.blockTag]};case"getCode":return{method:"eth_getCode",args:[Cg(r.address),r.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Cg(r.address),"0x"+r.position.toString(16),r.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[r.signedTransaction]};case"getBlock":if("blockTag"in r)return{method:"eth_getBlockByNumber",args:[r.blockTag,!!r.includeTransactions]};if("blockHash"in r)return{method:"eth_getBlockByHash",args:[r.blockHash,!!r.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[r.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[r.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(r.transaction),r.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(r.transaction)]};case"getLogs":return r.filter&&r.filter.address!=null&&(Array.isArray(r.filter.address)?r.filter.address=r.filter.address.map(Cg):r.filter.address=Cg(r.filter.address)),{method:"eth_getLogs",args:[r.filter]}}return null}getRpcError(r,n){const{method:i}=r,{error:s}=n;if(i==="eth_estimateGas"&&s.message){const u=s.message;if(!u.match(/revert/i)&&u.match(/insufficient funds/i))return fi("insufficient funds","INSUFFICIENT_FUNDS",{transaction:r.params[0],info:{payload:r,error:s}})}if(i==="eth_call"||i==="eth_estimateGas"){const u=VC(s),f=Vu.getBuiltinCallException(i==="eth_call"?"call":"estimateGas",r.params[0],u?u.data:null);return f.info={error:s,payload:r},f}const o=JSON.stringify(u4e(s));if(typeof s.message=="string"&&s.message.match(/user denied|ethers-user-denied/i))return fi("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[i]||"unknown",reason:"rejected",info:{payload:r,error:s}});if(i==="eth_sendRawTransaction"||i==="eth_sendTransaction"){const u=r.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return fi("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:u,info:{error:s}});if(o.match(/nonce/i)&&o.match(/too low/i))return fi("nonce has already been used","NONCE_EXPIRED",{transaction:u,info:{error:s}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return fi("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:u,info:{error:s}});if(o.match(/only replay-protected/i))return fi("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:i,info:{transaction:u,info:{error:s}}})}let a=!!o.match(/the method .* does not exist/i);return a||s&&s.details&&s.details.startsWith("Unauthorized method:")&&(a=!0),a?fi("unsupported operation","UNSUPPORTED_OPERATION",{operation:r.method,info:{error:s,payload:r}}):fi("could not coalesce error","UNKNOWN_ERROR",{error:s,payload:r})}send(r,n){if(this.destroyed)return Promise.reject(fi("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:r}));const i=Q1(this,ab)._++,s=new Promise((o,a)=>{ue(this,wf).push({resolve:o,reject:a,payload:{method:r,params:n,id:i,jsonrpc:"2.0"}})});return lt(this,VS,qC).call(this),s}async getSigner(r){r==null&&(r=0);const n=this.send("eth_accounts",[]);if(typeof r=="number"){const s=await n;if(r>=s.length)throw new Error("no such account");return new H4(this,s[r])}const{accounts:i}=await uo({network:this.getNetwork(),accounts:n});r=ln(r);for(const s of i)if(ln(s)===r)return new H4(this,r);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=>new H4(this,n))}destroy(){ue(this,Nc)&&(clearTimeout(ue(this,Nc)),Ae(this,Nc,null));for(const{payload:r,reject:n}of ue(this,wf))n(fi("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:r.method}));Ae(this,wf,[]),super.destroy()}}i0=new WeakMap,ab=new WeakMap,wf=new WeakMap,Nc=new WeakMap,Ru=new WeakMap,Va=new WeakMap,Mo=new WeakMap,VS=new WeakSet,qC=function(){if(ue(this,Nc))return;const r=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");Ae(this,Nc,setTimeout(()=>{Ae(this,Nc,null);const n=ue(this,wf);for(Ae(this,wf,[]);n.length;){const i=[n.shift()];for(;n.length&&i.length!==ue(this,i0).batchMaxCount;)if(i.push(n.shift()),JSON.stringify(i.map(o=>o.payload)).length>ue(this,i0).batchMaxSize){n.unshift(i.pop());break}(async()=>{const s=i.length===1?i[0].payload:i.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:s});try{const o=await this._send(s);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:a,reject:u,payload:f}of i){if(this.destroyed){u(fi("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:f.method}));continue}const d=o.filter(g=>g.id===f.id)[0];if(d==null){const g=fi("missing response for request","BAD_DATA",{value:o,info:{payload:f}});this.emit("error",g),u(g);continue}if("error"in d){u(this.getRpcError(f,d));continue}a(d.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:a}of i)a(o)}})()}},r))};var nh;class MQ extends o4e{constructor(r,n){super(r,n);Ye(this,nh);let i=this._getOption("pollingInterval");i==null&&(i=RQ.pollingInterval),Ae(this,nh,i)}_getSubscriber(r){const n=super._getSubscriber(r);return fW(n)&&(n.pollingInterval=ue(this,nh)),n}get pollingInterval(){return ue(this,nh)}set pollingInterval(r){if(!Number.isInteger(r)||r<0)throw new Error("invalid interval");Ae(this,nh,r),this._forEachSubscriber(n=>{fW(n)&&(n.pollingInterval=ue(this,nh))})}}nh=new WeakMap;var ub;class a4e extends MQ{constructor(r,n,i){r==null&&(r="http://localhost:8545");super(n,i);Ye(this,ub);typeof r=="string"?Ae(this,ub,new Vf(r)):Ae(this,ub,r.clone())}_getConnection(){return ue(this,ub).clone()}async send(r,n){return await this._start(),await super.send(r,n)}async _send(r){const n=this._getConnection();n.body=JSON.stringify(r),n.setHeader("content-type","application/json");const i=await n.send();i.assertOk();let s=i.bodyJson;return Array.isArray(s)||(s=[s]),s}}ub=new WeakMap;function VC(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&Un(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const r=VC(t[e]);if(r)return r}return null}if(typeof t=="string")try{return VC(JSON.parse(t))}catch{}return null}function GC(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const r in t)GC(t[r],e);if(typeof t=="string")try{return GC(JSON.parse(t),e)}catch{}}}function u4e(t){const e=[];return GC(t,e),e}var cb;class c4e extends MQ{constructor(r,n,i){const s=Object.assign({},i??{},{batchMaxCount:1});Me(r&&r.request,"invalid EIP-1193 provider","ethereum",r);super(n,s);Ye(this,cb);Ae(this,cb,async(o,a)=>{const u={method:o,params:a};this.emit("debug",{action:"sendEip1193Request",payload:u});try{const f=await r.request(u);return this.emit("debug",{action:"receiveEip1193Result",result:f}),f}catch(f){const d=new Error(f.message);throw d.code=f.code,d.data=f.data,d.payload=u,this.emit("debug",{action:"receiveEip1193Error",error:d}),d}})}async send(r,n){return await this._start(),await super.send(r,n)}async _send(r){Me(!Array.isArray(r),"EIP-1193 does not support batch request","payload",r);try{const n=await ue(this,cb).call(this,r.method,r.params||[]);return[{id:r.id,result:n}]}catch(n){return[{id:r.id,error:{code:n.code,data:n.data,message:n.message}}]}}getRpcError(r,n){switch(n=JSON.parse(JSON.stringify(n)),n.error.code||-1){case 4001:n.error.message=`ethers-user-denied: ${n.error.message}`;break;case 4200:n.error.message=`ethers-unsupported: ${n.error.message}`;break}return super.getRpcError(r,n)}async hasSigner(r){r==null&&(r=0);const n=await this.send("eth_accounts",[]);return typeof r=="number"?n.length>r:(r=r.toLowerCase(),n.filter(i=>i.toLowerCase()===r).length!==0)}async getSigner(r){if(r==null&&(r=0),!await this.hasSigner(r))try{await ue(this,cb).call(this,"eth_requestAccounts",[])}catch(n){const i=n.payload;throw this.getRpcError(i,{id:i.id,error:n})}return await super.getSigner(r)}}cb=new WeakMap;var l4e=Object.create,LB=Object.defineProperty,f4e=Object.getOwnPropertyDescriptor,d4e=Object.getOwnPropertyNames,h4e=Object.getPrototypeOf,p4e=Object.prototype.hasOwnProperty,g4e=(t,e)=>()=>(t&&(e=t(t=0)),e),y1=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),m4e=(t,e)=>{for(var r in e)LB(t,r,{get:e[r],enumerable:!0})},y4e=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of d4e(e))!p4e.call(t,i)&&i!==r&&LB(t,i,{get:()=>e[i],enumerable:!(n=f4e(e,i))||n.enumerable});return t},Zw=(t,e,r)=>(r=t!=null?l4e(h4e(t)):{},y4e(!t||!t.__esModule?LB(r,"default",{value:t,enumerable:!0}):r,t)),b4e=y1(t=>{Wn(),t.byteLength=u,t.toByteArray=d,t.fromByteArray=b;var e=[],r=[],n=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(s=0,o=i.length;s<o;++s)e[s]=i[s],r[i.charCodeAt(s)]=s;var s,o;r[45]=62,r[95]=63;function a(A){var x=A.length;if(x%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=A.indexOf("=");k===-1&&(k=x);var I=k===x?0:4-k%4;return[k,I]}function u(A){var x=a(A),k=x[0],I=x[1];return(k+I)*3/4-I}function f(A,x,k){return(x+k)*3/4-k}function d(A){var x,k=a(A),I=k[0],R=k[1],M=new n(f(A,I,R)),P=0,j=R>0?I-4:I,V;for(V=0;V<j;V+=4)x=r[A.charCodeAt(V)]<<18|r[A.charCodeAt(V+1)]<<12|r[A.charCodeAt(V+2)]<<6|r[A.charCodeAt(V+3)],M[P++]=x>>16&255,M[P++]=x>>8&255,M[P++]=x&255;return R===2&&(x=r[A.charCodeAt(V)]<<2|r[A.charCodeAt(V+1)]>>4,M[P++]=x&255),R===1&&(x=r[A.charCodeAt(V)]<<10|r[A.charCodeAt(V+1)]<<4|r[A.charCodeAt(V+2)]>>2,M[P++]=x>>8&255,M[P++]=x&255),M}function g(A){return e[A>>18&63]+e[A>>12&63]+e[A>>6&63]+e[A&63]}function y(A,x,k){for(var I,R=[],M=x;M<k;M+=3)I=(A[M]<<16&16711680)+(A[M+1]<<8&65280)+(A[M+2]&255),R.push(g(I));return R.join("")}function b(A){for(var x,k=A.length,I=k%3,R=[],M=16383,P=0,j=k-I;P<j;P+=M)R.push(y(A,P,P+M>j?j:P+M));return I===1?(x=A[k-1],R.push(e[x>>2]+e[x<<4&63]+"==")):I===2&&(x=(A[k-2]<<8)+A[k-1],R.push(e[x>>10]+e[x>>4&63]+e[x<<2&63]+"=")),R.join("")}}),v4e=y1(t=>{Wn(),t.read=function(e,r,n,i,s){var o,a,u=s*8-i-1,f=(1<<u)-1,d=f>>1,g=-7,y=n?s-1:0,b=n?-1:1,A=e[r+y];for(y+=b,o=A&(1<<-g)-1,A>>=-g,g+=u;g>0;o=o*256+e[r+y],y+=b,g-=8);for(a=o&(1<<-g)-1,o>>=-g,g+=i;g>0;a=a*256+e[r+y],y+=b,g-=8);if(o===0)o=1-d;else{if(o===f)return a?NaN:(A?-1:1)*(1/0);a=a+Math.pow(2,i),o=o-d}return(A?-1:1)*a*Math.pow(2,o-i)},t.write=function(e,r,n,i,s,o){var a,u,f,d=o*8-s-1,g=(1<<d)-1,y=g>>1,b=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,A=i?0:o-1,x=i?1:-1,k=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(u=isNaN(r)?1:0,a=g):(a=Math.floor(Math.log(r)/Math.LN2),r*(f=Math.pow(2,-a))<1&&(a--,f*=2),a+y>=1?r+=b/f:r+=b*Math.pow(2,1-y),r*f>=2&&(a++,f/=2),a+y>=g?(u=0,a=g):a+y>=1?(u=(r*f-1)*Math.pow(2,s),a=a+y):(u=r*Math.pow(2,y-1)*Math.pow(2,s),a=0));s>=8;e[n+A]=u&255,A+=x,u/=256,s-=8);for(a=a<<s|u,d+=s;d>0;e[n+A]=a&255,A+=x,a/=256,d-=8);e[n+A-x]|=k*128}}),CQ=y1(t=>{Wn();var e=b4e(),r=v4e(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=R,t.INSPECT_MAX_BYTES=50;var i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var W=new Uint8Array(1),re={foo:function(){return 42}};return Object.setPrototypeOf(re,Uint8Array.prototype),Object.setPrototypeOf(W,re),W.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(W){if(W>i)throw new RangeError('The value "'+W+'" is invalid for option "size"');var re=new Uint8Array(W);return Object.setPrototypeOf(re,a.prototype),re}function a(W,re,ne){if(typeof W=="number"){if(typeof re=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(W)}return u(W,re,ne)}a.poolSize=8192;function u(W,re,ne){if(typeof W=="string")return y(W,re);if(ArrayBuffer.isView(W))return A(W);if(W==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W);if(oe(W,ArrayBuffer)||W&&oe(W.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(oe(W,SharedArrayBuffer)||W&&oe(W.buffer,SharedArrayBuffer)))return x(W,re,ne);if(typeof W=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var se=W.valueOf&&W.valueOf();if(se!=null&&se!==W)return a.from(se,re,ne);var Te=k(W);if(Te)return Te;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof W[Symbol.toPrimitive]=="function")return a.from(W[Symbol.toPrimitive]("string"),re,ne);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W)}a.from=function(W,re,ne){return u(W,re,ne)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function f(W){if(typeof W!="number")throw new TypeError('"size" argument must be of type number');if(W<0)throw new RangeError('The value "'+W+'" is invalid for option "size"')}function d(W,re,ne){return f(W),W<=0?o(W):re!==void 0?typeof ne=="string"?o(W).fill(re,ne):o(W).fill(re):o(W)}a.alloc=function(W,re,ne){return d(W,re,ne)};function g(W){return f(W),o(W<0?0:I(W)|0)}a.allocUnsafe=function(W){return g(W)},a.allocUnsafeSlow=function(W){return g(W)};function y(W,re){if((typeof re!="string"||re==="")&&(re="utf8"),!a.isEncoding(re))throw new TypeError("Unknown encoding: "+re);var ne=M(W,re)|0,se=o(ne),Te=se.write(W,re);return Te!==ne&&(se=se.slice(0,Te)),se}function b(W){for(var re=W.length<0?0:I(W.length)|0,ne=o(re),se=0;se<re;se+=1)ne[se]=W[se]&255;return ne}function A(W){if(oe(W,Uint8Array)){var re=new Uint8Array(W);return x(re.buffer,re.byteOffset,re.byteLength)}return b(W)}function x(W,re,ne){if(re<0||W.byteLength<re)throw new RangeError('"offset" is outside of buffer bounds');if(W.byteLength<re+(ne||0))throw new RangeError('"length" is outside of buffer bounds');var se;return re===void 0&&ne===void 0?se=new Uint8Array(W):ne===void 0?se=new Uint8Array(W,re):se=new Uint8Array(W,re,ne),Object.setPrototypeOf(se,a.prototype),se}function k(W){if(a.isBuffer(W)){var re=I(W.length)|0,ne=o(re);return ne.length===0||W.copy(ne,0,0,re),ne}if(W.length!==void 0)return typeof W.length!="number"||_e(W.length)?o(0):b(W);if(W.type==="Buffer"&&Array.isArray(W.data))return b(W.data)}function I(W){if(W>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return W|0}function R(W){return+W!=W&&(W=0),a.alloc(+W)}a.isBuffer=function(W){return W!=null&&W._isBuffer===!0&&W!==a.prototype},a.compare=function(W,re){if(oe(W,Uint8Array)&&(W=a.from(W,W.offset,W.byteLength)),oe(re,Uint8Array)&&(re=a.from(re,re.offset,re.byteLength)),!a.isBuffer(W)||!a.isBuffer(re))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(W===re)return 0;for(var ne=W.length,se=re.length,Te=0,be=Math.min(ne,se);Te<be;++Te)if(W[Te]!==re[Te]){ne=W[Te],se=re[Te];break}return ne<se?-1:se<ne?1:0},a.isEncoding=function(W){switch(String(W).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(W,re){if(!Array.isArray(W))throw new TypeError('"list" argument must be an Array of Buffers');if(W.length===0)return a.alloc(0);var ne;if(re===void 0)for(re=0,ne=0;ne<W.length;++ne)re+=W[ne].length;var se=a.allocUnsafe(re),Te=0;for(ne=0;ne<W.length;++ne){var be=W[ne];if(oe(be,Uint8Array))Te+be.length>se.length?a.from(be).copy(se,Te):Uint8Array.prototype.set.call(se,be,Te);else if(a.isBuffer(be))be.copy(se,Te);else throw new TypeError('"list" argument must be an Array of Buffers');Te+=be.length}return se};function M(W,re){if(a.isBuffer(W))return W.length;if(ArrayBuffer.isView(W)||oe(W,ArrayBuffer))return W.byteLength;if(typeof W!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof W);var ne=W.length,se=arguments.length>2&&arguments[2]===!0;if(!se&&ne===0)return 0;for(var Te=!1;;)switch(re){case"ascii":case"latin1":case"binary":return ne;case"utf8":case"utf-8":return H(W).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne*2;case"hex":return ne>>>1;case"base64":return X(W).length;default:if(Te)return se?-1:H(W).length;re=(""+re).toLowerCase(),Te=!0}}a.byteLength=M;function P(W,re,ne){var se=!1;if((re===void 0||re<0)&&(re=0),re>this.length||((ne===void 0||ne>this.length)&&(ne=this.length),ne<=0)||(ne>>>=0,re>>>=0,ne<=re))return"";for(W||(W="utf8");;)switch(W){case"hex":return w(this,re,ne);case"utf8":case"utf-8":return p(this,re,ne);case"ascii":return _(this,re,ne);case"latin1":case"binary":return E(this,re,ne);case"base64":return h(this,re,ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l(this,re,ne);default:if(se)throw new TypeError("Unknown encoding: "+W);W=(W+"").toLowerCase(),se=!0}}a.prototype._isBuffer=!0;function j(W,re,ne){var se=W[re];W[re]=W[ne],W[ne]=se}a.prototype.swap16=function(){var W=this.length;if(W%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var re=0;re<W;re+=2)j(this,re,re+1);return this},a.prototype.swap32=function(){var W=this.length;if(W%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var re=0;re<W;re+=4)j(this,re,re+3),j(this,re+1,re+2);return this},a.prototype.swap64=function(){var W=this.length;if(W%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var re=0;re<W;re+=8)j(this,re,re+7),j(this,re+1,re+6),j(this,re+2,re+5),j(this,re+3,re+4);return this},a.prototype.toString=function(){var W=this.length;return W===0?"":arguments.length===0?p(this,0,W):P.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(W){if(!a.isBuffer(W))throw new TypeError("Argument must be a Buffer");return this===W?!0:a.compare(this,W)===0},a.prototype.inspect=function(){var W="",re=t.INSPECT_MAX_BYTES;return W=this.toString("hex",0,re).replace(/(.{2})/g,"$1 ").trim(),this.length>re&&(W+=" ... "),"<Buffer "+W+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(W,re,ne,se,Te){if(oe(W,Uint8Array)&&(W=a.from(W,W.offset,W.byteLength)),!a.isBuffer(W))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof W);if(re===void 0&&(re=0),ne===void 0&&(ne=W?W.length:0),se===void 0&&(se=0),Te===void 0&&(Te=this.length),re<0||ne>W.length||se<0||Te>this.length)throw new RangeError("out of range index");if(se>=Te&&re>=ne)return 0;if(se>=Te)return-1;if(re>=ne)return 1;if(re>>>=0,ne>>>=0,se>>>=0,Te>>>=0,this===W)return 0;for(var be=Te-se,Ee=ne-re,ut=Math.min(be,Ee),le=this.slice(se,Te),de=W.slice(re,ne),Fe=0;Fe<ut;++Fe)if(le[Fe]!==de[Fe]){be=le[Fe],Ee=de[Fe];break}return be<Ee?-1:Ee<be?1:0};function V(W,re,ne,se,Te){if(W.length===0)return-1;if(typeof ne=="string"?(se=ne,ne=0):ne>2147483647?ne=2147483647:ne<-2147483648&&(ne=-2147483648),ne=+ne,_e(ne)&&(ne=Te?0:W.length-1),ne<0&&(ne=W.length+ne),ne>=W.length){if(Te)return-1;ne=W.length-1}else if(ne<0)if(Te)ne=0;else return-1;if(typeof re=="string"&&(re=a.from(re,se)),a.isBuffer(re))return re.length===0?-1:Z(W,re,ne,se,Te);if(typeof re=="number")return re=re&255,typeof Uint8Array.prototype.indexOf=="function"?Te?Uint8Array.prototype.indexOf.call(W,re,ne):Uint8Array.prototype.lastIndexOf.call(W,re,ne):Z(W,[re],ne,se,Te);throw new TypeError("val must be string, number or Buffer")}function Z(W,re,ne,se,Te){var be=1,Ee=W.length,ut=re.length;if(se!==void 0&&(se=String(se).toLowerCase(),se==="ucs2"||se==="ucs-2"||se==="utf16le"||se==="utf-16le")){if(W.length<2||re.length<2)return-1;be=2,Ee/=2,ut/=2,ne/=2}function le(J,ie){return be===1?J[ie]:J.readUInt16BE(ie*be)}var de;if(Te){var Fe=-1;for(de=ne;de<Ee;de++)if(le(W,de)===le(re,Fe===-1?0:de-Fe)){if(Fe===-1&&(Fe=de),de-Fe+1===ut)return Fe*be}else Fe!==-1&&(de-=de-Fe),Fe=-1}else for(ne+ut>Ee&&(ne=Ee-ut),de=ne;de>=0;de--){for(var ee=!0,z=0;z<ut;z++)if(le(W,de+z)!==le(re,z)){ee=!1;break}if(ee)return de}return-1}a.prototype.includes=function(W,re,ne){return this.indexOf(W,re,ne)!==-1},a.prototype.indexOf=function(W,re,ne){return V(this,W,re,ne,!0)},a.prototype.lastIndexOf=function(W,re,ne){return V(this,W,re,ne,!1)};function G(W,re,ne,se){ne=Number(ne)||0;var Te=W.length-ne;se?(se=Number(se),se>Te&&(se=Te)):se=Te;var be=re.length;se>be/2&&(se=be/2);for(var Ee=0;Ee<se;++Ee){var ut=parseInt(re.substr(Ee*2,2),16);if(_e(ut))return Ee;W[ne+Ee]=ut}return Ee}function q(W,re,ne,se){return K(H(re,W.length-ne),W,ne,se)}function ae(W,re,ne,se){return K(Q(re),W,ne,se)}function T(W,re,ne,se){return K(X(re),W,ne,se)}function c(W,re,ne,se){return K(te(re,W.length-ne),W,ne,se)}a.prototype.write=function(W,re,ne,se){if(re===void 0)se="utf8",ne=this.length,re=0;else if(ne===void 0&&typeof re=="string")se=re,ne=this.length,re=0;else if(isFinite(re))re=re>>>0,isFinite(ne)?(ne=ne>>>0,se===void 0&&(se="utf8")):(se=ne,ne=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Te=this.length-re;if((ne===void 0||ne>Te)&&(ne=Te),W.length>0&&(ne<0||re<0)||re>this.length)throw new RangeError("Attempt to write outside buffer bounds");se||(se="utf8");for(var be=!1;;)switch(se){case"hex":return G(this,W,re,ne);case"utf8":case"utf-8":return q(this,W,re,ne);case"ascii":case"latin1":case"binary":return ae(this,W,re,ne);case"base64":return T(this,W,re,ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c(this,W,re,ne);default:if(be)throw new TypeError("Unknown encoding: "+se);se=(""+se).toLowerCase(),be=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function h(W,re,ne){return re===0&&ne===W.length?e.fromByteArray(W):e.fromByteArray(W.slice(re,ne))}function p(W,re,ne){ne=Math.min(W.length,ne);for(var se=[],Te=re;Te<ne;){var be=W[Te],Ee=null,ut=be>239?4:be>223?3:be>191?2:1;if(Te+ut<=ne){var le,de,Fe,ee;switch(ut){case 1:be<128&&(Ee=be);break;case 2:le=W[Te+1],(le&192)===128&&(ee=(be&31)<<6|le&63,ee>127&&(Ee=ee));break;case 3:le=W[Te+1],de=W[Te+2],(le&192)===128&&(de&192)===128&&(ee=(be&15)<<12|(le&63)<<6|de&63,ee>2047&&(ee<55296||ee>57343)&&(Ee=ee));break;case 4:le=W[Te+1],de=W[Te+2],Fe=W[Te+3],(le&192)===128&&(de&192)===128&&(Fe&192)===128&&(ee=(be&15)<<18|(le&63)<<12|(de&63)<<6|Fe&63,ee>65535&&ee<1114112&&(Ee=ee))}}Ee===null?(Ee=65533,ut=1):Ee>65535&&(Ee-=65536,se.push(Ee>>>10&1023|55296),Ee=56320|Ee&1023),se.push(Ee),Te+=ut}return v(se)}var m=4096;function v(W){var re=W.length;if(re<=m)return String.fromCharCode.apply(String,W);for(var ne="",se=0;se<re;)ne+=String.fromCharCode.apply(String,W.slice(se,se+=m));return ne}function _(W,re,ne){var se="";ne=Math.min(W.length,ne);for(var Te=re;Te<ne;++Te)se+=String.fromCharCode(W[Te]&127);return se}function E(W,re,ne){var se="";ne=Math.min(W.length,ne);for(var Te=re;Te<ne;++Te)se+=String.fromCharCode(W[Te]);return se}function w(W,re,ne){var se=W.length;(!re||re<0)&&(re=0),(!ne||ne<0||ne>se)&&(ne=se);for(var Te="",be=re;be<ne;++be)Te+=Se[W[be]];return Te}function l(W,re,ne){for(var se=W.slice(re,ne),Te="",be=0;be<se.length-1;be+=2)Te+=String.fromCharCode(se[be]+se[be+1]*256);return Te}a.prototype.slice=function(W,re){var ne=this.length;W=~~W,re=re===void 0?ne:~~re,W<0?(W+=ne,W<0&&(W=0)):W>ne&&(W=ne),re<0?(re+=ne,re<0&&(re=0)):re>ne&&(re=ne),re<W&&(re=W);var se=this.subarray(W,re);return Object.setPrototypeOf(se,a.prototype),se};function S(W,re,ne){if(W%1!==0||W<0)throw new RangeError("offset is not uint");if(W+re>ne)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(W,re,ne){W=W>>>0,re=re>>>0,ne||S(W,re,this.length);for(var se=this[W],Te=1,be=0;++be<re&&(Te*=256);)se+=this[W+be]*Te;return se},a.prototype.readUintBE=a.prototype.readUIntBE=function(W,re,ne){W=W>>>0,re=re>>>0,ne||S(W,re,this.length);for(var se=this[W+--re],Te=1;re>0&&(Te*=256);)se+=this[W+--re]*Te;return se},a.prototype.readUint8=a.prototype.readUInt8=function(W,re){return W=W>>>0,re||S(W,1,this.length),this[W]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(W,re){return W=W>>>0,re||S(W,2,this.length),this[W]|this[W+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(W,re){return W=W>>>0,re||S(W,2,this.length),this[W]<<8|this[W+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(W,re){return W=W>>>0,re||S(W,4,this.length),(this[W]|this[W+1]<<8|this[W+2]<<16)+this[W+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(W,re){return W=W>>>0,re||S(W,4,this.length),this[W]*16777216+(this[W+1]<<16|this[W+2]<<8|this[W+3])},a.prototype.readIntLE=function(W,re,ne){W=W>>>0,re=re>>>0,ne||S(W,re,this.length);for(var se=this[W],Te=1,be=0;++be<re&&(Te*=256);)se+=this[W+be]*Te;return Te*=128,se>=Te&&(se-=Math.pow(2,8*re)),se},a.prototype.readIntBE=function(W,re,ne){W=W>>>0,re=re>>>0,ne||S(W,re,this.length);for(var se=re,Te=1,be=this[W+--se];se>0&&(Te*=256);)be+=this[W+--se]*Te;return Te*=128,be>=Te&&(be-=Math.pow(2,8*re)),be},a.prototype.readInt8=function(W,re){return W=W>>>0,re||S(W,1,this.length),this[W]&128?(255-this[W]+1)*-1:this[W]},a.prototype.readInt16LE=function(W,re){W=W>>>0,re||S(W,2,this.length);var ne=this[W]|this[W+1]<<8;return ne&32768?ne|4294901760:ne},a.prototype.readInt16BE=function(W,re){W=W>>>0,re||S(W,2,this.length);var ne=this[W+1]|this[W]<<8;return ne&32768?ne|4294901760:ne},a.prototype.readInt32LE=function(W,re){return W=W>>>0,re||S(W,4,this.length),this[W]|this[W+1]<<8|this[W+2]<<16|this[W+3]<<24},a.prototype.readInt32BE=function(W,re){return W=W>>>0,re||S(W,4,this.length),this[W]<<24|this[W+1]<<16|this[W+2]<<8|this[W+3]},a.prototype.readFloatLE=function(W,re){return W=W>>>0,re||S(W,4,this.length),r.read(this,W,!0,23,4)},a.prototype.readFloatBE=function(W,re){return W=W>>>0,re||S(W,4,this.length),r.read(this,W,!1,23,4)},a.prototype.readDoubleLE=function(W,re){return W=W>>>0,re||S(W,8,this.length),r.read(this,W,!0,52,8)},a.prototype.readDoubleBE=function(W,re){return W=W>>>0,re||S(W,8,this.length),r.read(this,W,!1,52,8)};function C(W,re,ne,se,Te,be){if(!a.isBuffer(W))throw new TypeError('"buffer" argument must be a Buffer instance');if(re>Te||re<be)throw new RangeError('"value" argument is out of bounds');if(ne+se>W.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(W,re,ne,se){if(W=+W,re=re>>>0,ne=ne>>>0,!se){var Te=Math.pow(2,8*ne)-1;C(this,W,re,ne,Te,0)}var be=1,Ee=0;for(this[re]=W&255;++Ee<ne&&(be*=256);)this[re+Ee]=W/be&255;return re+ne},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(W,re,ne,se){if(W=+W,re=re>>>0,ne=ne>>>0,!se){var Te=Math.pow(2,8*ne)-1;C(this,W,re,ne,Te,0)}var be=ne-1,Ee=1;for(this[re+be]=W&255;--be>=0&&(Ee*=256);)this[re+be]=W/Ee&255;return re+ne},a.prototype.writeUint8=a.prototype.writeUInt8=function(W,re,ne){return W=+W,re=re>>>0,ne||C(this,W,re,1,255,0),this[re]=W&255,re+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(W,re,ne){return W=+W,re=re>>>0,ne||C(this,W,re,2,65535,0),this[re]=W&255,this[re+1]=W>>>8,re+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(W,re,ne){return W=+W,re=re>>>0,ne||C(this,W,re,2,65535,0),this[re]=W>>>8,this[re+1]=W&255,re+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(W,re,ne){return W=+W,re=re>>>0,ne||C(this,W,re,4,4294967295,0),this[re+3]=W>>>24,this[re+2]=W>>>16,this[re+1]=W>>>8,this[re]=W&255,re+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(W,re,ne){return W=+W,re=re>>>0,ne||C(this,W,re,4,4294967295,0),this[re]=W>>>24,this[re+1]=W>>>16,this[re+2]=W>>>8,this[re+3]=W&255,re+4},a.prototype.writeIntLE=function(W,re,ne,se){if(W=+W,re=re>>>0,!se){var Te=Math.pow(2,8*ne-1);C(this,W,re,ne,Te-1,-Te)}var be=0,Ee=1,ut=0;for(this[re]=W&255;++be<ne&&(Ee*=256);)W<0&&ut===0&&this[re+be-1]!==0&&(ut=1),this[re+be]=(W/Ee>>0)-ut&255;return re+ne},a.prototype.writeIntBE=function(W,re,ne,se){if(W=+W,re=re>>>0,!se){var Te=Math.pow(2,8*ne-1);C(this,W,re,ne,Te-1,-Te)}var be=ne-1,Ee=1,ut=0;for(this[re+be]=W&255;--be>=0&&(Ee*=256);)W<0&&ut===0&&this[re+be+1]!==0&&(ut=1),this[re+be]=(W/Ee>>0)-ut&255;return re+ne},a.prototype.writeInt8=function(W,re,ne){return W=+W,re=re>>>0,ne||C(this,W,re,1,127,-128),W<0&&(W=255+W+1),this[re]=W&255,re+1},a.prototype.writeInt16LE=function(W,re,ne){return W=+W,re=re>>>0,ne||C(this,W,re,2,32767,-32768),this[re]=W&255,this[re+1]=W>>>8,re+2},a.prototype.writeInt16BE=function(W,re,ne){return W=+W,re=re>>>0,ne||C(this,W,re,2,32767,-32768),this[re]=W>>>8,this[re+1]=W&255,re+2},a.prototype.writeInt32LE=function(W,re,ne){return W=+W,re=re>>>0,ne||C(this,W,re,4,2147483647,-2147483648),this[re]=W&255,this[re+1]=W>>>8,this[re+2]=W>>>16,this[re+3]=W>>>24,re+4},a.prototype.writeInt32BE=function(W,re,ne){return W=+W,re=re>>>0,ne||C(this,W,re,4,2147483647,-2147483648),W<0&&(W=4294967295+W+1),this[re]=W>>>24,this[re+1]=W>>>16,this[re+2]=W>>>8,this[re+3]=W&255,re+4};function D(W,re,ne,se,Te,be){if(ne+se>W.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("Index out of range")}function U(W,re,ne,se,Te){return re=+re,ne=ne>>>0,Te||D(W,re,ne,4),r.write(W,re,ne,se,23,4),ne+4}a.prototype.writeFloatLE=function(W,re,ne){return U(this,W,re,!0,ne)},a.prototype.writeFloatBE=function(W,re,ne){return U(this,W,re,!1,ne)};function O(W,re,ne,se,Te){return re=+re,ne=ne>>>0,Te||D(W,re,ne,8),r.write(W,re,ne,se,52,8),ne+8}a.prototype.writeDoubleLE=function(W,re,ne){return O(this,W,re,!0,ne)},a.prototype.writeDoubleBE=function(W,re,ne){return O(this,W,re,!1,ne)},a.prototype.copy=function(W,re,ne,se){if(!a.isBuffer(W))throw new TypeError("argument should be a Buffer");if(ne||(ne=0),!se&&se!==0&&(se=this.length),re>=W.length&&(re=W.length),re||(re=0),se>0&&se<ne&&(se=ne),se===ne||W.length===0||this.length===0)return 0;if(re<0)throw new RangeError("targetStart out of bounds");if(ne<0||ne>=this.length)throw new RangeError("Index out of range");if(se<0)throw new RangeError("sourceEnd out of bounds");se>this.length&&(se=this.length),W.length-re<se-ne&&(se=W.length-re+ne);var Te=se-ne;return this===W&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(re,ne,se):Uint8Array.prototype.set.call(W,this.subarray(ne,se),re),Te},a.prototype.fill=function(W,re,ne,se){if(typeof W=="string"){if(typeof re=="string"?(se=re,re=0,ne=this.length):typeof ne=="string"&&(se=ne,ne=this.length),se!==void 0&&typeof se!="string")throw new TypeError("encoding must be a string");if(typeof se=="string"&&!a.isEncoding(se))throw new TypeError("Unknown encoding: "+se);if(W.length===1){var Te=W.charCodeAt(0);(se==="utf8"&&Te<128||se==="latin1")&&(W=Te)}}else typeof W=="number"?W=W&255:typeof W=="boolean"&&(W=Number(W));if(re<0||this.length<re||this.length<ne)throw new RangeError("Out of range index");if(ne<=re)return this;re=re>>>0,ne=ne===void 0?this.length:ne>>>0,W||(W=0);var be;if(typeof W=="number")for(be=re;be<ne;++be)this[be]=W;else{var Ee=a.isBuffer(W)?W:a.from(W,se),ut=Ee.length;if(ut===0)throw new TypeError('The value "'+W+'" is invalid for argument "value"');for(be=0;be<ne-re;++be)this[be+re]=Ee[be%ut]}return this};var $=/[^+/0-9A-Za-z-_]/g;function F(W){if(W=W.split("=")[0],W=W.trim().replace($,""),W.length<2)return"";for(;W.length%4!==0;)W=W+"=";return W}function H(W,re){re=re||1/0;for(var ne,se=W.length,Te=null,be=[],Ee=0;Ee<se;++Ee){if(ne=W.charCodeAt(Ee),ne>55295&&ne<57344){if(!Te){if(ne>56319){(re-=3)>-1&&be.push(239,191,189);continue}else if(Ee+1===se){(re-=3)>-1&&be.push(239,191,189);continue}Te=ne;continue}if(ne<56320){(re-=3)>-1&&be.push(239,191,189),Te=ne;continue}ne=(Te-55296<<10|ne-56320)+65536}else Te&&(re-=3)>-1&&be.push(239,191,189);if(Te=null,ne<128){if((re-=1)<0)break;be.push(ne)}else if(ne<2048){if((re-=2)<0)break;be.push(ne>>6|192,ne&63|128)}else if(ne<65536){if((re-=3)<0)break;be.push(ne>>12|224,ne>>6&63|128,ne&63|128)}else if(ne<1114112){if((re-=4)<0)break;be.push(ne>>18|240,ne>>12&63|128,ne>>6&63|128,ne&63|128)}else throw new Error("Invalid code point")}return be}function Q(W){for(var re=[],ne=0;ne<W.length;++ne)re.push(W.charCodeAt(ne)&255);return re}function te(W,re){for(var ne,se,Te,be=[],Ee=0;Ee<W.length&&!((re-=2)<0);++Ee)ne=W.charCodeAt(Ee),se=ne>>8,Te=ne%256,be.push(Te),be.push(se);return be}function X(W){return e.toByteArray(F(W))}function K(W,re,ne,se){for(var Te=0;Te<se&&!(Te+ne>=re.length||Te>=W.length);++Te)re[Te+ne]=W[Te];return Te}function oe(W,re){return W instanceof re||W!=null&&W.constructor!=null&&W.constructor.name!=null&&W.constructor.name===re.name}function _e(W){return W!==W}var Se=function(){for(var W="0123456789abcdef",re=new Array(256),ne=0;ne<16;++ne)for(var se=ne*16,Te=0;Te<16;++Te)re[se+Te]=W[ne]+W[Te];return re}()}),w4e=y1((t,e)=>{Wn();var r=e.exports={},n,i;function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?n=setTimeout:n=s}catch{n=s}try{typeof clearTimeout=="function"?i=clearTimeout:i=o}catch{i=o}})();function a(I){if(n===setTimeout)return setTimeout(I,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(I,0);try{return n(I,0)}catch{try{return n.call(null,I,0)}catch{return n.call(this,I,0)}}}function u(I){if(i===clearTimeout)return clearTimeout(I);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(I);try{return i(I)}catch{try{return i.call(null,I)}catch{return i.call(this,I)}}}var f=[],d=!1,g,y=-1;function b(){!d||!g||(d=!1,g.length?f=g.concat(f):y=-1,f.length&&A())}function A(){if(!d){var I=a(b);d=!0;for(var R=f.length;R;){for(g=f,f=[];++y<R;)g&&g[y].run();y=-1,R=f.length}g=null,d=!1,u(I)}}r.nextTick=function(I){var R=new Array(arguments.length-1);if(arguments.length>1)for(var M=1;M<arguments.length;M++)R[M-1]=arguments[M];f.push(new x(I,R)),f.length===1&&!d&&a(A)};function x(I,R){this.fun=I,this.array=R}x.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={};function k(){}r.on=k,r.addListener=k,r.once=k,r.off=k,r.removeListener=k,r.removeAllListeners=k,r.emit=k,r.prependListener=k,r.prependOnceListener=k,r.listeners=function(I){return[]},r.binding=function(I){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(I){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}),DB,dW,YC,Wn=g4e(()=>{DB=Zw(CQ()),Zw(w4e()),dW=function(t){function e(){var n=this||self;return delete t.prototype.__magic__,n}if(typeof globalThis=="object")return globalThis;if(this)return e();t.defineProperty(t.prototype,"__magic__",{configurable:!0,get:e});var r=__magic__;return r}(Object),YC=dW}),S4e=y1((t,e)=>{Wn();function r(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),s=0;s<i.length;s++)i[s]=255;for(var o=0;o<n.length;o++){var a=n.charAt(o),u=a.charCodeAt(0);if(i[u]!==255)throw new TypeError(a+" is ambiguous");i[u]=o}var f=n.length,d=n.charAt(0),g=Math.log(f)/Math.log(256),y=Math.log(256)/Math.log(f);function b(k){if(k instanceof Uint8Array||(ArrayBuffer.isView(k)?k=new Uint8Array(k.buffer,k.byteOffset,k.byteLength):Array.isArray(k)&&(k=Uint8Array.from(k))),!(k instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(k.length===0)return"";for(var I=0,R=0,M=0,P=k.length;M!==P&&k[M]===0;)M++,I++;for(var j=(P-M)*y+1>>>0,V=new Uint8Array(j);M!==P;){for(var Z=k[M],G=0,q=j-1;(Z!==0||G<R)&&q!==-1;q--,G++)Z+=256*V[q]>>>0,V[q]=Z%f>>>0,Z=Z/f>>>0;if(Z!==0)throw new Error("Non-zero carry");R=G,M++}for(var ae=j-R;ae!==j&&V[ae]===0;)ae++;for(var T=d.repeat(I);ae<j;++ae)T+=n.charAt(V[ae]);return T}function A(k){if(typeof k!="string")throw new TypeError("Expected String");if(k.length===0)return new Uint8Array;for(var I=0,R=0,M=0;k[I]===d;)R++,I++;for(var P=(k.length-I)*g+1>>>0,j=new Uint8Array(P);k[I];){var V=i[k.charCodeAt(I)];if(V===255)return;for(var Z=0,G=P-1;(V!==0||Z<M)&&G!==-1;G--,Z++)V+=f*j[G]>>>0,j[G]=V%256>>>0,V=V/256>>>0;if(V!==0)throw new Error("Non-zero carry");M=Z,I++}for(var q=P-M;q!==P&&j[q]===0;)q++;for(var ae=new Uint8Array(R+(P-q)),T=R;q!==P;)ae[T++]=j[q++];return ae}function x(k){var I=A(k);if(I)return I;throw new Error("Non-base"+f+" character")}return{encode:b,decodeUnsafe:A,decode:x}}e.exports=r}),PQ=y1((t,e)=>{Wn();var r=S4e(),n="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";e.exports=r(n)});Wn();Wn();Wn();var q4=Zw(PQ());Wn();var Ys=2n**255n-19n,mw=2n**252n+27742317777372353535851937790883648493n,hW=0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,pW=0x6666666666666666666666666666666666666666666666666666666666666658n,CA={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,h:8},fo=(t="")=>{throw new Error(t)},NQ=t=>typeof t=="string",a3=(t,e)=>!(t instanceof Uint8Array)||typeof e=="number"&&e>0&&t.length!==e?fo("Uint8Array expected"):t,Eb=t=>new Uint8Array(t),u3=(t,e)=>a3(NQ(t)?$B(t):Eb(t),e),qt=(t,e=Ys)=>{let r=t%e;return r>=0n?r:e+r},gW=t=>t instanceof kb?t:fo("Point expected"),mW,kb=class Xg{constructor(e,r,n,i){this.ex=e,this.ey=r,this.ez=n,this.et=i}static fromAffine(e){return new Xg(e.x,e.y,1n,qt(e.x*e.y))}static fromHex(e,r=!0){let{d:n}=CA;e=u3(e,32);let i=e.slice();i[31]=e[31]&-129;let s=LQ(i);s===0n||(r&&!(0n<s&&s<Ys)&&fo("bad y coord 1"),!r&&!(0n<s&&s<2n**256n)&&fo("bad y coord 2"));let o=qt(s*s),a=qt(o-1n),u=qt(n*o+1n),{isValid:f,value:d}=A4e(a,u);f||fo("bad y coordinate 3");let g=(d&1n)===1n;return(e[31]&128)!==0!==g&&(d=qt(-d)),new Xg(d,s,1n,qt(d*s))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}equals(e){let{ex:r,ey:n,ez:i}=this,{ex:s,ey:o,ez:a}=gW(e),u=qt(r*a),f=qt(s*i),d=qt(n*a),g=qt(o*i);return u===f&&d===g}is0(){return this.equals(L2)}negate(){return new Xg(qt(-this.ex),this.ey,this.ez,qt(-this.et))}double(){let{ex:e,ey:r,ez:n}=this,{a:i}=CA,s=qt(e*e),o=qt(r*r),a=qt(2n*qt(n*n)),u=qt(i*s),f=e+r,d=qt(qt(f*f)-s-o),g=u+o,y=g-a,b=u-o,A=qt(d*y),x=qt(g*b),k=qt(d*b),I=qt(y*g);return new Xg(A,x,I,k)}add(e){let{ex:r,ey:n,ez:i,et:s}=this,{ex:o,ey:a,ez:u,et:f}=gW(e),{a:d,d:g}=CA,y=qt(r*o),b=qt(n*a),A=qt(s*g*f),x=qt(i*u),k=qt((r+n)*(o+a)-y-b),I=qt(x-A),R=qt(x+A),M=qt(b-d*y),P=qt(k*I),j=qt(R*M),V=qt(k*M),Z=qt(I*R);return new Xg(P,j,Z,V)}mul(e,r=!0){if(e===0n)return r===!0?fo("cannot multiply by 0"):L2;if(typeof e=="bigint"&&0n<e&&e<mw||fo("invalid scalar, must be < L"),!r&&this.is0()||e===1n)return this;if(this.equals(E0))return M4e(e).p;let n=L2,i=E0;for(let s=this;e>0n;s=s.double(),e>>=1n)e&1n?n=n.add(s):r&&(i=i.add(s));return n}multiply(e){return this.mul(e)}clearCofactor(){return this.mul(BigInt(CA.h),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let e=this.mul(mw/2n,!1).double();return mw%2n&&(e=e.add(this)),e.is0()}toAffine(){let{ex:e,ey:r,ez:n}=this;if(this.is0())return{x:0n,y:0n};let i=DQ(n);return qt(n*i)!==1n&&fo("invalid inverse"),{x:qt(e*i),y:qt(r*i)}}toRawBytes(){let{x:e,y:r}=this.toAffine(),n=OQ(r);return n[31]|=e&1n?128:0,n}toHex(){return FB(this.toRawBytes())}};kb.BASE=new kb(hW,pW,1n,qt(hW*pW));kb.ZERO=new kb(0n,1n,1n,0n);var{BASE:E0,ZERO:L2}=kb,BQ=(t,e)=>t.toString(16).padStart(e,"0"),FB=t=>Array.from(t).map(e=>BQ(e,2)).join(""),$B=t=>{let e=t.length;(!NQ(t)||e%2)&&fo("hex invalid 1");let r=Eb(e/2);for(let n=0;n<r.length;n++){let i=n*2,s=t.slice(i,i+2),o=Number.parseInt(s,16);(Number.isNaN(o)||o<0)&&fo("hex invalid 2"),r[n]=o}return r},OQ=t=>$B(BQ(t,32*2)).reverse(),LQ=t=>BigInt("0x"+FB(Eb(a3(t)).reverse())),Jx=(...t)=>{let e=Eb(t.reduce((n,i)=>n+a3(i).length,0)),r=0;return t.forEach(n=>{e.set(n,r),r+=n.length}),e},DQ=(t,e=Ys)=>{(t===0n||e<=0n)&&fo("no inverse n="+t+" mod="+e);let r=qt(t,e),n=e,i=0n,s=1n;for(;r!==0n;){let o=n/r,a=n%r,u=i-s*o;n=r,r=a,i=s,s=u}return n===1n?qt(i,e):fo("no inverse")},yc=(t,e)=>{let r=t;for(;e-- >0n;)r*=r,r%=Ys;return r},_4e=t=>{let e=t*t%Ys*t%Ys,r=yc(e,2n)*e%Ys,n=yc(r,1n)*t%Ys,i=yc(n,5n)*n%Ys,s=yc(i,10n)*i%Ys,o=yc(s,20n)*s%Ys,a=yc(o,40n)*o%Ys,u=yc(a,80n)*a%Ys,f=yc(u,80n)*a%Ys,d=yc(f,10n)*i%Ys;return{pow_p_5_8:yc(d,2n)*t%Ys,b2:e}},yW=19681161376707505956807079304988542015446066515923890162744021073123829784752n,A4e=(t,e)=>{let r=qt(e*e*e),n=qt(r*r*e),i=_4e(t*n).pow_p_5_8,s=qt(t*r*i),o=qt(e*s*s),a=s,u=qt(s*yW),f=o===t,d=o===qt(-t),g=o===qt(-t*yW);return f&&(s=a),(d||g)&&(s=u),(qt(s)&1n)===1n&&(s=qt(-s)),{isValid:f||d,value:s}},ZC=t=>qt(LQ(t),mw),yw,UB=(...t)=>WB.sha512Async(...t),FQ=(...t)=>typeof yw=="function"?yw(...t):fo("etc.sha512Sync not set"),$Q=t=>{let e=t.slice(0,32);e[0]&=248,e[31]&=127,e[31]|=64;let r=t.slice(32,64),n=ZC(e),i=E0.mul(n),s=i.toRawBytes();return{head:e,prefix:r,scalar:n,point:i,pointBytes:s}},zB=t=>UB(u3(t,32)).then($Q),x4e=t=>$Q(FQ(u3(t,32))),E4e=t=>zB(t).then(e=>e.pointBytes);function k4e(t,e){return t?UB(e.hashable).then(e.finish):e.finish(FQ(e.hashable))}var T4e=(t,e,r)=>{let{pointBytes:n,scalar:i}=t,s=ZC(e),o=E0.mul(s).toRawBytes();return{hashable:Jx(o,n,r),finish:a=>{let u=qt(s+ZC(a)*i,mw);return a3(Jx(o,OQ(u)),64)}}},I4e=async(t,e)=>{let r=u3(t),n=await zB(e),i=await UB(n.prefix,r);return k4e(!0,T4e(n,i,r))},bW=()=>typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,WB={bytesToHex:FB,hexToBytes:$B,concatBytes:Jx,mod:qt,invert:DQ,randomBytes:t=>{let e=bW();return e||fo("crypto.getRandomValues must be defined"),e.getRandomValues(Eb(t))},sha512Async:async(...t)=>{let e=bW();e||fo("crypto.subtle or etc.sha512Async must be defined");let r=Jx(...t);return Eb(await e.subtle.digest("SHA-512",r.buffer))},sha512Sync:void 0};Object.defineProperties(WB,{sha512Sync:{configurable:!1,get(){return yw},set(t){yw||(yw=t)}}});var UQ={getExtendedPublicKeyAsync:zB,getExtendedPublicKey:x4e,randomPrivateKey:()=>WB.randomBytes(32),precompute(t=8,e=E0){return e.multiply(3n),e}},gp=8,R4e=()=>{let t=[],e=256/gp+1,r=E0,n=r;for(let i=0;i<e;i++){n=r,t.push(n);for(let s=1;s<2**(gp-1);s++)n=n.add(r),t.push(n);r=n.double()}return t},M4e=t=>{let e=mW||(mW=R4e()),r=(d,g)=>{let y=g.negate();return d?y:g},n=L2,i=E0,s=1+256/gp,o=2**(gp-1),a=BigInt(2**gp-1),u=2**gp,f=BigInt(gp);for(let d=0;d<s;d++){let g=d*o,y=Number(t&a);t>>=f,y>o&&(y-=u,t+=1n);let b=g,A=g+Math.abs(y)-1,x=d%2!==0,k=y<0;y===0?i=i.add(r(x,e[b])):n=n.add(r(k,e[A]))}return{p:n,f:i}},Qx=class zQ{static generateKey(){let e,r;do e=UQ.randomPrivateKey(),r=(0,q4.encode)(e);while(r.length!==44);return new zQ(r)}constructor(e){this.secretKey=e;let r=(0,q4.decode)(e);this.privateKey=DB.Buffer.from(r).toString("hex")}async sign(e){return await I4e(e,this.privateKey)}async getPublicKey(){let e=await E4e(this.privateKey);return`ed25519:${(0,q4.encode)(e)}`}toString(){return this.privateKey}},C4e=class{constructor(e="testnet"){this.networkId=e}get keyPrefix(){return`orderly_${this.networkId}_`}},P4e=class extends C4e{getOrderlyKey(e){let r;if(e)r=this.getItem(e,"orderlyKey");else{let n=this.getAddress();if(!n)return null;r=this.getItem(n,"orderlyKey")}return r?new Qx(r):null}getAccountId(e){return this.getItem(e,"accountId")}setAccountId(e,r){this.setItem(e,{accountId:r})}getAddress(){return localStorage.getItem(`${this.keyPrefix}address`)}setAddress(e){localStorage.setItem(`${this.keyPrefix}address`,e)}removeAddress(){localStorage.removeItem(`${this.keyPrefix}address`)}generateKey(){return Qx.generateKey()}setKey(e,r){this.setItem(e,{orderlyKey:r.secretKey})}cleanAllKey(e){localStorage.removeItem(`${this.keyPrefix}${e}`),localStorage.removeItem(`${this.keyPrefix}address`)}cleanKey(e,r){let n=this.getItem(e);delete n[r],localStorage.setItem(`${this.keyPrefix}${e}`,JSON.stringify(n))}setItem(e,r){let n=`${this.keyPrefix}${e}`,i=localStorage.getItem(n);i?i=JSON.parse(i):i={},localStorage.setItem(n,JSON.stringify({...i,...r}))}getItem(e,r){let n=`${this.keyPrefix}${e}`,i=localStorage.getItem(n);return i?i=JSON.parse(i):i={},typeof r>"u"?i:i[r]}};Wn();var N4e={};m4e(N4e,{base64url:()=>WQ,calculateStringHash:()=>jB,formatByUnits:()=>JC,getGlobalObject:()=>c3,getTimestamp:()=>Mu,isHex:()=>eE,isHexString:()=>B4e,parseAccountId:()=>jQ,parseBrokerHash:()=>Xw,parseTokenHash:()=>XC,parseUnits:()=>mB});Wn();var WQ=function(t){return t.replace(/\+/g,"-").replace(/\//g,"_")};function Xw(t){return jB(t)}function jQ(t,e){let r=Vu.defaultAbiCoder();return oi(r.encode(["address","bytes32"],[t,Xw(e)]))}function XC(t){return jB(t)}function jB(t){return hh(["string"],[t])}function JC(t,e="ether"){return gB(t,e)}function eE(t){return/^[a-f0-9]+$/iu.test(t)}function B4e(t){return typeof t=="string"&&t.startsWith("0x")&&eE(t)}var c3=()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof YC<"u")return YC;throw new Error("cannot find the global object")},Mu=()=>{var t;if(typeof window<"u"){let e=(t=c3())==null?void 0:t.__ORDERLY_timestamp_offset;if(typeof e=="number")return Date.now()+(e||0)}return Date.now()},vW=Zw(CQ()),O4e=class{constructor(e){this.keyStore=e}async sign(e,r=Mu()){let n=r.toString(),i=[n,e.method.toUpperCase(),e.url].join("");e.data&&Object.keys(e.data).length&&(i+=JSON.stringify(e.data));let{signature:s,publicKey:o}=await this.signText(i);return{"orderly-key":o,"orderly-timestamp":n,"orderly-signature":s}}async signText(e){let r=this.keyStore.getOrderlyKey();if(!r)throw new Error("orderlyKeyPair is not defined");let n=vW.Buffer.from(e),i=await r.sign(n),s=vW.Buffer.from(i).toString("base64");return{signature:WQ(s),publicKey:await r.getPublicKey()}}};Wn();Wn();Wn();var L4e="0xfd064A18f3BF249cf1f87FC203E90D8f650f2d63",D4e="0x0EaC556c0C2321BA25b9DC01e4e3c95aD5CDCd2f",F4e="0x1826B75e2ef249173FC735149AE4B8e9ea10abff",$4e="0xaf88d065e77c8cC2239327C5EDb3A432268e5831",U4e="0x816f722424B49Cf1275cc86DA9840Fbd5a6167e9",z4e="0x6F7a338F2aA472838dEFD3283eB360d4Dff5D203",W4e="ErBmAD61mGFKvrFNaTJuxoPwqrS8GgtwtqJTJVjFWx9Q",j4e="9shwxWDUNhtwkHocsUAmrNAQfBH2DHh4njdAEdHZZkF2",K4e="5zBjLor7vEraAt4zp2H82sy9MSqFoDnNa1Lx6EYKTYRZ",H4e="4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",q4e="EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",Pi={statusChanged:"change:status",validateStart:"validate:start",validateEnd:"validate:end",switchAccount:"switch:account"},V4e="0x65B99E978d1eeE9CfEdfD463EC7A81317e5A5073",wW=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"authorizer",type:"address"},{indexed:!0,internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"AuthorizationCanceled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"authorizer",type:"address"},{indexed:!0,internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"AuthorizationUsed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_account",type:"address"}],name:"Blacklisted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newBlacklister",type:"address"}],name:"BlacklisterChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"burner",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Burn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newMasterMinter",type:"address"}],name:"MasterMinterChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"minter",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Mint",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"minter",type:"address"},{indexed:!1,internalType:"uint256",name:"minterAllowedAmount",type:"uint256"}],name:"MinterConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldMinter",type:"address"}],name:"MinterRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"previousOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[],name:"Pause",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newAddress",type:"address"}],name:"PauserChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newRescuer",type:"address"}],name:"RescuerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_account",type:"address"}],name:"UnBlacklisted",type:"event"},{anonymous:!1,inputs:[],name:"Unpause",type:"event"},{inputs:[],name:"CANCEL_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"RECEIVE_WITH_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"TRANSFER_WITH_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"authorizationState",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"blacklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"blacklister",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"cancelAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"},{internalType:"uint256",name:"minterAllowedAmount",type:"uint256"}],name:"configureMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"currency",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"decrement",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"increment",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"tokenName",type:"string"},{internalType:"string",name:"tokenSymbol",type:"string"},{internalType:"string",name:"tokenCurrency",type:"string"},{internalType:"uint8",name:"tokenDecimals",type:"uint8"},{internalType:"address",name:"newMasterMinter",type:"address"},{internalType:"address",name:"newPauser",type:"address"},{internalType:"address",name:"newBlacklister",type:"address"},{internalType:"address",name:"newOwner",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newName",type:"string"}],name:"initializeV2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"lostAndFound",type:"address"}],name:"initializeV2_1",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"isBlacklisted",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"isMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"masterMinter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"}],name:"minterAllowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"pauser",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"receiveWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"}],name:"removeMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"tokenContract",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"rescueERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rescuer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"transferWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"unBlacklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newBlacklister",type:"address"}],name:"updateBlacklister",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newMasterMinter",type:"address"}],name:"updateMasterMinter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newPauser",type:"address"}],name:"updatePauser",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRescuer",type:"address"}],name:"updateRescuer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],G4e=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AccountIdInvalid",type:"error"},{inputs:[],name:"AddressZero",type:"error"},{inputs:[{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint128",name:"amount",type:"uint128"}],name:"BalanceNotEnough",type:"error"},{inputs:[],name:"BrokerNotAllowed",type:"error"},{inputs:[],name:"EnumerableSetError",type:"error"},{inputs:[],name:"OnlyCrossChainManagerCanCall",type:"error"},{inputs:[],name:"TokenNotAllowed",type:"error"},{inputs:[],name:"ZeroDepositFee",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"accountId",type:"bytes32"},{indexed:!0,internalType:"address",name:"userAddress",type:"address"},{indexed:!0,internalType:"uint64",name:"depositNonce",type:"uint64"},{indexed:!1,internalType:"bytes32",name:"tokenHash",type:"bytes32"},{indexed:!1,internalType:"uint128",name:"tokenAmount",type:"uint128"}],name:"AccountDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"accountId",type:"bytes32"},{indexed:!0,internalType:"address",name:"userAddress",type:"address"},{indexed:!0,internalType:"uint64",name:"depositNonce",type:"uint64"},{indexed:!1,internalType:"bytes32",name:"tokenHash",type:"bytes32"},{indexed:!1,internalType:"uint128",name:"tokenAmount",type:"uint128"}],name:"AccountDepositTo",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"accountId",type:"bytes32"},{indexed:!0,internalType:"uint64",name:"withdrawNonce",type:"uint64"},{indexed:!1,internalType:"bytes32",name:"brokerHash",type:"bytes32"},{indexed:!1,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"bytes32",name:"tokenHash",type:"bytes32"},{indexed:!1,internalType:"uint128",name:"tokenAmount",type:"uint128"},{indexed:!1,internalType:"uint128",name:"fee",type:"uint128"}],name:"AccountWithdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldAddress",type:"address"},{indexed:!1,internalType:"address",name:"newAddress",type:"address"}],name:"ChangeCrossChainManager",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"_tokenHash",type:"bytes32"},{indexed:!1,internalType:"address",name:"_tokenAddress",type:"address"}],name:"ChangeTokenAddressAndAllow",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"_brokerHash",type:"bytes32"},{indexed:!1,internalType:"bool",name:"_allowed",type:"bool"}],name:"SetAllowedBroker",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"_tokenHash",type:"bytes32"},{indexed:!1,internalType:"bool",name:"_allowed",type:"bool"}],name:"SetAllowedToken",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"allowedToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_tokenHash",type:"bytes32"},{internalType:"address",name:"_tokenAddress",type:"address"}],name:"changeTokenAddressAndAllow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"crossChainManagerAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"accountId",type:"bytes32"},{internalType:"bytes32",name:"brokerHash",type:"bytes32"},{internalType:"bytes32",name:"tokenHash",type:"bytes32"},{internalType:"uint128",name:"tokenAmount",type:"uint128"}],internalType:"struct VaultTypes.VaultDepositFE",name:"data",type:"tuple"}],name:"deposit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"accountId",type:"bytes32"},{internalType:"bytes32",name:"brokerHash",type:"bytes32"},{internalType:"bytes32",name:"tokenHash",type:"bytes32"},{internalType:"uint128",name:"tokenAmount",type:"uint128"}],internalType:"struct VaultTypes.VaultDepositFE",name:"data",type:"tuple"}],name:"deposit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"depositFeeEnabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"depositId",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{components:[{internalType:"bytes32",name:"accountId",type:"bytes32"},{internalType:"bytes32",name:"brokerHash",type:"bytes32"},{internalType:"bytes32",name:"tokenHash",type:"bytes32"},{internalType:"uint128",name:"tokenAmount",type:"uint128"}],internalType:"struct VaultTypes.VaultDepositFE",name:"data",type:"tuple"}],name:"depositTo",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"emergencyPause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"emergencyUnpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_enabled",type:"bool"}],name:"enableDepositFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAllAllowedBroker",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllAllowedToken",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_brokerHash",type:"bytes32"}],name:"getAllowedBroker",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_tokenHash",type:"bytes32"}],name:"getAllowedToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{components:[{internalType:"bytes32",name:"accountId",type:"bytes32"},{internalType:"bytes32",name:"brokerHash",type:"bytes32"},{internalType:"bytes32",name:"tokenHash",type:"bytes32"},{internalType:"uint128",name:"tokenAmount",type:"uint128"}],internalType:"struct VaultTypes.VaultDepositFE",name:"data",type:"tuple"}],name:"getDepositFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"messageTransmitterContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint32",name:"dstDomain",type:"uint32"},{internalType:"uint64",name:"rebalanceId",type:"uint64"},{internalType:"uint128",name:"amount",type:"uint128"},{internalType:"bytes32",name:"tokenHash",type:"bytes32"},{internalType:"uint256",name:"burnChainId",type:"uint256"},{internalType:"uint256",name:"mintChainId",type:"uint256"},{internalType:"address",name:"dstVaultAddress",type:"address"}],internalType:"struct RebalanceTypes.RebalanceBurnCCData",name:"data",type:"tuple"}],name:"rebalanceBurn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"rebalanceId",type:"uint64"},{internalType:"uint128",name:"amount",type:"uint128"},{internalType:"bytes32",name:"tokenHash",type:"bytes32"},{internalType:"uint256",name:"burnChainId",type:"uint256"},{internalType:"uint256",name:"mintChainId",type:"uint256"},{internalType:"bytes",name:"messageBytes",type:"bytes"},{internalType:"bytes",name:"messageSignature",type:"bytes"}],internalType:"struct RebalanceTypes.RebalanceMintCCData",name:"data",type:"tuple"}],name:"rebalanceMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"_brokerHash",type:"bytes32"},{internalType:"bool",name:"_allowed",type:"bool"}],name:"setAllowedBroker",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"_tokenHash",type:"bytes32"},{internalType:"bool",name:"_allowed",type:"bool"}],name:"setAllowedToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_crossChainManagerAddress",type:"address"}],name:"setCrossChainManager",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_rebalanceMessengerContract",type:"address"}],name:"setRebalanceMessengerContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_tokenMessengerContract",type:"address"}],name:"setTokenMessengerContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tokenMessengerContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"accountId",type:"bytes32"},{internalType:"bytes32",name:"brokerHash",type:"bytes32"},{internalType:"bytes32",name:"tokenHash",type:"bytes32"},{internalType:"uint128",name:"tokenAmount",type:"uint128"},{internalType:"uint128",name:"fee",type:"uint128"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"receiver",type:"address"},{internalType:"uint64",name:"withdrawNonce",type:"uint64"}],internalType:"struct VaultTypes.VaultWithdraw",name:"data",type:"tuple"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],SW=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"},{internalType:"uint8",name:"decimals_",type:"uint8"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"issue",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bool",name:"_paused",type:"bool"}],name:"pauseTransfers",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],Y4e=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AccountIdInvalid",type:"error"},{inputs:[],name:"AddressZero",type:"error"},{inputs:[{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint128",name:"amount",type:"uint128"}],name:"BalanceNotEnough",type:"error"},{inputs:[],name:"BrokerNotAllowed",type:"error"},{inputs:[],name:"EnumerableSetError",type:"error"},{inputs:[],name:"OnlyCrossChainManagerCanCall",type:"error"},{inputs:[],name:"TokenNotAllowed",type:"error"},{inputs:[],name:"ZeroDepositFee",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"accountId",type:"bytes32"},{indexed:!0,internalType:"address",name:"userAddress",type:"address"},{indexed:!0,internalType:"uint64",name:"depositNonce",type:"uint64"},{indexed:!1,internalType:"bytes32",name:"tokenHash",type:"bytes32"},{indexed:!1,internalType:"uint128",name:"tokenAmount",type:"uint128"}],name:"AccountDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"accountId",type:"bytes32"},{indexed:!0,internalType:"address",name:"userAddress",type:"address"},{indexed:!0,internalType:"uint64",name:"depositNonce",type:"uint64"},{indexed:!1,internalType:"bytes32",name:"tokenHash",type:"bytes32"},{indexed:!1,internalType:"uint128",name:"tokenAmount",type:"uint128"}],name:"AccountDepositTo",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"accountId",type:"bytes32"},{indexed:!0,internalType:"uint64",name:"withdrawNonce",type:"uint64"},{indexed:!1,internalType:"bytes32",name:"brokerHash",type:"bytes32"},{indexed:!1,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"bytes32",name:"tokenHash",type:"bytes32"},{indexed:!1,internalType:"uint128",name:"tokenAmount",type:"uint128"},{indexed:!1,internalType:"uint128",name:"fee",type:"uint128"}],name:"AccountWithdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldAddress",type:"address"},{indexed:!1,internalType:"address",name:"newAddress",type:"address"}],name:"ChangeCrossChainManager",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"_tokenHash",type:"bytes32"},{indexed:!1,internalType:"address",name:"_tokenAddress",type:"address"}],name:"ChangeTokenAddressAndAllow",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"_brokerHash",type:"bytes32"},{indexed:!1,internalType:"bool",name:"_allowed",type:"bool"}],name:"SetAllowedBroker",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"_tokenHash",type:"bytes32"},{indexed:!1,internalType:"bool",name:"_allowed",type:"bool"}],name:"SetAllowedToken",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"allowedToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_tokenHash",type:"bytes32"},{internalType:"address",name:"_tokenAddress",type:"address"}],name:"changeTokenAddressAndAllow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"crossChainManagerAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"accountId",type:"bytes32"},{internalType:"bytes32",name:"brokerHash",type:"bytes32"},{internalType:"bytes32",name:"tokenHash",type:"bytes32"},{internalType:"uint128",name:"tokenAmount",type:"uint128"}],internalType:"struct VaultTypes.VaultDepositFE",name:"data",type:"tuple"}],name:"deposit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"depositFeeEnabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"depositId",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{components:[{internalType:"bytes32",name:"accountId",type:"bytes32"},{internalType:"bytes32",name:"brokerHash",type:"bytes32"},{internalType:"bytes32",name:"tokenHash",type:"bytes32"},{internalType:"uint128",name:"tokenAmount",type:"uint128"}],internalType:"struct VaultTypes.VaultDepositFE",name:"data",type:"tuple"}],name:"depositTo",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"emergencyPause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"emergencyUnpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_enabled",type:"bool"}],name:"enableDepositFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAllAllowedBroker",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllAllowedToken",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_brokerHash",type:"bytes32"}],name:"getAllowedBroker",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_tokenHash",type:"bytes32"}],name:"getAllowedToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{components:[{internalType:"bytes32",name:"accountId",type:"bytes32"},{internalType:"bytes32",name:"brokerHash",type:"bytes32"},{internalType:"bytes32",name:"tokenHash",type:"bytes32"},{internalType:"uint128",name:"tokenAmount",type:"uint128"}],internalType:"struct VaultTypes.VaultDepositFE",name:"data",type:"tuple"}],name:"getDepositFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"messageTransmitterContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint32",name:"dstDomain",type:"uint32"},{internalType:"uint64",name:"rebalanceId",type:"uint64"},{internalType:"uint128",name:"amount",type:"uint128"},{internalType:"bytes32",name:"tokenHash",type:"bytes32"},{internalType:"uint256",name:"burnChainId",type:"uint256"},{internalType:"uint256",name:"mintChainId",type:"uint256"},{internalType:"address",name:"dstVaultAddress",type:"address"}],internalType:"struct RebalanceTypes.RebalanceBurnCCData",name:"data",type:"tuple"}],name:"rebalanceBurn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"rebalanceId",type:"uint64"},{internalType:"uint128",name:"amount",type:"uint128"},{internalType:"bytes32",name:"tokenHash",type:"bytes32"},{internalType:"uint256",name:"burnChainId",type:"uint256"},{internalType:"uint256",name:"mintChainId",type:"uint256"},{internalType:"bytes",name:"messageBytes",type:"bytes"},{internalType:"bytes",name:"messageSignature",type:"bytes"}],internalType:"struct RebalanceTypes.RebalanceMintCCData",name:"data",type:"tuple"}],name:"rebalanceMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"_brokerHash",type:"bytes32"},{internalType:"bool",name:"_allowed",type:"bool"}],name:"setAllowedBroker",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"_tokenHash",type:"bytes32"},{internalType:"bool",name:"_allowed",type:"bool"}],name:"setAllowedToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_crossChainManagerAddress",type:"address"}],name:"setCrossChainManager",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_rebalanceMessengerContract",type:"address"}],name:"setRebalanceMessengerContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_tokenMessengerContract",type:"address"}],name:"setTokenMessengerContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tokenMessengerContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"accountId",type:"bytes32"},{internalType:"bytes32",name:"brokerHash",type:"bytes32"},{internalType:"bytes32",name:"tokenHash",type:"bytes32"},{internalType:"uint128",name:"tokenAmount",type:"uint128"},{internalType:"uint128",name:"fee",type:"uint128"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"receiver",type:"address"},{internalType:"uint64",name:"withdrawNonce",type:"uint64"}],internalType:"struct VaultTypes.VaultWithdraw",name:"data",type:"tuple"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],Z4e=class{constructor(e){this.configStore=e}getContractInfoByEnv(){let e=this.configStore.get("networkId"),r=this.configStore.get("env"),n=F4e;if(e==="mainnet")return{usdcAddress:$4e,usdcAbi:wW,vaultAddress:U4e,vaultAbi:G4e,verifyContractAddress:z4e,erc20Abi:wW,solanaUSDCAddress:q4e,solanaVaultAddress:W4e};let i=j4e,s=V4e;return r==="qa"&&(i=K4e,n="0x50F59504D3623Ad99302835da367676d1f7E3D44",s="0xFeA61647309cA4624EfF3c86EEEeb76a6F3eaFf7"),{usdcAddress:L4e,usdcAbi:SW,vaultAddress:D4e,solanaVaultAddress:i,solanaUSDCAddress:H4e,vaultAbi:Y4e,verifyContractAddress:n,erc20Abi:SW,storyTestnetVaultAddress:s}}};Wn();Wn();var X4e=class{constructor(t=[],e={}){this.providers=t,this.services=e,this.injectProperties={}}register(...t){this.providers.push(...t),t.forEach(e=>{let r=e;r instanceof Function&&(r=new e),this.add(r)})}registerByName(t,e){let r=e;r instanceof Function&&(r=new e),this.addByName(t,r)}get(t){return this.services[t]}getAll(){return Object.assign({},this.services)}add(t){return this.addByName(t.constructor.name,t)}addByName(t,e){return this.services[t]=e,this.services[t.toLowerCase()]=e,this.injectIntoProperties(e,t),this.get(t)}inject(t,e,r){t&&r&&(t[e]=r)}injectIntoProperties(t,e=t.constructor.name){this.getInjectProperty(e.toLowerCase()).forEach(r=>{this.inject(r.target,r.propertyKey,t)})}getInjectProperty(t){return this.injectProperties[t]||(this.injectProperties[t]=[]),this.injectProperties[t]}},J4e=X4e,D2=class wu{static getContainer(){return wu.container||(c3()[wu.KEY]=wu.container=new J4e),wu.container}static register(...e){wu.getContainer().register(...e)}static registerByName(e,r){wu.getContainer().registerByName(e,r)}static get(e){return wu.getContainer().get(e)}static getOr(e,r){return wu.getContainer().get(e)||wu.registerByName(e,r),r}static getAll(){return wu.getContainer().getAll()}constructor(){}};D2.KEY="__ORDERLY_CONTAINER__",D2.container=c3()[D2.KEY]||null;var Q4e=D2,ba=Q4e;Wn();Wn();var eRe=class{constructor(e,r,n){this.configStore=e,this.contractManger=r,this.account=n}async withdraw(e){if(!this.account.walletAdapter)throw new Error("walletAdapter is undefined");if(!this.account.stateValue.address)throw new Error("account address is required");let{chainId:r,token:n,allowCrossChainWithdraw:i}=e,{amount:s}=e;typeof s=="number"&&(s=s.toString());let o="/v1/withdraw_request",a=await this.getWithdrawalNonce(),u=Mu(),{message:f,signatured:d,domain:g}=await this.account.walletAdapter.generateWithdrawMessage({receiver:this.account.stateValue.address,token:n,brokerId:this.configStore.get("brokerId"),amount:this.account.walletAdapter.parseUnits(s),nonce:a,timestamp:u,verifyContract:this.contractManger.getContractInfoByEnv().verifyContractAddress}),y={signature:d,message:f,userAddress:this.account.stateValue.address,verifyingContract:g.verifyingContract},b={method:"POST",url:o,data:y};i&&(y.message={...y.message,allowCrossChainWithdraw:i});let A=await this.account.signer.sign(b,Mu()),x=await this._simpleFetch(o,{method:"POST",body:JSON.stringify(y),headers:{"Content-Type":"application/json","orderly-account-id":this.account.stateValue.accountId,...A}});if(!x.success)throw new _Ee(x.message,x.code);return x}async getWithdrawalNonce(){var u;let e=Mu().toString(),r="/v1/withdraw_nonce",n=[e,"GET",r].join(""),i=this.account.signer,{publicKey:s,signature:o}=await i.signText(n),a=await this._simpleFetch(r,{headers:{"orderly-account-id":this.account.stateValue.accountId,"orderly-key":s,"orderly-timestamp":e,"orderly-signature":o}});if(a.success)return(u=a.data)==null?void 0:u.withdraw_nonce;throw new Error(a.message)}async getNativeBalance(e){if(!this.account.walletAdapter)return"0";let r=await this.account.walletAdapter.getBalance();return JC(r,e==null?void 0:e.decimals)}async getBalance(e,r){var s,o;if(!this.account.walletAdapter)return"0";let n=this.contractManger.getContractInfoByEnv(),i=await((s=this.account.walletAdapter)==null?void 0:s.call(e??n.usdcAddress,"balanceOf",[this.account.stateValue.address],{abi:n.usdcAbi}));return(o=this.account.walletAdapter)==null?void 0:o.formatUnits(i,r==null?void 0:r.decimals)}async getBalanceByAddress(e,r){var s;if(!this.account.walletAdapter)return"0";let n=this.contractManger.getContractInfoByEnv(),i=await((s=this.account.walletAdapter)==null?void 0:s.call(e,"balanceOf",[this.account.stateValue.address],{abi:n.erc20Abi}));return JC(i,r==null?void 0:r.decimals)}async getAllowance(e,r){var f,d;let{address:n,vaultAddress:i,decimals:s}=typeof e=="object"?e:{address:e,vaultAddress:r,decimals:void 0};if(!this.account.walletAdapter)return"0";let o=this.contractManger.getContractInfoByEnv(),a=i||o.vaultAddress;this.account.walletAdapter.chainId===Lv&&(a=o.storyTestnetVaultAddress??"");let u=await((f=this.account.walletAdapter)==null?void 0:f.call(n??o.usdcAddress,"allowance",[this.account.stateValue.address,a],{abi:o.usdcAbi}));return(d=this.account.walletAdapter)==null?void 0:d.formatUnits(u,s)}async approve(e,r,n){var g;let{address:i,amount:s,vaultAddress:o,decimals:a}=typeof e=="object"?e:{address:e,amount:r,vaultAddress:n,decimals:void 0};if(!i)throw new Error("address is required");if(!this.account.walletAdapter)throw new Error("walletAdapter is undefined");let u=this.contractManger.getContractInfoByEnv(),f=typeof s<"u"&&s!==""?this.account.walletAdapter.parseUnits(s,a):Fx.toString(),d=o||u.vaultAddress;return this.account.walletAdapter.chainId===Lv&&(d=u.storyTestnetVaultAddress??""),await((g=this.account.walletAdapter)==null?void 0:g.call(i,"approve",[d,f],{abi:u.usdcAbi}))}async approveByAddress(e){var a;let{address:r,amount:n,decimals:i}=e;if(!this.account.walletAdapter)throw new Error("walletAdapter is undefined");let s=typeof n<"u"&&n!==""?this.account.walletAdapter.parseUnits(n,i):Fx.toString(),o=this.contractManger.getContractInfoByEnv();return await((a=this.account.walletAdapter)==null?void 0:a.call(r,"approve",[o.vaultAddress,s],{abi:o.erc20Abi}))}async getDepositFee(e,r){var a;if(!this.account.walletAdapter)throw new Error("walletAdapter is undefined");let n=this.configStore.get("brokerId");if(!n)throw new Error("[Assets]:brokerId is required");let i={accountId:this.account.accountIdHashStr,brokerHash:Xw(n),tokenHash:XC("USDC"),tokenAmount:(a=this.account.walletAdapter)==null?void 0:a.parseUnits(e)},s=this.contractManger.getContractInfoByEnv(),o=s.vaultAddress;return this.account.walletAdapter.chainNamespace===Hf.solana&&(o=s.solanaVaultAddress,i.USDCAddress=s.solanaUSDCAddress),r.chain_id===Lv&&(o=s.storyTestnetVaultAddress??""),await this.account.walletAdapter.callOnChain(r,o,"getDepositFee",[this.account.stateValue.address,i],{abi:s.vaultAbi})}async deposit(e,r=0n){var a,u;if(!this.account.walletAdapter)throw new Error("walletAdapter is undefined");let n=this.configStore.get("brokerId");if(!n)throw new Error("[Assets]:brokerId is required");let i=this.contractManger.getContractInfoByEnv(),s={accountId:this.account.accountIdHashStr,brokerHash:Xw(n),tokenHash:XC("USDC"),tokenAmount:(a=this.account.walletAdapter)==null?void 0:a.parseUnits(e)},o=i.vaultAddress;return this.account.walletAdapter.chainNamespace===Hf.solana&&(o=i.solanaVaultAddress,s.USDCAddress=i.solanaUSDCAddress),this.account.walletAdapter.chainId===Lv&&(o=i.storyTestnetVaultAddress??""),await((u=this.account.walletAdapter)==null?void 0:u.sendTransaction(o,"deposit",{from:this.account.stateValue.address,to:o,data:[s],value:r},{abi:i.vaultAbi}))}async _simpleFetch(e,r={}){let n=`${this.configStore.get("apiBaseUrl")}${e}`;return fetch(n,r).then(i=>i.json())}get usdcAddress(){return this.contractManger.getContractInfoByEnv().usdcAddress}};Wn();var tRe=class{constructor(e){if(this.walletAdapters=e,!this.walletAdapters.length)throw new Error("No wallet adapters provided")}get adapter(){return this._adapter}get isEmpty(){return this.walletAdapters.length===0}get isAdapterExist(){return!!this._adapter}switchWallet(e,r,n,i){console.log("-- this.walletAdapters",this.walletAdapters,e);let s=this.walletAdapters.find(a=>a.chainNamespace===e.toUpperCase());if(!s)throw new Error("Unsupported chain namespace");let o={address:r,chain:{id:n},provider:i.provider,contractManager:i.contractManager};if(console.log("------+++++---",o),this._adapter)if(this._adapter===s){this._adapter.update(o);return}else this._adapter.deactivate();this._adapter=s,this._adapter.active(o)}get chainId(){var e;return(e=this.adapter)==null?void 0:e.chainId}},ly=class{constructor(e,r,n,i){this.configStore=e,this.keyStore=r,this._ee=new Dk,this._state={status:Qr.NotConnected,validating:!1,isNew:!1},i!=null&&i.contracts?this.contractManger=i.contracts:this.contractManger=new Z4e(e),this.assetsManager=new eRe(e,this.contractManger,this),this.walletAdapterManager=new tRe(n),this._bindEvents()}logout(){}async setAddress(e,r){var s,o;if(!e)throw new Ar("Address is required");if(!r)throw new Ar("Wallet is required");if(!((s=r==null?void 0:r.chain)!=null&&s.id))throw new Ar("Chain id is required");if(this.stateValue.address===e)return console.warn("address parameter is the same as the current address, if you want to change chain, please use `switchChain` method."),this.stateValue.status;this.stateValue.status>Qr.NotConnected&&this._ee.emit(Pi.switchAccount,e),r.chain.id=this.parseChainId((o=r==null?void 0:r.chain)==null?void 0:o.id),this.keyStore.setAddress(e);let n={...this.stateValue,status:Qr.Connected,address:e,chainNamespace:r.chain.namespace,accountId:void 0,connectWallet:{name:r.wallet.name||"unknown",chainId:r.chain.id},validating:!0};this._ee.emit(Pi.statusChanged,n),this.walletAdapterManager.switchWallet(r.chain.namespace,e,r.chain.id,{provider:r.provider,contractManager:this.contractManger}),this.configStore.set("chainNamespace",r.chain.namespace),this._ee.emit(Pi.validateStart);let i=await this._checkAccount(e);return this._ee.emit(Pi.validateEnd,i),i}get stateValue(){return this._state}get accountId(){return this.stateValue.accountId}get accountIdHashStr(){var r;if(!this.address)throw new Error("address is error");let e=this.configStore.get("brokerId");if(((r=this.walletAdapter)==null?void 0:r.chainNamespace)===Hf.solana){let n=new dt(this.address),i=DB.Buffer.from(n.toBytes()),s=Vu.defaultAbiCoder();return oi(s.encode(["bytes32","bytes32"],[i,Xw(e)]))}return jQ(this.address,e)}get address(){return this.stateValue.address}get chainId(){if(this.walletAdapterManager.isAdapterExist)return this.walletAdapterManager.chainId}_bindEvents(){this._ee.addListener(Pi.statusChanged,e=>{this._state=e})}async _checkAccount(e){let r;try{let n=await this._checkAccountExist(e);if(n&&n.account_id)this.keyStore.setAccountId(e,n.account_id),r={...this.stateValue,status:Qr.SignedIn,accountId:n.account_id,userId:n.user_id},this._ee.emit(Pi.statusChanged,r);else return r={...this.stateValue,validating:!1,status:Qr.NotSignedIn},this._ee.emit(Pi.statusChanged,r),Qr.NotSignedIn;let i=this.keyStore.getOrderlyKey();if(!i)return this._ee.emit(Pi.statusChanged,{...this.stateValue,isNew:!1,validating:!1,status:Qr.DisabledTrading}),Qr.DisabledTrading;let s=await i.getPublicKey(),o=await this._checkOrderlyKeyState(n.account_id,s);if(o&&o.orderly_key&&o.key_status==="ACTIVE"){let a=Mu(),u=o.expiration;return a>u?(this._ee.emit(Pi.statusChanged,{...this.stateValue,validating:!1}),this.keyStore.cleanKey(e,"orderlyKey"),Qr.DisabledTrading):(this._ee.emit(Pi.statusChanged,{...this.stateValue,validating:!1,status:Qr.EnableTrading}),Qr.EnableTrading)}return this._ee.emit(Pi.statusChanged,{...this.stateValue,validating:!1}),this.keyStore.cleanKey(e,"orderlyKey"),Qr.NotConnected}catch{this._ee.emit(Pi.statusChanged,{...this.stateValue,validating:!1})}return Qr.NotSignedIn}async _checkAccountExist(e){let r=await this._getAccountInfo(e);return r.success?r.data:null}async createAccount(){let{nonce:e,timestamp:r}=await this._getRegisterationNonce(),n=this.stateValue.address;if(!n)throw new Error("address is undefined");let{message:i,signatured:s}=await this.walletAdapterManager.adapter.generateRegisterAccountMessage({registrationNonce:e,brokerId:this.configStore.get("brokerId"),timestamp:r}),o=await this._simpleFetch("/v1/register_account",{method:"POST",body:JSON.stringify({signature:s,message:i,userAddress:n}),headers:{"Content-Type":"application/json"}});if(o.success){this.keyStore.setAccountId(n,o.data.account_id);let a={...this.stateValue,status:Qr.DisabledTrading,accountId:o.data.account_id,userId:o.data.user_id,isNew:!0};return this._ee.emit(Pi.statusChanged,a),o}else throw new Error(o.message)}async createApiKey(e,r){var n;try{let{res:i,keyPair:s}=await this.generateApiKey(e,r);if(i.success)return{key:(await s.getPublicKey()).replace("ed25519:",""),secretKey:(n=s.secretKey)==null?void 0:n.replace("ed25519:","")}}catch(i){throw console.log("createApiKey error",i),`${i}`.includes("user rejected action")?new Error("User rejected the request."):i}throw new Error("create api key failed")}async createOrderlyKey(e,r){let{res:n,address:i,keyPair:s}=await this.generateApiKey(e,r);if(n.success){this.keyStore.setKey(i,s);let o={...this.stateValue,status:Qr.EnableTrading};return this._ee.emit(Pi.statusChanged,o),n}else throw new Error(n.message)}async generateApiKey(e,r){if(this.stateValue.accountId===void 0)throw new Error("account id is undefined");if(!this.walletAdapter)throw new Error("walletAdapter is undefined");if(!this.walletAdapterManager.isAdapterExist)throw new Error("wallet adapter is not exist");if(typeof e!="number")throw new Error("the 'expiration' must be valid number");let n=this.walletAdapter.generateSecretKey(),i=new Qx(n),s=await i.getPublicKey(),o=this.stateValue.address;if(!o)throw new Error("address is undefined");let{message:a,signatured:u}=await this.walletAdapter.generateAddOrderlyKeyMessage({brokerId:this.configStore.get("brokerId"),publicKey:s,expiration:e,timestamp:Mu(),scope:r==null?void 0:r.scope,tag:r==null?void 0:r.tag});return console.log("generateAPiKey",s,o),{res:await this._simpleFetch("/v1/orderly_key",{method:"POST",body:JSON.stringify({signature:u,message:a,userAddress:o}),headers:{"X-Account-Id":this.stateValue.accountId,"Content-Type":"application/json"}}),address:o,keyPair:i}}async importOrderlyKey(e,r){var s;if(!e||!r)return;let n=(s=await this._checkAccountExist(e))==null?void 0:s.account_id;if(!n)return;let i=new Qx(r);return this.checkOrderlyKey(e,i,n)}async checkOrderlyKey(e,r,n){if(!e||!r||!n)return;let i=await r.getPublicKey(),s=await this._checkOrderlyKeyState(n,i),{orderly_key:o,key_status:a,expiration:u}=s||{},f=Mu();if(o&&a==="ACTIVE"&&u>f){this.keyStore.setAddress(e),this.keyStore.setKey(e,r),this.keyStore.setAccountId(e,n);let d={...this.stateValue,address:e,accountId:n,status:Qr.EnableTradingWithoutConnected};return this._ee.emit(Pi.statusChanged,d),!0}}async settle(){if(!this.walletAdapter)return Promise.reject("walletAdapter is undefined");let e=await this._getSettleNonce(),r=this.stateValue.address,n="/v1/settle_pnl",i=Mu(),{message:s,signatured:o,domain:a}=await this.walletAdapter.generateSettleMessage({settlePnlNonce:e,timestamp:i,brokerId:this.configStore.get("brokerId"),verifyContract:this.contractManger.getContractInfoByEnv().verifyContractAddress}),u={signature:o,message:s,userAddress:r,verifyingContract:a.verifyingContract},f={method:"POST",url:n,data:u},d=await this.signer.sign(f,Mu()),g=await this._simpleFetch(n,{method:"POST",body:JSON.stringify(u),headers:{"Content-Type":"application/json","orderly-account-id":this.stateValue.accountId,...d}});return g.success?Promise.resolve(g):Promise.reject(g)}async destroyOrderlyKey(){this.stateValue.address&&this.keyStore.cleanKey(this.stateValue.address,"orderlyKey");let e={...this.stateValue,status:Qr.DisabledTrading};this._ee.emit(Pi.statusChanged,e)}async disconnect(){this.stateValue.address&&this.keyStore.removeAddress();let e={...this.stateValue,status:Qr.NotConnected,accountId:void 0,userId:void 0,address:void 0};this._ee.emit(Pi.statusChanged,e)}switchChainId(e){e=this.parseChainId(e);let r={...this.stateValue,connectWallet:{...this.stateValue.connectWallet,chainId:e}};this.walletAdapter&&(this.walletAdapter.chainId=e),this._ee.emit(Pi.statusChanged,r)}parseChainId(e){return typeof e=="string"&&(eE(e)||e.startsWith("0x")&&eE(e.slice(2)))&&(e=parseInt(e,16)),e}async _checkOrderlyKeyState(e,r){let n=await this._simpleFetch(`/v1/get_orderly_key?account_id=${e}&orderly_key=${r}`);return n.success?n.data:null}get signer(){return this._singer||(this._singer=new O4e(this.keyStore)),this._singer}get walletAdapter(){return this.walletAdapterManager.adapter}async _getRegisterationNonce(){var r;let e=await this._simpleFetch("/v1/registration_nonce",{headers:{"orderly-account-id":this.stateValue.accountId}});if(e.success)return{nonce:(r=e.data)==null?void 0:r.registration_nonce,timestamp:e.timestamp};throw new Error(e.message)}async _getTimestampFromServer(){let e=await this._getAccountInfo();if(e.success)return e.timestamp;throw new Ar("get timestamp error")}async _getAccountInfo(e){let r=this.configStore.get("brokerId");return await this._simpleFetch(`/v1/get_account?address=${e||this.address}&broker_id=${r}&chain_type=${this.stateValue.chainNamespace}`)}async _getSettleNonce(){var a;let e=Mu().toString(),r=[e,"GET","/v1/settle_nonce"].join(""),n=this.signer,{publicKey:i,signature:s}=await n.signText(r),o=await this._simpleFetch("/v1/settle_nonce",{headers:{"orderly-account-id":this.stateValue.accountId,"orderly-key":i,"orderly-timestamp":e,"orderly-signature":s}});if(o.success)return(a=o.data)==null?void 0:a.settle_nonce;throw new Error(o.message)}async _simpleFetch(e,r={}){let n=`${this.configStore.get("apiBaseUrl")}${e}`;return fetch(n,r).then(i=>i.json())}get on(){return this._ee.on.bind(this._ee)}get once(){return this._ee.once.bind(this._ee)}get off(){return this._ee.off.bind(this._ee)}};ly.instanceName="account";Wn();Wn();var rRe={mainnet:{apiBaseUrl:"https://api-evm.orderly.org",publicWsUrl:"wss://ws-evm.orderly.org",privateWsUrl:"wss://ws-private-evm.orderly.org",operatorUrl:{EVM:"https://operator-evm.orderly.org",SOL:"https://operator-solana.orderly.org"}},testnet:{apiBaseUrl:"https://testnet-api-evm.orderly.org",publicWsUrl:"wss://testnet-ws-evm.orderly.org",privateWsUrl:"wss://testnet-ws-private-evm.orderly.org",operatorUrl:{EVM:"https://testnet-operator-evm.orderly.org",SOL:"https://testnet-operator-sol.orderly.org"}}},nRe=class{constructor(e){let r=e.env||"prod",n=e.networkId||"mainnet",i=rRe[n],s=(e==null?void 0:e.brokerId)||"orderly",o=(e==null?void 0:e.brokerName)||"Orderly",a=(e==null?void 0:e.chainNamespace)||Hf.evm;this.map=new Map([["env",r],["brokerId",s],["brokerName",o],["networkId",n],["chainNamespace",a],["apiBaseUrl",i.apiBaseUrl],["publicWsUrl",i.publicWsUrl],["privateWsUrl",i.privateWsUrl],["operatorUrl",i.operatorUrl]])}get(e){let r=this.map.get(e);return typeof r!="object"||r===null?r:r[this.get("chainNamespace")]}getOr(e,r){return this.map.get(e)??r}set(e,r){this.map.set(e,r)}clear(){throw new Error("Method not implemented.")}};Wn();var iRe=Zw(PQ()),KQ=class{get address(){throw new Ar("Method not implemented.")}get chainId(){throw new Ar("Method not implemented.")}active(e){throw new Ar("Method not implemented.")}update(e){throw new Ar("Method not implemented.")}generateSecretKey(){let e,r;do e=UQ.randomPrivateKey(),r=(0,iRe.encode)(e);while(r.length!==44);return r}parseUnits(e,r=6){return mB(e,r).toString()}formatUnits(e,r=6){return gB(e,r)}on(e,r){throw new Ar("Method not implemented.")}off(e,r){throw new Ar("Method not implemented.")}};Wn();Wn();Wn();/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

@noble/ed25519/index.js:
  (*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)
*/const HQ=t=>qf(t?t(0,null):null)[0],sRe=t=>lB+HQ(t),V4=Promise.resolve(),oRe=t=>(e,r,n)=>{const i=N.useRef(!1),{cache:s,initialSize:o=1,revalidateAll:a=!1,persistSize:u=!1,revalidateFirstPage:f=!0,revalidateOnMount:d=!1,parallel:g=!1}=n,[,,,y]=Lc.get(cB);let b;try{b=HQ(e),b&&(b=lB+b)}catch{}const[A,x,k]=of(s,b),I=N.useCallback(()=>Er(A()._l)?o:A()._l,[s,b,o]);aB.useSyncExternalStore(N.useCallback(G=>b?k(b,()=>{G()}):()=>{},[s,b]),I,I);const R=N.useCallback(()=>{const G=A()._l;return Er(G)?o:G},[b,o]),M=N.useRef(R());u0(()=>{if(!i.current){i.current=!0;return}b&&x({_l:u?M.current:R()})},[b,s]);const P=d&&!i.current,j=t(b,async G=>{const q=A()._i,ae=[],T=R(),[c]=of(s,G),h=c().data,p=[];let m=null;for(let v=0;v<T;++v){const[_,E]=qf(e(v,g?null:m));if(!_)break;const[w,l]=of(s,_);let S=w().data;const C=a||q||Er(S)||f&&!v&&!Er(h)||P||h&&!Er(h[v])&&!n.compare(h[v],S);if(r&&C){const D=async()=>{if(!(_ in y))S=await r(E);else{const O=y[_];delete y[_],S=await O}l({data:S,_k:E}),ae[v]=S};g?p.push(D):await D()}else ae[v]=S;g||(m=S)}return g&&await Promise.all(p.map(v=>v())),x({_i:Oi}),ae},n),V=N.useCallback(function(G,q){const ae=typeof q=="boolean"?{revalidate:q}:q||{},T=ae.revalidate!==!1;return b?(T&&(Er(G)?x({_i:!0}):x({_i:!1})),arguments.length?j.mutate(G,{...ae,revalidate:T}):j.mutate()):V4},[b,s]),Z=N.useCallback(G=>{if(!b)return V4;const[,q]=of(s,b);let ae;if(qc(G)?ae=G(R()):typeof G=="number"&&(ae=G),typeof ae!="number")return V4;q({_l:ae}),M.current=ae;const T=[],[c]=of(s,b);let h=null;for(let p=0;p<ae;++p){const[m]=qf(e(p,h)),[v]=of(s,m),_=m?v().data:Oi;if(Er(_))return V(c().data);T.push(_),h=_}return V(T)},[b,s,V,R]);return{size:R(),setSize:Z,mutate:V,get data(){return j.data},get error(){return j.error},get isValidating(){return j.isValidating},get isLoading(){return j.isLoading}}},aRe=fB(g1,oRe);function Vn(t){return t!=null&&typeof t=="object"&&t["@@functional/placeholder"]===!0}function gs(t){return function e(r){return arguments.length===0||Vn(r)?e:t.apply(this,arguments)}}function mi(t){return function e(r,n){switch(arguments.length){case 0:return e;case 1:return Vn(r)?e:gs(function(i){return t(r,i)});default:return Vn(r)&&Vn(n)?e:Vn(r)?gs(function(i){return t(i,n)}):Vn(n)?gs(function(i){return t(r,i)}):t(r,n)}}}function uRe(t,e){t=t||[],e=e||[];var r,n=t.length,i=e.length,s=[];for(r=0;r<n;)s[s.length]=t[r],r+=1;for(r=0;r<i;)s[s.length]=e[r],r+=1;return s}function l3(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(r){return e.apply(this,arguments)};case 2:return function(r,n){return e.apply(this,arguments)};case 3:return function(r,n,i){return e.apply(this,arguments)};case 4:return function(r,n,i,s){return e.apply(this,arguments)};case 5:return function(r,n,i,s,o){return e.apply(this,arguments)};case 6:return function(r,n,i,s,o,a){return e.apply(this,arguments)};case 7:return function(r,n,i,s,o,a,u){return e.apply(this,arguments)};case 8:return function(r,n,i,s,o,a,u,f){return e.apply(this,arguments)};case 9:return function(r,n,i,s,o,a,u,f,d){return e.apply(this,arguments)};case 10:return function(r,n,i,s,o,a,u,f,d,g){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function qQ(t,e,r){return function(){for(var n=[],i=0,s=t,o=0,a=!1;o<e.length||i<arguments.length;){var u;o<e.length&&(!Vn(e[o])||i>=arguments.length)?u=e[o]:(u=arguments[i],i+=1),n[o]=u,Vn(u)?a=!0:s-=1,o+=1}return!a&&s<=0?r.apply(this,n):l3(Math.max(0,s),qQ(t,n,r))}}var cRe=mi(function(e,r){return e===1?gs(r):l3(e,qQ(e,[],r))});function ad(t){return function e(r,n,i){switch(arguments.length){case 0:return e;case 1:return Vn(r)?e:mi(function(s,o){return t(r,s,o)});case 2:return Vn(r)&&Vn(n)?e:Vn(r)?mi(function(s,o){return t(s,n,o)}):Vn(n)?mi(function(s,o){return t(r,s,o)}):gs(function(s){return t(r,n,s)});default:return Vn(r)&&Vn(n)&&Vn(i)?e:Vn(r)&&Vn(n)?mi(function(s,o){return t(s,o,i)}):Vn(r)&&Vn(i)?mi(function(s,o){return t(s,n,o)}):Vn(n)&&Vn(i)?mi(function(s,o){return t(r,s,o)}):Vn(r)?gs(function(s){return t(s,n,i)}):Vn(n)?gs(function(s){return t(r,s,i)}):Vn(i)?gs(function(s){return t(r,n,s)}):t(r,n,i)}}}var lRe=ad(function(e,r,n){var i=n.length;if(e>=i||e<-i)return n;var s=(i+e)%i,o=uRe(n);return o[s]=r(n[s]),o});const KB=Array.isArray||function(e){return e!=null&&e.length>=0&&Object.prototype.toString.call(e)==="[object Array]"};function fRe(t){return t!=null&&typeof t["@@transducer/step"]=="function"}function VQ(t,e,r){return function(){if(arguments.length===0)return r();var n=arguments[arguments.length-1];if(!KB(n)){for(var i=0;i<t.length;){if(typeof n[t[i]]=="function")return n[t[i]].apply(n,Array.prototype.slice.call(arguments,0,-1));i+=1}if(fRe(n)){var s=e.apply(null,Array.prototype.slice.call(arguments,0,-1));return s(n)}}return r.apply(this,arguments)}}const tE={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}};function _W(t){for(var e=[],r;!(r=t.next()).done;)e.push(r.value);return e}function AW(t,e,r){for(var n=0,i=r.length;n<i;){if(t(e,r[n]))return!0;n+=1}return!1}function dRe(t){var e=String(t).match(/^function (\w*)/);return e==null?"":e[1]}function ah(t,e){return Object.prototype.hasOwnProperty.call(e,t)}function hRe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}const G4=typeof Object.is=="function"?Object.is:hRe;var xW=Object.prototype.toString,pRe=function(){return xW.call(arguments)==="[object Arguments]"?function(e){return xW.call(e)==="[object Arguments]"}:function(e){return ah("callee",e)}}(),gRe=!{toString:null}.propertyIsEnumerable("toString"),EW=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],kW=function(){return arguments.propertyIsEnumerable("length")}(),mRe=function(e,r){for(var n=0;n<e.length;){if(e[n]===r)return!0;n+=1}return!1},Tb=gs(typeof Object.keys=="function"&&!kW?function(e){return Object(e)!==e?[]:Object.keys(e)}:function(e){if(Object(e)!==e)return[];var r,n,i=[],s=kW&&pRe(e);for(r in e)ah(r,e)&&(!s||r!=="length")&&(i[i.length]=r);if(gRe)for(n=EW.length-1;n>=0;)r=EW[n],ah(r,e)&&!mRe(i,r)&&(i[i.length]=r),n-=1;return i}),TW=gs(function(e){return e===null?"Null":e===void 0?"Undefined":Object.prototype.toString.call(e).slice(8,-1)});function IW(t,e,r,n){var i=_W(t),s=_W(e);function o(a,u){return HB(a,u,r.slice(),n.slice())}return!AW(function(a,u){return!AW(o,u,a)},s,i)}function HB(t,e,r,n){if(G4(t,e))return!0;var i=TW(t);if(i!==TW(e))return!1;if(typeof t["fantasy-land/equals"]=="function"||typeof e["fantasy-land/equals"]=="function")return typeof t["fantasy-land/equals"]=="function"&&t["fantasy-land/equals"](e)&&typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](t);if(typeof t.equals=="function"||typeof e.equals=="function")return typeof t.equals=="function"&&t.equals(e)&&typeof e.equals=="function"&&e.equals(t);switch(i){case"Arguments":case"Array":case"Object":if(typeof t.constructor=="function"&&dRe(t.constructor)==="Promise")return t===e;break;case"Boolean":case"Number":case"String":if(!(typeof t==typeof e&&G4(t.valueOf(),e.valueOf())))return!1;break;case"Date":if(!G4(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(!(t.source===e.source&&t.global===e.global&&t.ignoreCase===e.ignoreCase&&t.multiline===e.multiline&&t.sticky===e.sticky&&t.unicode===e.unicode))return!1;break}for(var s=r.length-1;s>=0;){if(r[s]===t)return n[s]===e;s-=1}switch(i){case"Map":return t.size!==e.size?!1:IW(t.entries(),e.entries(),r.concat([t]),n.concat([e]));case"Set":return t.size!==e.size?!1:IW(t.values(),e.values(),r.concat([t]),n.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var o=Tb(t);if(o.length!==Tb(e).length)return!1;var a=r.concat([t]),u=n.concat([e]);for(s=o.length-1;s>=0;){var f=o[s];if(!(ah(f,e)&&HB(e[f],t[f],a,u)))return!1;s-=1}return!0}var yRe=mi(function(e,r){return HB(e,r,[],[])});function bRe(t,e,r){var n,i;if(typeof t.indexOf=="function")switch(typeof e){case"number":if(e===0){for(n=1/e;r<t.length;){if(i=t[r],i===0&&1/i===n)return r;r+=1}return-1}else if(e!==e){for(;r<t.length;){if(i=t[r],typeof i=="number"&&i!==i)return r;r+=1}return-1}return t.indexOf(e,r);case"string":case"boolean":case"function":case"undefined":return t.indexOf(e,r);case"object":if(e===null)return t.indexOf(e,r)}for(;r<t.length;){if(yRe(t[r],e))return r;r+=1}return-1}function vRe(t,e){return bRe(e,t,0)>=0}function F2(t,e){for(var r=0,n=e.length,i=Array(n);r<n;)i[r]=t(e[r]),r+=1;return i}function Y4(t){var e=t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+e.replace(/"/g,'\\"')+'"'}var av=function(e){return(e<10?"0":"")+e},wRe=typeof Date.prototype.toISOString=="function"?function(e){return e.toISOString()}:function(e){return e.getUTCFullYear()+"-"+av(e.getUTCMonth()+1)+"-"+av(e.getUTCDate())+"T"+av(e.getUTCHours())+":"+av(e.getUTCMinutes())+":"+av(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function SRe(t){return function(){return!t.apply(this,arguments)}}function GQ(t,e,r){for(var n=0,i=r.length;n<i;)e=t(e,r[n]),n+=1;return e}function _Re(t,e){for(var r=0,n=e.length,i=[];r<n;)t(e[r])&&(i[i.length]=e[r]),r+=1;return i}function QC(t){return Object.prototype.toString.call(t)==="[object Object]"}var ARe=function(){function t(e,r){this.xf=r,this.f=e}return t.prototype["@@transducer/init"]=tE.init,t.prototype["@@transducer/result"]=tE.result,t.prototype["@@transducer/step"]=function(e,r){return this.f(r)?this.xf["@@transducer/step"](e,r):e},t}();function xRe(t){return function(e){return new ARe(t,e)}}var ERe=mi(VQ(["fantasy-land/filter","filter"],xRe,function(t,e){return QC(e)?GQ(function(r,n){return t(e[n])&&(r[n]=e[n]),r},{},Tb(e)):_Re(t,e)})),kRe=mi(function(e,r){return ERe(SRe(e),r)});function YQ(t,e){var r=function(o){var a=e.concat([t]);return vRe(o,a)?"<Circular>":YQ(o,a)},n=function(s,o){return F2(function(a){return Y4(a)+": "+r(s[a])},o.slice().sort())};switch(Object.prototype.toString.call(t)){case"[object Arguments]":return"(function() { return arguments; }("+F2(r,t).join(", ")+"))";case"[object Array]":return"["+F2(r,t).concat(n(t,kRe(function(s){return/^\d+$/.test(s)},Tb(t)))).join(", ")+"]";case"[object Boolean]":return typeof t=="object"?"new Boolean("+r(t.valueOf())+")":t.toString();case"[object Date]":return"new Date("+(isNaN(t.valueOf())?r(NaN):Y4(wRe(t)))+")";case"[object Map]":return"new Map("+r(Array.from(t))+")";case"[object Null]":return"null";case"[object Number]":return typeof t=="object"?"new Number("+r(t.valueOf())+")":1/t===-1/0?"-0":t.toString(10);case"[object Set]":return"new Set("+r(Array.from(t).sort())+")";case"[object String]":return typeof t=="object"?"new String("+r(t.valueOf())+")":Y4(t);case"[object Undefined]":return"undefined";default:if(typeof t.toString=="function"){var i=t.toString();if(i!=="[object Object]")return i}return"{"+n(t,Tb(t)).join(", ")+"}"}}var RW=gs(function(e){return YQ(e,[])}),TRe=function(){function t(e,r){this.xf=r,this.f=e}return t.prototype["@@transducer/init"]=tE.init,t.prototype["@@transducer/result"]=tE.result,t.prototype["@@transducer/step"]=function(e,r){return this.xf["@@transducer/step"](e,this.f(r))},t}(),IRe=function(e){return function(r){return new TRe(e,r)}},RRe=mi(VQ(["fantasy-land/map","map"],IRe,function(e,r){switch(Object.prototype.toString.call(r)){case"[object Function]":return cRe(r.length,function(){return e.call(this,r.apply(this,arguments))});case"[object Object]":return GQ(function(n,i){return n[i]=e(r[i]),n},{},Tb(r));default:return F2(e,r)}}));const ZQ=Number.isInteger||function(e){return e<<0===e};function qB(t){return Object.prototype.toString.call(t)==="[object String]"}var f3=mi(function(e,r){var n=e<0?r.length+e:e;return qB(r)?r.charAt(n):r[n]}),VB=mi(function(e,r){if(r!=null)return ZQ(e)?f3(e,r):r[e]}),MRe=gs(function(e){return KB(e)?!0:!e||typeof e!="object"||qB(e)?!1:e.length===0?!0:e.length>0?e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1):!1}),MW=typeof Symbol<"u"?Symbol.iterator:"@@iterator";function CRe(t,e,r){return function(i,s,o){if(MRe(o))return t(i,s,o);if(o==null)return s;if(typeof o["fantasy-land/reduce"]=="function")return e(i,s,o,"fantasy-land/reduce");if(o[MW]!=null)return r(i,s,o[MW]());if(typeof o.next=="function")return r(i,s,o);if(typeof o.reduce=="function")return e(i,s,o,"reduce");throw new TypeError("reduce: list must be array or iterable")}}function PRe(t,e,r){for(var n=0,i=r.length;n<i;){if(e=t["@@transducer/step"](e,r[n]),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n+=1}return t["@@transducer/result"](e)}var NRe=mi(function(e,r){return l3(e.length,function(){return e.apply(r,arguments)})});function BRe(t,e,r){for(var n=r.next();!n.done;){if(e=t["@@transducer/step"](e,n.value),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n=r.next()}return t["@@transducer/result"](e)}function ORe(t,e,r,n){return t["@@transducer/result"](r[n](NRe(t["@@transducer/step"],t),e))}var LRe=CRe(PRe,ORe,BRe),DRe=function(){function t(e){this.f=e}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(e){return e},t.prototype["@@transducer/step"]=function(e,r){return this.f(e,r)},t}();function FRe(t){return new DRe(t)}var $Re=ad(function(t,e,r){return LRe(typeof t=="function"?FRe(t):t,e,r)}),URe=gs(function(e){return function(){return e}}),zRe=gs(function(e){return e==null});function WRe(t,e){return function(){return e.call(this,t.apply(this,arguments))}}function XQ(t,e){return function(){var r=arguments.length;if(r===0)return e();var n=arguments[r-1];return KB(n)||typeof n[t]!="function"?e.apply(this,arguments):n[t].apply(n,Array.prototype.slice.call(arguments,0,r-1))}}var jRe=ad(XQ("slice",function(e,r,n){return Array.prototype.slice.call(n,e,r)})),KRe=gs(XQ("tail",jRe(1,1/0)));function HRe(){if(arguments.length===0)throw new Error("pipe requires at least one argument");return l3(arguments[0].length,$Re(WRe,arguments[0],KRe(arguments)))}var qRe=gs(function(e){return qB(e)?e.split("").reverse().join(""):Array.prototype.slice.call(e,0).reverse()});function JQ(){if(arguments.length===0)throw new Error("compose requires at least one argument");return HRe.apply(this,qRe(arguments))}var QQ=f3(0),eee=mi(function(e,r){return r==null||r!==r?e:r}),VRe=mi(function(e,r){return function(n){return function(i){return RRe(function(s){return r(s,i)},n(e(i)))}}}),GRe=ad(function(e,r,n){return lRe(e,URe(r),n)}),YRe=gs(function(e){return VRe(f3(e),GRe(e))}),ZRe=mi(function(e,r){return e.map(function(n){for(var i=r,s=0,o;s<n.length;){if(i==null)return;o=n[s],i=ZQ(o)?f3(o,i):i[o],s+=1}return i})}),ql=mi(function(e,r){return ZRe([e],r)[0]}),XRe=ad(function(e,r,n){var i={},s;r=r||{},n=n||{};for(s in r)ah(s,r)&&(i[s]=ah(s,n)?e(s,r[s],n[s]):r[s]);for(s in n)ah(s,n)&&!ah(s,i)&&(i[s]=n[s]);return i}),JRe=ad(function t(e,r,n){return XRe(function(i,s,o){return QC(s)&&QC(o)?t(e,s,o):e(i,s,o)},r,n)}),QRe=mi(function(e,r){return JRe(function(n,i,s){return s},e,r)}),eMe=mi(function(e,r){if(e===r)return e;function n(u,f){if(u<f!=f<u)return f<u?f:u}var i=n(e,r);if(i!==void 0)return i;var s=n(typeof e,typeof r);if(s!==void 0)return s===typeof e?e:r;var o=RW(e),a=n(o,RW(r));return a!==void 0?a===o?e:r:e}),GB=mi(function(e,r){for(var n={},i={},s=0,o=e.length;s<o;)i[e[s]]=1,s+=1;for(var a in r)i.hasOwnProperty(a)||(n[a]=r[a]);return n}),tee=function(t){return{value:t,map:function(e){return tee(e(t))}}},tMe=ad(function(e,r,n){return e(function(i){return tee(r(i))})(n).value}),eP=ad(function(e,r,n){return eee(e,ql(r,n))}),a_=mi(function(e,r){for(var n={},i=0;i<e.length;)e[i]in r&&(n[e[i]]=r[e[i]]),i+=1;return n}),rMe=ad(function(e,r,n){return eee(e,VB(r,n))});const nMe={},CW=t=>{let e;const r=new Set,n=(d,g)=>{const y=typeof d=="function"?d(e):d;if(!Object.is(y,e)){const b=e;e=g??(typeof y!="object"||y===null)?y:Object.assign({},e,y),r.forEach(A=>A(e,b))}},i=()=>e,u={setState:n,getState:i,getInitialState:()=>f,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(nMe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},f=e=t(n,i,u);return u},iMe=t=>t?CW(t):CW;var ree={exports:{}},nee={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d3=N,sMe=aB;function oMe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var aMe=typeof Object.is=="function"?Object.is:oMe,uMe=sMe.useSyncExternalStore,cMe=d3.useRef,lMe=d3.useEffect,fMe=d3.useMemo,dMe=d3.useDebugValue;nee.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=cMe(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=fMe(function(){function u(b){if(!f){if(f=!0,d=b,b=n(b),i!==void 0&&o.hasValue){var A=o.value;if(i(A,b))return g=A}return g=b}if(A=g,aMe(d,b))return A;var x=n(b);return i!==void 0&&i(A,x)?(d=b,A):(d=b,g=x)}var f=!1,d,g,y=r===void 0?null:r;return[function(){return u(e())},y===null?void 0:function(){return u(y())}]},[e,r,n,i]);var a=uMe(t,s[0],s[1]);return lMe(function(){o.hasValue=!0,o.value=a},[a]),dMe(a),a};ree.exports=nee;var hMe=ree.exports;const pMe=ro(hMe),iee={},{useDebugValue:gMe}=gt,{useSyncExternalStoreWithSelector:mMe}=pMe;let PW=!1;const yMe=t=>t;function bMe(t,e=yMe,r){(iee?"production":void 0)!=="production"&&r&&!PW&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),PW=!0);const n=mMe(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return gMe(n),n}const NW=t=>{(iee?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?iMe(t):t,r=(n,i)=>bMe(e,n,i);return Object.assign(r,e),r},rg=t=>t?NW(t):NW;var see=Symbol.for("immer-nothing"),BW=Symbol.for("immer-draftable"),wa=Symbol.for("immer-state");function Bu(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ib=Object.getPrototypeOf;function Rb(t){return!!t&&!!t[wa]}function k0(t){var e;return t?oee(t)||Array.isArray(t)||!!t[BW]||!!((e=t.constructor)!=null&&e[BW])||p3(t)||g3(t):!1}var vMe=Object.prototype.constructor.toString();function oee(t){if(!t||typeof t!="object")return!1;const e=Ib(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===vMe}function rE(t,e){h3(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function h3(t){const e=t[wa];return e?e.type_:Array.isArray(t)?1:p3(t)?2:g3(t)?3:0}function tP(t,e){return h3(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function aee(t,e,r){const n=h3(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function wMe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function p3(t){return t instanceof Map}function g3(t){return t instanceof Set}function up(t){return t.copy_||t.base_}function rP(t,e){if(p3(t))return new Map(t);if(g3(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=oee(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[wa];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const o=i[s],a=n[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(n[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[o]})}return Object.create(Ib(t),n)}else{const n=Ib(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function YB(t,e=!1){return m3(t)||Rb(t)||!k0(t)||(h3(t)>1&&(t.set=t.add=t.clear=t.delete=SMe),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>YB(n,!0))),t}function SMe(){Bu(2)}function m3(t){return Object.isFrozen(t)}var _Me={};function T0(t){const e=_Me[t];return e||Bu(0,t),e}var Jw;function uee(){return Jw}function AMe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function OW(t,e){e&&(T0("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function nP(t){iP(t),t.drafts_.forEach(xMe),t.drafts_=null}function iP(t){t===Jw&&(Jw=t.parent_)}function LW(t){return Jw=AMe(Jw,t)}function xMe(t){const e=t[wa];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function DW(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[wa].modified_&&(nP(e),Bu(4)),k0(t)&&(t=nE(e,t),e.parent_||iE(e,t)),e.patches_&&T0("Patches").generateReplacementPatches_(r[wa].base_,t,e.patches_,e.inversePatches_)):t=nE(e,r,[]),nP(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==see?t:void 0}function nE(t,e,r){if(m3(e))return e;const n=e[wa];if(!n)return rE(e,(i,s)=>FW(t,n,e,i,s,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return iE(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,o=!1;n.type_===3&&(s=new Set(i),i.clear(),o=!0),rE(s,(a,u)=>FW(t,n,i,a,u,r,o)),iE(t,i,!1),r&&t.patches_&&T0("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function FW(t,e,r,n,i,s,o){if(Rb(i)){const a=s&&e&&e.type_!==3&&!tP(e.assigned_,n)?s.concat(n):void 0,u=nE(t,i,a);if(aee(r,n,u),Rb(u))t.canAutoFreeze_=!1;else return}else o&&r.add(i);if(k0(i)&&!m3(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;nE(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&iE(t,i)}}function iE(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&YB(e,r)}function EMe(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:uee(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=ZB;r&&(i=[n],s=Qw);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return n.draft_=a,n.revoke_=o,a}var ZB={get(t,e){if(e===wa)return t;const r=up(t);if(!tP(r,e))return kMe(t,r,e);const n=r[e];return t.finalized_||!k0(n)?n:n===Z4(t.base_,e)?(X4(t),t.copy_[e]=oP(n,t)):n},has(t,e){return e in up(t)},ownKeys(t){return Reflect.ownKeys(up(t))},set(t,e,r){const n=cee(up(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=Z4(up(t),e),s=i==null?void 0:i[wa];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(wMe(r,i)&&(r!==void 0||tP(t.base_,e)))return!0;X4(t),sP(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Z4(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,X4(t),sP(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=up(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){Bu(11)},getPrototypeOf(t){return Ib(t.base_)},setPrototypeOf(){Bu(12)}},Qw={};rE(ZB,(t,e)=>{Qw[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Qw.deleteProperty=function(t,e){return Qw.set.call(this,t,e,void 0)};Qw.set=function(t,e,r){return ZB.set.call(this,t[0],e,r,t[0])};function Z4(t,e){const r=t[wa];return(r?up(r):t)[e]}function kMe(t,e,r){var i;const n=cee(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function cee(t,e){if(!(e in t))return;let r=Ib(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Ib(r)}}function sP(t){t.modified_||(t.modified_=!0,t.parent_&&sP(t.parent_))}function X4(t){t.copy_||(t.copy_=rP(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var TMe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const o=this;return function(u=s,...f){return o.produce(u,d=>r.call(this,d,...f))}}typeof r!="function"&&Bu(6),n!==void 0&&typeof n!="function"&&Bu(7);let i;if(k0(e)){const s=LW(this),o=oP(e,void 0);let a=!0;try{i=r(o),a=!1}finally{a?nP(s):iP(s)}return OW(s,n),DW(i,s)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===see&&(i=void 0),this.autoFreeze_&&YB(i,!0),n){const s=[],o=[];T0("Patches").generateReplacementPatches_(e,i,s,o),n(s,o)}return i}else Bu(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,u=>e(u,...a));let n,i;return[this.produce(e,r,(o,a)=>{n=o,i=a}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){k0(t)||Bu(8),Rb(t)&&(t=IMe(t));const e=LW(this),r=oP(t,void 0);return r[wa].isManual_=!0,iP(e),r}finishDraft(t,e){const r=t&&t[wa];(!r||!r.isManual_)&&Bu(9);const{scope_:n}=r;return OW(n,e),DW(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=T0("Patches").applyPatches_;return Rb(t)?n(t,e):this.produce(t,i=>n(i,e))}};function oP(t,e){const r=p3(t)?T0("MapSet").proxyMap_(t,e):g3(t)?T0("MapSet").proxySet_(t,e):EMe(t,e);return(e?e.scope_:uee()).drafts_.push(r),r}function IMe(t){return Rb(t)||Bu(10,t),lee(t)}function lee(t){if(!k0(t)||m3(t))return t;const e=t[wa];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=rP(t,e.scope_.immer_.useStrictShallowCopy_)}else r=rP(t,!0);return rE(r,(n,i)=>{aee(r,n,lee(i))}),e&&(e.finalized_=!1),r}var Sa=new TMe,co=Sa.produce;Sa.produceWithPatches.bind(Sa);Sa.setAutoFreeze.bind(Sa);Sa.setUseStrictShallowCopy.bind(Sa);Sa.applyPatches.bind(Sa);Sa.createDraft.bind(Sa);Sa.finishDraft.bind(Sa);const RMe=t=>(e,r,n)=>(n.setState=(i,s,...o)=>{const a=typeof i=="function"?co(i):i;return e(a,s,...o)},t(n.setState,r,n)),y3=RMe;var MMe=Object.defineProperty,XB=(t,e)=>{for(var r in e)MMe(t,r,{get:e[r],enumerable:!0})};typeof window<"u"&&(window.__ORDERLY_VERSION__=window.__ORDERLY_VERSION__||{},window.__ORDERLY_VERSION__["@orderly.network/perp"]="4.0.2");var wc={};XB(wc,{MMR:()=>DMe,estOffsetForTP:()=>UMe,estPnLForSL:()=>WMe,estPnLForTP:()=>FMe,estPriceForTP:()=>$Me,estPriceFromOffsetForTP:()=>zMe,liqPrice:()=>BMe,maintenanceMargin:()=>OMe,notional:()=>JB,totalNotional:()=>CMe,totalUnrealizedPnL:()=>NMe,totalUnsettlementPnL:()=>LMe,unrealizedPnL:()=>dee,unrealizedPnLROI:()=>PMe,unsettlementPnL:()=>hee});var fee=4/5;function JB(t,e){return new Re(t).mul(e).abs().toNumber()}function CMe(t){return t.reduce((e,r)=>e+JB(r.position_qty,r.mark_price),0)}function dee(t){return new Re(t.qty).mul(t.markPrice-t.openPrice).toNumber()}function PMe(t){const{openPrice:e,IMR:r}=t;return t.unrealizedPnL===0||t.positionQty===0||e===0||r===0?0:new Re(t.unrealizedPnL).div(new Re(Math.abs(t.positionQty)).mul(e).mul(r)).toNumber()}function NMe(t){return t.reduce((e,r)=>e+dee({qty:r.position_qty,openPrice:r.average_open_price,markPrice:r.mark_price}),0)}function BMe(t){const{markPrice:e,totalCollateral:r,positions:n,positionQty:i,MMR:s}=t;if(i===0||r===0)return null;const o=n.reduce((a,u)=>a.add(new Re(JB(u.position_qty,u.mark_price)).mul(u.mmr)),ei);return Math.max(new Re(e).add(new Re(r).sub(o).div(new Re(i).abs().mul(s).sub(i))).toNumber(),0)}function OMe(t){const{positionQty:e,markPrice:r,MMR:n}=t;return new Re(e).mul(r).mul(n).abs().toNumber()}function hee(t){const{positionQty:e,markPrice:r,costPosition:n,sumUnitaryFunding:i,lastSumUnitaryFunding:s}=t,o=new Re(e);return o.mul(r).sub(n).sub(o.mul(new Re(i).sub(s))).toNumber()}function LMe(t){return!Array.isArray(t)||t.length===0?0:t.reduce((e,r)=>e+hee({positionQty:r.position_qty,markPrice:r.mark_price,costPosition:r.cost_position,sumUnitaryFunding:r.sum_unitary_funding,lastSumUnitaryFunding:r.last_sum_unitary_funding}),0)}function DMe(t){const{baseMMR:e,baseIMR:r,IMRFactor:n,positionNotional:i,IMR_factor_power:s=fee}=t;return Math.max(e,new Re(e).div(r).mul(n).mul(Math.pow(Math.abs(i),s)).toNumber())}function FMe(t){return new Re(t.positionQty).mul(new Re(t.price).sub(t.entryPrice)).toNumber()}function $Me(t){return new Re(t.pnl).add(t.entryPrice).div(t.positionQty).toNumber()}function UMe(t){return new Re(t.price).div(t.entryPrice).toNumber()}function zMe(t){return new Re(t.offset).add(t.entryPrice).toNumber()}function WMe(t){return 0}var fs={};XB(fs,{IMR:()=>w3,MMR:()=>n8e,availableBalance:()=>r8e,buyOrdersFilter_by_symbol:()=>pee,currentLeverage:()=>t8e,extractSymbols:()=>QB,freeCollateral:()=>KMe,getPositonsAndOrdersNotionalBySymbol:()=>VMe,getQtyFromOrdersBySide:()=>I0,getQtyFromPositions:()=>S3,groupOrdersBySymbol:()=>ZMe,initialMarginWithOrder:()=>qMe,maxQty:()=>JMe,maxQtyByLong:()=>mee,maxQtyByShort:()=>yee,otherIMs:()=>XMe,positionNotionalWithOrder_by_symbol:()=>b3,positionQtyWithOrders_by_symbol:()=>v3,sellOrdersFilter_by_symbol:()=>gee,totalCollateral:()=>HMe,totalInitialMarginWithOrders:()=>GMe,totalInitialMarginWithQty:()=>YMe,totalMarginRatio:()=>QMe,totalUnrealizedROI:()=>e8e,totalValue:()=>jMe});function jMe(t){const{totalUnsettlementPnL:e,USDCHolding:r,nonUSDCHolding:n}=t;return n.reduce((s,o)=>new Re(o.holding).mul(o.markPrice).add(s),ei).add(r).add(e)}function KMe(t){const e=t.totalCollateral.sub(t.totalInitialMarginWithOrders);return e.isNegative()?ei:e}function HMe(t){const{USDCHolding:e,nonUSDCHolding:r}=t,n=r.reduce((i,s)=>i+new Re(s.holding).mul(s.markPrice).mul(s.discount).toNumber(),0);return new Re(e).add(n).add(t.unsettlementPnL)}function qMe(){}function b3(t){return new Re(t.markPrice).mul(t.positionQtyWithOrders)}function v3(t){const{positionQty:e,buyOrdersQty:r,sellOrdersQty:n}=t,i=new Re(e);return Math.max(i.add(r).abs().toNumber(),i.sub(n).abs().toNumber())}function w3(t){const{maxLeverage:e,baseIMR:r,IMR_Factor:n,positionNotional:i,ordersNotional:s,IMR_factor_power:o=fee}=t;return Math.max(1/e,r,new Re(n).mul(new Re(i).add(s).abs().toPower(o)).toNumber())}function pee(t,e){return t.filter(r=>r.symbol===e&&r.side===zt.BUY)}function gee(t,e){return t.filter(r=>r.symbol===e&&r.side===zt.SELL)}function S3(t,e){if(!t)return 0;const r=t.find(n=>n.symbol===e);return(r==null?void 0:r.position_qty)||0}function I0(t,e,r){return(r===zt.SELL?gee(t,e):pee(t,e)).reduce((i,s)=>i+s.quantity,0)}function VMe(t){const{positions:e,orders:r,symbol:n,markPrice:i}=t,s=S3(e,n),o=I0(r,n,zt.BUY),a=I0(r,n,zt.SELL),u=new Re(i);return u.mul(s).add(u.mul(new Re(o).add(a))).abs().toNumber()}function GMe(t){const{positions:e,orders:r,markPrices:n,IMR_Factors:i,maxLeverage:s,symbolInfo:o}=t;return QB(e,r).reduce((f,d)=>{const g=d,y=S3(e,g),b=I0(r,g,zt.BUY),A=I0(r,g,zt.SELL),x=n[g]||0,k=v3({positionQty:y,buyOrdersQty:b,sellOrdersQty:A}),I=b3({markPrice:x,positionQtyWithOrders:k}),R=new Re(x),M=w3({positionNotional:R.mul(y).toNumber(),ordersNotional:R.mul(new Re(b).add(A)).toNumber(),maxLeverage:s,IMR_Factor:i[g],baseIMR:o[g]("base_imr",0)});return I.mul(M).add(f).toNumber()},0)}function YMe(t){const{positions:e,markPrices:r,IMR_Factors:n,symbolInfo:i,maxLeverage:s}=t;return e.map(u=>u.symbol).reduce((u,f)=>{const d=f,g=e.find(P=>P.symbol===d),y=(g==null?void 0:g.position_qty)||0,b=(g==null?void 0:g.pending_long_qty)||0,A=(g==null?void 0:g.pending_short_qty)||0,x=r[d]||0,k=v3({positionQty:y,buyOrdersQty:b,sellOrdersQty:A}),I=b3({markPrice:x,positionQtyWithOrders:k}),R=new Re(x),M=w3({positionNotional:R.mul(y).toNumber(),ordersNotional:R.mul(new Re(b).add(A)).toNumber(),maxLeverage:s,IMR_Factor:n[d],baseIMR:i[d]("base_imr",0)});return I.mul(M).add(u).toNumber()},0)}function ZMe(t){const e={};return t.forEach(r=>{e[r.symbol]||(e[r.symbol]=[]),e[r.symbol].push(r)}),e}function QB(t,e){const r=new Set;return t.forEach(n=>{r.add(n.symbol)}),e.forEach(n=>{r.add(n.symbol)}),Array.from(r)}function XMe(t){const{orders:e,positions:r,maxLeverage:n,IMR_Factors:i,symbolInfo:s,markPrices:o}=t;return QB(r,e).reduce((u,f)=>{const d=f;if(typeof o[d]>"u")return console.warn("markPrices[%s] is undefined",d),u;const g=new Re(o[d]||0),y=S3(r,d),b=g.mul(y).toNumber(),A=I0(e,d,zt.BUY),x=I0(e,d,zt.SELL),k=g.mul(new Re(A).add(x)).toNumber(),I=i[d];if(!I)return console.warn("IMR_Factor is not found:",d),u;const R=w3({maxLeverage:n,IMR_Factor:I,baseIMR:s[d]("base_imr",0),positionNotional:b,ordersNotional:k}),M=v3({positionQty:y,buyOrdersQty:A,sellOrdersQty:x}),P=b3({markPrice:o[d]||0,positionQtyWithOrders:M});return u.add(P.mul(R))},ei).toNumber()}function JMe(t,e,r){return t===zt.BUY?mee(e):yee(e)}function mee(t,e){try{const{baseMaxQty:r,totalCollateral:n,otherIMs:i,maxLeverage:s,baseIMR:o,markPrice:a,IMR_Factor:u,positionQty:f,buyOrdersQty:d,takerFeeRate:g}=t;if(n===0)return 0;const y=new Re(n),b=y.sub(i).div(new Re(g).mul(2).mul(1e-4).add(Math.max(1/s,o))).div(a).mul(.995).sub(new Re(f).add(d)).toNumber();if(f===0&&d===0)return Math.min(r,b);const A=y.sub(i).div(u).toPower(1/1.8).div(a).sub(new Re(f).add(d)).div(new Re(g).mul(2).mul(1e-4).add(1)).mul(.995).toNumber();return Math.min(r,b,A)}catch{return 0}}function yee(t,e){try{const{baseMaxQty:r,totalCollateral:n,otherIMs:i,maxLeverage:s,baseIMR:o,markPrice:a,IMR_Factor:u,positionQty:f,buyOrdersQty:d,sellOrdersQty:g,takerFeeRate:y}=t,b=new Re(n),A=b.sub(i).div(new Re(y).mul(2).mul(1e-4).add(Math.max(1/s,o))).div(a).mul(.995).add(f).sub(g).toNumber();if(f===0&&d===0)return Math.min(r,A);const x=b.sub(i).div(u).toPower(1/1.8).div(a).add(f).sub(g).div(new Re(y).mul(2).mul(1e-4).add(1)).mul(.995).toNumber();return Math.min(r,A,x)}catch{return 0}}function QMe(t,e){const{totalCollateral:r,markPrices:n,positions:i}=t;if(r===0)return 0;const s=new Re(r),o=i.reduce((a,u)=>{const f=n[u.symbol]||0;return a.add(new Re(u.position_qty).mul(f).abs())},ei);return o.eq(ei)?0:s.div(o).toNumber()}function e8e(t){const{totalUnrealizedPnL:e,totalValue:r}=t;return new Re(e).div(r-e).toNumber()}function t8e(t){return t===0?0:1/t}function r8e(t){const{USDCHolding:e,unsettlementPnL:r}=t;return new Re(e).add(r).toNumber()}function n8e(t){return t.positionsNotional===0||t.positionsMMR===0?null:new Re(t.positionsMMR).div(t.positionsNotional).toNumber()}var Uf={};XB(Uf,{estLeverage:()=>c8e,estLiqPrice:()=>u8e,maxPrice:()=>i8e,minPrice:()=>s8e,orderFee:()=>a8e,scopePrice:()=>o8e});function i8e(t,e){return t*(1+e)}function s8e(t,e){return t*(1-e)}function o8e(t,e,r){return r==="BUY"?t*(1-e):t*(1+e)}function a8e(t){return new Re(t.qty).mul(t.price).mul(t.futuresTakeFeeRate).toNumber()}function u8e(t){var e;const{positions:r,newOrder:n,totalCollateral:i,markPrice:s,baseIMR:o,baseMMR:a,orderFee:u,IMR_Factor:f}=t;let d,g=ei;const y=r.length===0?n.price:s,b=new Re(n.qty).mul(n.price);for(let I=0;I<r.length;I++){const R=r[I];let M=new Re(R.position_qty).mul(R.mark_price);n.symbol===R.symbol&&(d=R,M=M.add(b)),g=g.add(M.abs().mul(R.mmr))}d||(g=g.add(b.mul(a)));const A=Math.max(a,new Re(a).div(o).mul(f).mul(b.add(d?new Re(d.position_qty).mul(d.mark_price):ei).abs()).toPower(4/5).toNumber()),x=new Re(n.qty).add((e=d==null?void 0:d.position_qty)!=null?e:0);if(x.eq(0))return 0;const k=new Re(y).add(new Re(i).sub(g).sub(u).div(x.abs().mul(A).sub(x))).toNumber();return Math.max(0,k)}function c8e(t){const{totalCollateral:e,positions:r,newOrder:n}=t;if(e<=0)return null;let i=!1,s=r.reduce((a,u)=>{let f=new Re(u.position_qty).mul(u.mark_price);return u.symbol===n.symbol&&(i=!0,f=f.add(new Re(n.qty).mul(n.price))),a.add(f.abs())},ei);if(i||(s=s.add(new Re(n.qty).mul(n.price).abs())),s.eq(ei))return null;const o=new Re(e).div(s);return new Re(1).div(o).toDecimalPlaces(2,Re.ROUND_HALF_EVEN).toNumber()}const J4=new WeakMap,l8e="$sub$",f8e=t=>(e,r,n)=>{const[i,s]=qf(e),o=i?l8e+i:void 0,a=t(o,null,n),{cache:u}=n;J4.has(u)||J4.set(u,[new Map,new Map]);const[f,d]=J4.get(u);return u0(()=>{if(!o)return;const[,g]=of(u,o),y=f.get(o)||0,b=(A,x)=>{A!==null&&typeof A<"u"?g({error:A}):(g({error:void 0}),a.mutate(x,!1))};if(f.set(o,y+1),!y){const A=r(s,{next:b});if(typeof A!="function")throw new Error("The `subscribe` function must return a function to unsubscribe.");d.set(o,A)}return()=>{const A=f.get(o)-1;if(f.set(o,A),!A){var x;(x=d.get(o))==null||x()}}},[o]),{get data(){return a.data},get error(){return a.error}}},b1=fB(g1,f8e);function Mb(t,e,r){var n=this,i=N.useRef(null),s=N.useRef(0),o=N.useRef(null),a=N.useRef([]),u=N.useRef(),f=N.useRef(),d=N.useRef(t),g=N.useRef(!0);N.useEffect(function(){d.current=t},[t]);var y=!e&&e!==0&&typeof window<"u";if(typeof t!="function")throw new TypeError("Expected a function");e=+e||0;var b=!!(r=r||{}).leading,A=!("trailing"in r)||!!r.trailing,x="maxWait"in r,k=x?Math.max(+r.maxWait||0,e):null;N.useEffect(function(){return g.current=!0,function(){g.current=!1}},[]);var I=N.useMemo(function(){var R=function(G){var q=a.current,ae=u.current;return a.current=u.current=null,s.current=G,f.current=d.current.apply(ae,q)},M=function(G,q){y&&cancelAnimationFrame(o.current),o.current=y?requestAnimationFrame(G):setTimeout(G,q)},P=function(G){if(!g.current)return!1;var q=G-i.current;return!i.current||q>=e||q<0||x&&G-s.current>=k},j=function(G){return o.current=null,A&&a.current?R(G):(a.current=u.current=null,f.current)},V=function G(){var q=Date.now();if(P(q))return j(q);if(g.current){var ae=e-(q-i.current),T=x?Math.min(ae,k-(q-s.current)):ae;M(G,T)}},Z=function(){var G=Date.now(),q=P(G);if(a.current=[].slice.call(arguments),u.current=n,i.current=G,q){if(!o.current&&g.current)return s.current=i.current,M(V,e),b?R(i.current):f.current;if(x)return M(V,e),R(i.current)}return o.current||M(V,e),f.current};return Z.cancel=function(){o.current&&(y?cancelAnimationFrame(o.current):clearTimeout(o.current)),s.current=0,a.current=i.current=u.current=o.current=null},Z.isPending=function(){return!!o.current},Z.flush=function(){return o.current?j(Date.now()):f.current},Z},[b,x,e,k,A,y]);return I}function d8e(t,e,r){var n=r===void 0?{}:r,i=n.leading,s=n.trailing;return Mb(t,e,{maxWait:e,leading:i===void 0||i,trailing:s===void 0||s})}/*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const Zs=2n**255n-19n,$2=2n**252n+27742317777372353535851937790883648493n,$W=0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,UW=0x6666666666666666666666666666666666666666666666666666666666666658n,h8e=37095705934669439343138083508754565189542113879843219016388785533085940283555n,PA={a:-1n,d:h8e,h:8},Ts=(t="")=>{throw new Error(t)},bee=t=>typeof t=="string",p8e=t=>t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array",eS=(t,e)=>!p8e(t)||typeof e=="number"&&e>0&&t.length!==e?Ts("Uint8Array of valid length expected"):t,Cb=t=>new Uint8Array(t),eO=(t,e)=>eS(bee(t)?rO(t):Cb(eS(t)),e),Vt=(t,e=Zs)=>{let r=t%e;return r>=0n?r:e+r},zW=t=>t instanceof Pb?t:Ts("Point expected");let Pb=class Jg{constructor(e,r,n,i){this.ex=e,this.ey=r,this.ez=n,this.et=i}static fromAffine(e){return new Jg(e.x,e.y,1n,Vt(e.x*e.y))}static fromHex(e,r=!1){const{d:n}=PA;e=eO(e,32);const i=e.slice(),s=e[31];i[31]=s&-129;const o=wee(i);r&&!(0n<=o&&o<2n**256n)&&Ts("bad y coord 1"),!r&&!(0n<=o&&o<Zs)&&Ts("bad y coord 2");const a=Vt(o*o),u=Vt(a-1n),f=Vt(n*a+1n);let{isValid:d,value:g}=y8e(u,f);d||Ts("bad y coordinate 3");const y=(g&1n)===1n,b=(s&128)!==0;return!r&&g===0n&&b&&Ts("bad y coord 3"),b!==y&&(g=Vt(-g)),new Jg(g,o,1n,Vt(g*o))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}equals(e){const{ex:r,ey:n,ez:i}=this,{ex:s,ey:o,ez:a}=zW(e),u=Vt(r*a),f=Vt(s*i),d=Vt(n*a),g=Vt(o*i);return u===f&&d===g}is0(){return this.equals(jv)}negate(){return new Jg(Vt(-this.ex),this.ey,this.ez,Vt(-this.et))}double(){const{ex:e,ey:r,ez:n}=this,{a:i}=PA,s=Vt(e*e),o=Vt(r*r),a=Vt(2n*Vt(n*n)),u=Vt(i*s),f=e+r,d=Vt(Vt(f*f)-s-o),g=u+o,y=g-a,b=u-o,A=Vt(d*y),x=Vt(g*b),k=Vt(d*b),I=Vt(y*g);return new Jg(A,x,I,k)}add(e){const{ex:r,ey:n,ez:i,et:s}=this,{ex:o,ey:a,ez:u,et:f}=zW(e),{a:d,d:g}=PA,y=Vt(r*o),b=Vt(n*a),A=Vt(s*g*f),x=Vt(i*u),k=Vt((r+n)*(o+a)-y-b),I=Vt(x-A),R=Vt(x+A),M=Vt(b-d*y),P=Vt(k*I),j=Vt(R*M),V=Vt(k*M),Z=Vt(I*R);return new Jg(P,j,Z,V)}mul(e,r=!0){if(e===0n)return r===!0?Ts("cannot multiply by 0"):jv;if(typeof e=="bigint"&&0n<e&&e<$2||Ts("invalid scalar, must be < L"),!r&&this.is0()||e===1n)return this;if(this.equals(Nb))return x8e(e).p;let n=jv,i=Nb;for(let s=this;e>0n;s=s.double(),e>>=1n)e&1n?n=n.add(s):r&&(i=i.add(s));return n}multiply(e){return this.mul(e)}clearCofactor(){return this.mul(BigInt(PA.h),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let e=this.mul($2/2n,!1).double();return $2%2n&&(e=e.add(this)),e.is0()}toAffine(){const{ex:e,ey:r,ez:n}=this;if(this.equals(jv))return{x:0n,y:1n};const i=See(n,Zs);return Vt(n*i)!==1n&&Ts("invalid inverse"),{x:Vt(e*i),y:Vt(r*i)}}toRawBytes(){const{x:e,y:r}=this.toAffine(),n=g8e(r);return n[31]|=e&1n?128:0,n}toHex(){return tO(this.toRawBytes())}};Pb.BASE=new Pb($W,UW,1n,Vt($W*UW));Pb.ZERO=new Pb(0n,1n,1n,0n);const{BASE:Nb,ZERO:jv}=Pb,vee=(t,e)=>t.toString(16).padStart(e,"0"),tO=t=>Array.from(eS(t)).map(e=>vee(e,2)).join(""),Dl={_0:48,_9:57,A:65,F:70,a:97,f:102},WW=t=>{if(t>=Dl._0&&t<=Dl._9)return t-Dl._0;if(t>=Dl.A&&t<=Dl.F)return t-(Dl.A-10);if(t>=Dl.a&&t<=Dl.f)return t-(Dl.a-10)},rO=t=>{const e="hex invalid";if(!bee(t))return Ts(e);const r=t.length,n=r/2;if(r%2)return Ts(e);const i=Cb(n);for(let s=0,o=0;s<n;s++,o+=2){const a=WW(t.charCodeAt(o)),u=WW(t.charCodeAt(o+1));if(a===void 0||u===void 0)return Ts(e);i[s]=a*16+u}return i},g8e=t=>rO(vee(t,32*2)).reverse(),wee=t=>BigInt("0x"+tO(Cb(eS(t)).reverse())),jW=(...t)=>{const e=Cb(t.reduce((n,i)=>n+eS(i).length,0));let r=0;return t.forEach(n=>{e.set(n,r),r+=n.length}),e},See=(t,e)=>{(t===0n||e<=0n)&&Ts("no inverse n="+t+" mod="+e);let r=Vt(t,e),n=e,i=0n,s=1n;for(;r!==0n;){const o=n/r,a=n%r,u=i-s*o;n=r,r=a,i=s,s=u}return n===1n?Vt(i,e):Ts("no inverse")},bc=(t,e)=>{let r=t;for(;e-- >0n;)r*=r,r%=Zs;return r},m8e=t=>{const r=t*t%Zs*t%Zs,n=bc(r,2n)*r%Zs,i=bc(n,1n)*t%Zs,s=bc(i,5n)*i%Zs,o=bc(s,10n)*s%Zs,a=bc(o,20n)*o%Zs,u=bc(a,40n)*a%Zs,f=bc(u,80n)*u%Zs,d=bc(f,80n)*u%Zs,g=bc(d,10n)*s%Zs;return{pow_p_5_8:bc(g,2n)*t%Zs,b2:r}},KW=19681161376707505956807079304988542015446066515923890162744021073123829784752n,y8e=(t,e)=>{const r=Vt(e*e*e),n=Vt(r*r*e),i=m8e(t*n).pow_p_5_8;let s=Vt(t*r*i);const o=Vt(e*s*s),a=s,u=Vt(s*KW),f=o===t,d=o===Vt(-t),g=o===Vt(-t*KW);return f&&(s=a),(d||g)&&(s=u),(Vt(s)&1n)===1n&&(s=Vt(-s)),{isValid:f||d,value:s}},b8e=t=>Vt(wee(t),$2);let bw;const v8e=(...t)=>nO.sha512Async(...t),w8e=(...t)=>typeof bw=="function"?bw(...t):Ts("etc.sha512Sync not set"),_ee=t=>{const e=t.slice(0,32);e[0]&=248,e[31]&=127,e[31]|=64;const r=t.slice(32,64),n=b8e(e),i=Nb.mul(n),s=i.toRawBytes();return{head:e,prefix:r,scalar:n,point:i,pointBytes:s}},S8e=t=>v8e(eO(t,32)).then(_ee),_8e=t=>_ee(w8e(eO(t,32))),HW=()=>typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,nO={bytesToHex:tO,hexToBytes:rO,concatBytes:jW,mod:Vt,invert:See,randomBytes:(t=32)=>{const e=HW();return(!e||!e.getRandomValues)&&Ts("crypto.getRandomValues must be defined"),e.getRandomValues(Cb(t))},sha512Async:async(...t)=>{const e=HW(),r=e&&e.subtle;r||Ts("etc.sha512Async or crypto.subtle must be defined");const n=jW(...t);return Cb(await r.digest("SHA-512",n.buffer))},sha512Sync:void 0};Object.defineProperties(nO,{sha512Sync:{configurable:!1,get(){return bw},set(t){bw||(bw=t)}}});const Aee={getExtendedPublicKeyAsync:S8e,getExtendedPublicKey:_8e,randomPrivateKey:()=>nO.randomBytes(32),precompute:(t=8,e=Nb)=>(e.multiply(3n),e)},mp=8,A8e=()=>{const t=[],e=256/mp+1;let r=Nb,n=r;for(let i=0;i<e;i++){n=r,t.push(n);for(let s=1;s<2**(mp-1);s++)n=n.add(r),t.push(n);r=n.double()}return t};let qW;const x8e=t=>{const e=qW||(qW=A8e()),r=(d,g)=>{let y=g.negate();return d?y:g};let n=jv,i=Nb;const s=1+256/mp,o=2**(mp-1),a=BigInt(2**mp-1),u=2**mp,f=BigInt(mp);for(let d=0;d<s;d++){const g=d*o;let y=Number(t&a);t>>=f,y>o&&(y-=u,t+=1n);const b=g,A=g+Math.abs(y)-1,x=d%2!==0,k=y<0;y===0?i=i.add(r(x,e[b])):n=n.add(r(k,e[A]))}return{p:n,f:i}};var E8e=Object.defineProperty,k8e=Object.defineProperties,T8e=Object.getOwnPropertyDescriptors,VW=Object.getOwnPropertySymbols,I8e=Object.prototype.hasOwnProperty,R8e=Object.prototype.propertyIsEnumerable,aP=(t,e,r)=>e in t?E8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Vl=(t,e)=>{for(var r in e||(e={}))I8e.call(e,r)&&aP(t,r,e[r]);if(VW)for(var r of VW(e))R8e.call(e,r)&&aP(t,r,e[r]);return t},xd=(t,e)=>k8e(t,T8e(e)),NA=(t,e,r)=>(aP(t,typeof e!="symbol"?e+"":e,r),r),Ef=(t,e,r)=>new Promise((n,i)=>{var s=u=>{try{a(r.next(u))}catch(f){i(f)}},o=u=>{try{a(r.throw(u))}catch(f){i(f)}},a=u=>u.done?n(u.value):Promise.resolve(u.value).then(s,o);a((r=r.apply(t,e)).next())});typeof window<"u"&&(window.__ORDERLY_VERSION__=window.__ORDERLY_VERSION__||{},window.__ORDERLY_VERSION__["@orderly.network/default-evm-adapter"]="2.0.2");function M8e(t){return Ef(this,null,function*(){let{chainId:e,receiver:r,token:n,amount:i,nonce:s,brokerId:o,domain:a}=t,u="Withdraw",f=Date.now(),d={EIP712Domain:Ah.EIP712Domain,[u]:Ah[u]},g={brokerId:o,chainId:e,receiver:r,token:n,amount:i,timestamp:f,withdrawNonce:s};return[g,{domain:a,message:g,primaryType:u,types:d}]})}function C8e(t){return Ef(this,null,function*(){let{publicKey:e,chainId:r,brokerId:n,expiration:i=365,timestamp:s=Date.now(),scope:o,tag:a,domain:u}=t,f="AddOrderlyKey",d=Vl({brokerId:n,orderlyKey:e,scope:o||"read,trading",chainId:r,timestamp:s,expiration:s+1e3*60*60*24*i},typeof a<"u"?{tag:a}:{}),g={EIP712Domain:Ah.EIP712Domain,[f]:Ah[f]};return[d,{domain:u,message:d,primaryType:f,types:g}]})}function P8e(t){return Ef(this,null,function*(){let{chainId:e,domain:r,registrationNonce:n,brokerId:i,timestamp:s}=t,o="Registration",a={brokerId:i,chainId:e,timestamp:s,registrationNonce:n},u={EIP712Domain:Ah.EIP712Domain,[o]:Ah[o]};return[a,{domain:r,message:a,primaryType:o,types:u}]})}function N8e(t){return Ef(this,null,function*(){let{settlePnlNonce:e,brokerId:r,chainId:n,timestamp:i,domain:s}=t,o="SettlePnl",a={EIP712Domain:Ah.EIP712Domain,[o]:Ah[o]},u={brokerId:r,chainId:n,timestamp:i,settleNonce:e};return[u,{domain:s,message:u,primaryType:o,types:a}]})}var B8e=class extends KQ{constructor(e){super(),this.web3Provider=e,NA(this,"chainNamespace",Hf.evm),NA(this,"_address"),NA(this,"_chainId"),NA(this,"contractManager")}get address(){return this._address}get chainId(){return this._chainId}set chainId(e){this._chainId=e}setConfig(e){if(this._address=e.address,this._chainId=e.chain.id,e.provider&&(this.web3Provider.provider=e.provider),e.contractManager)this.contractManager=e.contractManager;else throw new Error("Please provide contract manager class")}active(e){this.setConfig(e),this.lifecycleName("active",e)}deactivate(){this.lifecycleName("deactivate",{})}update(e){this.lifecycleName("update",e),this.setConfig(e)}generateSecretKey(){let e,r;do e=Aee.randomPrivateKey(),r=e_.encode(e);while(r.length!==44);return r}lifecycleName(e,r){console.log("lifecycle",e,r)}signTypedData(e){return Ef(this,null,function*(){return console.log("toSignatureMessage",this.address),yield this.web3Provider.signTypedData(this.address,JSON.stringify(e))})}generateRegisterAccountMessage(e){return Ef(this,null,function*(){let[r,n]=yield P8e(xd(Vl({},e),{chainId:this.chainId,domain:this.getDomain()})),i=yield this.signTypedData(n);return{message:xd(Vl({},r),{chainType:"EVM"}),signatured:i}})}generateAddOrderlyKeyMessage(e){return Ef(this,null,function*(){let[r,n]=yield C8e(xd(Vl({},e),{chainId:this.chainId,domain:this.getDomain()})),i=yield this.signTypedData(n);return{message:xd(Vl({},r),{chainType:"EVM"}),signatured:i}})}generateWithdrawMessage(e){return Ef(this,null,function*(){let r=this.getDomain(!0),[n,i]=yield M8e(xd(Vl({},e),{chainId:this.chainId,domain:r})),s=yield this.signTypedData(i);return{message:xd(Vl({},n),{chainType:"EVM"}),signatured:s,domain:r}})}generateSettleMessage(e){return Ef(this,null,function*(){let r=this.getDomain(!0),[n,i]=yield N8e(xd(Vl({},e),{chainId:this.chainId,domain:r})),s=yield this.signTypedData(i);return{message:xd(Vl({},n),{chainType:"EVM"}),signatured:s,domain:r}})}getBalance(){return this.web3Provider.getBalance(this.address)}call(e,r,n,i){return this.web3Provider.call(e,r,n,i)}sendTransaction(e,r,n,i){return this.web3Provider.sendTransaction(e,r,n,i)}callOnChain(e,r,n,i,s){return this.web3Provider.callOnChain(e,r,n,i,s)}getDomain(e){if(!this.web3Provider)throw new Error("web3Provider is undefined");return{name:"Orderly",version:"1",chainId:this.chainId,verifyingContract:e?this.contractManager.getContractInfoByEnv().verifyContractAddress:"0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC"}}pollTransactionReceiptWithBackoff(e,r,n,i){return this.web3Provider.pollTransactionReceiptWithBackoff(e,r,n,i)}};function tS(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function O8e(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function L8e(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function u_(t,...e){if(!L8e(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function D8e(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");tS(t.outputLen),tS(t.blockLen)}function uP(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function xee(t,e){u_(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const F8e={number:tS,bool:O8e,bytes:u_,hash:D8e,exists:uP,output:xee};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $8e=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),GW=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,U8e=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function YW(t){for(let e=0;e<t.length;e++)t[e]=U8e(t[e])}const z8e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function uh(t){u_(t);let e="";for(let r=0;r<t.length;r++)e+=z8e[t[r]];return e}const Fl={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function ZW(t){if(t>=Fl._0&&t<=Fl._9)return t-Fl._0;if(t>=Fl._A&&t<=Fl._F)return t-(Fl._A-10);if(t>=Fl._a&&t<=Fl._f)return t-(Fl._a-10)}function W8e(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=ZW(t.charCodeAt(s)),a=ZW(t.charCodeAt(s+1));if(o===void 0||a===void 0){const u=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}n[i]=o*16+a}return n}function j8e(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Eee(t){return typeof t=="string"&&(t=j8e(t)),u_(t),t}let K8e=class{clone(){return this._cloneInto()}};function H8e(t){const e=n=>t().update(Eee(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function _3(t){const e=t.startsWith("0x")?t.substring(2):t;return W8e(e)}function q8e(t){return e=>(F8e.bytes(e),t(e))}(()=>{const t=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,e=typeof module<"u"&&typeof module.require=="function"&&module.require.bind(module);return{node:e&&!t?e("crypto"):void 0,web:t}})();const BA=BigInt(2**32-1),XW=BigInt(32);function V8e(t,e=!1){return e?{h:Number(t&BA),l:Number(t>>XW&BA)}:{h:Number(t>>XW&BA)|0,l:Number(t&BA)|0}}function G8e(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=V8e(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const Y8e=(t,e,r)=>t<<r|e>>>32-r,Z8e=(t,e,r)=>e<<r|t>>>32-r,X8e=(t,e,r)=>e<<r-32|t>>>64-r,J8e=(t,e,r)=>t<<r-32|e>>>64-r,kee=[],Tee=[],Iee=[],Q8e=BigInt(0),uv=BigInt(1),eCe=BigInt(2),tCe=BigInt(7),rCe=BigInt(256),nCe=BigInt(113);for(let t=0,e=uv,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],kee.push(2*(5*n+r)),Tee.push((t+1)*(t+2)/2%64);let i=Q8e;for(let s=0;s<7;s++)e=(e<<uv^(e>>tCe)*nCe)%rCe,e&eCe&&(i^=uv<<(uv<<BigInt(s))-uv);Iee.push(i)}const[iCe,sCe]=G8e(Iee,!0),JW=(t,e,r)=>r>32?X8e(t,e,r):Y8e(t,e,r),QW=(t,e,r)=>r>32?J8e(t,e,r):Z8e(t,e,r);function oCe(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,u=(o+2)%10,f=r[u],d=r[u+1],g=JW(f,d,1)^r[a],y=QW(f,d,1)^r[a+1];for(let b=0;b<50;b+=10)t[o+b]^=g,t[o+b+1]^=y}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=Tee[o],u=JW(i,s,a),f=QW(i,s,a),d=kee[o];i=t[d],s=t[d+1],t[d]=u,t[d+1]=f}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=iCe[n],t[1]^=sCe[n]}r.fill(0)}class iO extends K8e{constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,tS(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=$8e(this.state)}keccak(){GW||YW(this.state32),oCe(this.state32,this.rounds),GW||YW(this.state32),this.posOut=0,this.pos=0}update(e){uP(this);const{blockLen:r,state:n}=this;e=Eee(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){uP(this,!1),u_(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return tS(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(xee(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new iO(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const aCe=(t,e,r)=>H8e(()=>new iO(e,t,r)),ej=aCe(1,136,256/8),rS=(()=>{const t=q8e(ej);return t.create=ej.create,t})();var uCe=s1,cCe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",lCe=uCe(cCe);const yi=ro(lCe);let fCe=class extends TypeError{constructor(e,r){let n;const{message:i,explanation:s,...o}=e,{path:a}=e,u=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??u),s!=null&&(this.cause=u),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...r()])}};function dCe(t){return c_(t)&&typeof t[Symbol.iterator]=="function"}function c_(t){return typeof t=="object"&&t!=null}function sE(t){return c_(t)&&!Array.isArray(t)}function Gu(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function hCe(t){const{done:e,value:r}=t.next();return e?void 0:r}function pCe(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=r,{refinement:a,message:u=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Gu(n)}\``}=t;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:u}}function*tj(t,e,r,n){dCe(t)||(t=[t]);for(const i of t){const s=pCe(i,e,r,n);s&&(yield s)}}function*sO(t,e,r={}){const{path:n=[],branch:i=[t],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i,mask:o};s&&(t=e.coercer(t,a));let u="valid";for(const f of e.validator(t,a))f.explanation=r.message,u="not_valid",yield[f,void 0];for(let[f,d,g]of e.entries(t,a)){const y=sO(d,g,{path:f===void 0?n:[...n,f],branch:f===void 0?i:[...i,d],coerce:s,mask:o,message:r.message});for(const b of y)b[0]?(u=b[0].refinement!=null?"not_refined":"not_valid",yield[b[0],void 0]):s&&(d=b[1],f===void 0?t=d:t instanceof Map?t.set(f,d):t instanceof Set?t.add(d):c_(t)&&(d!==void 0||f in t)&&(t[f]=d))}if(u!=="not_valid")for(const f of e.refiner(t,a))f.explanation=r.message,u="not_refined",yield[f,void 0];u==="valid"&&(yield[void 0,t])}let kl=class{constructor(e){const{type:r,schema:n,validator:i,refiner:s,coercer:o=u=>u,entries:a=function*(){}}=e;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(u,f)=>{const d=i(u,f);return tj(d,f,this,u)}:this.validator=()=>[],s?this.refiner=(u,f)=>{const d=s(u,f);return tj(d,f,this,u)}:this.refiner=()=>[]}assert(e,r){return Ree(e,this,r)}create(e,r){return wt(e,this,r)}is(e){return Mee(e,this)}mask(e,r){return gCe(e,this,r)}validate(e,r={}){return l_(e,this,r)}};function Ree(t,e,r){const n=l_(t,e,{message:r});if(n[0])throw n[0]}function wt(t,e,r){const n=l_(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function gCe(t,e,r){const n=l_(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function Mee(t,e){return!l_(t,e)[0]}function l_(t,e,r={}){const n=sO(t,e,r),i=hCe(n);return i[0]?[new fCe(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function ng(t,e){return new kl({type:t,schema:null,validator:e})}function mCe(){return ng("any",()=>!0)}function _t(t){return new kl({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Gu(e)}`}})}function dl(){return ng("boolean",t=>typeof t=="boolean")}function oO(t){return ng("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${Gu(e)}`)}function ni(t){const e=Gu(t),r=typeof t;return new kl({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||`Expected the literal \`${e}\`, but received: ${Gu(n)}`}})}function yCe(){return ng("never",()=>!1)}function xt(t){return new kl({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function De(){return ng("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${Gu(t)}`)}function Gt(t){return new kl({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function Cee(t,e){return new kl({type:"record",schema:null,*entries(r){if(c_(r))for(const n in r){const i=r[n];yield[n,n,t],yield[n,i,e]}},validator(r){return sE(r)||`Expected an object, but received: ${Gu(r)}`},coercer(r){return sE(r)?{...r}:r}})}function mt(){return ng("string",t=>typeof t=="string"||`Expected a string, but received: ${Gu(t)}`)}function aO(t){const e=yCe();return new kl({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${Gu(r)}`},coercer(r){return Array.isArray(r)?r.slice():r}})}function ct(t){const e=Object.keys(t);return new kl({type:"type",schema:t,*entries(r){if(c_(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return sE(r)||`Expected an object, but received: ${Gu(r)}`},coercer(r){return sE(r)?{...r}:r}})}function So(t){const e=t.map(r=>r.type).join(" | ");return new kl({type:"union",schema:null,coercer(r,n){for(const i of t){const[s,o]=i.validate(r,{coerce:!0,mask:n.mask});if(!s)return o}return r},validator(r,n){const i=[];for(const s of t){const[...o]=sO(r,s,n),[a]=o;if(a[0])for(const[u]of o)u&&i.push(u);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Gu(r)}`,...i]}})}function v1(){return ng("unknown",()=>!0)}function f_(t,e,r){return new kl({...t,coercer:(n,i)=>Mee(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}const bCe=Yi.utils.randomPrivateKey,rj=()=>{const t=Yi.utils.randomPrivateKey(),e=oE(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},oE=Yi.getPublicKey;function nj(t){try{return Yi.ExtendedPoint.fromHex(t),!0}catch{return!1}}const uO=(t,e)=>Yi.sign(t,e.slice(0,32)),vCe=Yi.verify,Sr=t=>xe.Buffer.isBuffer(t)?t:t instanceof Uint8Array?xe.Buffer.from(t.buffer,t.byteOffset,t.byteLength):xe.Buffer.from(t);let cO=class{constructor(e){Object.assign(this,e)}encode(){return xe.Buffer.from(a1(vw,this))}static decode(e){return u1(vw,this,e)}static decodeUnchecked(e){return o1(vw,this,e)}},wCe=class extends cO{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(r=>{this.enum=r})}};const vw=new Map;var Pee;const Nee=32,rl=32;function SCe(t){return t._bn!==void 0}let ij=1,pt=class Qg extends cO{constructor(e){if(super({}),this._bn=void 0,SCe(e))this._bn=e._bn;else{if(typeof e=="string"){const r=yi.decode(e);if(r.length!=rl)throw new Error("Invalid public key input");this._bn=new Mr(r)}else this._bn=new Mr(e);if(this._bn.byteLength()>rl)throw new Error("Invalid public key input")}}static unique(){const e=new Qg(ij);return ij+=1,new Qg(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return yi.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(xe.Buffer);if(e.length===rl)return e;const r=xe.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){const i=xe.Buffer.concat([e.toBuffer(),xe.Buffer.from(r),n.toBuffer()]),s=Vo(i);return new Qg(s)}static createProgramAddressSync(e,r){let n=xe.Buffer.alloc(0);e.forEach(function(s){if(s.length>Nee)throw new TypeError("Max seed length exceeded");n=xe.Buffer.concat([n,Sr(s)])}),n=xe.Buffer.concat([n,r.toBuffer(),xe.Buffer.from("ProgramDerivedAddress")]);const i=Vo(n);if(nj(i))throw new Error("Invalid seeds, address must fall off the curve");return new Qg(i)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,i;for(;n!=0;){try{const s=e.concat(xe.Buffer.from([n]));i=this.createProgramAddressSync(s,r)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){const r=new Qg(e);return nj(r.toBytes())}};Pee=pt;pt.default=new Pee("11111111111111111111111111111111");vw.set(pt,{kind:"struct",fields:[["_bn","u256"]]});let _Ce=class{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const r=Sr(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=r.slice(32,64),this._secretKey=r.slice(0,32)}else this._secretKey=Sr(bCe()),this._publicKey=Sr(oE(this._secretKey))}get publicKey(){return new pt(this._publicKey)}get secretKey(){return xe.Buffer.concat([this._secretKey,this._publicKey],64)}};const ACe=new pt("BPFLoader1111111111111111111111111111111111"),gh=1232,A3=127,nS=64;let lO=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(lO.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});let fO=class extends Error{constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(fO.prototype,"name",{value:"TransactionExpiredTimeoutError"});let Bm=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Bm.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});let iS=class{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((s,o)=>{n.set(s.toBase58(),o)});const i=s=>{const o=n.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}};const Ir=(t="publicKey")=>at(32,t),xCe=(t="signature")=>at(64,t),Rp=(t="string")=>{const e=pe([ge("length"),ge("lengthPadding"),at(zr(ge(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(s,o)=>r(s,o).chars.toString(),i.encode=(s,o,a)=>{const u={chars:xe.Buffer.from(s,"utf8")};return n(u,o,a)},i.alloc=s=>ge().span+ge().span+xe.Buffer.from(s,"utf8").length,i},ECe=(t="authorized")=>pe([Ir("staker"),Ir("withdrawer")],t),kCe=(t="lockup")=>pe([Lt("unixTimestamp"),Lt("epoch"),Ir("custodian")],t),TCe=(t="voteInit")=>pe([Ir("nodePubkey"),Ir("authorizedVoter"),Ir("authorizedWithdrawer"),Ge("commission")],t),ICe=(t="voteAuthorizeWithSeedArgs")=>pe([ge("voteAuthorizationType"),Ir("currentAuthorityDerivedKeyOwnerPubkey"),Rp("currentAuthorityDerivedKeySeed"),Ir("newAuthorized")],t);function Bee(t,e){const r=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const s=e[i.property];if(Array.isArray(s))return s.length*r(i.elementLayout)}else if("fields"in i)return Bee({layout:i},e[i.property]);return 0};let n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}function Lo(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,!(n&128))break}return e}function la(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}function Yr(t,e){if(!t)throw new Error(e||"Assertion failed")}let Oee=class Lee{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){const n=new Map,i=o=>{const a=o.toBase58();let u=n.get(a);return u===void 0&&(u={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(a,u)),u},s=i(r);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const u=i(a.pubkey);u.isSigner||(u.isSigner=a.isSigner),u.isWritable||(u.isWritable=a.isWritable)}}return new Lee(r,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Yr(e.length<=256,"Max static account keys length exceeded");const r=e.filter(([,u])=>u.isSigner&&u.isWritable),n=e.filter(([,u])=>u.isSigner&&!u.isWritable),i=e.filter(([,u])=>!u.isSigner&&u.isWritable),s=e.filter(([,u])=>!u.isSigner&&!u.isWritable),o={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{Yr(r.length>0,"Expected at least one writable signer key");const[u]=r[0];Yr(u===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...r.map(([u])=>new pt(u)),...n.map(([u])=>new pt(u)),...i.map(([u])=>new pt(u)),...s.map(([u])=>new pt(u))];return[o,a]}extractTableLookup(e){const[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(e,r){const n=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(r(o)){const a=new pt(s),u=e.findIndex(f=>f.equals(a));u>=0&&(Yr(u<256,"Max lookup table index exceeded"),n.push(u),i.push(a),this.keyMetaMap.delete(s))}return[n,i]}};const Dee="Reached end of buffer unexpectedly";function $c(t){if(t.length===0)throw new Error(Dee);return t.shift()}function Do(t,...e){const[r]=e;if(e.length===2?r+(e[1]??0)>t.length:r>=t.length)throw new Error(Dee);return t.splice(...e)}let Eh=class cP{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new pt(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:yi.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new iS(this.staticAccountKeys)}static compile(e){const r=Oee.compile(e.instructions,e.payerKey),[n,i]=r.getMessageComponents(),o=new iS(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:yi.encode(a.data)}));return new cP({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const n=e-r,s=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<s}else{const n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){const e=this.accountKeys.length;let r=[];la(r,e);const n=this.instructions.map(g=>{const{accounts:y,programIdIndex:b}=g,A=Array.from(yi.decode(g.data));let x=[];la(x,y.length);let k=[];return la(k,A.length),{programIdIndex:b,keyIndicesCount:xe.Buffer.from(x),keyIndices:y,dataLength:xe.Buffer.from(k),data:A}});let i=[];la(i,n.length);let s=xe.Buffer.alloc(gh);xe.Buffer.from(i).copy(s);let o=i.length;n.forEach(g=>{const b=pe([Ge("programIdIndex"),at(g.keyIndicesCount.length,"keyIndicesCount"),Mt(Ge("keyIndex"),g.keyIndices.length,"keyIndices"),at(g.dataLength.length,"dataLength"),Mt(Ge("userdatum"),g.data.length,"data")]).encode(g,s,o);o+=b}),s=s.slice(0,o);const a=pe([at(1,"numRequiredSignatures"),at(1,"numReadonlySignedAccounts"),at(1,"numReadonlyUnsignedAccounts"),at(r.length,"keyCount"),Mt(Ir("key"),e,"keys"),Ir("recentBlockhash")]),u={numRequiredSignatures:xe.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:xe.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:xe.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:xe.Buffer.from(r),keys:this.accountKeys.map(g=>Sr(g.toBytes())),recentBlockhash:yi.decode(this.recentBlockhash)};let f=xe.Buffer.alloc(2048);const d=a.encode(u,f);return s.copy(f,d),f.slice(0,d+s.length)}static from(e){let r=[...e];const n=$c(r);if(n!==(n&A3))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=$c(r),s=$c(r),o=Lo(r);let a=[];for(let y=0;y<o;y++){const b=Do(r,0,rl);a.push(new pt(xe.Buffer.from(b)))}const u=Do(r,0,rl),f=Lo(r);let d=[];for(let y=0;y<f;y++){const b=$c(r),A=Lo(r),x=Do(r,0,A),k=Lo(r),I=Do(r,0,k),R=yi.encode(xe.Buffer.from(I));d.push({programIdIndex:b,accounts:x,data:R})}const g={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:yi.encode(xe.Buffer.from(u)),accountKeys:a,instructions:d};return new cP(g)}},x3=class lP{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new iS(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){const i=e-n,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-r,o=n-r-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=r-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const r={writable:[],readonly:[]};for(const n of this.addressTableLookups){const i=e.find(s=>s.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const s of n.writableIndexes)if(s<i.state.addresses.length)r.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`);for(const s of n.readonlyIndexes)if(s<i.state.addresses.length)r.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){const r=Oee.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const d of s){const g=r.extractTableLookup(d);if(g!==void 0){const[y,{writable:b,readonly:A}]=g;n.push(y),i.writable.push(...b),i.readonly.push(...A)}}const[o,a]=r.getMessageComponents(),f=new iS(a,i).compileInstructions(e.instructions);return new lP({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:f,addressTableLookups:n})}serialize(){const e=Array();la(e,this.staticAccountKeys.length);const r=this.serializeInstructions(),n=Array();la(n,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();la(s,this.addressTableLookups.length);const o=pe([Ge("prefix"),pe([Ge("numRequiredSignatures"),Ge("numReadonlySignedAccounts"),Ge("numReadonlyUnsignedAccounts")],"header"),at(e.length,"staticAccountKeysLength"),Mt(Ir(),this.staticAccountKeys.length,"staticAccountKeys"),Ir("recentBlockhash"),at(n.length,"instructionsLength"),at(r.length,"serializedInstructions"),at(s.length,"addressTableLookupsLength"),at(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(gh),f=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(d=>d.toBytes()),recentBlockhash:yi.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,f)}serializeInstructions(){let e=0;const r=new Uint8Array(gh);for(const n of this.compiledInstructions){const i=Array();la(i,n.accountKeyIndexes.length);const s=Array();la(s,n.data.length);const o=pe([Ge("programIdIndex"),at(i.length,"encodedAccountKeyIndexesLength"),Mt(Ge(),n.accountKeyIndexes.length,"accountKeyIndexes"),at(s.length,"encodedDataLength"),at(n.data.length,"data")]);e+=o.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0;const r=new Uint8Array(gh);for(const n of this.addressTableLookups){const i=Array();la(i,n.writableIndexes.length);const s=Array();la(s,n.readonlyIndexes.length);const o=pe([Ir("accountKey"),at(i.length,"encodedWritableIndexesLength"),Mt(Ge(),n.writableIndexes.length,"writableIndexes"),at(s.length,"encodedReadonlyIndexesLength"),Mt(Ge(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e];const n=$c(r),i=n&A3;Yr(n!==i,"Expected versioned message but received legacy message");const s=i;Yr(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:$c(r),numReadonlySignedAccounts:$c(r),numReadonlyUnsignedAccounts:$c(r)},a=[],u=Lo(r);for(let A=0;A<u;A++)a.push(new pt(Do(r,0,rl)));const f=yi.encode(Do(r,0,rl)),d=Lo(r),g=[];for(let A=0;A<d;A++){const x=$c(r),k=Lo(r),I=Do(r,0,k),R=Lo(r),M=new Uint8Array(Do(r,0,R));g.push({programIdIndex:x,accountKeyIndexes:I,data:M})}const y=Lo(r),b=[];for(let A=0;A<y;A++){const x=new pt(Do(r,0,rl)),k=Lo(r),I=Do(r,0,k),R=Lo(r),M=Do(r,0,R);b.push({accountKey:x,writableIndexes:I,readonlyIndexes:M})}return new lP({header:o,staticAccountKeys:a,recentBlockhash:f,compiledInstructions:g,addressTableLookups:b})}};const dO={deserializeMessageVersion(t){const e=t[0],r=e&A3;return r===e?"legacy":r},deserialize:t=>{const e=dO.deserializeMessageVersion(t);if(e==="legacy")return Eh.from(t);if(e===0)return x3.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let Gl=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const RCe=xe.Buffer.alloc(nS).fill(0);let pn=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=xe.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},cn=class fP{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{const{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new pn(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let x=0;x<r.length;x++)if(r[x].programId===void 0)throw new Error(`Transaction instruction index ${x} has undefined program id`);const i=[],s=[];r.forEach(x=>{x.keys.forEach(I=>{s.push({...I})});const k=x.programId.toString();i.includes(k)||i.push(k)}),i.forEach(x=>{s.push({pubkey:new pt(x),isSigner:!1,isWritable:!1})});const o=[];s.forEach(x=>{const k=x.pubkey.toString(),I=o.findIndex(R=>R.pubkey.toString()===k);I>-1?(o[I].isWritable=o[I].isWritable||x.isWritable,o[I].isSigner=o[I].isSigner||x.isSigner):o.push(x)}),o.sort(function(x,k){if(x.isSigner!==k.isSigner)return x.isSigner?-1:1;if(x.isWritable!==k.isWritable)return x.isWritable?-1:1;const I={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return x.pubkey.toBase58().localeCompare(k.pubkey.toBase58(),"en",I)});const a=o.findIndex(x=>x.pubkey.equals(n));if(a>-1){const[x]=o.splice(a,1);x.isSigner=!0,x.isWritable=!0,o.unshift(x)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const x of this.signatures){const k=o.findIndex(I=>I.pubkey.equals(x.publicKey));if(k>-1)o[k].isSigner||(o[k].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${x.publicKey.toString()}`)}let u=0,f=0,d=0;const g=[],y=[];o.forEach(({pubkey:x,isSigner:k,isWritable:I})=>{k?(g.push(x.toString()),u+=1,I||(f+=1)):(y.push(x.toString()),I||(d+=1))});const b=g.concat(y),A=r.map(x=>{const{data:k,programId:I}=x;return{programIdIndex:b.indexOf(I.toString()),accounts:x.keys.map(R=>b.indexOf(R.pubkey.toString())),data:yi.encode(k)}});return A.forEach(x=>{Yr(x.programIdIndex>=0),x.accounts.forEach(k=>Yr(k>=0))}),new Eh({header:{numRequiredSignatures:u,numReadonlySignedAccounts:f,numReadonlyUnsignedAccounts:d},accountKeys:b,recentBlockhash:e,instructions:A})}_compile(){const e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,s)=>r[s].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const r=new Set;this.signatures=e.filter(n=>{const i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const s of e){const o=s.publicKey.toString();r.has(o)||(r.add(o),n.push(s))}this.signatures=n.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const s of e){const o=s.publicKey.toString();r.has(o)||(r.add(o),n.push(s))}const i=this._compile();this._partialSign(i,...n)}_partialSign(e,...r){const n=e.serialize();r.forEach(i=>{const s=uO(n,i.secretKey);this._addSignature(i.publicKey,Sr(s))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){Yr(r.length===64);const n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=xe.Buffer.from(r)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,r){const n={};for(const{signature:i,publicKey:s}of this.signatures)i===null?r&&(n.missing||(n.missing=[])).push(s):vCe(i,e,s.toBytes())||(n.invalid||(n.invalid=[])).push(s);return n.invalid||n.missing?n:void 0}serialize(e){const{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n){const s=this._getMessageSignednessErrors(i,r);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(e){const{signatures:r}=this,n=[];la(n,r.length);const i=n.length+r.length*64+e.length,s=xe.Buffer.alloc(i);return Yr(r.length<256),xe.Buffer.from(n).copy(s,0),r.forEach(({signature:o},a)=>{o!==null&&(Yr(o.length===64,"signature has invalid length"),xe.Buffer.from(o).copy(s,n.length+a*64))}),e.copy(s,n.length+r.length*64),Yr(s.length<=gh,`Transaction too large: ${s.length} > ${gh}`),s}get keys(){return Yr(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Yr(this.instructions.length===1),this.instructions[0].programId}get data(){return Yr(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e];const n=Lo(r);let i=[];for(let s=0;s<n;s++){const o=Do(r,0,nS);i.push(yi.encode(xe.Buffer.from(o)))}return fP.populate(Eh.from(r),i)}static populate(e,r=[]){const n=new fP;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((i,s)=>{const o={signature:i==yi.encode(RCe)?null:yi.decode(i),publicKey:e.accountKeys[s]};n.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:n.signatures.some(u=>u.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});n.instructions.push(new pn({keys:s,programId:e.accountKeys[i.programIdIndex],data:yi.decode(i.data)}))}),n._message=e,n._json=n.toJSON(),n}},MCe=class Fee{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){const{header:n,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:u}=n,f=o-a;Yr(f>0,"Message header is invalid");const d=e.staticAccountKeys.length-o-u;Yr(d>=0,"Message header is invalid");const g=e.getAccountKeys(r),y=g.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const b=[];for(const A of i){const x=[];for(const I of A.accountKeyIndexes){const R=g.get(I);if(R===void 0)throw new Error(`Failed to find key for account key index ${I}`);const M=I<o;let P;M?P=I<f:I<g.staticAccountKeys.length?P=I-o<d:P=I-g.staticAccountKeys.length<g.accountKeysFromLookups.writable.length,x.push({pubkey:R,isSigner:I<n.numRequiredSignatures,isWritable:P})}const k=g.get(A.programIdIndex);if(k===void 0)throw new Error(`Failed to find program id for program id index ${A.programIdIndex}`);b.push(new pn({programId:k,data:Sr(A.data),keys:x}))}return new Fee({payerKey:y,instructions:b,recentBlockhash:s})}compileToLegacyMessage(){return Eh.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return x3.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}},CCe=class $ee{get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)Yr(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{const n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(nS));this.signatures=n}this.message=e}serialize(){const e=this.message.serialize(),r=Array();la(r,this.signatures.length);const n=pe([at(r.length,"encodedSignaturesLength"),Mt(xCe(),this.signatures.length,"signatures"),at(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let r=[...e];const n=[],i=Lo(r);for(let o=0;o<i;o++)n.push(new Uint8Array(Do(r,0,nS)));const s=dO.deserialize(new Uint8Array(r));return new $ee(s,n)}sign(e){const r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=n.findIndex(o=>o.equals(i.publicKey));Yr(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=uO(r,i.secretKey)}}addSignature(e,r){Yr(r.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));Yr(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}};const PCe=160,NCe=64,BCe=PCe/NCe,Uee=1e3/BCe,Cu=new pt("SysvarC1ock11111111111111111111111111111111"),OCe=new pt("SysvarEpochSchedu1e111111111111111111111111"),LCe=new pt("Sysvar1nstructions1111111111111111111111111"),U2=new pt("SysvarRecentB1ockHashes11111111111111111111"),R0=new pt("SysvarRent111111111111111111111111111111111"),DCe=new pt("SysvarRewards111111111111111111111111111111"),FCe=new pt("SysvarS1otHashes111111111111111111111111111"),$Ce=new pt("SysvarS1otHistory11111111111111111111111111"),z2=new pt("SysvarStakeHistory1111111111111111111111111");let kh=class extends Error{constructor({action:e,signature:r,transactionMessage:n,logs:i}){const s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${r} resulted in an error. 
${n}. `+s+o;break;case"simulate":a=`Simulation failed. 
Message: ${n}. 
`+s+o;break;default:a=`Unknown action '${(u=>u)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=r,this.transactionMessage=n,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((r,n)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const s=i.meta.logMessages;this.transactionLogs=s,r(s)}else n(new Error("Log messages not found"))}).catch(n)})),await this.transactionLogs}};const UCe={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};let $t=class extends Error{constructor({code:e,message:r,data:n},i){super(i!=null?`${i}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}};async function dP(t,e,r,n){const i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},s=await t.sendTransaction(e,r,i);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await t.confirmTransaction({abortSignal:n==null?void 0:n.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,u=a.keys[0].pubkey;o=(await t.confirmTransaction({abortSignal:n==null?void 0:n.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:u,nonceValue:e.nonceInfo.nonce,signature:s},n&&n.commitment)).value}else(n==null?void 0:n.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await t.confirmTransaction(s,n&&n.commitment)).value;if(o.err)throw s!=null?new kh({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${s} failed (${JSON.stringify(o)})`);return s}function yp(t){return new Promise(e=>setTimeout(e,t))}function Lr(t,e){const r=t.layout.span>=0?t.layout.span:Bee(t,e),n=xe.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}function rn(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${t.index}`);return r}const zee=bt("lamportsPerSignature"),Wee=pe([ge("version"),ge("state"),Ir("authorizedPubkey"),Ir("nonce"),pe([zee],"feeCalculator")]),hP=Wee.span;let jee=class Kee{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const r=Wee.decode(Sr(e),0);return new Kee({authorizedPubkey:new pt(r.authorizedPubkey),nonce:new pt(r.nonce).toString(),feeCalculator:r.feeCalculator})}};const zCe=t=>{const e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},WCe=t=>e=>{const r=at(t,e),{encode:n,decode:i}=zCe(r),s=r;return s.decode=(o,a)=>{const u=i(o,a);return f1(xe.Buffer.from(u))},s.encode=(o,a,u)=>{const f=Uh(o,t);return n(f,a,u)},s},Bb=WCe(8);let jCe=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=ge("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Ln))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r,space:n,programId:i}=rn(Ln.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:n,programId:new pt(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r}=rn(Ln.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r,seed:n,programId:i}=rn(Ln.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:n,programId:new pt(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:r}=rn(Ln.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:n,space:i,programId:s}=rn(Ln.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new pt(r),seed:n,space:i,programId:new pt(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:r}=rn(Ln.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new pt(r)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:n,programId:i}=rn(Ln.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new pt(r),seed:n,programId:new pt(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:r,seed:n,lamports:i,space:s,programId:o}=rn(Ln.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new pt(r),seed:n,lamports:i,space:s,programId:new pt(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:r}=rn(Ln.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new pt(r)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),rn(Ln.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=rn(Ln.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r}=rn(Ln.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new pt(r)}}static checkProgramId(e){if(!e.equals(Ps.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}};const Ln=Object.freeze({Create:{index:0,layout:pe([ge("instruction"),Lt("lamports"),Lt("space"),Ir("programId")])},Assign:{index:1,layout:pe([ge("instruction"),Ir("programId")])},Transfer:{index:2,layout:pe([ge("instruction"),Bb("lamports")])},CreateWithSeed:{index:3,layout:pe([ge("instruction"),Ir("base"),Rp("seed"),Lt("lamports"),Lt("space"),Ir("programId")])},AdvanceNonceAccount:{index:4,layout:pe([ge("instruction")])},WithdrawNonceAccount:{index:5,layout:pe([ge("instruction"),Lt("lamports")])},InitializeNonceAccount:{index:6,layout:pe([ge("instruction"),Ir("authorized")])},AuthorizeNonceAccount:{index:7,layout:pe([ge("instruction"),Ir("authorized")])},Allocate:{index:8,layout:pe([ge("instruction"),Lt("space")])},AllocateWithSeed:{index:9,layout:pe([ge("instruction"),Ir("base"),Rp("seed"),Lt("space"),Ir("programId")])},AssignWithSeed:{index:10,layout:pe([ge("instruction"),Ir("base"),Rp("seed"),Ir("programId")])},TransferWithSeed:{index:11,layout:pe([ge("instruction"),Bb("lamports"),Rp("seed"),Ir("programId")])},UpgradeNonceAccount:{index:12,layout:pe([ge("instruction")])}});let Ps=class pP{constructor(){}static createAccount(e){const r=Ln.Create,n=Lr(r,{lamports:e.lamports,space:e.space,programId:Sr(e.programId.toBuffer())});return new pn({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){const i=Ln.TransferWithSeed;r=Lr(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Sr(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=Ln.Transfer;r=Lr(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new pn({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){const i=Ln.AssignWithSeed;r=Lr(i,{base:Sr(e.basePubkey.toBuffer()),seed:e.seed,programId:Sr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Ln.Assign;r=Lr(i,{programId:Sr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new pn({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){const r=Ln.CreateWithSeed,n=Lr(r,{base:Sr(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Sr(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new pn({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){const r=new cn;"basePubkey"in e&&"seed"in e?r.add(pP.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:hP,programId:this.programId})):r.add(pP.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:hP,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){const r=Ln.InitializeNonceAccount,n=Lr(r,{authorized:Sr(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:U2,isSigner:!1,isWritable:!1},{pubkey:R0,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new pn(i)}static nonceAdvance(e){const r=Ln.AdvanceNonceAccount,n=Lr(r),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:U2,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new pn(i)}static nonceWithdraw(e){const r=Ln.WithdrawNonceAccount,n=Lr(r,{lamports:e.lamports});return new pn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:U2,isSigner:!1,isWritable:!1},{pubkey:R0,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){const r=Ln.AuthorizeNonceAccount,n=Lr(r,{authorized:Sr(e.newAuthorizedPubkey.toBuffer())});return new pn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){const i=Ln.AllocateWithSeed;r=Lr(i,{base:Sr(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Sr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Ln.Allocate;r=Lr(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new pn({keys:n,programId:this.programId,data:r})}};Ps.programId=new pt("11111111111111111111111111111111");const KCe=gh-300;let aE=class gP{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/gP.chunkSize)+1+1)}static async load(e,r,n,i,s){{const g=await e.getMinimumBalanceForRentExemption(s.length),y=await e.getAccountInfo(n.publicKey,"confirmed");let b=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==s.length&&(b=b||new cn,b.add(Ps.allocate({accountPubkey:n.publicKey,space:s.length}))),y.owner.equals(i)||(b=b||new cn,b.add(Ps.assign({accountPubkey:n.publicKey,programId:i}))),y.lamports<g&&(b=b||new cn,b.add(Ps.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:g-y.lamports})))}else b=new cn().add(Ps.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:g>0?g:1,space:s.length,programId:i}));b!==null&&await dP(e,b,[r,n],{commitment:"confirmed"})}const o=pe([ge("instruction"),ge("offset"),ge("bytesLength"),ge("bytesLengthPadding"),Mt(Ge("byte"),zr(ge(),-8),"bytes")]),a=gP.chunkSize;let u=0,f=s,d=[];for(;f.length>0;){const g=f.slice(0,a),y=xe.Buffer.alloc(a+16);o.encode({instruction:0,offset:u,bytes:g,bytesLength:0,bytesLengthPadding:0},y);const b=new cn().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:y});d.push(dP(e,b,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await yp(1e3/4),u+=a,f=f.slice(a)}await Promise.all(d);{const g=pe([ge("instruction")]),y=xe.Buffer.alloc(g.span);g.encode({instruction:1},y);const b=new cn().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:R0,isSigner:!1,isWritable:!1}],programId:i,data:y}),A="processed",x=await e.sendTransaction(b,[r,n],{preflightCommitment:A}),{context:k,value:I}=await e.confirmTransaction({signature:x,lastValidBlockHeight:b.lastValidBlockHeight,blockhash:b.recentBlockhash},A);if(I.err)throw new Error(`Transaction ${x} failed (${JSON.stringify(I)})`);for(;;){try{if(await e.getSlot({commitment:A})>k.slot)break}catch{}await new Promise(R=>setTimeout(R,Math.round(Uee/2)))}}return!0}};aE.chunkSize=KCe;const HCe=new pt("BPFLoader2111111111111111111111111111111111");let qCe=class{static getMinNumSignatures(e){return aE.getMinNumSignatures(e)}static load(e,r,n,i,s){return aE.load(e,r,n,s,i)}};function VCe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Q4,sj;function GCe(){if(sj)return Q4;sj=1;var t=Object.prototype.toString,e=Object.keys||function(n){var i=[];for(var s in n)i.push(s);return i};function r(n,i){var s,o,a,u,f,d,g;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return r(n.toJSON(),i);if(g=t.call(n),g==="[object Array]"){for(a="[",o=n.length-1,s=0;s<o;s++)a+=r(n[s],!0)+",";return o>-1&&(a+=r(n[s],!0)),a+"]"}else if(g==="[object Object]"){for(u=e(n).sort(),o=u.length,a="",s=0;s<o;)f=u[s],d=r(n[f],!1),d!==void 0&&(a&&(a+=","),a+=JSON.stringify(f)+":"+d),s++;return"{"+a+"}"}else return JSON.stringify(n);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}return Q4=function(n){var i=r(n,!1);if(i!==void 0)return""+i},Q4}var YCe=GCe(),oj=VCe(YCe);const cv=32;function eR(t){let e=0;for(;t>1;)t/=2,e++;return e}function ZCe(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}let Hee=class{constructor(e,r,n,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const r=eR(ZCe(e+cv+1))-eR(cv)-1,n=this.getSlotsInEpoch(r),i=e-(n-cv);return[r,i]}else{const r=e-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),i=this.firstNormalEpoch+n,s=r%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*cv:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+eR(cv)):this.slotsPerEpoch}};var XCe=globalThis.fetch;let JCe=class extends XN{constructor(e,r,n){const i=s=>{const o=ZN(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,e,r,n),this.underlyingSocket=void 0}call(...e){var n;const r=(n=this.underlyingSocket)==null?void 0:n.readyState;return r===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){var n;const r=(n=this.underlyingSocket)==null?void 0:n.readyState;return r===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}};function QCe(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}const aj=56;let mP=class{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const r=QCe(ePe,e),n=e.length-aj;Yr(n>=0,"lookup table is invalid"),Yr(n%32===0,"lookup table is invalid");const i=n/32,{addresses:s}=pe([Mt(Ir(),i,"addresses")]).decode(e.slice(aj));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new pt(r.authority[0]):void 0,addresses:s.map(o=>new pt(o))}}};const ePe={index:1,layout:pe([ge("typeIndex"),Bb("deactivationSlot"),bt("lastExtendedSlot"),Ge("lastExtendedStartIndex"),Ge(),Mt(Ir(),zr(Ge(),-1),"authority")])},tPe=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function rPe(t){const e=t.match(tPe);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[r,n,i,s]=e,o=t.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),u=a==null?"":`:${a+1}`;return`${o}//${n}${u}${s}`}const ci=f_(oO(pt),mt(),t=>new pt(t)),qee=aO([mt(),ni("base64")]),hO=f_(oO(xe.Buffer),qee,t=>xe.Buffer.from(t[0],"base64")),Vee=30*1e3;function nPe(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function Bn(t){let e,r;if(typeof t=="string")e=t;else if(t){const{commitment:n,...i}=t;e=n,r=i}return{commitment:e,config:r}}function uj(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function Gee(t){return So([ct({jsonrpc:ni("2.0"),id:mt(),result:t}),ct({jsonrpc:ni("2.0"),id:mt(),error:ct({code:v1(),message:mt(),data:Gt(mCe())})})])}const iPe=Gee(v1());function vr(t){return f_(Gee(t),iPe,e=>"error"in e?e:{...e,result:wt(e.result,t)})}function _i(t){return vr(ct({context:ct({slot:De()}),value:t}))}function E3(t){return ct({context:ct({slot:De()}),value:t})}function tR(t,e){return t===0?new x3({header:e.header,staticAccountKeys:e.accountKeys.map(r=>new pt(r)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:yi.decode(r.data)})),addressTableLookups:e.addressTableLookups}):new Eh(e)}const sPe=ct({foundation:De(),foundationTerm:De(),initial:De(),taper:De(),terminal:De()}),oPe=vr(_t(xt(ct({epoch:De(),effectiveSlot:De(),amount:De(),postBalance:De(),commission:Gt(xt(De()))})))),aPe=_t(ct({slot:De(),prioritizationFee:De()})),uPe=ct({total:De(),validator:De(),foundation:De(),epoch:De()}),cPe=ct({epoch:De(),slotIndex:De(),slotsInEpoch:De(),absoluteSlot:De(),blockHeight:Gt(De()),transactionCount:Gt(De())}),lPe=ct({slotsPerEpoch:De(),leaderScheduleSlotOffset:De(),warmup:dl(),firstNormalEpoch:De(),firstNormalSlot:De()}),fPe=Cee(mt(),_t(De())),ig=xt(So([ct({}),mt()])),dPe=ct({err:ig}),hPe=ni("receivedSignature"),pPe=ct({"solana-core":mt(),"feature-set":Gt(De())}),gPe=ct({program:mt(),programId:ci,parsed:v1()}),mPe=ct({programId:ci,accounts:_t(ci),data:mt()}),cj=_i(ct({err:xt(So([ct({}),mt()])),logs:xt(_t(mt())),accounts:Gt(xt(_t(xt(ct({executable:dl(),owner:mt(),lamports:De(),data:_t(mt()),rentEpoch:Gt(De())}))))),unitsConsumed:Gt(De()),returnData:Gt(xt(ct({programId:mt(),data:aO([mt(),ni("base64")])}))),innerInstructions:Gt(xt(_t(ct({index:De(),instructions:_t(So([gPe,mPe]))}))))})),yPe=_i(ct({byIdentity:Cee(mt(),_t(De())),range:ct({firstSlot:De(),lastSlot:De()})}));function bPe(t,e,r,n,i,s){const o=r||XCe;let a;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let u;return n&&(u=async(d,g)=>{const y=await new Promise((b,A)=>{try{n(d,g,(x,k)=>b([x,k]))}catch(x){A(x)}});return await o(...y)}),new YN(async(d,g)=>{const y={method:"POST",body:d,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},b5e)};try{let b=5,A,x=500;for(;u?A=await u(t,y):A=await o(t,y),!(A.status!==429||i===!0||(b-=1,b===0));)console.error(`Server responded with ${A.status} ${A.statusText}.  Retrying after ${x}ms delay...`),await yp(x),x*=2;const k=await A.text();A.ok?g(null,k):g(new Error(`${A.status} ${A.statusText}: ${k}`))}catch(b){b instanceof Error&&g(b)}},{})}function vPe(t){return(e,r)=>new Promise((n,i)=>{t.request(e,r,(s,o)=>{if(s){i(s);return}n(o)})})}function wPe(t){return e=>new Promise((r,n)=>{e.length===0&&r([]);const i=e.map(s=>t.request(s.methodName,s.args));t.request(i,(s,o)=>{if(s){n(s);return}r(o)})})}const SPe=vr(sPe),_Pe=vr(uPe),APe=vr(aPe),xPe=vr(cPe),EPe=vr(lPe),kPe=vr(fPe),TPe=vr(De()),IPe=_i(ct({total:De(),circulating:De(),nonCirculating:De(),nonCirculatingAccounts:_t(ci)})),yP=ct({amount:mt(),uiAmount:xt(De()),decimals:De(),uiAmountString:Gt(mt())}),RPe=_i(_t(ct({address:ci,amount:mt(),uiAmount:xt(De()),decimals:De(),uiAmountString:Gt(mt())}))),MPe=_i(_t(ct({pubkey:ci,account:ct({executable:dl(),owner:ci,lamports:De(),data:hO,rentEpoch:De()})}))),bP=ct({program:mt(),parsed:v1(),space:De()}),CPe=_i(_t(ct({pubkey:ci,account:ct({executable:dl(),owner:ci,lamports:De(),data:bP,rentEpoch:De()})}))),PPe=_i(_t(ct({lamports:De(),address:ci}))),sS=ct({executable:dl(),owner:ci,lamports:De(),data:hO,rentEpoch:De()}),NPe=ct({pubkey:ci,account:sS}),BPe=f_(So([oO(xe.Buffer),bP]),So([qee,bP]),t=>Array.isArray(t)?wt(t,hO):t),vP=ct({executable:dl(),owner:ci,lamports:De(),data:BPe,rentEpoch:De()}),OPe=ct({pubkey:ci,account:vP}),LPe=ct({state:So([ni("active"),ni("inactive"),ni("activating"),ni("deactivating")]),active:De(),inactive:De()}),DPe=vr(_t(ct({signature:mt(),slot:De(),err:ig,memo:xt(mt()),blockTime:Gt(xt(De()))}))),FPe=vr(_t(ct({signature:mt(),slot:De(),err:ig,memo:xt(mt()),blockTime:Gt(xt(De()))}))),$Pe=ct({subscription:De(),result:E3(sS)}),UPe=ct({pubkey:ci,account:sS}),zPe=ct({subscription:De(),result:E3(UPe)}),WPe=ct({parent:De(),slot:De(),root:De()}),jPe=ct({subscription:De(),result:WPe}),KPe=So([ct({type:So([ni("firstShredReceived"),ni("completed"),ni("optimisticConfirmation"),ni("root")]),slot:De(),timestamp:De()}),ct({type:ni("createdBank"),parent:De(),slot:De(),timestamp:De()}),ct({type:ni("frozen"),slot:De(),timestamp:De(),stats:ct({numTransactionEntries:De(),numSuccessfulTransactions:De(),numFailedTransactions:De(),maxTransactionsPerEntry:De()})}),ct({type:ni("dead"),slot:De(),timestamp:De(),err:mt()})]),HPe=ct({subscription:De(),result:KPe}),qPe=ct({subscription:De(),result:E3(So([dPe,hPe]))}),VPe=ct({subscription:De(),result:De()}),GPe=ct({pubkey:mt(),gossip:xt(mt()),tpu:xt(mt()),rpc:xt(mt()),version:xt(mt())}),lj=ct({votePubkey:mt(),nodePubkey:mt(),activatedStake:De(),epochVoteAccount:dl(),epochCredits:_t(aO([De(),De(),De()])),commission:De(),lastVote:De(),rootSlot:xt(De())}),YPe=vr(ct({current:_t(lj),delinquent:_t(lj)})),ZPe=So([ni("processed"),ni("confirmed"),ni("finalized")]),XPe=ct({slot:De(),confirmations:xt(De()),err:ig,confirmationStatus:Gt(ZPe)}),JPe=_i(_t(xt(XPe))),QPe=vr(De()),Yee=ct({accountKey:ci,writableIndexes:_t(De()),readonlyIndexes:_t(De())}),pO=ct({signatures:_t(mt()),message:ct({accountKeys:_t(mt()),header:ct({numRequiredSignatures:De(),numReadonlySignedAccounts:De(),numReadonlyUnsignedAccounts:De()}),instructions:_t(ct({accounts:_t(De()),data:mt(),programIdIndex:De()})),recentBlockhash:mt(),addressTableLookups:Gt(_t(Yee))})}),Zee=ct({pubkey:ci,signer:dl(),writable:dl(),source:Gt(So([ni("transaction"),ni("lookupTable")]))}),Xee=ct({accountKeys:_t(Zee),signatures:_t(mt())}),Jee=ct({parsed:v1(),program:mt(),programId:ci}),Qee=ct({accounts:_t(ci),data:mt(),programId:ci}),e5e=So([Qee,Jee]),t5e=So([ct({parsed:v1(),program:mt(),programId:mt()}),ct({accounts:_t(mt()),data:mt(),programId:mt()})]),ete=f_(e5e,t5e,t=>"accounts"in t?wt(t,Qee):wt(t,Jee)),tte=ct({signatures:_t(mt()),message:ct({accountKeys:_t(Zee),instructions:_t(ete),recentBlockhash:mt(),addressTableLookups:Gt(xt(_t(Yee)))})}),uE=ct({accountIndex:De(),mint:mt(),owner:Gt(mt()),programId:Gt(mt()),uiTokenAmount:yP}),rte=ct({writable:_t(ci),readonly:_t(ci)}),k3=ct({err:ig,fee:De(),innerInstructions:Gt(xt(_t(ct({index:De(),instructions:_t(ct({accounts:_t(De()),data:mt(),programIdIndex:De()}))})))),preBalances:_t(De()),postBalances:_t(De()),logMessages:Gt(xt(_t(mt()))),preTokenBalances:Gt(xt(_t(uE))),postTokenBalances:Gt(xt(_t(uE))),loadedAddresses:Gt(rte),computeUnitsConsumed:Gt(De())}),gO=ct({err:ig,fee:De(),innerInstructions:Gt(xt(_t(ct({index:De(),instructions:_t(ete)})))),preBalances:_t(De()),postBalances:_t(De()),logMessages:Gt(xt(_t(mt()))),preTokenBalances:Gt(xt(_t(uE))),postTokenBalances:Gt(xt(_t(uE))),loadedAddresses:Gt(rte),computeUnitsConsumed:Gt(De())}),w1=So([ni(0),ni("legacy")]),sg=ct({pubkey:mt(),lamports:De(),postBalance:xt(De()),rewardType:xt(mt()),commission:Gt(xt(De()))}),r5e=vr(xt(ct({blockhash:mt(),previousBlockhash:mt(),parentSlot:De(),transactions:_t(ct({transaction:pO,meta:xt(k3),version:Gt(w1)})),rewards:Gt(_t(sg)),blockTime:xt(De()),blockHeight:xt(De())}))),n5e=vr(xt(ct({blockhash:mt(),previousBlockhash:mt(),parentSlot:De(),rewards:Gt(_t(sg)),blockTime:xt(De()),blockHeight:xt(De())}))),i5e=vr(xt(ct({blockhash:mt(),previousBlockhash:mt(),parentSlot:De(),transactions:_t(ct({transaction:Xee,meta:xt(k3),version:Gt(w1)})),rewards:Gt(_t(sg)),blockTime:xt(De()),blockHeight:xt(De())}))),s5e=vr(xt(ct({blockhash:mt(),previousBlockhash:mt(),parentSlot:De(),transactions:_t(ct({transaction:tte,meta:xt(gO),version:Gt(w1)})),rewards:Gt(_t(sg)),blockTime:xt(De()),blockHeight:xt(De())}))),o5e=vr(xt(ct({blockhash:mt(),previousBlockhash:mt(),parentSlot:De(),transactions:_t(ct({transaction:Xee,meta:xt(gO),version:Gt(w1)})),rewards:Gt(_t(sg)),blockTime:xt(De()),blockHeight:xt(De())}))),a5e=vr(xt(ct({blockhash:mt(),previousBlockhash:mt(),parentSlot:De(),rewards:Gt(_t(sg)),blockTime:xt(De()),blockHeight:xt(De())}))),u5e=vr(xt(ct({blockhash:mt(),previousBlockhash:mt(),parentSlot:De(),transactions:_t(ct({transaction:pO,meta:xt(k3)})),rewards:Gt(_t(sg)),blockTime:xt(De())}))),fj=vr(xt(ct({blockhash:mt(),previousBlockhash:mt(),parentSlot:De(),signatures:_t(mt()),blockTime:xt(De())}))),rR=vr(xt(ct({slot:De(),meta:xt(k3),blockTime:Gt(xt(De())),transaction:pO,version:Gt(w1)}))),OA=vr(xt(ct({slot:De(),transaction:tte,meta:xt(gO),blockTime:Gt(xt(De())),version:Gt(w1)}))),c5e=_i(ct({blockhash:mt(),lastValidBlockHeight:De()})),l5e=_i(dl()),f5e=ct({slot:De(),numTransactions:De(),numSlots:De(),samplePeriodSecs:De()}),d5e=vr(_t(f5e)),h5e=_i(xt(ct({feeCalculator:ct({lamportsPerSignature:De()})}))),p5e=vr(mt()),g5e=vr(mt()),m5e=ct({err:ig,logs:_t(mt()),signature:mt()}),y5e=ct({result:E3(m5e),subscription:De()}),b5e={"solana-client":"js/1.0.0-maintenance"};let v5e=class{constructor(e,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const f={};return async d=>{const{commitment:g,config:y}=Bn(d),b=this._buildArgs([],g,void 0,y),A=oj(b);return f[A]=f[A]??(async()=>{try{const x=await this._rpcRequest("getBlockHeight",b),k=wt(x,vr(De()));if("error"in k)throw new $t(k.error,"failed to get block height information");return k.result}finally{delete f[A]}})(),await f[A]}})();let n,i,s,o,a,u;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,i=r.httpHeaders,s=r.fetch,o=r.fetchMiddleware,a=r.disableRetryOnRateLimit,u=r.httpAgent),this._rpcEndpoint=nPe(e),this._rpcWsEndpoint=n||rPe(e),this._rpcClient=bPe(e,i,s,o,a,u),this._rpcRequest=vPe(this._rpcClient),this._rpcBatchRequest=wPe(this._rpcClient),this._rpcWebSocket=new JCe(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){const{commitment:n,config:i}=Bn(r),s=this._buildArgs([e.toBase58()],n,void 0,i),o=await this._rpcRequest("getBalance",s),a=wt(o,_i(De()));if("error"in a)throw new $t(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){const r=await this._rpcRequest("getBlockTime",[e]),n=wt(r,vr(xt(De())));if("error"in n)throw new $t(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),r=wt(e,vr(De()));if("error"in r)throw new $t(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),r=wt(e,TPe);if("error"in r)throw new $t(r.error,"failed to get first available block");return r.result}async getSupply(e){let r={};typeof e=="string"?r={commitment:e}:e?r={...e,commitment:e&&e.commitment||this.commitment}:r={commitment:this.commitment};const n=await this._rpcRequest("getSupply",[r]),i=wt(n,IPe);if("error"in i)throw new $t(i.error,"failed to get supply");return i.result}async getTokenSupply(e,r){const n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenSupply",n),s=wt(i,_i(yP));if("error"in s)throw new $t(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,r){const n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenAccountBalance",n),s=wt(i,_i(yP));if("error"in s)throw new $t(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,r,n){const{commitment:i,config:s}=Bn(n);let o=[e.toBase58()];"mint"in r?o.push({mint:r.mint.toBase58()}):o.push({programId:r.programId.toBase58()});const a=this._buildArgs(o,i,"base64",s),u=await this._rpcRequest("getTokenAccountsByOwner",a),f=wt(u,MPe);if("error"in f)throw new $t(f.error,`failed to get token accounts owned by account ${e.toBase58()}`);return f.result}async getParsedTokenAccountsByOwner(e,r,n){let i=[e.toBase58()];"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()});const s=this._buildArgs(i,n,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),a=wt(o,CPe);if("error"in a)throw new $t(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const r={...e,commitment:e&&e.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],i=await this._rpcRequest("getLargestAccounts",n),s=wt(i,PPe);if("error"in s)throw new $t(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,r){const n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenLargestAccounts",n),s=wt(i,RPe);if("error"in s)throw new $t(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,r){const{commitment:n,config:i}=Bn(r),s=this._buildArgs([e.toBase58()],n,"base64",i),o=await this._rpcRequest("getAccountInfo",s),a=wt(o,_i(xt(sS)));if("error"in a)throw new $t(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,r){const{commitment:n,config:i}=Bn(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),a=wt(o,_i(xt(vP)));if("error"in a)throw new $t(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,r){const{commitment:n,config:i}=Bn(r),s=e.map(f=>f.toBase58()),o=this._buildArgs([s],n,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",o),u=wt(a,_i(_t(xt(vP))));if("error"in u)throw new $t(u.error,`failed to get info for accounts ${s}`);return u.result}async getMultipleAccountsInfoAndContext(e,r){const{commitment:n,config:i}=Bn(r),s=e.map(f=>f.toBase58()),o=this._buildArgs([s],n,"base64",i),a=await this._rpcRequest("getMultipleAccounts",o),u=wt(a,_i(_t(xt(sS))));if("error"in u)throw new $t(u.error,`failed to get info for accounts ${s}`);return u.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,n){const{commitment:i,config:s}=Bn(r),o=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:n??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getStakeActivation",o),u=wt(a,vr(LPe));if("error"in u)throw new $t(u.error,`failed to get Stake Activation ${e.toBase58()}`);return u.result}async getProgramAccounts(e,r){const{commitment:n,config:i}=Bn(r),{encoding:s,...o}=i||{},a=this._buildArgs([e.toBase58()],n,s||"base64",{...o,...o.filters?{filters:uj(o.filters)}:null}),u=await this._rpcRequest("getProgramAccounts",a),f=_t(NPe),d=o.withContext===!0?wt(u,_i(f)):wt(u,vr(f));if("error"in d)throw new $t(d.error,`failed to get accounts owned by program ${e.toBase58()}`);return d.result}async getParsedProgramAccounts(e,r){const{commitment:n,config:i}=Bn(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),a=wt(o,vr(_t(OPe)));if("error"in a)throw new $t(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,r){var s;let n;if(typeof e=="string")n=e;else{const o=e;if((s=o.abortSignal)!=null&&s.aborted)return Promise.reject(o.abortSignal.reason);n=o.signature}let i;try{i=yi.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return Yr(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((r,n)=>{e!=null&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:r}){let n,i,s=!1;const o=new Promise((u,f)=>{try{n=this.onSignature(r,(g,y)=>{n=void 0;const b={context:y,value:g};u({__type:Gl.PROCESSED,response:b})},e);const d=new Promise(g=>{n==null?g():i=this._onSubscriptionStateChange(n,y=>{y==="subscribed"&&g()})});(async()=>{if(await d,s)return;const g=await this.getSignatureStatus(r);if(s||g==null)return;const{context:y,value:b}=g;if(b!=null)if(b!=null&&b.err)f(b.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(b.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(b.confirmationStatus==="processed"||b.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,u({__type:Gl.PROCESSED,response:{context:y,value:b}})}})()}catch(d){f(d)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:i}}){let s=!1;const o=new Promise(g=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let b=await y();if(!s){for(;b<=n;)if(await yp(1e3),s||(b=await y(),s))return;g({__type:Gl.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),f=this.getCancellationPromise(r);let d;try{const g=await Promise.race([f,u,o]);if(g.__type===Gl.PROCESSED)d=g.response;else throw new lO(i)}finally{s=!0,a()}return d}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let a=!1;const u=new Promise(b=>{let A=s,x=null;const k=async()=>{try{const{context:I,value:R}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:n});return x=I.slot,R==null?void 0:R.nonce}catch{return A}};(async()=>{if(A=await k(),!a)for(;;){if(s!==A){b({__type:Gl.NONCE_INVALID,slotInWhichNonceDidAdvance:x});return}if(await yp(2e3),a||(A=await k(),a))return}})()}),{abortConfirmation:f,confirmationPromise:d}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),g=this.getCancellationPromise(r);let y;try{const b=await Promise.race([g,d,u]);if(b.__type===Gl.PROCESSED)y=b.response;else{let A;for(;;){const x=await this.getSignatureStatus(o);if(x==null)break;if(x.context.slot<(b.slotInWhichNonceDidAdvance??n)){await yp(400);continue}A=x;break}if(A!=null&&A.value){const x=e||"finalized",{confirmationStatus:k}=A.value;switch(x){case"processed":case"recent":if(k!=="processed"&&k!=="confirmed"&&k!=="finalized")throw new Bm(o);break;case"confirmed":case"single":case"singleGossip":if(k!=="confirmed"&&k!=="finalized")throw new Bm(o);break;case"finalized":case"max":case"root":if(k!=="finalized")throw new Bm(o);break;default:}y={context:A.context,value:{err:A.value.err}}}else throw new Bm(o)}}finally{a=!0,f()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:r}){let n;const i=new Promise(u=>{let f=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{f=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>u({__type:Gl.TIMED_OUT,timeoutMs:f}),f)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:r});let a;try{const u=await Promise.race([o,i]);if(u.__type===Gl.PROCESSED)a=u.response;else throw new fO(r,u.timeoutMs/1e3)}finally{clearTimeout(n),s()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),r=wt(e,vr(_t(GPe)));if("error"in r)throw new $t(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",r),i=wt(n,YPe);if("error"in i)throw new $t(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:r,config:n}=Bn(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlot",i),o=wt(s,vr(De()));if("error"in o)throw new $t(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:r,config:n}=Bn(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlotLeader",i),o=wt(s,vr(mt()));if("error"in o)throw new $t(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,r){const n=[e,r],i=await this._rpcRequest("getSlotLeaders",n),s=wt(i,vr(_t(ci)));if("error"in s)throw new $t(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,r){const{context:n,value:i}=await this.getSignatureStatuses([e],r);Yr(i.length===1);const s=i[0];return{context:n,value:s}}async getSignatureStatuses(e,r){const n=[e];r&&n.push(r);const i=await this._rpcRequest("getSignatureStatuses",n),s=wt(i,JPe);if("error"in s)throw new $t(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:r,config:n}=Bn(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getTransactionCount",i),o=wt(s,vr(De()));if("error"in o)throw new $t(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",r),i=wt(n,SPe);if("error"in i)throw new $t(i.error,"failed to get inflation");return i.result}async getInflationReward(e,r,n){const{commitment:i,config:s}=Bn(n),o=this._buildArgs([e.map(f=>f.toBase58())],i,void 0,{...s,epoch:r??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getInflationReward",o),u=wt(a,oPe);if("error"in u)throw new $t(u.error,"failed to get inflation reward");return u.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),r=wt(e,_Pe);if("error"in r)throw new $t(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(e){const{commitment:r,config:n}=Bn(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getEpochInfo",i),o=wt(s,xPe);if("error"in o)throw new $t(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),r=wt(e,EPe);if("error"in r)throw new $t(r.error,"failed to get epoch schedule");const n=r.result;return new Hee(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),r=wt(e,kPe);if("error"in r)throw new $t(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(e,r){const n=this._buildArgs([e],r),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),s=wt(i,QPe);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const{context:r,value:{blockhash:n}}=await this.getLatestBlockhashAndContext(e);return{context:r,value:{blockhash:n,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const r=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=wt(r,d5e);if("error"in n)throw new $t(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,r){const n=this._buildArgs([e],r),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),s=wt(i,h5e);if("error"in s)throw new $t(s.error,"failed to get fee calculator");const{context:o,value:a}=s.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,r){const n=Sr(e.serialize()).toString("base64"),i=this._buildArgs([n],r),s=await this._rpcRequest("getFeeForMessage",i),o=wt(s,_i(xt(De())));if("error"in o)throw new $t(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const r=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),n=r!=null&&r.length?[r]:[],i=await this._rpcRequest("getRecentPrioritizationFees",n),s=wt(i,APe);if("error"in s)throw new $t(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(e){const{commitment:r,config:n}=Bn(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getLatestBlockhash",i),o=wt(s,c5e);if("error"in o)throw new $t(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,r){const{commitment:n,config:i}=Bn(r),s=this._buildArgs([e],n,void 0,i),o=await this._rpcRequest("isBlockhashValid",s),a=wt(o,l5e);if("error"in a)throw new $t(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),r=wt(e,vr(pPe));if("error"in r)throw new $t(r.error,"failed to get version");return r.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),r=wt(e,vr(mt()));if("error"in r)throw new $t(r.error,"failed to get genesis hash");return r.result}async getBlock(e,r){const{commitment:n,config:i}=Bn(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=wt(o,i5e);if("error"in a)throw a.error;return a.result}case"none":{const a=wt(o,n5e);if("error"in a)throw a.error;return a.result}default:{const a=wt(o,r5e);if("error"in a)throw a.error;const{result:u}=a;return u?{...u,transactions:u.transactions.map(({transaction:f,meta:d,version:g})=>({meta:d,transaction:{...f,message:tR(g,f.message)},version:g}))}:null}}}catch(a){throw new $t(a,"failed to get confirmed block")}}async getParsedBlock(e,r){const{commitment:n,config:i}=Bn(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=wt(o,o5e);if("error"in a)throw a.error;return a.result}case"none":{const a=wt(o,a5e);if("error"in a)throw a.error;return a.result}default:{const a=wt(o,s5e);if("error"in a)throw a.error;return a.result}}}catch(a){throw new $t(a,"failed to get block")}}async getBlockProduction(e){let r,n;if(typeof e=="string")n=e;else if(e){const{commitment:a,...u}=e;n=a,r=u}const i=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getBlockProduction",i),o=wt(s,yPe);if("error"in o)throw new $t(o.error,"failed to get block production information");return o.result}async getTransaction(e,r){const{commitment:n,config:i}=Bn(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),o=await this._rpcRequest("getTransaction",s),a=wt(o,rR);if("error"in a)throw new $t(a.error,"failed to get transaction");const u=a.result;return u&&{...u,transaction:{...u.transaction,message:tR(u.version,u.transaction.message)}}}async getParsedTransaction(e,r){const{commitment:n,config:i}=Bn(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),a=wt(o,OA);if("error"in a)throw new $t(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,r){const{commitment:n,config:i}=Bn(r),s=e.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],n,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(u=>{const f=wt(u,OA);if("error"in f)throw new $t(f.error,"failed to get transactions");return f.result})}async getTransactions(e,r){const{commitment:n,config:i}=Bn(r),s=e.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],n,void 0,i)}));return(await this._rpcBatchRequest(s)).map(u=>{const f=wt(u,rR);if("error"in f)throw new $t(f.error,"failed to get transactions");const d=f.result;return d&&{...d,transaction:{...d.transaction,message:tR(d.version,d.transaction.message)}}})}async getConfirmedBlock(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getBlock",n),s=wt(i,u5e);if("error"in s)throw new $t(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:u,meta:f})=>{const d=new Eh(u.message);return{meta:f,transaction:{...u,message:d}}})};return{...a,transactions:a.transactions.map(({transaction:u,meta:f})=>({meta:f,transaction:cn.populate(u.message,u.signatures)}))}}async getBlocks(e,r,n){const i=this._buildArgsAtLeastConfirmed(r!==void 0?[e,r]:[e],n),s=await this._rpcRequest("getBlocks",i),o=wt(s,vr(_t(De())));if("error"in o)throw new $t(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),s=wt(i,fj);if("error"in s)throw new $t(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),s=wt(i,fj);if("error"in s)throw new $t(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getTransaction",n),s=wt(i,rR);if("error"in s)throw new $t(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const a=new Eh(o.transaction.message),u=o.transaction.signatures;return{...o,transaction:cn.populate(a,u)}}async getParsedConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),i=await this._rpcRequest("getTransaction",n),s=wt(i,OA);if("error"in s)throw new $t(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,r){const n=e.map(o=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([o],r,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(o=>{const a=wt(o,OA);if("error"in a)throw new $t(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,r,n){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(r--,!(r<=0||r<s));)try{const u=await this.getConfirmedBlockSignatures(r,"finalized");u.signatures.length>0&&(i.until=u.signatures[u.signatures.length-1].toString())}catch(u){if(u instanceof Error&&u.message.includes("skipped"))continue;throw u}let o=await this.getSlot("finalized");for(;!("before"in i)&&(n++,!(n>o));)try{const u=await this.getConfirmedBlockSignatures(n);u.signatures.length>0&&(i.before=u.signatures[u.signatures.length-1].toString())}catch(u){if(u instanceof Error&&u.message.includes("skipped"))continue;throw u}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(u=>u.signature)}async getConfirmedSignaturesForAddress2(e,r,n){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=wt(s,DPe);if("error"in o)throw new $t(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,r,n){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getSignaturesForAddress",i),o=wt(s,FPe);if("error"in o)throw new $t(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,r){const{context:n,value:i}=await this.getAccountInfoAndContext(e,r);let s=null;return i!==null&&(s=new mP({key:e,state:mP.deserialize(i.data)})),{context:n,value:s}}async getNonceAndContext(e,r){const{context:n,value:i}=await this.getAccountInfoAndContext(e,r);let s=null;return i!==null&&(s=jee.fromAccountData(i.data)),{context:n,value:s}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,r){const n=await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),i=wt(n,p5e);if("error"in i)throw new $t(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await yp(100);const n=Date.now()-this._blockhashInfo.lastFetch>=Vee;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(n!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await yp(Uee/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:r,config:n}=Bn(e),i=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=wt(s,_i(De()));if("error"in o)throw new $t(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,r,n){if("message"in e){const x=e.serialize(),k=xe.Buffer.from(x).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");const I=r||{};I.encoding="base64","commitment"in I||(I.commitment=this.commitment),r&&typeof r=="object"&&"innerInstructions"in r&&(I.innerInstructions=r.innerInstructions);const R=[k,I],M=await this._rpcRequest("simulateTransaction",R),P=wt(M,cj);if("error"in P)throw new Error("failed to simulate transaction: "+P.error.message);return P.result}let i;if(e instanceof cn){let A=e;i=new cn,i.feePayer=A.feePayer,i.instructions=e.instructions,i.nonceInfo=A.nonceInfo,i.signatures=A.signatures}else i=cn.populate(e),i._message=i._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");const s=r;if(i.nonceInfo&&s)i.sign(...s);else{let A=this._disableBlockhashCaching;for(;;){const x=await this._blockhashWithExpiryBlockHeight(A);if(i.lastValidBlockHeight=x.lastValidBlockHeight,i.recentBlockhash=x.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const k=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(k)&&!this._blockhashInfo.transactionSignatures.includes(k)){this._blockhashInfo.simulatedSignatures.push(k);break}else A=!0}}const o=i._compile(),a=o.serialize(),f=i._serialize(a).toString("base64"),d={encoding:"base64",commitment:this.commitment};if(n){const A=(Array.isArray(n)?n:o.nonProgramIds()).map(x=>x.toBase58());d.accounts={encoding:"base64",addresses:A}}s&&(d.sigVerify=!0),r&&typeof r=="object"&&"innerInstructions"in r&&(d.innerInstructions=r.innerInstructions);const g=[f,d],y=await this._rpcRequest("simulateTransaction",g),b=wt(y,cj);if("error"in b){let A;if("data"in b.error&&(A=b.error.data.logs,A&&Array.isArray(A))){const x=`
    `,k=x+A.join(x);console.error(b.error.message,k)}throw new kh({action:"simulate",signature:"",transactionMessage:b.error.message,logs:A})}return b.result}async sendTransaction(e,r,n){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");const i=r;if(e.nonceInfo)e.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const u=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(u))o=!0;else{this._blockhashInfo.transactionSignatures.push(u);break}}}const s=e.serialize();return await this.sendRawTransaction(s,n)}async sendRawTransaction(e,r){const n=Sr(e).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(e,r){const n={encoding:"base64"},i=r&&r.skipPreflight,s=i===!0?"processed":r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),s&&(n.preflightCommitment=s);const o=[e,n],a=await this._rpcRequest("sendTransaction",o),u=wt(a,g5e);if("error"in u){let f;throw"data"in u.error&&(f=u.error.data.logs),new kh({action:i?"send":"simulate",signature:"",transactionMessage:u.error.message,logs:f})}return u.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(e,r){var i;const n=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=r,n!==r.state){const s=this._subscriptionStateChangeCallbacksByHash[e];s&&s.forEach(o=>{try{o(r.state)}catch{}})}}_onSubscriptionStateChange(e,r){var s;const n=this._subscriptionHashByClientSubscriptionId[e];if(n==null)return()=>{};const i=(s=this._subscriptionStateChangeCallbacksByHash)[n]||(s[n]=new Set);return i.add(r),()=>{i.delete(r),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,r=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{const i=this._subscriptionsByHash[n];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[n],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(n,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(o,s);this._setSubscription(n,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:s,error:a}),!r())return;this._setSubscription(n,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(n,{...i,state:"unsubscribing"}),this._setSubscription(n,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!r())return;this._setSubscription(n,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,r){const n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(i=>{try{i(...r)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:r,subscription:n}=wt(e,$Pe);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(e,r){const n=this._nextClientSubscriptionId++,i=oj([e.method,r]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const o=this._subscriptionsByHash[i];Yr(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,r,n){const{commitment:i,config:s}=Bn(n),o=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",s);return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:r,subscription:n}=wt(e,zPe);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,n,i){const{commitment:s,config:o}=Bn(n),a=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",o||(i?{filters:uj(i)}:void 0));return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,n){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:r,subscription:n}=wt(e,y5e);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(e){const{result:r,subscription:n}=wt(e,jPe);this._handleServerNotification(n,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:r,subscription:n}=wt(e,HPe);this._handleServerNotification(n,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,n,i){const s=r||this._commitment;if(s||n||i){let o={};n&&(o.encoding=n),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,r,n,i){const s=r||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,n,i)}_wsOnSignatureNotification(e){const{result:r,subscription:n}=wt(e,qPe);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,n){const i=this._buildArgs([e],n||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){r(o.result,a);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,r,n){const{commitment:i,...s}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},o=this._buildArgs([e],i,void 0,s),a=this._makeSubscription({callback:(u,f)=>{r(u,f);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:r,subscription:n}=wt(e,VPe);this._handleServerNotification(n,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}},nte=class W2{constructor(e){this._keypair=void 0,this._keypair=e??rj()}static generate(){return new W2(rj())}static fromSecretKey(e,r){if(e.byteLength!==64)throw new Error("bad secret key size");const n=e.slice(32,64);if(!r||!r.skipValidation){const i=e.slice(0,32),s=oE(i);for(let o=0;o<32;o++)if(n[o]!==s[o])throw new Error("provided secretKey is invalid")}return new W2({publicKey:n,secretKey:e})}static fromSeed(e){const r=oE(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new W2({publicKey:r,secretKey:n})}get publicKey(){return new pt(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}};const kf=Object.freeze({CreateLookupTable:{index:0,layout:pe([ge("instruction"),Bb("recentSlot"),Ge("bumpSeed")])},FreezeLookupTable:{index:1,layout:pe([ge("instruction")])},ExtendLookupTable:{index:2,layout:pe([ge("instruction"),Bb(),Mt(Ir(),zr(ge(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:pe([ge("instruction")])},CloseLookupTable:{index:4,layout:pe([ge("instruction")])}});let w5e=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=ge("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(kf))if(o.index==n){i=s;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:r}=rn(kf.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(r)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:r}=rn(kf.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:r.map(n=>new pt(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(mO.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},mO=class{constructor(){}static createLookupTable(e){const[r,n]=pt.findProgramAddressSync([e.authority.toBuffer(),Uh(BigInt(e.recentSlot),8)],this.programId),i=kf.CreateLookupTable,s=Lr(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),o=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Ps.programId,isSigner:!1,isWritable:!1}];return[new pn({programId:this.programId,keys:o,data:s}),r]}static freezeLookupTable(e){const r=kf.FreezeLookupTable,n=Lr(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new pn({programId:this.programId,keys:i,data:n})}static extendLookupTable(e){const r=kf.ExtendLookupTable,n=Lr(r,{addresses:e.addresses.map(s=>s.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Ps.programId,isSigner:!1,isWritable:!1}),new pn({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(e){const r=kf.DeactivateLookupTable,n=Lr(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new pn({programId:this.programId,keys:i,data:n})}static closeLookupTable(e){const r=kf.CloseLookupTable,n=Lr(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new pn({programId:this.programId,keys:i,data:n})}};mO.programId=new pt("AddressLookupTab1e1111111111111111111111111");let S5e=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=Ge("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Uc))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:r,additionalFee:n}=rn(Uc.RequestUnits,e.data);return{units:r,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:r}=rn(Uc.RequestHeapFrame,e.data);return{bytes:r}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:r}=rn(Uc.SetComputeUnitLimit,e.data);return{units:r}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:r}=rn(Uc.SetComputeUnitPrice,e.data);return{microLamports:r}}static checkProgramId(e){if(!e.equals(yO.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}};const Uc=Object.freeze({RequestUnits:{index:0,layout:pe([Ge("instruction"),ge("units"),ge("additionalFee")])},RequestHeapFrame:{index:1,layout:pe([Ge("instruction"),ge("bytes")])},SetComputeUnitLimit:{index:2,layout:pe([Ge("instruction"),ge("units")])},SetComputeUnitPrice:{index:3,layout:pe([Ge("instruction"),Bb("microLamports")])}});let yO=class{constructor(){}static requestUnits(e){const r=Uc.RequestUnits,n=Lr(r,e);return new pn({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){const r=Uc.RequestHeapFrame,n=Lr(r,e);return new pn({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){const r=Uc.SetComputeUnitLimit,n=Lr(r,e);return new pn({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){const r=Uc.SetComputeUnitPrice,n=Lr(r,{microLamports:BigInt(e.microLamports)});return new pn({keys:[],programId:this.programId,data:n})}};yO.programId=new pt("ComputeBudget111111111111111111111111111111");const dj=64,hj=32,pj=64,gj=pe([Ge("numSignatures"),Ge("padding"),jt("signatureOffset"),jt("signatureInstructionIndex"),jt("publicKeyOffset"),jt("publicKeyInstructionIndex"),jt("messageDataOffset"),jt("messageDataSize"),jt("messageInstructionIndex")]);let ite=class ste{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:r,message:n,signature:i,instructionIndex:s}=e;Yr(r.length===hj,`Public Key must be ${hj} bytes but received ${r.length} bytes`),Yr(i.length===pj,`Signature must be ${pj} bytes but received ${i.length} bytes`);const o=gj.span,a=o+r.length,u=a+i.length,f=1,d=xe.Buffer.alloc(u+n.length),g=s??65535;return gj.encode({numSignatures:f,padding:0,signatureOffset:a,signatureInstructionIndex:g,publicKeyOffset:o,publicKeyInstructionIndex:g,messageDataOffset:u,messageDataSize:n.length,messageInstructionIndex:g},d),d.fill(r,o),d.fill(i,a),d.fill(n,u),new pn({keys:[],programId:ste.programId,data:d})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:n,instructionIndex:i}=e;Yr(r.length===dj,`Private key must be ${dj} bytes but received ${r.length} bytes`);try{const s=nte.fromSecretKey(r),o=s.publicKey.toBytes(),a=uO(n,s.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:n,signature:a,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};ite.programId=new pt("Ed25519SigVerify111111111111111111111111111");const _5e=(t,e)=>{const r=Ra.sign(t,e);return[r.toCompactRawBytes(),r.recovery]};Ra.utils.isValidPrivateKey;const A5e=Ra.getPublicKey,mj=32,nR=20,yj=64,x5e=11,iR=pe([Ge("numSignatures"),jt("signatureOffset"),Ge("signatureInstructionIndex"),jt("ethAddressOffset"),Ge("ethAddressInstructionIndex"),jt("messageDataOffset"),jt("messageDataSize"),Ge("messageInstructionIndex"),at(20,"ethAddress"),at(64,"signature"),Ge("recoveryId")]);let ote=class j2{constructor(){}static publicKeyToEthAddress(e){Yr(e.length===yj,`Public key must be ${yj} bytes but received ${e.length} bytes`);try{return xe.Buffer.from(Nx(Sr(e))).slice(-nR)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(e){const{publicKey:r,message:n,signature:i,recoveryId:s,instructionIndex:o}=e;return j2.createInstructionWithEthAddress({ethAddress:j2.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:s,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:r,message:n,signature:i,recoveryId:s,instructionIndex:o=0}=e;let a;typeof r=="string"?r.startsWith("0x")?a=xe.Buffer.from(r.substr(2),"hex"):a=xe.Buffer.from(r,"hex"):a=r,Yr(a.length===nR,`Address must be ${nR} bytes but received ${a.length} bytes`);const u=1+x5e,f=u,d=u+a.length,g=d+i.length+1,y=1,b=xe.Buffer.alloc(iR.span+n.length);return iR.encode({numSignatures:y,signatureOffset:d,signatureInstructionIndex:o,ethAddressOffset:f,ethAddressInstructionIndex:o,messageDataOffset:g,messageDataSize:n.length,messageInstructionIndex:o,signature:Sr(i),ethAddress:Sr(a),recoveryId:s},b),b.fill(Sr(n),iR.span),new pn({keys:[],programId:j2.programId,data:b})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:n,instructionIndex:i}=e;Yr(r.length===mj,`Private key must be ${mj} bytes but received ${r.length} bytes`);try{const s=Sr(r),o=A5e(s,!1).slice(1),a=xe.Buffer.from(Nx(Sr(n))),[u,f]=_5e(a,s);return this.createInstructionWithPublicKey({publicKey:o,message:n,signature:u,recoveryId:f,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};ote.programId=new pt("KeccakSecp256k11111111111111111111111111111");var ate;const ute=new pt("StakeConfig11111111111111111111111111111111");let cte=class{constructor(e,r){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=r}},d_=class{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}};ate=d_;d_.default=new ate(0,0,pt.default);let E5e=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=ge("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(as))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r,lockup:n}=rn(as.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new cte(new pt(r.staker),new pt(r.withdrawer)),lockup:new d_(n.unixTimestamp,n.epoch,new pt(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),rn(as.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,stakeAuthorizationType:n}=rn(as.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new pt(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:r,stakeAuthorizationType:n,authoritySeed:i,authorityOwner:s}=rn(as.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new pt(s),newAuthorizedPubkey:new pt(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=rn(as.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),rn(as.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=rn(as.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),rn(as.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(T3.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}};const as=Object.freeze({Initialize:{index:0,layout:pe([ge("instruction"),ECe(),kCe()])},Authorize:{index:1,layout:pe([ge("instruction"),Ir("newAuthorized"),ge("stakeAuthorizationType")])},Delegate:{index:2,layout:pe([ge("instruction")])},Split:{index:3,layout:pe([ge("instruction"),Lt("lamports")])},Withdraw:{index:4,layout:pe([ge("instruction"),Lt("lamports")])},Deactivate:{index:5,layout:pe([ge("instruction")])},Merge:{index:7,layout:pe([ge("instruction")])},AuthorizeWithSeed:{index:8,layout:pe([ge("instruction"),Ir("newAuthorized"),ge("stakeAuthorizationType"),Rp("authoritySeed"),Ir("authorityOwner")])}}),k5e=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});let T3=class{constructor(){}static initialize(e){const{stakePubkey:r,authorized:n,lockup:i}=e,s=i||d_.default,o=as.Initialize,a=Lr(o,{authorized:{staker:Sr(n.staker.toBuffer()),withdrawer:Sr(n.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:Sr(s.custodian.toBuffer())}}),u={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:R0,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new pn(u)}static createAccountWithSeed(e){const r=new cn;r.add(Ps.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:i,lockup:s}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static createAccount(e){const r=new cn;r.add(Ps.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:i,lockup:s}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static delegate(e){const{stakePubkey:r,authorizedPubkey:n,votePubkey:i}=e,s=as.Delegate,o=Lr(s);return new cn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Cu,isSigner:!1,isWritable:!1},{pubkey:z2,isSigner:!1,isWritable:!1},{pubkey:ute,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:o}=e,a=as.Authorize,u=Lr(a,{newAuthorized:Sr(i.toBuffer()),stakeAuthorizationType:s.index}),f=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Cu,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&f.push({pubkey:o,isSigner:!0,isWritable:!1}),new cn().add({keys:f,programId:this.programId,data:u})}static authorizeWithSeed(e){const{stakePubkey:r,authorityBase:n,authoritySeed:i,authorityOwner:s,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:u}=e,f=as.AuthorizeWithSeed,d=Lr(f,{newAuthorized:Sr(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:Sr(s.toBuffer())}),g=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:Cu,isSigner:!1,isWritable:!1}];return u&&g.push({pubkey:u,isSigner:!0,isWritable:!1}),new cn().add({keys:g,programId:this.programId,data:d})}static splitInstruction(e){const{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:s}=e,o=as.Split,a=Lr(o,{lamports:s});return new pn({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,r){const n=new cn;return n.add(Ps.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:r,space:this.space,programId:this.programId})),n.add(this.splitInstruction(e))}static splitWithSeed(e,r){const{stakePubkey:n,authorizedPubkey:i,splitStakePubkey:s,basePubkey:o,seed:a,lamports:u}=e,f=new cn;return f.add(Ps.allocate({accountPubkey:s,basePubkey:o,seed:a,space:this.space,programId:this.programId})),r&&r>0&&f.add(Ps.transfer({fromPubkey:e.authorizedPubkey,toPubkey:s,lamports:r})),f.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:i,splitStakePubkey:s,lamports:u}))}static merge(e){const{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:i}=e,s=as.Merge,o=Lr(s);return new cn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Cu,isSigner:!1,isWritable:!1},{pubkey:z2,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:r,authorizedPubkey:n,toPubkey:i,lamports:s,custodianPubkey:o}=e,a=as.Withdraw,u=Lr(a,{lamports:s}),f=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Cu,isSigner:!1,isWritable:!1},{pubkey:z2,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&f.push({pubkey:o,isSigner:!0,isWritable:!1}),new cn().add({keys:f,programId:this.programId,data:u})}static deactivate(e){const{stakePubkey:r,authorizedPubkey:n}=e,i=as.Deactivate,s=Lr(i);return new cn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Cu,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}};T3.programId=new pt("Stake11111111111111111111111111111111111111");T3.space=200;let lte=class{constructor(e,r,n,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=r,this.authorizedWithdrawer=n,this.commission=i}},T5e=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=ge("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(zc))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:r}=rn(zc.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new lte(new pt(r.nodePubkey),new pt(r.authorizedVoter),new pt(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,voteAuthorizationType:n}=rn(zc.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new pt(r),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorized:i,voteAuthorizationType:s}}=rn(zc.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new pt(r),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new pt(i),voteAuthorizationType:{index:s},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=rn(zc.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(I3.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}};const zc=Object.freeze({InitializeAccount:{index:0,layout:pe([ge("instruction"),TCe()])},Authorize:{index:1,layout:pe([ge("instruction"),Ir("newAuthorized"),ge("voteAuthorizationType")])},Withdraw:{index:3,layout:pe([ge("instruction"),Lt("lamports")])},UpdateValidatorIdentity:{index:4,layout:pe([ge("instruction")])},AuthorizeWithSeed:{index:10,layout:pe([ge("instruction"),ICe()])}}),I5e=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});let I3=class fte{constructor(){}static initializeAccount(e){const{votePubkey:r,nodePubkey:n,voteInit:i}=e,s=zc.InitializeAccount,o=Lr(s,{voteInit:{nodePubkey:Sr(i.nodePubkey.toBuffer()),authorizedVoter:Sr(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Sr(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:R0,isSigner:!1,isWritable:!1},{pubkey:Cu,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new pn(a)}static createAccount(e){const r=new cn;return r.add(Ps.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:s}=e,o=zc.Authorize,a=Lr(o,{newAuthorized:Sr(i.toBuffer()),voteAuthorizationType:s.index}),u=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Cu,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new cn().add({keys:u,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:s,voteAuthorizationType:o,votePubkey:a}=e,u=zc.AuthorizeWithSeed,f=Lr(u,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Sr(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Sr(s.toBuffer()),voteAuthorizationType:o.index}}),d=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Cu,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new cn().add({keys:d,programId:this.programId,data:f})}static withdraw(e){const{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:s}=e,o=zc.Withdraw,a=Lr(o,{lamports:i}),u=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new cn().add({keys:u,programId:this.programId,data:a})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return fte.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:r,authorizedWithdrawerPubkey:n,nodePubkey:i}=e,s=zc.UpdateValidatorIdentity,o=Lr(s),a=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new cn().add({keys:a,programId:this.programId,data:o})}};I3.programId=new pt("Vote111111111111111111111111111111111111111");I3.space=3762;const dte=new pt("Va1idator1nfo111111111111111111111111111111"),R5e=ct({name:mt(),website:Gt(mt()),details:Gt(mt()),iconUrl:Gt(mt()),keybaseUsername:Gt(mt())});let M5e=class hte{constructor(e,r){this.key=void 0,this.info=void 0,this.key=e,this.info=r}static fromConfigData(e){let r=[...e];if(Lo(r)!==2)return null;const i=[];for(let s=0;s<2;s++){const o=new pt(Do(r,0,rl)),a=$c(r)===1;i.push({publicKey:o,isSigner:a})}if(i[0].publicKey.equals(dte)&&i[1].isSigner){const s=Rp().decode(xe.Buffer.from(r)),o=JSON.parse(s);return Ree(o,R5e),new hte(i[1].publicKey,o)}return null}};const C5e=new pt("Vote111111111111111111111111111111111111111"),P5e=pe([Ir("nodePubkey"),Ir("authorizedWithdrawer"),Ge("commission"),bt(),Mt(pe([bt("slot"),ge("confirmationCount")]),zr(ge(),-8),"votes"),Ge("rootSlotValid"),bt("rootSlot"),bt(),Mt(pe([bt("epoch"),Ir("authorizedVoter")]),zr(ge(),-8),"authorizedVoters"),pe([Mt(pe([Ir("authorizedPubkey"),bt("epochOfLastAuthorizedSwitch"),bt("targetEpoch")]),32,"buf"),bt("idx"),Ge("isEmpty")],"priorVoters"),bt(),Mt(pe([bt("epoch"),bt("credits"),bt("prevCredits")]),zr(ge(),-8),"epochCredits"),pe([bt("slot"),bt("timestamp")],"lastTimestamp")]);let N5e=class pte{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const n=P5e.decode(Sr(e),4);let i=n.rootSlot;return n.rootSlotValid||(i=null),new pte({nodePubkey:new pt(n.nodePubkey),authorizedWithdrawer:new pt(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:i,authorizedVoters:n.authorizedVoters.map(B5e),priorVoters:O5e(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}};function B5e({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new pt(t)}}function bj({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:r}){return{authorizedPubkey:new pt(t),epochOfLastAuthorizedSwitch:e,targetEpoch:r}}function O5e({buf:t,idx:e,isEmpty:r}){return r?[]:[...t.slice(e+1).map(bj),...t.slice(0,e).map(bj)]}const vj={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function L5e(t,e){const r=e===!1?"http":"https";if(!t)return vj[r].devnet;const n=vj[r][t];if(!n)throw new Error(`Unknown ${r} cluster: ${t}`);return n}async function D5e(t,e,r,n){let i,s;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")||r&&Object.prototype.hasOwnProperty.call(r,"nonceValue")?(i=r,s=n):s=r;const o=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},a=await t.sendRawTransaction(e,o),u=s&&s.commitment,d=(await(i?t.confirmTransaction(i,u):t.confirmTransaction(a,u))).value;if(d.err)throw a!=null?new kh({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(d)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(d)})`);return a}const F5e=1e9,$5e=Object.freeze(Object.defineProperty({__proto__:null,Account:_Ce,AddressLookupTableAccount:mP,AddressLookupTableInstruction:w5e,AddressLookupTableProgram:mO,Authorized:cte,BLOCKHASH_CACHE_TIMEOUT_MS:Vee,BPF_LOADER_DEPRECATED_PROGRAM_ID:ACe,BPF_LOADER_PROGRAM_ID:HCe,BpfLoader:qCe,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Uc,ComputeBudgetInstruction:S5e,ComputeBudgetProgram:yO,Connection:v5e,Ed25519Program:ite,Enum:wCe,EpochSchedule:Hee,FeeCalculatorLayout:zee,Keypair:nte,LAMPORTS_PER_SOL:F5e,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:kf,Loader:aE,Lockup:d_,MAX_SEED_LENGTH:Nee,Message:Eh,MessageAccountKeys:iS,MessageV0:x3,NONCE_ACCOUNT_LENGTH:hP,NonceAccount:jee,PACKET_DATA_SIZE:gh,PUBLIC_KEY_LENGTH:rl,PublicKey:pt,SIGNATURE_LENGTH_IN_BYTES:nS,SOLANA_SCHEMA:vw,STAKE_CONFIG_ID:ute,STAKE_INSTRUCTION_LAYOUTS:as,SYSTEM_INSTRUCTION_LAYOUTS:Ln,SYSVAR_CLOCK_PUBKEY:Cu,SYSVAR_EPOCH_SCHEDULE_PUBKEY:OCe,SYSVAR_INSTRUCTIONS_PUBKEY:LCe,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:U2,SYSVAR_RENT_PUBKEY:R0,SYSVAR_REWARDS_PUBKEY:DCe,SYSVAR_SLOT_HASHES_PUBKEY:FCe,SYSVAR_SLOT_HISTORY_PUBKEY:$Ce,SYSVAR_STAKE_HISTORY_PUBKEY:z2,Secp256k1Program:ote,SendTransactionError:kh,SolanaJSONRPCError:$t,SolanaJSONRPCErrorCode:UCe,StakeAuthorizationLayout:k5e,StakeInstruction:E5e,StakeProgram:T3,Struct:cO,SystemInstruction:jCe,SystemProgram:Ps,Transaction:cn,TransactionExpiredBlockheightExceededError:lO,TransactionExpiredNonceInvalidError:Bm,TransactionExpiredTimeoutError:fO,TransactionInstruction:pn,TransactionMessage:MCe,TransactionStatus:Gl,VALIDATOR_INFO_KEY:dte,VERSION_PREFIX_MASK:A3,VOTE_PROGRAM_ID:C5e,ValidatorInfo:M5e,VersionedMessage:dO,VersionedTransaction:CCe,VoteAccount:N5e,VoteAuthorizationLayout:I5e,VoteInit:lte,VoteInstruction:T5e,VoteProgram:I3,clusterApiUrl:L5e,sendAndConfirmRawTransaction:D5e,sendAndConfirmTransaction:dP},Symbol.toStringTag,{value:"Module"}));var bO={exports:{}};const U5e=/[\p{Lu}]/u,z5e=/[\p{Ll}]/u,wj=/^[\p{Lu}](?![\p{Lu}])/gu,gte=/([\p{Alpha}\p{N}_]|$)/u,mte=/[_.\- ]+/,W5e=new RegExp("^"+mte.source),Sj=new RegExp(mte.source+gte.source,"gu"),_j=new RegExp("\\d+"+gte.source,"gu"),j5e=(t,e,r)=>{let n=!1,i=!1,s=!1;for(let o=0;o<t.length;o++){const a=t[o];n&&U5e.test(a)?(t=t.slice(0,o)+"-"+t.slice(o),n=!1,s=i,i=!0,o++):i&&s&&z5e.test(a)?(t=t.slice(0,o-1)+"-"+t.slice(o-1),s=i,i=!1,n=!0):(n=e(a)===a&&r(a)!==a,s=i,i=r(a)===a&&e(a)!==a)}return t},K5e=(t,e)=>(wj.lastIndex=0,t.replace(wj,r=>e(r))),H5e=(t,e)=>(Sj.lastIndex=0,_j.lastIndex=0,t.replace(Sj,(r,n)=>e(n)).replace(_j,r=>e(r))),yte=(t,e)=>{if(!(typeof t=="string"||Array.isArray(t)))throw new TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},Array.isArray(t)?t=t.map(s=>s.trim()).filter(s=>s.length).join("-"):t=t.trim(),t.length===0)return"";const r=e.locale===!1?s=>s.toLowerCase():s=>s.toLocaleLowerCase(e.locale),n=e.locale===!1?s=>s.toUpperCase():s=>s.toLocaleUpperCase(e.locale);return t.length===1?e.pascalCase?n(t):r(t):(t!==r(t)&&(t=j5e(t,r,n)),t=t.replace(W5e,""),e.preserveConsecutiveUppercase?t=K5e(t,r):t=r(t),e.pascalCase&&(t=n(t.charAt(0))+t.slice(1)),H5e(t,n))};bO.exports=yte;bO.exports.default=yte;var q5e=bO.exports;const Jn=ro(q5e);var lr={},Rt={};let dn=class{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}decode(e,r){throw new Error("Layout is abstract")}encode(e,r,n){throw new Error("Layout is abstract")}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}};Rt.Layout=dn;function vO(t,e){return e.property?t+"["+e.property+"]":t}Rt.nameWithProperty=vO;function V5e(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(t.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof dn))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value:function(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value:function(r,n){return e.decode(r,n)},writable:!0})}Rt.bindConstructorLayout=V5e;let Wo=class extends dn{isCount(){throw new Error("ExternalLayout is abstract")}};class bte extends Wo{constructor(e,r){if(e===void 0&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r){r===void 0&&(r=0);const n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}}let wO=class extends Wo{constructor(e,r,n){if(!(e instanceof dn))throw new TypeError("layout must be a Layout");if(r===void 0)r=0;else if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof Tl||this.layout instanceof ud}decode(e,r){return r===void 0&&(r=0),this.layout.decode(e,r+this.offset)}encode(e,r,n){return n===void 0&&(n=0),this.layout.encode(e,r,n+this.offset)}},Tl=class extends dn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readUIntLE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeUIntLE(e,n,this.span),this.span}},ud=class extends dn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readUIntBE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeUIntBE(e,n,this.span),this.span}};class og extends dn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readIntLE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeIntLE(e,n,this.span),this.span}}class S1 extends dn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readIntBE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeIntBE(e,n,this.span),this.span}}const wP=Math.pow(2,32);function R3(t){const e=Math.floor(t/wP),r=t-e*wP;return{hi32:e,lo32:r}}function M3(t,e){return t*wP+e}let G5e=class extends dn{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);const n=e.readUInt32LE(r),i=e.readUInt32LE(r+4);return M3(i,n)}encode(e,r,n){n===void 0&&(n=0);const i=R3(e);return r.writeUInt32LE(i.lo32,n),r.writeUInt32LE(i.hi32,n+4),8}};class Y5e extends dn{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);const n=e.readUInt32BE(r),i=e.readUInt32BE(r+4);return M3(n,i)}encode(e,r,n){n===void 0&&(n=0);const i=R3(e);return r.writeUInt32BE(i.hi32,n),r.writeUInt32BE(i.lo32,n+4),8}}let Z5e=class extends dn{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);const n=e.readUInt32LE(r),i=e.readInt32LE(r+4);return M3(i,n)}encode(e,r,n){n===void 0&&(n=0);const i=R3(e);return r.writeUInt32LE(i.lo32,n),r.writeInt32LE(i.hi32,n+4),8}};class X5e extends dn{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);const n=e.readInt32BE(r),i=e.readUInt32BE(r+4);return M3(n,i)}encode(e,r,n){n===void 0&&(n=0);const i=R3(e);return r.writeInt32BE(i.hi32,n),r.writeUInt32BE(i.lo32,n+4),8}}class vte extends dn{constructor(e){super(4,e)}decode(e,r){return r===void 0&&(r=0),e.readFloatLE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeFloatLE(e,n),4}}class wte extends dn{constructor(e){super(4,e)}decode(e,r){return r===void 0&&(r=0),e.readFloatBE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeFloatBE(e,n),4}}class Ste extends dn{constructor(e){super(8,e)}decode(e,r){return r===void 0&&(r=0),e.readDoubleLE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeDoubleLE(e,n),8}}class _te extends dn{constructor(e){super(8,e)}decode(e,r){return r===void 0&&(r=0),e.readDoubleBE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeDoubleBE(e,n),8}}class Ate extends dn{constructor(e,r,n){if(!(e instanceof dn))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof Wo&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(r instanceof Wo)&&0<e.span&&(i=r*e.span),super(i,n),this.elementLayout=e,this.count=r}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0,i=this.count;if(i instanceof Wo&&(i=i.decode(e,r)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let s=0;for(;s<i;)n+=this.elementLayout.getSpan(e,r+n),++s}return n}decode(e,r){r===void 0&&(r=0);const n=[];let i=0,s=this.count;for(s instanceof Wo&&(s=s.decode(e,r));i<s;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),i+=1;return n}encode(e,r,n){n===void 0&&(n=0);const i=this.elementLayout,s=e.reduce((o,a)=>o+i.encode(a,r,n+o),0);return this.count instanceof Wo&&this.count.encode(e.length,r,n),s}}let xte=class extends dn{constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof dn,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0;try{n=this.fields.reduce((i,s)=>{const o=s.getSpan(e,r);return r+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r){r===void 0&&(r=0);const n=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,r)),r+=i.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n){n===void 0&&(n=0);const i=n;let s=0,o=0;for(const a of this.fields){let u=a.span;if(o=0<u?u:0,a.property!==void 0){const f=e[a.property];f!==void 0&&(o=a.encode(f,r,n),0>u&&(u=a.getSpan(r,n)))}s=n,n+=u}return s+o-i}fromArray(e){const r=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(const n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}},SO=class{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}},cE=class extends SO{constructor(e,r){if(!(e instanceof Wo&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}},_O=class extends dn{constructor(e,r,n){const i=e instanceof Tl||e instanceof ud;if(i)e=new cE(new wO(e));else if(e instanceof Wo&&e.isCount())e=new cE(e);else if(!(e instanceof SO))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof dn))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let s=-1;r&&(s=r.span,0<=s&&i&&(s+=e.layout.span)),super(s,n),this.discriminator=e,this.usesPrefixDiscriminator=i,this.defaultLayout=r,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);const n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||e.hasOwnProperty(r.property)))return r}else for(const r in this.registry){const n=this.registry[r];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,r){r===void 0&&(r=0);let n;const i=this.discriminator,s=i.decode(e,r);let o=this.registry[s];if(o===void 0){let a=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(a=i.layout.span),n=this.makeDestinationObject(),n[i.property]=s,n[o.property]=this.defaultLayout.decode(e,r+a)}else n=o.decode(e,r);return n}encode(e,r,n){n===void 0&&(n=0);const i=this.getSourceVariant(e);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(e[s.property],r,n),a+o.encode(e[o.property],r,n+a)}return i.encode(e,r,n)}addVariant(e,r,n){const i=new Ete(this,e,r,n);return this.registry[e]=i,i}getVariant(e,r){let n=e;return we.Buffer.isBuffer(e)&&(r===void 0&&(r=0),n=this.discriminator.decode(e,r)),this.registry[n]}},Ete=class extends dn{constructor(e,r,n,i){if(!(e instanceof _O))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof dn))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=n?n.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,r+n)}decode(e,r){const n=this.makeDestinationObject();if(r===void 0&&(r=0),this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n){n===void 0&&(n=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let s=i;if(this.layout&&(this.layout.encode(e[this.property],r,n+i),s+=this.layout.getSpan(r,n+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};function em(t){return 0>t&&(t+=4294967296),t}class AO extends dn{constructor(e,r,n){if(!(e instanceof Tl||e instanceof ud))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let i=0;this._packedSetValue=function(s){return i=em(s),this},this._packedGetValue=function(){return i}}decode(e,r){const n=this.makeDestinationObject();r===void 0&&(r=0);const i=this.word.decode(e,r);this._packedSetValue(i);for(const s of this.fields)s.property!==void 0&&(n[s.property]=s.decode(i));return n}encode(e,r,n){n===void 0&&(n=0);const i=this.word.decode(r,n);this._packedSetValue(i);for(const s of this.fields)if(s.property!==void 0){const o=e[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){const n=new ww(this,e,r);return this.fields.push(n),n}addBoolean(e){const r=new kte(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}}class ww{constructor(e,r,n){if(!(e instanceof AO))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");const i=8*e.span,s=e.fields.reduce((o,a)=>o+a.bits,0);if(r+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-r),this.wordMask=em(this.valueMask<<this.start),this.property=n}decode(){const e=this.container._packedGetValue();return em(e&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==em(e&this.valueMask))throw new TypeError(vO("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const r=this.container._packedGetValue(),n=em(e<<this.start);this.container._packedSetValue(em(r&~this.wordMask)|n)}}let kte=class extends ww{constructor(e,r){super(e,1,r)}decode(e,r){return!!ww.prototype.decode.call(this,e,r)}encode(e){return typeof e=="boolean"&&(e=+e),ww.prototype.encode.call(this,e)}},Tte=class extends dn{constructor(e,r){if(!(e instanceof Wo&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof Wo||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r){r===void 0&&(r=0);let n=this.span;return 0>n&&(n=this.length.decode(e,r)),e.slice(r,r+n)}encode(e,r,n){let i=this.length;if(this.length instanceof Wo&&(i=e.length),!(we.Buffer.isBuffer(e)&&i===e.length))throw new TypeError(vO("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(n+i>r.length)throw new RangeError("encoding overruns Buffer");return r.write(e.toString("hex"),n,i,"hex"),this.length instanceof Wo&&this.length.encode(i,r,n),i}};class Ite extends dn{constructor(e){super(-1,e)}getSpan(e,r){if(!we.Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");r===void 0&&(r=0);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r,n){r===void 0&&(r=0);let i=this.getSpan(e,r);return e.slice(r,r+i-1).toString("utf-8")}encode(e,r,n){n===void 0&&(n=0),typeof e!="string"&&(e=e.toString());const i=new we.Buffer(e,"utf8"),s=i.length;if(n+s>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(r,n),r[n+s]=0,s+1}}class Rte extends dn{constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r){if(!we.Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");return r===void 0&&(r=0),e.length-r}decode(e,r,n){r===void 0&&(r=0);let i=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");return e.slice(r,r+i).toString("utf-8")}encode(e,r,n){n===void 0&&(n=0),typeof e!="string"&&(e=e.toString());const i=new we.Buffer(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(r,n),s}}class Mte extends dn{constructor(e,r){super(0,r),this.value=e}decode(e,r,n){return this.value}encode(e,r,n){return 0}}Rt.ExternalLayout=Wo;Rt.GreedyCount=bte;Rt.OffsetLayout=wO;Rt.UInt=Tl;Rt.UIntBE=ud;Rt.Int=og;Rt.IntBE=S1;Rt.Float=vte;Rt.FloatBE=wte;Rt.Double=Ste;Rt.DoubleBE=_te;Rt.Sequence=Ate;Rt.Structure=xte;Rt.UnionDiscriminator=SO;Rt.UnionLayoutDiscriminator=cE;Rt.Union=_O;Rt.VariantLayout=Ete;Rt.BitStructure=AO;Rt.BitField=ww;Rt.Boolean=kte;Rt.Blob=Tte;Rt.CString=Ite;Rt.UTF8=Rte;Rt.Constant=Mte;Rt.greedy=(t,e)=>new bte(t,e);Rt.offset=(t,e,r)=>new wO(t,e,r);Rt.u8=t=>new Tl(1,t);Rt.u16=t=>new Tl(2,t);Rt.u24=t=>new Tl(3,t);Rt.u32=t=>new Tl(4,t);Rt.u40=t=>new Tl(5,t);Rt.u48=t=>new Tl(6,t);Rt.nu64=t=>new G5e(t);Rt.u16be=t=>new ud(2,t);Rt.u24be=t=>new ud(3,t);Rt.u32be=t=>new ud(4,t);Rt.u40be=t=>new ud(5,t);Rt.u48be=t=>new ud(6,t);Rt.nu64be=t=>new Y5e(t);Rt.s8=t=>new og(1,t);Rt.s16=t=>new og(2,t);Rt.s24=t=>new og(3,t);Rt.s32=t=>new og(4,t);Rt.s40=t=>new og(5,t);Rt.s48=t=>new og(6,t);Rt.ns64=t=>new Z5e(t);Rt.s16be=t=>new S1(2,t);Rt.s24be=t=>new S1(3,t);Rt.s32be=t=>new S1(4,t);Rt.s40be=t=>new S1(5,t);Rt.s48be=t=>new S1(6,t);Rt.ns64be=t=>new X5e(t);Rt.f32=t=>new vte(t);Rt.f32be=t=>new wte(t);Rt.f64=t=>new Ste(t);Rt.f64be=t=>new _te(t);Rt.struct=(t,e,r)=>new xte(t,e,r);Rt.bits=(t,e,r)=>new AO(t,e,r);Rt.seq=(t,e,r)=>new Ate(t,e,r);Rt.union=(t,e,r)=>new _O(t,e,r);Rt.unionLayoutDiscriminator=(t,e)=>new cE(t,e);Rt.blob=(t,e)=>new Tte(t,e);Rt.cstr=t=>new Ite(t);Rt.utf8=(t,e)=>new Rte(t,e);Rt.const=(t,e)=>new Mte(t,e);const J5e=GS($5e);(function(t){var e=St&&St.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(t,"__esModule",{value:!0}),t.map=t.array=t.rustEnum=t.str=t.vecU8=t.tagged=t.vec=t.bool=t.option=t.publicKey=t.i256=t.u256=t.i128=t.u128=t.i64=t.u64=t.struct=t.f64=t.f32=t.i32=t.u32=t.i16=t.u16=t.i8=t.u8=void 0;const r=Rt,n=J5e,i=e(Z0);var s=Rt;Object.defineProperty(t,"u8",{enumerable:!0,get:function(){return s.u8}}),Object.defineProperty(t,"i8",{enumerable:!0,get:function(){return s.s8}}),Object.defineProperty(t,"u16",{enumerable:!0,get:function(){return s.u16}}),Object.defineProperty(t,"i16",{enumerable:!0,get:function(){return s.s16}}),Object.defineProperty(t,"u32",{enumerable:!0,get:function(){return s.u32}}),Object.defineProperty(t,"i32",{enumerable:!0,get:function(){return s.s32}}),Object.defineProperty(t,"f32",{enumerable:!0,get:function(){return s.f32}}),Object.defineProperty(t,"f64",{enumerable:!0,get:function(){return s.f64}}),Object.defineProperty(t,"struct",{enumerable:!0,get:function(){return s.struct}});class o extends r.Layout{constructor(h,p,m){super(h,m),this.blob=(0,r.blob)(h),this.signed=p}decode(h,p=0){const m=new i.default(this.blob.decode(h,p),10,"le");return this.signed?m.fromTwos(this.span*8).clone():m}encode(h,p,m=0){return this.signed&&(h=h.toTwos(this.span*8)),this.blob.encode(h.toArrayLike(we.Buffer,"le",this.span),p,m)}}function a(c){return new o(8,!1,c)}t.u64=a;function u(c){return new o(8,!0,c)}t.i64=u;function f(c){return new o(16,!1,c)}t.u128=f;function d(c){return new o(16,!0,c)}t.i128=d;function g(c){return new o(32,!1,c)}t.u256=g;function y(c){return new o(32,!0,c)}t.i256=y;class b extends r.Layout{constructor(h,p,m,v){super(h.span,v),this.layout=h,this.decoder=p,this.encoder=m}decode(h,p){return this.decoder(this.layout.decode(h,p))}encode(h,p,m){return this.layout.encode(this.encoder(h),p,m)}getSpan(h,p){return this.layout.getSpan(h,p)}}function A(c){return new b((0,r.blob)(32),h=>new n.PublicKey(h),h=>h.toBuffer(),c)}t.publicKey=A;class x extends r.Layout{constructor(h,p){super(-1,p),this.layout=h,this.discriminator=(0,r.u8)()}encode(h,p,m=0){return h==null?this.discriminator.encode(0,p,m):(this.discriminator.encode(1,p,m),this.layout.encode(h,p,m+1)+1)}decode(h,p=0){const m=this.discriminator.decode(h,p);if(m===0)return null;if(m===1)return this.layout.decode(h,p+1);throw new Error("Invalid option "+this.property)}getSpan(h,p=0){const m=this.discriminator.decode(h,p);if(m===0)return 1;if(m===1)return this.layout.getSpan(h,p+1)+1;throw new Error("Invalid option "+this.property)}}function k(c,h){return new x(c,h)}t.option=k;function I(c){return new b((0,r.u8)(),R,M,c)}t.bool=I;function R(c){if(c===0)return!1;if(c===1)return!0;throw new Error("Invalid bool: "+c)}function M(c){return c?1:0}function P(c,h){const p=(0,r.u32)("length"),m=(0,r.struct)([p,(0,r.seq)(c,(0,r.offset)(p,-p.span),"values")]);return new b(m,({values:v})=>v,v=>({values:v}),h)}t.vec=P;function j(c,h,p){const m=(0,r.struct)([a("tag"),h.replicate("data")]);function v({tag:_,data:E}){if(!_.eq(c))throw new Error("Invalid tag, expected: "+c.toString("hex")+", got: "+_.toString("hex"));return E}return new b(m,v,_=>({tag:c,data:_}),p)}t.tagged=j;function V(c){const h=(0,r.u32)("length"),p=(0,r.struct)([h,(0,r.blob)((0,r.offset)(h,-h.span),"data")]);return new b(p,({data:m})=>m,m=>({data:m}),c)}t.vecU8=V;function Z(c){return new b(V(),h=>h.toString("utf-8"),h=>we.Buffer.from(h,"utf-8"),c)}t.str=Z;function G(c,h,p){const m=(0,r.union)(p??(0,r.u8)(),h);return c.forEach((v,_)=>m.addVariant(_,v,v.property)),m}t.rustEnum=G;function q(c,h,p){const m=(0,r.struct)([(0,r.seq)(c,h,"values")]);return new b(m,({values:v})=>v,v=>({values:v}),p)}t.array=q;class ae extends r.Layout{constructor(h,p,m){super(h.span+p.span,m),this.keyLayout=h,this.valueLayout=p}decode(h,p){p=p||0;const m=this.keyLayout.decode(h,p),v=this.valueLayout.decode(h,p+this.keyLayout.getSpan(h,p));return[m,v]}encode(h,p,m){m=m||0;const v=this.keyLayout.encode(h[0],p,m),_=this.valueLayout.encode(h[1],p,m+v);return v+_}getSpan(h,p){return this.keyLayout.getSpan(h,p)+this.valueLayout.getSpan(h,p)}}function T(c,h,p){const m=(0,r.u32)("length"),v=(0,r.struct)([m,(0,r.seq)(new ae(c,h),(0,r.offset)(m,-m.span),"values")]);return new b(v,({values:_})=>new Map(_),_=>({values:Array.from(_.entries())}),p)}t.map=T})(lr);function _1(t){let e=t.length;for(;--e>=0;)t[e]=0}const Q5e=3,eNe=258,Cte=29,tNe=256,rNe=tNe+1+Cte,Pte=30,nNe=512,iNe=new Array((rNe+2)*2);_1(iNe);const sNe=new Array(Pte*2);_1(sNe);const oNe=new Array(nNe);_1(oNe);const aNe=new Array(eNe-Q5e+1);_1(aNe);const uNe=new Array(Cte);_1(uNe);const cNe=new Array(Pte);_1(cNe);const lNe=(t,e,r,n)=>{let i=t&65535|0,s=t>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+e[n++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var SP=lNe;const fNe=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},dNe=new Uint32Array(fNe()),hNe=(t,e,r,n)=>{const i=dNe,s=n+r;t^=-1;for(let o=n;o<s;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var vc=hNe,_P={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Nte={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const pNe=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var gNe=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)pNe(r,n)&&(t[n]=r[n])}}return t},mNe=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,s=t.length;n<s;n++){let o=t[n];r.set(o,i),i+=o.length}return r},Bte={assign:gNe,flattenChunks:mNe};let Ote=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Ote=!1}const oS=new Uint8Array(256);for(let t=0;t<256;t++)oS[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;oS[254]=oS[254]=1;var yNe=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,s,o=t.length,a=0;for(i=0;i<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),a+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(a),s=0,i=0;s<a;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|r&63):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|r&63):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|r&63);return e};const bNe=(t,e)=>{if(e<65534&&t.subarray&&Ote)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var vNe=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const s=new Array(r*2);for(i=0,n=0;n<r;){let o=t[n++];if(o<128){s[i++]=o;continue}let a=oS[o];if(a>4){s[i++]=65533,n+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&n<r;)o=o<<6|t[n++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return bNe(s,i)},wNe=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+oS[t[r]]>e?r:e},AP={string2buf:yNe,buf2string:vNe,utf8border:wNe};function SNe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var _Ne=SNe;const LA=16209,ANe=16191;var xNe=function(e,r){let n,i,s,o,a,u,f,d,g,y,b,A,x,k,I,R,M,P,j,V,Z,G,q,ae;const T=e.state;n=e.next_in,q=e.input,i=n+(e.avail_in-5),s=e.next_out,ae=e.output,o=s-(r-e.avail_out),a=s+(e.avail_out-257),u=T.dmax,f=T.wsize,d=T.whave,g=T.wnext,y=T.window,b=T.hold,A=T.bits,x=T.lencode,k=T.distcode,I=(1<<T.lenbits)-1,R=(1<<T.distbits)-1;e:do{A<15&&(b+=q[n++]<<A,A+=8,b+=q[n++]<<A,A+=8),M=x[b&I];t:for(;;){if(P=M>>>24,b>>>=P,A-=P,P=M>>>16&255,P===0)ae[s++]=M&65535;else if(P&16){j=M&65535,P&=15,P&&(A<P&&(b+=q[n++]<<A,A+=8),j+=b&(1<<P)-1,b>>>=P,A-=P),A<15&&(b+=q[n++]<<A,A+=8,b+=q[n++]<<A,A+=8),M=k[b&R];r:for(;;){if(P=M>>>24,b>>>=P,A-=P,P=M>>>16&255,P&16){if(V=M&65535,P&=15,A<P&&(b+=q[n++]<<A,A+=8,A<P&&(b+=q[n++]<<A,A+=8)),V+=b&(1<<P)-1,V>u){e.msg="invalid distance too far back",T.mode=LA;break e}if(b>>>=P,A-=P,P=s-o,V>P){if(P=V-P,P>d&&T.sane){e.msg="invalid distance too far back",T.mode=LA;break e}if(Z=0,G=y,g===0){if(Z+=f-P,P<j){j-=P;do ae[s++]=y[Z++];while(--P);Z=s-V,G=ae}}else if(g<P){if(Z+=f+g-P,P-=g,P<j){j-=P;do ae[s++]=y[Z++];while(--P);if(Z=0,g<j){P=g,j-=P;do ae[s++]=y[Z++];while(--P);Z=s-V,G=ae}}}else if(Z+=g-P,P<j){j-=P;do ae[s++]=y[Z++];while(--P);Z=s-V,G=ae}for(;j>2;)ae[s++]=G[Z++],ae[s++]=G[Z++],ae[s++]=G[Z++],j-=3;j&&(ae[s++]=G[Z++],j>1&&(ae[s++]=G[Z++]))}else{Z=s-V;do ae[s++]=ae[Z++],ae[s++]=ae[Z++],ae[s++]=ae[Z++],j-=3;while(j>2);j&&(ae[s++]=ae[Z++],j>1&&(ae[s++]=ae[Z++]))}}else if(P&64){e.msg="invalid distance code",T.mode=LA;break e}else{M=k[(M&65535)+(b&(1<<P)-1)];continue r}break}}else if(P&64)if(P&32){T.mode=ANe;break e}else{e.msg="invalid literal/length code",T.mode=LA;break e}else{M=x[(M&65535)+(b&(1<<P)-1)];continue t}break}}while(n<i&&s<a);j=A>>3,n-=j,A-=j<<3,b&=(1<<A)-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=s<a?257+(a-s):257-(s-a),T.hold=b,T.bits=A};const Pg=15,Aj=852,xj=592,Ej=0,sR=1,kj=2,ENe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),kNe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),TNe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),INe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),RNe=(t,e,r,n,i,s,o,a)=>{const u=a.bits;let f=0,d=0,g=0,y=0,b=0,A=0,x=0,k=0,I=0,R=0,M,P,j,V,Z,G=null,q;const ae=new Uint16Array(Pg+1),T=new Uint16Array(Pg+1);let c=null,h,p,m;for(f=0;f<=Pg;f++)ae[f]=0;for(d=0;d<n;d++)ae[e[r+d]]++;for(b=u,y=Pg;y>=1&&ae[y]===0;y--);if(b>y&&(b=y),y===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(g=1;g<y&&ae[g]===0;g++);for(b<g&&(b=g),k=1,f=1;f<=Pg;f++)if(k<<=1,k-=ae[f],k<0)return-1;if(k>0&&(t===Ej||y!==1))return-1;for(T[1]=0,f=1;f<Pg;f++)T[f+1]=T[f]+ae[f];for(d=0;d<n;d++)e[r+d]!==0&&(o[T[e[r+d]]++]=d);if(t===Ej?(G=c=o,q=20):t===sR?(G=ENe,c=kNe,q=257):(G=TNe,c=INe,q=0),R=0,d=0,f=g,Z=s,A=b,x=0,j=-1,I=1<<b,V=I-1,t===sR&&I>Aj||t===kj&&I>xj)return 1;for(;;){h=f-x,o[d]+1<q?(p=0,m=o[d]):o[d]>=q?(p=c[o[d]-q],m=G[o[d]-q]):(p=96,m=0),M=1<<f-x,P=1<<A,g=P;do P-=M,i[Z+(R>>x)+P]=h<<24|p<<16|m|0;while(P!==0);for(M=1<<f-1;R&M;)M>>=1;if(M!==0?(R&=M-1,R+=M):R=0,d++,--ae[f]===0){if(f===y)break;f=e[r+o[d]]}if(f>b&&(R&V)!==j){for(x===0&&(x=b),Z+=g,A=f-x,k=1<<A;A+x<y&&(k-=ae[A+x],!(k<=0));)A++,k<<=1;if(I+=1<<A,t===sR&&I>Aj||t===kj&&I>xj)return 1;j=R&V,i[j]=b<<24|A<<16|Z-s|0}}return R!==0&&(i[Z+R]=f-x<<24|64<<16|0),a.bits=b,0};var Sw=RNe;const MNe=0,Lte=1,Dte=2,{Z_FINISH:Tj,Z_BLOCK:CNe,Z_TREES:DA,Z_OK:M0,Z_STREAM_END:PNe,Z_NEED_DICT:NNe,Z_STREAM_ERROR:iu,Z_DATA_ERROR:Fte,Z_MEM_ERROR:$te,Z_BUF_ERROR:BNe,Z_DEFLATED:Ij}=Nte,C3=16180,Rj=16181,Mj=16182,Cj=16183,Pj=16184,Nj=16185,Bj=16186,Oj=16187,Lj=16188,Dj=16189,lE=16190,$l=16191,oR=16192,Fj=16193,aR=16194,$j=16195,Uj=16196,zj=16197,Wj=16198,FA=16199,$A=16200,jj=16201,Kj=16202,Hj=16203,qj=16204,Vj=16205,uR=16206,Gj=16207,Yj=16208,Xn=16209,Ute=16210,zte=16211,ONe=852,LNe=592,DNe=15,FNe=DNe,Zj=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function $Ne(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ag=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<C3||e.mode>zte?1:0},Wte=t=>{if(ag(t))return iu;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=C3,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(ONe),e.distcode=e.distdyn=new Int32Array(LNe),e.sane=1,e.back=-1,M0},jte=t=>{if(ag(t))return iu;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Wte(t)},Kte=(t,e)=>{let r;if(ag(t))return iu;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?iu:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,jte(t))},Hte=(t,e)=>{if(!t)return iu;const r=new $Ne;t.state=r,r.strm=t,r.window=null,r.mode=C3;const n=Kte(t,e);return n!==M0&&(t.state=null),n},UNe=t=>Hte(t,FNe);let Xj=!0,cR,lR;const zNe=t=>{if(Xj){cR=new Int32Array(512),lR=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Sw(Lte,t.lens,0,288,cR,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Sw(Dte,t.lens,0,32,lR,0,t.work,{bits:5}),Xj=!1}t.lencode=cR,t.lenbits=9,t.distcode=lR,t.distbits=5},qte=(t,e,r,n)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(e.subarray(r-n,r-n+i),s.wnext),n-=i,n?(s.window.set(e.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},WNe=(t,e)=>{let r,n,i,s,o,a,u,f,d,g,y,b,A,x,k=0,I,R,M,P,j,V,Z,G;const q=new Uint8Array(4);let ae,T;const c=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ag(t)||!t.output||!t.input&&t.avail_in!==0)return iu;r=t.state,r.mode===$l&&(r.mode=oR),o=t.next_out,i=t.output,u=t.avail_out,s=t.next_in,n=t.input,a=t.avail_in,f=r.hold,d=r.bits,g=a,y=u,G=M0;e:for(;;)switch(r.mode){case C3:if(r.wrap===0){r.mode=oR;break}for(;d<16;){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}if(r.wrap&2&&f===35615){r.wbits===0&&(r.wbits=15),r.check=0,q[0]=f&255,q[1]=f>>>8&255,r.check=vc(r.check,q,2,0),f=0,d=0,r.mode=Rj;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((f&255)<<8)+(f>>8))%31){t.msg="incorrect header check",r.mode=Xn;break}if((f&15)!==Ij){t.msg="unknown compression method",r.mode=Xn;break}if(f>>>=4,d-=4,Z=(f&15)+8,r.wbits===0&&(r.wbits=Z),Z>15||Z>r.wbits){t.msg="invalid window size",r.mode=Xn;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=f&512?Dj:$l,f=0,d=0;break;case Rj:for(;d<16;){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}if(r.flags=f,(r.flags&255)!==Ij){t.msg="unknown compression method",r.mode=Xn;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Xn;break}r.head&&(r.head.text=f>>8&1),r.flags&512&&r.wrap&4&&(q[0]=f&255,q[1]=f>>>8&255,r.check=vc(r.check,q,2,0)),f=0,d=0,r.mode=Mj;case Mj:for(;d<32;){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}r.head&&(r.head.time=f),r.flags&512&&r.wrap&4&&(q[0]=f&255,q[1]=f>>>8&255,q[2]=f>>>16&255,q[3]=f>>>24&255,r.check=vc(r.check,q,4,0)),f=0,d=0,r.mode=Cj;case Cj:for(;d<16;){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}r.head&&(r.head.xflags=f&255,r.head.os=f>>8),r.flags&512&&r.wrap&4&&(q[0]=f&255,q[1]=f>>>8&255,r.check=vc(r.check,q,2,0)),f=0,d=0,r.mode=Pj;case Pj:if(r.flags&1024){for(;d<16;){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}r.length=f,r.head&&(r.head.extra_len=f),r.flags&512&&r.wrap&4&&(q[0]=f&255,q[1]=f>>>8&255,r.check=vc(r.check,q,2,0)),f=0,d=0}else r.head&&(r.head.extra=null);r.mode=Nj;case Nj:if(r.flags&1024&&(b=r.length,b>a&&(b=a),b&&(r.head&&(Z=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+b),Z)),r.flags&512&&r.wrap&4&&(r.check=vc(r.check,n,b,s)),a-=b,s+=b,r.length-=b),r.length))break e;r.length=0,r.mode=Bj;case Bj:if(r.flags&2048){if(a===0)break e;b=0;do Z=n[s+b++],r.head&&Z&&r.length<65536&&(r.head.name+=String.fromCharCode(Z));while(Z&&b<a);if(r.flags&512&&r.wrap&4&&(r.check=vc(r.check,n,b,s)),a-=b,s+=b,Z)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=Oj;case Oj:if(r.flags&4096){if(a===0)break e;b=0;do Z=n[s+b++],r.head&&Z&&r.length<65536&&(r.head.comment+=String.fromCharCode(Z));while(Z&&b<a);if(r.flags&512&&r.wrap&4&&(r.check=vc(r.check,n,b,s)),a-=b,s+=b,Z)break e}else r.head&&(r.head.comment=null);r.mode=Lj;case Lj:if(r.flags&512){for(;d<16;){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}if(r.wrap&4&&f!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Xn;break}f=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=$l;break;case Dj:for(;d<32;){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}t.adler=r.check=Zj(f),f=0,d=0,r.mode=lE;case lE:if(r.havedict===0)return t.next_out=o,t.avail_out=u,t.next_in=s,t.avail_in=a,r.hold=f,r.bits=d,NNe;t.adler=r.check=1,r.mode=$l;case $l:if(e===CNe||e===DA)break e;case oR:if(r.last){f>>>=d&7,d-=d&7,r.mode=uR;break}for(;d<3;){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}switch(r.last=f&1,f>>>=1,d-=1,f&3){case 0:r.mode=Fj;break;case 1:if(zNe(r),r.mode=FA,e===DA){f>>>=2,d-=2;break e}break;case 2:r.mode=Uj;break;case 3:t.msg="invalid block type",r.mode=Xn}f>>>=2,d-=2;break;case Fj:for(f>>>=d&7,d-=d&7;d<32;){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}if((f&65535)!==(f>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Xn;break}if(r.length=f&65535,f=0,d=0,r.mode=aR,e===DA)break e;case aR:r.mode=$j;case $j:if(b=r.length,b){if(b>a&&(b=a),b>u&&(b=u),b===0)break e;i.set(n.subarray(s,s+b),o),a-=b,s+=b,u-=b,o+=b,r.length-=b;break}r.mode=$l;break;case Uj:for(;d<14;){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}if(r.nlen=(f&31)+257,f>>>=5,d-=5,r.ndist=(f&31)+1,f>>>=5,d-=5,r.ncode=(f&15)+4,f>>>=4,d-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Xn;break}r.have=0,r.mode=zj;case zj:for(;r.have<r.ncode;){for(;d<3;){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}r.lens[c[r.have++]]=f&7,f>>>=3,d-=3}for(;r.have<19;)r.lens[c[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,ae={bits:r.lenbits},G=Sw(MNe,r.lens,0,19,r.lencode,0,r.work,ae),r.lenbits=ae.bits,G){t.msg="invalid code lengths set",r.mode=Xn;break}r.have=0,r.mode=Wj;case Wj:for(;r.have<r.nlen+r.ndist;){for(;k=r.lencode[f&(1<<r.lenbits)-1],I=k>>>24,R=k>>>16&255,M=k&65535,!(I<=d);){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}if(M<16)f>>>=I,d-=I,r.lens[r.have++]=M;else{if(M===16){for(T=I+2;d<T;){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}if(f>>>=I,d-=I,r.have===0){t.msg="invalid bit length repeat",r.mode=Xn;break}Z=r.lens[r.have-1],b=3+(f&3),f>>>=2,d-=2}else if(M===17){for(T=I+3;d<T;){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}f>>>=I,d-=I,Z=0,b=3+(f&7),f>>>=3,d-=3}else{for(T=I+7;d<T;){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}f>>>=I,d-=I,Z=0,b=11+(f&127),f>>>=7,d-=7}if(r.have+b>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Xn;break}for(;b--;)r.lens[r.have++]=Z}}if(r.mode===Xn)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Xn;break}if(r.lenbits=9,ae={bits:r.lenbits},G=Sw(Lte,r.lens,0,r.nlen,r.lencode,0,r.work,ae),r.lenbits=ae.bits,G){t.msg="invalid literal/lengths set",r.mode=Xn;break}if(r.distbits=6,r.distcode=r.distdyn,ae={bits:r.distbits},G=Sw(Dte,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,ae),r.distbits=ae.bits,G){t.msg="invalid distances set",r.mode=Xn;break}if(r.mode=FA,e===DA)break e;case FA:r.mode=$A;case $A:if(a>=6&&u>=258){t.next_out=o,t.avail_out=u,t.next_in=s,t.avail_in=a,r.hold=f,r.bits=d,xNe(t,y),o=t.next_out,i=t.output,u=t.avail_out,s=t.next_in,n=t.input,a=t.avail_in,f=r.hold,d=r.bits,r.mode===$l&&(r.back=-1);break}for(r.back=0;k=r.lencode[f&(1<<r.lenbits)-1],I=k>>>24,R=k>>>16&255,M=k&65535,!(I<=d);){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}if(R&&!(R&240)){for(P=I,j=R,V=M;k=r.lencode[V+((f&(1<<P+j)-1)>>P)],I=k>>>24,R=k>>>16&255,M=k&65535,!(P+I<=d);){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}f>>>=P,d-=P,r.back+=P}if(f>>>=I,d-=I,r.back+=I,r.length=M,R===0){r.mode=Vj;break}if(R&32){r.back=-1,r.mode=$l;break}if(R&64){t.msg="invalid literal/length code",r.mode=Xn;break}r.extra=R&15,r.mode=jj;case jj:if(r.extra){for(T=r.extra;d<T;){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}r.length+=f&(1<<r.extra)-1,f>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=Kj;case Kj:for(;k=r.distcode[f&(1<<r.distbits)-1],I=k>>>24,R=k>>>16&255,M=k&65535,!(I<=d);){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}if(!(R&240)){for(P=I,j=R,V=M;k=r.distcode[V+((f&(1<<P+j)-1)>>P)],I=k>>>24,R=k>>>16&255,M=k&65535,!(P+I<=d);){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}f>>>=P,d-=P,r.back+=P}if(f>>>=I,d-=I,r.back+=I,R&64){t.msg="invalid distance code",r.mode=Xn;break}r.offset=M,r.extra=R&15,r.mode=Hj;case Hj:if(r.extra){for(T=r.extra;d<T;){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}r.offset+=f&(1<<r.extra)-1,f>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Xn;break}r.mode=qj;case qj:if(u===0)break e;if(b=y-u,r.offset>b){if(b=r.offset-b,b>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Xn;break}b>r.wnext?(b-=r.wnext,A=r.wsize-b):A=r.wnext-b,b>r.length&&(b=r.length),x=r.window}else x=i,A=o-r.offset,b=r.length;b>u&&(b=u),u-=b,r.length-=b;do i[o++]=x[A++];while(--b);r.length===0&&(r.mode=$A);break;case Vj:if(u===0)break e;i[o++]=r.length,u--,r.mode=$A;break;case uR:if(r.wrap){for(;d<32;){if(a===0)break e;a--,f|=n[s++]<<d,d+=8}if(y-=u,t.total_out+=y,r.total+=y,r.wrap&4&&y&&(t.adler=r.check=r.flags?vc(r.check,i,y,o-y):SP(r.check,i,y,o-y)),y=u,r.wrap&4&&(r.flags?f:Zj(f))!==r.check){t.msg="incorrect data check",r.mode=Xn;break}f=0,d=0}r.mode=Gj;case Gj:if(r.wrap&&r.flags){for(;d<32;){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}if(r.wrap&4&&f!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Xn;break}f=0,d=0}r.mode=Yj;case Yj:G=PNe;break e;case Xn:G=Fte;break e;case Ute:return $te;case zte:default:return iu}return t.next_out=o,t.avail_out=u,t.next_in=s,t.avail_in=a,r.hold=f,r.bits=d,(r.wsize||y!==t.avail_out&&r.mode<Xn&&(r.mode<uR||e!==Tj))&&qte(t,t.output,t.next_out,y-t.avail_out),g-=t.avail_in,y-=t.avail_out,t.total_in+=g,t.total_out+=y,r.total+=y,r.wrap&4&&y&&(t.adler=r.check=r.flags?vc(r.check,i,y,t.next_out-y):SP(r.check,i,y,t.next_out-y)),t.data_type=r.bits+(r.last?64:0)+(r.mode===$l?128:0)+(r.mode===FA||r.mode===aR?256:0),(g===0&&y===0||e===Tj)&&G===M0&&(G=BNe),G},jNe=t=>{if(ag(t))return iu;let e=t.state;return e.window&&(e.window=null),t.state=null,M0},KNe=(t,e)=>{if(ag(t))return iu;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,M0):iu},HNe=(t,e)=>{const r=e.length;let n,i,s;return ag(t)||(n=t.state,n.wrap!==0&&n.mode!==lE)?iu:n.mode===lE&&(i=1,i=SP(i,e,r,0),i!==n.check)?Fte:(s=qte(t,e,r,r),s?(n.mode=Ute,$te):(n.havedict=1,M0))};var qNe=jte,VNe=Kte,GNe=Wte,YNe=UNe,ZNe=Hte,XNe=WNe,JNe=jNe,QNe=KNe,eBe=HNe,tBe="pako inflate (from Nodeca project)",uf={inflateReset:qNe,inflateReset2:VNe,inflateResetKeep:GNe,inflateInit:YNe,inflateInit2:ZNe,inflate:XNe,inflateEnd:JNe,inflateGetHeader:QNe,inflateSetDictionary:eBe,inflateInfo:tBe};function rBe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var nBe=rBe;const Vte=Object.prototype.toString,{Z_NO_FLUSH:iBe,Z_FINISH:sBe,Z_OK:aS,Z_STREAM_END:fR,Z_NEED_DICT:dR,Z_STREAM_ERROR:oBe,Z_DATA_ERROR:Jj,Z_MEM_ERROR:aBe}=Nte;function P3(t){this.options=Bte.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _Ne,this.strm.avail_out=0;let r=uf.inflateInit2(this.strm,e.windowBits);if(r!==aS)throw new Error(_P[r]);if(this.header=new nBe,uf.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=AP.string2buf(e.dictionary):Vte.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=uf.inflateSetDictionary(this.strm,e.dictionary),r!==aS)))throw new Error(_P[r])}P3.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?sBe:iBe,Vte.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=uf.inflate(r,o),s===dR&&i&&(s=uf.inflateSetDictionary(r,i),s===aS?s=uf.inflate(r,o):s===Jj&&(s=dR));r.avail_in>0&&s===fR&&r.state.wrap>0&&t[r.next_in]!==0;)uf.inflateReset(r),s=uf.inflate(r,o);switch(s){case oBe:case Jj:case dR:case aBe:return this.onEnd(s),this.ended=!0,!1}if(a=r.avail_out,r.next_out&&(r.avail_out===0||s===fR))if(this.options.to==="string"){let u=AP.utf8border(r.output,r.next_out),f=r.next_out-u,d=AP.buf2string(r.output,u);r.next_out=f,r.avail_out=n-f,f&&r.output.set(r.output.subarray(u,u+f),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===aS&&a===0)){if(s===fR)return s=uf.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};P3.prototype.onData=function(t){this.chunks.push(t)};P3.prototype.onEnd=function(t){t===aS&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Bte.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function uBe(t,e){const r=new P3(e);if(r.push(t),r.err)throw r.msg||_P[r.err];return r.result}var cBe=uBe,lBe={inflate:cBe};const{inflate:fBe}=lBe;var dBe=fBe,Gte={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,f,d){this.fn=u,this.context=f,this.once=d||!1}function s(u,f,d,g,y){if(typeof d!="function")throw new TypeError("The listener must be a function");var b=new i(d,g||u,y),A=r?r+f:f;return u._events[A]?u._events[A].fn?u._events[A]=[u._events[A],b]:u._events[A].push(b):(u._events[A]=b,u._eventsCount++),u}function o(u,f){--u._eventsCount===0?u._events=new n:delete u._events[f]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var f=[],d,g;if(this._eventsCount===0)return f;for(g in d=this._events)e.call(d,g)&&f.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(d)):f},a.prototype.listeners=function(f){var d=r?r+f:f,g=this._events[d];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,b=g.length,A=new Array(b);y<b;y++)A[y]=g[y].fn;return A},a.prototype.listenerCount=function(f){var d=r?r+f:f,g=this._events[d];return g?g.fn?1:g.length:0},a.prototype.emit=function(f,d,g,y,b,A){var x=r?r+f:f;if(!this._events[x])return!1;var k=this._events[x],I=arguments.length,R,M;if(k.fn){switch(k.once&&this.removeListener(f,k.fn,void 0,!0),I){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,d),!0;case 3:return k.fn.call(k.context,d,g),!0;case 4:return k.fn.call(k.context,d,g,y),!0;case 5:return k.fn.call(k.context,d,g,y,b),!0;case 6:return k.fn.call(k.context,d,g,y,b,A),!0}for(M=1,R=new Array(I-1);M<I;M++)R[M-1]=arguments[M];k.fn.apply(k.context,R)}else{var P=k.length,j;for(M=0;M<P;M++)switch(k[M].once&&this.removeListener(f,k[M].fn,void 0,!0),I){case 1:k[M].fn.call(k[M].context);break;case 2:k[M].fn.call(k[M].context,d);break;case 3:k[M].fn.call(k[M].context,d,g);break;case 4:k[M].fn.call(k[M].context,d,g,y);break;default:if(!R)for(j=1,R=new Array(I-1);j<I;j++)R[j-1]=arguments[j];k[M].fn.apply(k[M].context,R)}}return!0},a.prototype.on=function(f,d,g){return s(this,f,d,g,!1)},a.prototype.once=function(f,d,g){return s(this,f,d,g,!0)},a.prototype.removeListener=function(f,d,g,y){var b=r?r+f:f;if(!this._events[b])return this;if(!d)return o(this,b),this;var A=this._events[b];if(A.fn)A.fn===d&&(!y||A.once)&&(!g||A.context===g)&&o(this,b);else{for(var x=0,k=[],I=A.length;x<I;x++)(A[x].fn!==d||y&&!A[x].once||g&&A[x].context!==g)&&k.push(A[x]);k.length?this._events[b]=k.length===1?k[0]:k:o(this,b)}return this},a.prototype.removeAllListeners=function(f){var d;return f?(d=r?r+f:f,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(Gte);var hBe=Gte.exports;const pBe=ro(hBe);function gBe(t,e){return Array.apply(0,new Array(Math.ceil(t.length/e))).map((r,n)=>t.slice(n*e,(n+1)*e))}const lv=t=>"version"in t;function mBe(t){return new TextDecoder("utf-8").decode(t)}function yBe(t){return new TextEncoder().encode(t)}function Qj(t){return yi.encode(t)}function eK(t){return t.toString("base64")}function Yte(t){return xe.Buffer.from(t,"base64")}function bBe(t){const e=new Map;return t.errors&&t.errors.forEach(r=>{var n;let i=(n=r.msg)!==null&&n!==void 0?n:r.name;e.set(r.code,i)}),e}function vBe(t,...e){if(t.args.length!=e.length)throw new Error("Invalid argument length");const r={};let n=0;return t.args.forEach(i=>{r[i.name]=e[n],n+=1}),r}function Zte(t,e={}){t.forEach(r=>{if("accounts"in r)Zte(r.accounts,e[r.name]);else if(e[r.name]===void 0)throw new Error(`Invalid arguments: ${r.name} not provided.`)})}function Ja(t){return t instanceof pt?t:new pt(t)}class wBe extends TypeError{constructor(e,r){let n;const{message:i,...s}=e,{path:o}=e,a=o.length===0?i:"At path: "+o.join(".")+" -- "+i;super(a),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>{var u;return(u=n)!=null?u:n=[e,...r()]}}}function SBe(t){return fy(t)&&typeof t[Symbol.iterator]=="function"}function fy(t){return typeof t=="object"&&t!=null}function Th(t){return typeof t=="string"?JSON.stringify(t):""+t}function _Be(t){const{done:e,value:r}=t.next();return e?void 0:r}function ABe(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=r,{refinement:a,message:u="Expected a value of type `"+o+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+Th(n)+"`"}=t;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:u}}function*tK(t,e,r,n){SBe(t)||(t=[t]);for(const i of t){const s=ABe(i,e,r,n);s&&(yield s)}}function*xO(t,e,r){r===void 0&&(r={});const{path:n=[],branch:i=[t],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i};if(s&&(t=e.coercer(t,a),o&&e.type!=="type"&&fy(e.schema)&&fy(t)&&!Array.isArray(t)))for(const f in t)e.schema[f]===void 0&&delete t[f];let u=!0;for(const f of e.validator(t,a))u=!1,yield[f,void 0];for(let[f,d,g]of e.entries(t,a)){const y=xO(d,g,{path:f===void 0?n:[...n,f],branch:f===void 0?i:[...i,d],coerce:s,mask:o});for(const b of y)b[0]?(u=!1,yield[b[0],void 0]):s&&(d=b[1],f===void 0?t=d:t instanceof Map?t.set(f,d):t instanceof Set?t.add(d):fy(t)&&(t[f]=d))}if(u)for(const f of e.refiner(t,a))u=!1,yield[f,void 0];u&&(yield[void 0,t])}let jh=class{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:r,schema:n,validator:i,refiner:s,coercer:o=u=>u,entries:a=function*(){}}=e;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(u,f)=>{const d=i(u,f);return tK(d,f,this,u)}:this.validator=()=>[],s?this.refiner=(u,f)=>{const d=s(u,f);return tK(d,f,this,u)}:this.refiner=()=>[]}assert(e){return xBe(e,this)}create(e){return EO(e,this)}is(e){return Xte(e,this)}mask(e){return EBe(e,this)}validate(e,r){return r===void 0&&(r={}),h_(e,this,r)}};function xBe(t,e){const r=h_(t,e);if(r[0])throw r[0]}function EO(t,e){const r=h_(t,e,{coerce:!0});if(r[0])throw r[0];return r[1]}function EBe(t,e){const r=h_(t,e,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}function Xte(t,e){return!h_(t,e)[0]}function h_(t,e,r){r===void 0&&(r={});const n=xO(t,e,r),i=_Be(n);return i[0]?[new wBe(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function p_(t,e){return new jh({type:t,schema:null,validator:e})}function kBe(){return p_("any",()=>!0)}function hR(t){return new jh({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+Th(e)}})}function TBe(){return p_("boolean",t=>typeof t=="boolean")}function rK(t){const e=Th(t);return new jh({type:"literal",schema:t,validator(r){return r===t||"Expected the literal `"+e+"`, but received: "+Th(r)}})}function UA(t){return new jh({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function K2(){return p_("number",t=>typeof t=="number"&&!isNaN(t)||"Expected a number, but received: "+Th(t))}function H2(t){return new jh({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function Mp(){return p_("string",t=>typeof t=="string"||"Expected a string, but received: "+Th(t))}function mh(t){const e=Object.keys(t);return new jh({type:"type",schema:t,*entries(r){if(fy(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return fy(r)||"Expected an object, but received: "+Th(r)}})}function Jte(t){const e=t.map(r=>r.type).join(" | ");return new jh({type:"union",schema:null,coercer(r,n){return(t.find(s=>{const[o]=s.validate(r,{coerce:!0});return!o})||kO()).coercer(r,n)},validator(r,n){const i=[];for(const s of t){const[...o]=xO(r,s,n),[a]=o;if(a[0])for(const[u]of o)u&&i.push(u);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+Th(r),...i]}})}function kO(){return p_("unknown",()=>!0)}function IBe(t,e,r){return new jh({...t,coercer:(n,i)=>Xte(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}const nK=99;async function RBe(t,e,r){if(e.length<=nK)return await iK(t,e,r);{const n=gBe(e,nK);return(await Promise.all(n.map(s=>iK(t,s,r)))).flat()}}async function iK(t,e,r){const n=r??t.commitment,{value:i,context:s}=await t.getMultipleAccountsInfoAndContext(e,n);return i.map((a,u)=>a===null?null:{publicKey:e[u],account:a,context:s})}async function MBe(t,e,r,n,i){var s;r&&r.length>0&&e.sign(...r);const o=e._compile(),a=o.serialize(),f=e._serialize(a).toString("base64"),d={encoding:"base64",commitment:n??t.commitment};if(i){const A=(Array.isArray(i)?i:o.nonProgramIds()).map(x=>x.toBase58());d.accounts={encoding:"base64",addresses:A}}r&&(d.sigVerify=!0);const g=[f,d],y=await t._rpcRequest("simulateTransaction",g),b=EO(y,BBe);if("error"in b){let A;if("data"in b.error&&(A=(s=b.error.data)===null||s===void 0?void 0:s.logs,A&&Array.isArray(A))){const x=`
    `,k=x+A.join(x);console.error(b.error.message,k)}throw new kh("failed to simulate transaction: "+b.error.message,A)}return b.result}function CBe(t){return IBe(Qte(t),PBe,e=>"error"in e?e:{...e,result:EO(e.result,t)})}const PBe=Qte(kO());function Qte(t){return Jte([mh({jsonrpc:rK("2.0"),id:Mp(),result:t}),mh({jsonrpc:rK("2.0"),id:Mp(),error:mh({code:kO(),message:Mp(),data:H2(kBe())})})])}function NBe(t){return CBe(mh({context:mh({slot:K2()}),value:t}))}const BBe=NBe(mh({err:UA(Jte([mh({}),Mp()])),logs:UA(hR(Mp())),accounts:H2(UA(hR(UA(mh({executable:TBe(),owner:Mp(),lamports:K2(),data:hR(Mp()),rentEpoch:H2(K2())}))))),unitsConsumed:H2(K2())}));class OBe{constructor(e,r,n){this.connection=e,this.wallet=r,this.opts=n,this.publicKey=r==null?void 0:r.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,r){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(e,r,n){var i,s,o,a;if(n===void 0&&(n=this.opts),lv(e))r&&e.sign(r);else if(e.feePayer=(i=e.feePayer)!==null&&i!==void 0?i:this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(n.preflightCommitment)).blockhash,r)for(const f of r)e.partialSign(f);e=await this.wallet.signTransaction(e);const u=e.serialize();try{return await sK(this.connection,u,n)}catch(f){if(f instanceof xP){const d=Qj(lv(e)?((s=e.signatures)===null||s===void 0?void 0:s[0])||new Uint8Array:(o=e.signature)!==null&&o!==void 0?o:new Uint8Array),g=await this.connection.getTransaction(d,{commitment:"confirmed"});if(g){const y=(a=g.meta)===null||a===void 0?void 0:a.logMessages;throw y?new kh(f.message,y):f}else throw f}else throw f}}async sendAll(e,r){var n,i,s;r===void 0&&(r=this.opts);const o=(await this.connection.getLatestBlockhash(r.preflightCommitment)).blockhash;let a=e.map(d=>{var g,y;if(lv(d.tx)){let b=d.tx;return d.signers&&b.sign(d.signers),b}else{let b=d.tx,A=(g=d.signers)!==null&&g!==void 0?g:[];return b.feePayer=(y=b.feePayer)!==null&&y!==void 0?y:this.wallet.publicKey,b.recentBlockhash=o,A.forEach(x=>{b.partialSign(x)}),b}});const u=await this.wallet.signAllTransactions(a),f=[];for(let d=0;d<a.length;d+=1){const g=u[d],y=g.serialize();try{f.push(await sK(this.connection,y,r))}catch(b){if(b instanceof xP){const A=Qj(lv(g)?((n=g.signatures)===null||n===void 0?void 0:n[0])||new Uint8Array:(i=g.signature)!==null&&i!==void 0?i:new Uint8Array),x=await this.connection.getTransaction(A,{commitment:"confirmed"});if(x){const k=(s=x.meta)===null||s===void 0?void 0:s.logMessages;throw k?new kh(b.message,k):b}else throw b}else throw b}}return f}async simulate(e,r,n,i){let s=(await this.connection.getLatestBlockhash(n??this.connection.commitment)).blockhash,o;if(lv(e)?(r&&(e.sign(r),e=await this.wallet.signTransaction(e)),o=await this.connection.simulateTransaction(e,{commitment:n})):(e.feePayer=e.feePayer||this.wallet.publicKey,e.recentBlockhash=s,r&&(e=await this.wallet.signTransaction(e)),o=await MBe(this.connection,e,r,n,i)),o.value.err)throw new LBe(o.value);return o.value}}class LBe extends Error{constructor(e,r){super(r),this.simulationResponse=e}}async function sK(t,e,r){const n=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment},i=await t.sendRawTransaction(e,n),s=(await t.confirmTransaction(i,r&&r.commitment)).value;if(s.err)throw new xP(`Raw transaction ${i} failed (${JSON.stringify(s)})`);return i}class xP extends Error{constructor(e){super(e)}}function EP(){return OBe.local()}const DBe=new Map;function ere(t){return DBe.get(t)!==void 0}class fE extends Error{constructor(e){super(e),this.name="IdlError"}}class g_{constructor(e){this.stack=e}static parse(e){var r;const n=/^Program (\w*) invoke/,i=/^Program \w* success/,s=[];for(let o=0;o<e.length;o++){if(i.exec(e[o])){s.pop();continue}const a=(r=n.exec(e[o]))===null||r===void 0?void 0:r[1];a&&s.push(new pt(a))}return new g_(s)}}class _w extends Error{constructor(e,r,n,i,s,o){super(n.join(`
`).replace("Program log: ","")),this.errorLogs=n,this.logs=i,this.error={errorCode:e,errorMessage:r,comparedValues:o,origin:s},this._programErrorStack=g_.parse(i)}static parse(e){if(!e)return null;const r=e.findIndex(y=>y.startsWith("Program log: AnchorError"));if(r===-1)return null;const n=e[r],i=[n];let s;if(r+1<e.length){if(e[r+1]==="Program log: Left:"){const y=/^Program log: (.*)$/,b=y.exec(e[r+2])[1],A=y.exec(e[r+4])[1];s=[new pt(b),new pt(A)],i.push(...e.slice(r+1,r+5))}else if(e[r+1].startsWith("Program log: Left:")){const y=/^Program log: (Left|Right): (.*)$/,b=y.exec(e[r+1])[2],A=y.exec(e[r+2])[2];i.push(...e.slice(r+1,r+3)),s=[b,A]}}const a=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),f=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),g=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n);if(a){const[y,b,A]=a.slice(1,4),x={code:y,number:parseInt(b)};return new _w(x,A,i,e,void 0,s)}else if(f){const[y,b,A,x,k]=f.slice(1,6),I={code:A,number:parseInt(x)},R={file:y,line:parseInt(b)};return new _w(I,k,i,e,R,s)}else if(g){const[y,b,A,x]=g.slice(1,5),k=y,I={code:b,number:parseInt(A)};return new _w(I,x,i,e,k,s)}else return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class dE extends Error{constructor(e,r,n){super(),this.code=e,this.msg=r,this.logs=n,n&&(this._programErrorStack=g_.parse(n))}static parse(e,r){const n=e.toString();let i;if(n.includes("custom program error:")){let a=n.split("custom program error: ");if(a.length!==2)return null;i=a[1]}else{const a=n.match(/"Custom":([0-9]+)}/g);if(!a||a.length>1)return null;i=a[0].match(/([0-9]+)/g)[0]}let s;try{s=parseInt(i)}catch{return null}let o=r.get(s);return o!==void 0?new dE(s,o,e.logs):(o=FBe.get(s),o!==void 0?new dE(s,o,e.logs):null)}get program(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack}toString(){return this.msg}}function tre(t,e){ere("debug-logs")&&console.log("Translating error:",t);const r=_w.parse(t.logs);if(r)return r;const n=dE.parse(t,e);if(n)return n;if(t.logs){const i={get:function(s,o){return o==="programErrorStack"?s.programErrorStack.stack:o==="program"?s.programErrorStack.stack[t.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return t.programErrorStack=g_.parse(t.logs),new Proxy(t,i)}return t}const Ht={InstructionMissing:100,InstructionFallbackNotFound:101,InstructionDidNotDeserialize:102,InstructionDidNotSerialize:103,IdlInstructionStub:1e3,IdlInstructionInvalidProgram:1001,ConstraintMut:2e3,ConstraintHasOne:2001,ConstraintSigner:2002,ConstraintRaw:2003,ConstraintOwner:2004,ConstraintRentExempt:2005,ConstraintSeeds:2006,ConstraintExecutable:2007,ConstraintState:2008,ConstraintAssociated:2009,ConstraintAssociatedInit:2010,ConstraintClose:2011,ConstraintAddress:2012,ConstraintZero:2013,ConstraintTokenMint:2014,ConstraintTokenOwner:2015,ConstraintMintMintAuthority:2016,ConstraintMintFreezeAuthority:2017,ConstraintMintDecimals:2018,ConstraintSpace:2019,ConstraintAccountIsNone:2020,RequireViolated:2500,RequireEqViolated:2501,RequireKeysEqViolated:2502,RequireNeqViolated:2503,RequireKeysNeqViolated:2504,RequireGtViolated:2505,RequireGteViolated:2506,AccountDiscriminatorAlreadySet:3e3,AccountDiscriminatorNotFound:3001,AccountDiscriminatorMismatch:3002,AccountDidNotDeserialize:3003,AccountDidNotSerialize:3004,AccountNotEnoughKeys:3005,AccountNotMutable:3006,AccountOwnedByWrongProgram:3007,InvalidProgramId:3008,InvalidProgramExecutable:3009,AccountNotSigner:3010,AccountNotSystemOwned:3011,AccountNotInitialized:3012,AccountNotProgramData:3013,AccountNotAssociatedTokenAccount:3014,AccountSysvarMismatch:3015,AccountReallocExceedsLimit:3016,AccountDuplicateReallocs:3017,DeclaredProgramIdMismatch:4100,Deprecated:5e3},FBe=new Map([[Ht.InstructionMissing,"8 byte instruction identifier not provided"],[Ht.InstructionFallbackNotFound,"Fallback functions are not supported"],[Ht.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[Ht.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[Ht.IdlInstructionStub,"The program was compiled without idl instructions"],[Ht.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[Ht.ConstraintMut,"A mut constraint was violated"],[Ht.ConstraintHasOne,"A has one constraint was violated"],[Ht.ConstraintSigner,"A signer constraint was violated"],[Ht.ConstraintRaw,"A raw constraint was violated"],[Ht.ConstraintOwner,"An owner constraint was violated"],[Ht.ConstraintRentExempt,"A rent exemption constraint was violated"],[Ht.ConstraintSeeds,"A seeds constraint was violated"],[Ht.ConstraintExecutable,"An executable constraint was violated"],[Ht.ConstraintState,"Deprecated Error, feel free to replace with something else"],[Ht.ConstraintAssociated,"An associated constraint was violated"],[Ht.ConstraintAssociatedInit,"An associated init constraint was violated"],[Ht.ConstraintClose,"A close constraint was violated"],[Ht.ConstraintAddress,"An address constraint was violated"],[Ht.ConstraintZero,"Expected zero account discriminant"],[Ht.ConstraintTokenMint,"A token mint constraint was violated"],[Ht.ConstraintTokenOwner,"A token owner constraint was violated"],[Ht.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[Ht.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[Ht.ConstraintMintDecimals,"A mint decimals constraint was violated"],[Ht.ConstraintSpace,"A space constraint was violated"],[Ht.ConstraintAccountIsNone,"A required account for the constraint is None"],[Ht.RequireViolated,"A require expression was violated"],[Ht.RequireEqViolated,"A require_eq expression was violated"],[Ht.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[Ht.RequireNeqViolated,"A require_neq expression was violated"],[Ht.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[Ht.RequireGtViolated,"A require_gt expression was violated"],[Ht.RequireGteViolated,"A require_gte expression was violated"],[Ht.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[Ht.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[Ht.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[Ht.AccountDidNotDeserialize,"Failed to deserialize the account"],[Ht.AccountDidNotSerialize,"Failed to serialize the account"],[Ht.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[Ht.AccountNotMutable,"The given account is not mutable"],[Ht.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[Ht.InvalidProgramId,"Program ID was not as expected"],[Ht.InvalidProgramExecutable,"Program account is not executable"],[Ht.AccountNotSigner,"The given account did not sign"],[Ht.AccountNotSystemOwned,"The given account is not owned by the system program"],[Ht.AccountNotInitialized,"The program expected this account to be already initialized"],[Ht.AccountNotProgramData,"The given account is not a program data account"],[Ht.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[Ht.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[Ht.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[Ht.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[Ht.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[Ht.Deprecated,"The API being used is deprecated and should no longer be used"]]);var kP=function(){return kP=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},kP.apply(this,arguments)},TP=function(){return TP=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},TP.apply(this,arguments)};function $Be(t){return t.toLowerCase()}var UBe=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],zBe=/[^A-Z0-9]+/gi;function WBe(t,e){e===void 0&&(e={});for(var r=e.splitRegexp,n=r===void 0?UBe:r,i=e.stripRegexp,s=i===void 0?zBe:i,o=e.transform,a=o===void 0?$Be:o,u=e.delimiter,f=u===void 0?" ":u,d=oK(oK(t,n,"$1\0$2"),s,"\0"),g=0,y=d.length;d.charAt(g)==="\0";)g++;for(;d.charAt(y-1)==="\0";)y--;return d.slice(g,y).split("\0").map(a).join(f)}function oK(t,e,r){return e instanceof RegExp?t.replace(e,r):e.reduce(function(n,i){return n.replace(i,r)},t)}function jBe(t,e){return e===void 0&&(e={}),WBe(t,TP({delimiter:"."},e))}function KBe(t,e){return e===void 0&&(e={}),jBe(t,kP({delimiter:"_"},e))}class No{static fieldLayout(e,r){const n=e.name!==void 0?Jn(e.name):void 0;switch(e.type){case"bool":return lr.bool(n);case"u8":return lr.u8(n);case"i8":return lr.i8(n);case"u16":return lr.u16(n);case"i16":return lr.i16(n);case"u32":return lr.u32(n);case"i32":return lr.i32(n);case"f32":return lr.f32(n);case"u64":return lr.u64(n);case"i64":return lr.i64(n);case"f64":return lr.f64(n);case"u128":return lr.u128(n);case"i128":return lr.i128(n);case"u256":return lr.u256(n);case"i256":return lr.i256(n);case"bytes":return lr.vecU8(n);case"string":return lr.str(n);case"publicKey":return lr.publicKey(n);default:{if("vec"in e.type)return lr.vec(No.fieldLayout({name:void 0,type:e.type.vec},r),n);if("option"in e.type)return lr.option(No.fieldLayout({name:void 0,type:e.type.option},r),n);if("defined"in e.type){if(!r)throw new fE("User defined types not provided");const i=e.type.defined,s=r.filter(o=>o.name===i);if(s.length!==1)throw new fE(`Type not found: ${JSON.stringify(e)}`);return No.typeDefLayout(s[0],r,n)}else if("array"in e.type){let i=e.type.array[0],s=e.type.array[1],o=No.fieldLayout({name:void 0,type:i},r);return lr.array(o,s,n)}else throw new Error(`Not yet implemented: ${e}`)}}}static typeDefLayout(e,r=[],n){switch(e.type.kind){case"struct":{const i=e.type.fields.map(s=>No.fieldLayout(s,r));return lr.struct(i,n)}case"enum":{let i=e.type.variants.map(s=>{const o=Jn(s.name);if(!s.fields)return lr.struct([],o);const a=s.fields.map((u,f)=>u!=null&&u.name?No.fieldLayout(u,r):No.fieldLayout({type:u,name:f.toString()},r));return lr.struct(a,o)});return n!==void 0?lr.rustEnum(i).replicate(n):lr.rustEnum(i,n)}case"alias":return No.fieldLayout({type:e.type.value,name:e.name},r)}}}const aK="global";class TO{constructor(e){this.idl=e,this.ixLayout=TO.parseIxLayout(e);const r=new Map;e.instructions.forEach(n=>{const i=uK(aK,n.name);r.set(yi.encode(i),{layout:this.ixLayout.get(n.name),name:n.name})}),this.sighashLayouts=r}encode(e,r){return this._encode(aK,e,r)}_encode(e,r,n){const i=xe.Buffer.alloc(1e3),s=Jn(r),o=this.ixLayout.get(s);if(!o)throw new Error(`Unknown method: ${s}`);const a=o.encode(n,i),u=i.slice(0,a);return xe.Buffer.concat([uK(e,r),u])}static parseIxLayout(e){const r=e.instructions.map(n=>{let i=n.args.map(o=>{var a,u;return No.fieldLayout(o,Array.from([...(a=e.accounts)!==null&&a!==void 0?a:[],...(u=e.types)!==null&&u!==void 0?u:[]]))});const s=Jn(n.name);return[s,lr.struct(i,s)]});return new Map(r)}decode(e,r="hex"){typeof e=="string"&&(e=r==="hex"?xe.Buffer.from(e,"hex"):yi.decode(e));let n=yi.encode(e.slice(0,8)),i=e.slice(8);const s=this.sighashLayouts.get(n);return s?{data:s.layout.decode(i),name:s.name}:null}format(e,r){return Sc.format(e,r,this.idl)}}class Sc{static format(e,r,n){const i=n.instructions.filter(u=>e.name===u.name)[0];if(i===void 0)return console.error("Invalid instruction given"),null;const s=i.args.map(u=>({name:u.name,type:Sc.formatIdlType(u.type),data:Sc.formatIdlData(u,e.data[u.name],n.types)})),o=Sc.flattenIdlAccounts(i.accounts),a=r.map((u,f)=>f<o.length?{name:o[f].name,...u}:{name:void 0,...u});return{args:s,accounts:a}}static formatIdlType(e){if(typeof e=="string")return e;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("defined"in e)return e.defined;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,r,n){if(typeof e.type=="string")return r.toString();if(e.type.hasOwnProperty("vec"))return"["+r.map(i=>this.formatIdlData({name:"",type:e.type.vec},i)).join(", ")+"]";if(e.type.hasOwnProperty("option"))return r===null?"null":this.formatIdlData({name:"",type:e.type.option},r,n);if(e.type.hasOwnProperty("defined")){if(n===void 0)throw new Error("User defined types not provided");const i=n.filter(s=>s.name===e.type.defined);if(i.length!==1)throw new Error(`Type not found: ${e.type.defined}`);return Sc.formatIdlDataDefined(i[0],r,n)}return"unknown"}static formatIdlDataDefined(e,r,n){switch(e.type.kind){case"struct":{const i=e.type;return"{ "+Object.keys(r).map(o=>{const a=i.fields.find(u=>u.name===o);if(!a)throw new Error("Unable to find type");return o+": "+Sc.formatIdlData(a,r[o],n)}).join(", ")+" }"}case"enum":{if(e.type.variants.length===0)return"{}";if(e.type.variants[0].name){const i=e.type.variants,s=Object.keys(r)[0],o=r[s],a=Object.keys(o).map(f=>{var d;const g=o[f],y=(d=i[s])===null||d===void 0?void 0:d.find(b=>b.name===f);if(!y)throw new Error("Unable to find variant");return f+": "+Sc.formatIdlData(y,g,n)}).join(", "),u=Jn(s,{pascalCase:!0});return a.length===0?u:`${u} { ${a} }`}else return"Tuple formatting not yet implemented"}case"alias":return Sc.formatIdlType(e.type.value)}}static flattenIdlAccounts(e,r){return e.map(n=>{const i=HBe(n.name);if(n.hasOwnProperty("accounts")){const s=r?`${r} > ${i}`:i;return Sc.flattenIdlAccounts(n.accounts,s)}else return{...n,name:r?`${r} > ${i}`:i}}).flat()}}function HBe(t){const e=t.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}function uK(t,e){let r=KBe(e),n=`${t}:${r}`;return xe.Buffer.from(Vo(n).slice(0,8))}function rre(t,e){switch(e.type.kind){case"struct":return e.type.fields.map(r=>Cp(t,r.type)).reduce((r,n)=>r+n,0);case"enum":{const r=e.type.variants.map(n=>n.fields?n.fields.map(i=>typeof i=="object"&&"name"in i?Cp(t,i.type):Cp(t,i)).reduce((i,s)=>i+s,0):0);return Math.max(...r)+1}case"alias":return Cp(t,e.type.value)}}function Cp(t,e){var r,n;switch(e){case"bool":return 1;case"u8":return 1;case"i8":return 1;case"i16":return 2;case"u16":return 2;case"u32":return 4;case"i32":return 4;case"f32":return 4;case"u64":return 8;case"i64":return 8;case"f64":return 8;case"u128":return 16;case"i128":return 16;case"u256":return 32;case"i256":return 32;case"bytes":return 1;case"string":return 1;case"publicKey":return 32;default:if("vec"in e)return 1;if("option"in e)return 1+Cp(t,e.option);if("coption"in e)return 4+Cp(t,e.coption);if("defined"in e){const i=(n=(r=t.types)===null||r===void 0?void 0:r.filter(o=>o.name===e.defined))!==null&&n!==void 0?n:[];if(i.length!==1)throw new fE(`Type not found: ${JSON.stringify(e)}`);let s=i[0];return rre(t,s)}if("array"in e){let i=e.array[0],s=e.array[1];return Cp(t,i)*s}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}const IP=8;function nre(t){return we.Buffer.from(Vo(t).slice(0,IP))}class Om{constructor(e){if(e.accounts===void 0){this.accountLayouts=new Map;return}const r=e.accounts.map(n=>[n.name,No.typeDefLayout(n,e.types)]);this.accountLayouts=new Map(r),this.idl=e}async encode(e,r){const n=xe.Buffer.alloc(1e3),i=this.accountLayouts.get(e);if(!i)throw new Error(`Unknown account: ${e}`);const s=i.encode(r,n);let o=n.slice(0,s),a=Om.accountDiscriminator(e);return xe.Buffer.concat([a,o])}decode(e,r){if(Om.accountDiscriminator(e).compare(r.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,r)}decodeAny(e){const r=e.slice(0,8),n=Array.from(this.accountLayouts.keys()).find(i=>Om.accountDiscriminator(i).equals(r));if(!n)throw new Error("Account descriminator not found");return this.decodeUnchecked(n,e)}decodeUnchecked(e,r){const n=r.subarray(IP),i=this.accountLayouts.get(e);if(!i)throw new Error(`Unknown account: ${e}`);return i.decode(n)}memcmp(e,r){const n=Om.accountDiscriminator(e);return{offset:0,bytes:yi.encode(r?xe.Buffer.concat([n,r]):n)}}size(e){var r;return IP+((r=rre(this.idl,e))!==null&&r!==void 0?r:0)}static accountDiscriminator(e){const r=`account:${Jn(e,{pascalCase:!0,preserveConsecutiveUppercase:!0})}`;return nre(r)}}class qBe{constructor(e){if(e.events===void 0){this.layouts=new Map;return}const r=e.events.map(n=>{let i={name:n.name,type:{kind:"struct",fields:n.fields.map(s=>({name:s.name,type:s.type}))}};return[n.name,No.typeDefLayout(i,e.types)]});this.layouts=new Map(r),this.discriminators=new Map(e.events===void 0?[]:e.events.map(n=>[eK(VBe(n.name)),n.name]))}decode(e){let r;try{r=Yte(e)}catch{return null}const n=eK(r.slice(0,8)),i=this.discriminators.get(n);if(i===void 0)return null;const s=this.layouts.get(i);if(!s)throw new Error(`Unknown event: ${i}`);return{data:s.decode(r.slice(8)),name:i}}}function VBe(t){return nre(`event:${t}`)}class GBe{constructor(e){if(e.types===void 0){this.typeLayouts=new Map;return}const r=e.types.map(n=>[n.name,No.typeDefLayout(n,e.types)]);this.typeLayouts=new Map(r),this.idl=e}encode(e,r){const n=xe.Buffer.alloc(1e3),i=this.typeLayouts.get(e);if(!i)throw new Error(`Unknown type: ${e}`);const s=i.encode(r,n);return n.slice(0,s)}decode(e,r){const n=this.typeLayouts.get(e);if(!n)throw new Error(`Unknown type: ${e}`);return n.decode(r)}}class ire{constructor(e){this.instruction=new TO(e),this.accounts=new Om(e),this.events=new qBe(e),this.types=new GBe(e)}}var YBe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof we.global<"u"?we.global:typeof self<"u"?self:{};class Yo{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}decode(e,r){throw new Error("Layout is abstract")}encode(e,r,n){throw new Error("Layout is abstract")}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}}var N3=Yo;function ZBe(t,e){return e.property?t+"["+e.property+"]":t}class Pp extends Yo{isCount(){throw new Error("ExternalLayout is abstract")}}class sre extends Pp{constructor(e,r,n){if(!(e instanceof Yo))throw new TypeError("layout must be a Layout");if(r===void 0)r=0;else if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof B3||this.layout instanceof ore}decode(e,r){return r===void 0&&(r=0),this.layout.decode(e,r+this.offset)}encode(e,r,n){return n===void 0&&(n=0),this.layout.encode(e,r,n+this.offset)}}class B3 extends Yo{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readUIntLE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeUIntLE(e,n,this.span),this.span}}class ore extends Yo{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readUIntBE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeUIntBE(e,n,this.span),this.span}}const RP=Math.pow(2,32);function are(t){const e=Math.floor(t/RP),r=t-e*RP;return{hi32:e,lo32:r}}function ure(t,e){return t*RP+e}class XBe extends Yo{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);const n=e.readUInt32LE(r),i=e.readUInt32LE(r+4);return ure(i,n)}encode(e,r,n){n===void 0&&(n=0);const i=are(e);return r.writeUInt32LE(i.lo32,n),r.writeUInt32LE(i.hi32,n+4),8}}class JBe extends Yo{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);const n=e.readUInt32LE(r),i=e.readInt32LE(r+4);return ure(i,n)}encode(e,r,n){n===void 0&&(n=0);const i=are(e);return r.writeUInt32LE(i.lo32,n),r.writeInt32LE(i.hi32,n+4),8}}class QBe extends Yo{constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof Yo,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0;try{n=this.fields.reduce((i,s)=>{const o=s.getSpan(e,r);return r+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r){r===void 0&&(r=0);const n=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,r)),r+=i.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n){n===void 0&&(n=0);const i=n;let s=0,o=0;for(const a of this.fields){let u=a.span;if(o=0<u?u:0,a.property!==void 0){const f=e[a.property];f!==void 0&&(o=a.encode(f,r,n),0>u&&(u=a.getSpan(r,n)))}s=n,n+=u}return s+o-i}fromArray(e){const r=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(const n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}}class cre{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class cK extends cre{constructor(e,r){if(!(e instanceof Pp&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}}class lre extends Yo{constructor(e,r,n){const i=e instanceof B3||e instanceof ore;if(i)e=new cK(new sre(e));else if(e instanceof Pp&&e.isCount())e=new cK(e);else if(!(e instanceof cre))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof Yo))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let s=-1;r&&(s=r.span,0<=s&&i&&(s+=e.layout.span)),super(s,n),this.discriminator=e,this.usesPrefixDiscriminator=i,this.defaultLayout=r,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);const n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||e.hasOwnProperty(r.property)))return r}else for(const r in this.registry){const n=this.registry[r];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,r){r===void 0&&(r=0);let n;const i=this.discriminator,s=i.decode(e,r);let o=this.registry[s];if(o===void 0){let a=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(a=i.layout.span),n=this.makeDestinationObject(),n[i.property]=s,n[o.property]=this.defaultLayout.decode(e,r+a)}else n=o.decode(e,r);return n}encode(e,r,n){n===void 0&&(n=0);const i=this.getSourceVariant(e);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(e[s.property],r,n),a+o.encode(e[o.property],r,n+a)}return i.encode(e,r,n)}addVariant(e,r,n){const i=new eOe(this,e,r,n);return this.registry[e]=i,i}getVariant(e,r){let n=e;return we.Buffer.isBuffer(e)&&(r===void 0&&(r=0),n=this.discriminator.decode(e,r)),this.registry[n]}}class eOe extends Yo{constructor(e,r,n,i){if(!(e instanceof lre))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof Yo))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=n?n.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,r+n)}decode(e,r){const n=this.makeDestinationObject();if(r===void 0&&(r=0),this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n){n===void 0&&(n=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let s=i;if(this.layout&&(this.layout.encode(e[this.property],r,n+i),s+=this.layout.getSpan(r,n+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class tOe extends Yo{constructor(e,r){if(!(e instanceof Pp&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof Pp||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r){r===void 0&&(r=0);let n=this.span;return 0>n&&(n=this.length.decode(e,r)),e.slice(r,r+n)}encode(e,r,n){let i=this.length;if(this.length instanceof Pp&&(i=e.length),!(we.Buffer.isBuffer(e)&&i===e.length))throw new TypeError(ZBe("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(n+i>r.length)throw new RangeError("encoding overruns Buffer");return r.write(e.toString("hex"),n,i,"hex"),this.length instanceof Pp&&this.length.encode(i,r,n),i}}var rOe=(t,e,r)=>new sre(t,e,r),nOe=t=>new B3(1,t),Tf=t=>new B3(4,t),iOe=t=>new XBe(t),Zf=t=>new JBe(t),qi=(t,e,r)=>new QBe(t,e,r),fre=(t,e,r)=>new lre(t,e,r),m_=(t,e)=>new tOe(t,e);class sOe extends N3{constructor(e){super(-1,e),this.property=e,this.layout=qi([Tf("length"),Tf("lengthPadding"),m_(rOe(Tf(),-8),"chars")],this.property)}encode(e,r,n=0){if(e==null)return this.layout.span;const i={chars:we.Buffer.from(e,"utf8")};return this.layout.encode(i,r,n)}decode(e,r=0){return this.layout.decode(e,r).chars.toString()}getSpan(e,r=0){return Tf().span+Tf().span+new Mr(new Uint8Array(e).slice(r,r+4),10,"le").toNumber()}}function O3(t){return new sOe(t)}function su(t){return m_(32,t)}const Ma=fre(Tf("instruction"));Ma.addVariant(0,qi([Zf("lamports"),Zf("space"),su("owner")]),"createAccount");Ma.addVariant(1,qi([su("owner")]),"assign");Ma.addVariant(2,qi([Zf("lamports")]),"transfer");Ma.addVariant(3,qi([su("base"),O3("seed"),Zf("lamports"),Zf("space"),su("owner")]),"createAccountWithSeed");Ma.addVariant(4,qi([su("authorized")]),"advanceNonceAccount");Ma.addVariant(5,qi([Zf("lamports")]),"withdrawNonceAccount");Ma.addVariant(6,qi([su("authorized")]),"initializeNonceAccount");Ma.addVariant(7,qi([su("authorized")]),"authorizeNonceAccount");Ma.addVariant(8,qi([Zf("space")]),"allocate");Ma.addVariant(9,qi([su("base"),O3("seed"),Zf("space"),su("owner")]),"allocateWithSeed");Ma.addVariant(10,qi([su("base"),O3("seed"),su("owner")]),"assignWithSeed");Ma.addVariant(11,qi([Zf("lamports"),O3("seed"),su("owner")]),"transferWithSeed");Math.max(...Object.values(Ma.registry).map(t=>t.span));class oOe extends N3{constructor(e,r,n,i){super(e.span,i),this.layout=e,this.decoder=r,this.encoder=n}decode(e,r){return this.decoder(this.layout.decode(e,r))}encode(e,r,n){return this.layout.encode(this.encoder(e),r,n)}getSpan(e,r){return this.layout.getSpan(e,r)}}function lK(t){return new oOe(m_(32),e=>new pt(e),e=>e.toBuffer(),t)}qi([Tf("version"),Tf("state"),lK("authorizedPubkey"),lK("nonce"),qi([iOe("lamportsPerSignature")],"feeCalculator")]);function aOe(t,...e){let r=[xe.Buffer.from([97,110,99,104,111,114])];e.forEach(i=>{r.push(i instanceof xe.Buffer?i:Ja(i).toBuffer())});const[n]=pt.findProgramAddressSync(r,Ja(t));return n}const uOe=new pt("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),cOe=new pt("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var fK={exports:{}};(function(t,e){var r=typeof self<"u"?self:YBe,n=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(o){var a={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function u(p){return p&&DataView.prototype.isPrototypeOf(p)}if(a.arrayBuffer)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(p){return p&&f.indexOf(Object.prototype.toString.call(p))>-1};function g(p){if(typeof p!="string"&&(p=String(p)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(p))throw new TypeError("Invalid character in header field name");return p.toLowerCase()}function y(p){return typeof p!="string"&&(p=String(p)),p}function b(p){var m={next:function(){var v=p.shift();return{done:v===void 0,value:v}}};return a.iterable&&(m[Symbol.iterator]=function(){return m}),m}function A(p){this.map={},p instanceof A?p.forEach(function(m,v){this.append(v,m)},this):Array.isArray(p)?p.forEach(function(m){this.append(m[0],m[1])},this):p&&Object.getOwnPropertyNames(p).forEach(function(m){this.append(m,p[m])},this)}A.prototype.append=function(p,m){p=g(p),m=y(m);var v=this.map[p];this.map[p]=v?v+", "+m:m},A.prototype.delete=function(p){delete this.map[g(p)]},A.prototype.get=function(p){return p=g(p),this.has(p)?this.map[p]:null},A.prototype.has=function(p){return this.map.hasOwnProperty(g(p))},A.prototype.set=function(p,m){this.map[g(p)]=y(m)},A.prototype.forEach=function(p,m){for(var v in this.map)this.map.hasOwnProperty(v)&&p.call(m,this.map[v],v,this)},A.prototype.keys=function(){var p=[];return this.forEach(function(m,v){p.push(v)}),b(p)},A.prototype.values=function(){var p=[];return this.forEach(function(m){p.push(m)}),b(p)},A.prototype.entries=function(){var p=[];return this.forEach(function(m,v){p.push([v,m])}),b(p)},a.iterable&&(A.prototype[Symbol.iterator]=A.prototype.entries);function x(p){if(p.bodyUsed)return Promise.reject(new TypeError("Already read"));p.bodyUsed=!0}function k(p){return new Promise(function(m,v){p.onload=function(){m(p.result)},p.onerror=function(){v(p.error)}})}function I(p){var m=new FileReader,v=k(m);return m.readAsArrayBuffer(p),v}function R(p){var m=new FileReader,v=k(m);return m.readAsText(p),v}function M(p){for(var m=new Uint8Array(p),v=new Array(m.length),_=0;_<m.length;_++)v[_]=String.fromCharCode(m[_]);return v.join("")}function P(p){if(p.slice)return p.slice(0);var m=new Uint8Array(p.byteLength);return m.set(new Uint8Array(p)),m.buffer}function j(){return this.bodyUsed=!1,this._initBody=function(p){this._bodyInit=p,p?typeof p=="string"?this._bodyText=p:a.blob&&Blob.prototype.isPrototypeOf(p)?this._bodyBlob=p:a.formData&&FormData.prototype.isPrototypeOf(p)?this._bodyFormData=p:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(p)?this._bodyText=p.toString():a.arrayBuffer&&a.blob&&u(p)?(this._bodyArrayBuffer=P(p.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(p)||d(p))?this._bodyArrayBuffer=P(p):this._bodyText=p=Object.prototype.toString.call(p):this._bodyText="",this.headers.get("content-type")||(typeof p=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(p)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var p=x(this);if(p)return p;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?x(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(I)}),this.text=function(){var p=x(this);if(p)return p;if(this._bodyBlob)return R(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(M(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(q)}),this.json=function(){return this.text().then(JSON.parse)},this}var V=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Z(p){var m=p.toUpperCase();return V.indexOf(m)>-1?m:p}function G(p,m){m=m||{};var v=m.body;if(p instanceof G){if(p.bodyUsed)throw new TypeError("Already read");this.url=p.url,this.credentials=p.credentials,m.headers||(this.headers=new A(p.headers)),this.method=p.method,this.mode=p.mode,this.signal=p.signal,!v&&p._bodyInit!=null&&(v=p._bodyInit,p.bodyUsed=!0)}else this.url=String(p);if(this.credentials=m.credentials||this.credentials||"same-origin",(m.headers||!this.headers)&&(this.headers=new A(m.headers)),this.method=Z(m.method||this.method||"GET"),this.mode=m.mode||this.mode||null,this.signal=m.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&v)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(v)}G.prototype.clone=function(){return new G(this,{body:this._bodyInit})};function q(p){var m=new FormData;return p.trim().split("&").forEach(function(v){if(v){var _=v.split("="),E=_.shift().replace(/\+/g," "),w=_.join("=").replace(/\+/g," ");m.append(decodeURIComponent(E),decodeURIComponent(w))}}),m}function ae(p){var m=new A,v=p.replace(/\r?\n[\t ]+/g," ");return v.split(/\r?\n/).forEach(function(_){var E=_.split(":"),w=E.shift().trim();if(w){var l=E.join(":").trim();m.append(w,l)}}),m}j.call(G.prototype);function T(p,m){m||(m={}),this.type="default",this.status=m.status===void 0?200:m.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in m?m.statusText:"OK",this.headers=new A(m.headers),this.url=m.url||"",this._initBody(p)}j.call(T.prototype),T.prototype.clone=function(){return new T(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new A(this.headers),url:this.url})},T.error=function(){var p=new T(null,{status:0,statusText:""});return p.type="error",p};var c=[301,302,303,307,308];T.redirect=function(p,m){if(c.indexOf(m)===-1)throw new RangeError("Invalid status code");return new T(null,{status:m,headers:{location:p}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function(m,v){this.message=m,this.name=v;var _=Error(m);this.stack=_.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function h(p,m){return new Promise(function(v,_){var E=new G(p,m);if(E.signal&&E.signal.aborted)return _(new o.DOMException("Aborted","AbortError"));var w=new XMLHttpRequest;function l(){w.abort()}w.onload=function(){var S={status:w.status,statusText:w.statusText,headers:ae(w.getAllResponseHeaders()||"")};S.url="responseURL"in w?w.responseURL:S.headers.get("X-Request-URL");var C="response"in w?w.response:w.responseText;v(new T(C,S))},w.onerror=function(){_(new TypeError("Network request failed"))},w.ontimeout=function(){_(new TypeError("Network request failed"))},w.onabort=function(){_(new o.DOMException("Aborted","AbortError"))},w.open(E.method,E.url,!0),E.credentials==="include"?w.withCredentials=!0:E.credentials==="omit"&&(w.withCredentials=!1),"responseType"in w&&a.blob&&(w.responseType="blob"),E.headers.forEach(function(S,C){w.setRequestHeader(C,S)}),E.signal&&(E.signal.addEventListener("abort",l),w.onreadystatechange=function(){w.readyState===4&&E.signal.removeEventListener("abort",l)}),w.send(typeof E._bodyInit>"u"?null:E._bodyInit)})}return h.polyfill=!0,s.fetch||(s.fetch=h,s.Headers=A,s.Request=G,s.Response=T),o.Headers=A,o.Request=G,o.Response=T,o.fetch=h,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(fK,fK.exports);lr.rustEnum([lr.struct([],"uninitialized"),lr.struct([lr.option(lr.publicKey(),"authorityAddress")],"buffer"),lr.struct([lr.publicKey("programdataAddress")],"program"),lr.struct([lr.u64("slot"),lr.option(lr.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,lr.u32());function lOe(t){return"accounts"in t}async function fOe(t){const e=(await pt.findProgramAddress([],t))[0];return await pt.createWithSeed(e,dOe(),t)}function dOe(){return"anchor:idl"}const hOe=lr.struct([lr.publicKey("authority"),lr.vecU8("data")]);function pOe(t){return hOe.decode(t)}function L3(t,e){var r,n;let i={};const s=t.args?t.args.length:0;if(e.length>s){if(e.length!==s+1)throw new Error(`provided too many arguments ${e} to instruction ${t==null?void 0:t.name} expecting: ${(n=(r=t.args)===null||r===void 0?void 0:r.map(o=>o.name))!==null&&n!==void 0?n:[]}`);i=e.pop()}return[e,i]}class hE{static build(e,r,n){if(e.name==="_inner")throw new fE("the _inner name is reserved");const i=(...s)=>{const[o,a]=L3(e,[...s]);Zte(e.accounts,a.accounts),gOe(e,...s);const u=i.accounts(a.accounts);return a.remainingAccounts!==void 0&&u.push(...a.remainingAccounts),ere("debug-logs")&&console.log("Outgoing account metas:",u),new pn({keys:u,programId:n,data:r(e.name,vBe(e,...o))})};return i.accounts=s=>hE.accountsArray(s,e.accounts,n,e.name),i}static accountsArray(e,r,n,i){return e?r.map(s=>{if(("accounts"in s?s.accounts:void 0)!==void 0){const a=e[s.name];return hE.accountsArray(a,s.accounts,n,i).flat()}else{const a=s;let u;try{u=Ja(e[s.name])}catch{throw new Error(`Wrong input type for account "${s.name}" in the instruction accounts object${i!==void 0?' for instruction "'+i+'"':""}. Expected PublicKey or string.`)}const f=a.isOptional&&u.equals(n),d=a.isMut&&!f,g=a.isSigner&&!f;return{pubkey:u,isWritable:d,isSigner:g}}}).flat():[]}}function gOe(t,...e){}class mOe{static build(e,r){return(...i)=>{var s,o,a;const[,u]=L3(e,[...i]),f=new cn;if(u.preInstructions&&u.instructions)throw new Error("instructions is deprecated, use preInstructions");return(s=u.preInstructions)===null||s===void 0||s.forEach(d=>f.add(d)),(o=u.instructions)===null||o===void 0||o.forEach(d=>f.add(d)),f.add(r(...i)),(a=u.postInstructions)===null||a===void 0||a.forEach(d=>f.add(d)),f}}}class yOe{static build(e,r,n,i){return async(...o)=>{var a;const u=r(...o),[,f]=L3(e,[...o]);if(i.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await i.sendAndConfirm(u,(a=f.signers)!==null&&a!==void 0?a:[],f.options)}catch(d){throw tre(d,n)}}}}class bOe{static build(e,r,n,i){var s;const o={};return(s=e.accounts)===null||s===void 0||s.forEach(a=>{const u=Jn(a.name);o[u]=new vOe(e,a,n,i,r)}),o}}class vOe{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}get idlAccount(){return this._idlAccount}constructor(e,r,n,i,s){this._idlAccount=r,this._programId=n,this._provider=i??EP(),this._coder=s??new ire(e),this._size=this._coder.accounts.size(r)}async fetchNullable(e,r){const{data:n}=await this.fetchNullableAndContext(e,r);return n}async fetchNullableAndContext(e,r){const n=await this.getAccountInfoAndContext(e,r),{value:i,context:s}=n;return{data:i&&i.data.length!==0?this._coder.accounts.decode(this._idlAccount.name,i.data):null,context:s}}async fetch(e,r){const{data:n}=await this.fetchNullableAndContext(e,r);if(n===null)throw new Error(`Account does not exist or has no data ${e.toString()}`);return n}async fetchAndContext(e,r){const{data:n,context:i}=await this.fetchNullableAndContext(e,r);if(n===null)throw new Error(`Account does not exist ${e.toString()}`);return{data:n,context:i}}async fetchMultiple(e,r){return(await this.fetchMultipleAndContext(e,r)).map(i=>i?i.data:null)}async fetchMultipleAndContext(e,r){return(await RBe(this._provider.connection,e.map(i=>Ja(i)),r)).map(i=>{if(i==null)return null;const{account:s,context:o}=i;return{data:this._coder.accounts.decode(this._idlAccount.name,s.data),context:o}})}async all(e){const r=this.coder.accounts.memcmp(this._idlAccount.name,e instanceof we.Buffer?e:void 0),n=[];return(r==null?void 0:r.offset)!=null&&(r==null?void 0:r.bytes)!=null&&n.push({memcmp:{offset:r.offset,bytes:r.bytes}}),(r==null?void 0:r.dataSize)!=null&&n.push({dataSize:r.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...n,...Array.isArray(e)?e:[]]})).map(({pubkey:s,account:o})=>({publicKey:s,account:this._coder.accounts.decode(this._idlAccount.name,o.data)}))}subscribe(e,r){const n=fv.get(e.toString());if(n)return n.ee;const i=new pBe;e=Ja(e);const s=this._provider.connection.onAccountChange(e,o=>{const a=this._coder.accounts.decode(this._idlAccount.name,o.data);i.emit("change",a)},r);return fv.set(e.toString(),{ee:i,listener:s}),i}async unsubscribe(e){let r=fv.get(e.toString());if(!r){console.warn("Address is not subscribed");return}fv&&await this._provider.connection.removeAccountChangeListener(r.listener).then(()=>{fv.delete(e.toString())}).catch(console.error)}async createInstruction(e,r){const n=this.size;if(this._provider.publicKey===void 0)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return Ps.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:e.publicKey,space:r??n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(r??n),programId:this._programId})}async associated(...e){const r=await this.associatedAddress(...e);return await this.fetch(r)}async associatedAddress(...e){return await aOe(this._programId,...e)}async getAccountInfo(e,r){return await this._provider.connection.getAccountInfo(Ja(e),r)}async getAccountInfoAndContext(e,r){return await this._provider.connection.getAccountInfoAndContext(Ja(e),r)}}const fv=new Map,MP="Program log: ",dre="Program data: ",wOe=MP.length,SOe=dre.length;class _Oe{constructor(e,r,n){this._programId=e,this._provider=r,this._eventParser=new hre(e,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,r){var n;let i=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(e)||this._eventListeners.set(e,[]),this._eventListeners.set(e,((n=this._eventListeners.get(e))!==null&&n!==void 0?n:[]).concat(i)),this._eventCallbacks.set(i,[e,r]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(s,o)=>{if(!s.err)for(const a of this._eventParser.parseLogs(s.logs)){const u=this._eventListeners.get(a.name);u&&u.forEach(f=>{const d=this._eventCallbacks.get(f);if(d){const[,g]=d;g(a.data,o.slot,s.signature)}})}})),i}async removeEventListener(e){const r=this._eventCallbacks.get(e);if(!r)throw new Error(`Event listener ${e} doesn't exist!`);const[n]=r;let i=this._eventListeners.get(n);if(!i)throw new Error(`Event listeners don't exist for ${n}!`);if(this._eventCallbacks.delete(e),i=i.filter(s=>s!==e),this._eventListeners.set(n,i),i.length===0&&this._eventListeners.delete(n),this._eventCallbacks.size===0){if(this._eventListeners.size!==0)throw new Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class hre{constructor(e,r){this.coder=r,this.programId=e}*parseLogs(e,r=!1){const n=new xOe(e),i=new AOe;let s=n.next();for(;s!==null;){let[o,a,u]=this.handleLog(i,s,r);o&&(yield o),a&&i.push(a),u&&i.pop(),s=n.next()}}handleLog(e,r,n){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(r,n):[null,...this.handleSystemLog(r)]}handleProgramLog(e,r){if(e.startsWith(MP)||e.startsWith(dre)){const n=e.startsWith(MP)?e.slice(wOe):e.slice(SOe),i=this.coder.events.decode(n);if(r&&i===null)throw new Error(`Unable to decode event ${n}`);return[i,null,!1]}else return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const r=e.split(":")[0];return r.match(/^Program (.*) success/g)!==null?[null,!0]:r.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:r.includes("invoke")?["cpi",!1]:[null,!1]}}class AOe{constructor(){this.stack=[]}program(){if(!this.stack.length)throw new Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){if(!this.stack.length)throw new Error("Expected the stack to have elements");this.stack.pop()}}class xOe{constructor(e){this.logs=e}next(){if(this.logs.length===0)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}class EOe{static build(e,r,n,i,s,o,a){return async(...f)=>{var d;const g=r(...f),[,y]=L3(e,[...f]);let b;if(i.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{b=await i.simulate(g,y.signers,(d=y.options)===null||d===void 0?void 0:d.commitment)}catch(k){throw tre(k,n)}if(b===void 0)throw new Error("Unable to simulate transaction");const A=b.logs;if(!A)throw new Error("Simulated logs not found");const x=[];if(a.events){let k=new hre(o,s);for(const I of k.parseLogs(A))x.push(I)}return{events:x,raw:A}}}}function pR(t){return new pre(m_(8),e=>TOe.fromBuffer(e),e=>e.toBuffer(),t)}function zA(t){return new pre(m_(32),e=>new pt(e),e=>e.toBuffer(),t)}function gR(t,e){return new kOe(t,e)}class pre extends N3{constructor(e,r,n,i){super(e.span,i),this.layout=e,this.decoder=r,this.encoder=n}decode(e,r){return this.decoder(this.layout.decode(e,r))}encode(e,r,n){return this.layout.encode(this.encoder(e),r,n)}getSpan(e,r){return this.layout.getSpan(e,r)}}class kOe extends N3{constructor(e,r){super(-1,r),this.layout=e,this.discriminator=Tf()}encode(e,r,n=0){return e==null?this.layout.span+this.discriminator.encode(0,r,n):(this.discriminator.encode(1,r,n),this.layout.encode(e,r,n+4)+4)}decode(e,r=0){const n=this.discriminator.decode(e,r);if(n===0)return null;if(n===1)return this.layout.decode(e,r+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,r=0){return this.layout.getSpan(e,r+4)+4}}let TOe=class gre extends Mr{toBuffer(){const e=super.toArray().reverse(),r=we.Buffer.from(e);if(r.length===8)return r;if(r.length>=8)throw new Error("u64 too large");const n=we.Buffer.alloc(8);return r.copy(n),n}static fromBuffer(e){if(e.length!==8)throw new Error(`Invalid buffer length: ${e.length}`);return new gre([...e].reverse().map(r=>`00${r.toString(16)}`.slice(-2)).join(""),16)}};const IOe=qi([zA("mint"),zA("owner"),pR("amount"),gR(zA(),"delegate"),(t=>{const e=fre(nOe("discriminator"),null,t);return e.addVariant(0,qi([]),"uninitialized"),e.addVariant(1,qi([]),"initialized"),e.addVariant(2,qi([]),"frozen"),e})("state"),gR(pR(),"isNative"),pR("delegatedAmount"),gR(zA(),"closeAuthority")]);function ROe(t){return IOe.decode(t)}class uS{constructor(e,r,n,i,s,o,a,u){this._accounts=r,this._provider=n,this._programId=i,this._idlIx=s,this._idlTypes=a,this._customResolver=u,this._args=e,this._accountStore=new MOe(n,o,this._programId)}args(e){this._args=e}async resolve(){for(await this.resolveConst(this._idlIx.accounts),this._resolveEventCpi(this._idlIx.accounts);await this.resolvePdas(this._idlIx.accounts)+await this.resolveRelations(this._idlIx.accounts)+await this.resolveCustom()>0;);}async resolveCustom(){if(this._customResolver){const{accounts:e,resolved:r}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=e,r}return 0}resolveOptionalsHelper(e,r){const n={};for(const i of r){const s=i.name,o=e[s];o!==void 0&&(mre(o)?lOe(i)?n[s]=this.resolveOptionalsHelper(o,i.accounts):n[s]=yre(o):o!==null?n[s]=Ja(o):i.isOptional&&(n[s]=this._programId))}return n}resolveOptionals(e){Object.assign(this._accounts,this.resolveOptionalsHelper(e,this._idlIx.accounts))}get(e){const r=e.reduce((n,i)=>n&&n[i],this._accounts);if(r&&r.toBase58)return r}set(e,r){let n=this._accounts;e.forEach((i,s)=>{s==e.length-1&&(n[i]=r),n[i]=n[i]||{},n=n[i]})}async resolveConst(e,r=[]){for(let n=0;n<e.length;n+=1){const i=e[n],s=i.accounts;s&&await this.resolveConst(s,[...r,Jn(i.name)]);const o=i,a=Jn(i.name);if(o.isSigner&&!this.get([...r,a])){if(this._provider.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");this.set([...r,a],this._provider.wallet.publicKey)}Reflect.has(uS.CONST_ACCOUNTS,a)&&!this.get([...r,a])&&this.set([...r,a],uS.CONST_ACCOUNTS[a])}}_resolveEventCpi(e,r=[]){for(const n in e){const i=e[n],s=i.accounts;s&&this._resolveEventCpi(s,[...r,Jn(i.name)]);const o=+n+1;if(o===e.length)return;const a=Jn(e[n].name),u=Jn(e[o].name);if(a==="eventAuthority"&&u==="program"){const f=[...r,a],d=[...r,u];this.get(f)||this.set(f,pt.findProgramAddressSync([we.Buffer.from("__event_authority")],this._programId)[0]),this.get(d)||this.set(d,this._programId);return}}}async resolvePdas(e,r=[]){let n=0;for(let i=0;i<e.length;i+=1){const s=e[i],o=s.accounts;o&&(n+=await this.resolvePdas(o,[...r,Jn(s.name)]));const a=s,u=Jn(s.name);a.pda&&a.pda.seeds.length>0&&!this.get([...r,u])&&await this.autoPopulatePda(a,r)&&(n+=1)}return n}async resolveRelations(e,r=[]){let n=0;for(let i=0;i<e.length;i+=1){const s=e[i],o=s.accounts;o&&(n+=await this.resolveRelations(o,[...r,Jn(s.name)]));const a=s.relations||[],u=Jn(s.name),f=[...r,u],d=this.get(f);if(d){const g=a.filter(y=>!this.get([...r,Jn(y)]));if(n+=g.length,g.length>0){const y=await this._accountStore.fetchAccount({publicKey:d});await Promise.all(g.map(async b=>{const A=Jn(b);return this.set([...r,A],y[A]),y[A]}))}}}return n}async autoPopulatePda(e,r=[]){if(!e.pda||!e.pda.seeds)throw new Error("Must have seeds");const n=await Promise.all(e.pda.seeds.map(o=>this.toBuffer(o,r)));if(n.some(o=>typeof o>"u"))return;const i=await this.parseProgramId(e,r);if(!i)return;const[s]=await pt.findProgramAddress(n,i);this.set([...r,Jn(e.name)],s)}async parseProgramId(e,r=[]){var n;if(!(!((n=e.pda)===null||n===void 0)&&n.programId))return this._programId;switch(e.pda.programId.kind){case"const":return new pt(this.toBufferConst(e.pda.programId.value));case"arg":return this.argValue(e.pda.programId);case"account":return await this.accountValue(e.pda.programId,r);default:throw new Error(`Unexpected program seed kind: ${e.pda.programId.kind}`)}}async toBuffer(e,r=[]){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e,r);default:throw new Error(`Unexpected seed kind: ${e.kind}`)}}getType(e,r=[]){if(r.length>0&&e.defined){const n=this._idlTypes.find(o=>o.name===e.defined);if(!n)throw new Error(`Cannot find type ${e.defined}`);const s=n.type.fields.find(o=>o.name===r[0]);return this.getType(s.type,r.slice(1))}return e}toBufferConst(e){return this.toBufferValue(this.getType(e.type,(e.path||"").split(".").slice(1)),e.value)}async toBufferArg(e){const r=this.argValue(e);if(!(typeof r>"u"))return this.toBufferValue(this.getType(e.type,(e.path||"").split(".").slice(1)),r)}argValue(e){const r=e.path.split("."),n=Jn(r[0]),i=this._idlIx.args.findIndex(s=>s.name===n);if(i===-1)throw new Error(`Unable to find argument for seed: ${n}`);return r.slice(1).reduce((s,o)=>(s||{})[o],this._args[i])}async toBufferAccount(e,r=[]){const n=await this.accountValue(e,r);if(n)return this.toBufferValue(e.type,n)}async accountValue(e,r=[]){const n=e.path.split("."),i=n[0],s=this.get([...r,Jn(i)]);if(s===null)throw new Error("fieldPubkey is null");if(n.length===1)return s;const o=await this._accountStore.fetchAccount({publicKey:s,name:e.account});return this.parseAccountValue(o,n.slice(1))}parseAccountValue(e,r){let n;for(;r.length>0;)n=e[Jn(r[0])],r=r.slice(1);return n}toBufferValue(e,r){switch(e){case"u8":return we.Buffer.from([r]);case"u16":let n=we.Buffer.alloc(2);return n.writeUInt16LE(r),n;case"u32":let i=we.Buffer.alloc(4);return i.writeUInt32LE(r),i;case"u64":let s=we.Buffer.alloc(8);return s.writeBigUInt64LE(BigInt(r)),s;case"string":return we.Buffer.from(yBe(r));case"publicKey":return r.toBuffer();default:if(e.array)return we.Buffer.from(r);throw new Error(`Unexpected seed type: ${e}`)}}}uS.CONST_ACCOUNTS={associatedTokenProgram:cOe,rent:R0,systemProgram:Ps.programId,tokenProgram:uOe,clock:Cu};class MOe{constructor(e,r,n){this._provider=e,this._programId=n,this._cache=new Map,this._idls={},this._idls[n.toBase58()]=r}async ensureIdl(e){if(!this._idls[e.toBase58()]){const r=await C0.fetchIdl(e,this._provider);if(r){const n=new C0(r,e,this._provider);this._idls[e.toBase58()]=n.account}}return this._idls[e.toBase58()]}async fetchAccount({publicKey:e,name:r,programId:n=this._programId}){const i=e.toString();if(!this._cache.has(i))if(r==="TokenAccount"){const s=await this._provider.connection.getAccountInfo(e);if(s===null)throw new Error(`invalid account info for ${i}`);const o=ROe(s.data);this._cache.set(i,o)}else if(r){const s=await this.ensureIdl(n);if(s){const o=s[Jn(r)];if(o){const a=await o.fetch(e);this._cache.set(i,a)}}}else{const s=await this._provider.connection.getAccountInfo(e);if(s===null)throw new Error(`invalid account info for ${i}`);const o=s.data,a=await this.ensureIdl(s.owner);if(a){const u=Object.values(a)[0];if(!u)throw new Error("No accounts for this program");const f=u.coder.accounts.decodeAny(o);this._cache.set(i,f)}}return this._cache.get(i)}}class COe{static build(e,r,n,i,s,o,a,u,f,d,g){return(...y)=>new POe(y,i,s,o,a,u,e,r,n,f,d,g)}}function mre(t){return typeof t=="object"&&t!==null&&!("_bn"in t)}function yre(t,e){const r={};for(const n in t){const i=t[n];if(i===null)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!");r[n]=mre(i)?yre(i):Ja(i)}return r}class POe{constructor(e,r,n,i,s,o,a,u,f,d,g,y){this._ixFn=r,this._txFn=n,this._rpcFn=i,this._simulateFn=s,this._viewFn=o,this._programId=u,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._autoResolveAccounts=!0,this._args=e,this._accountsResolver=new uS(e,this._accounts,a,u,f,d,g,y)}args(e){this._args=e,this._accountsResolver.args(e)}async pubkeys(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._accounts}accounts(e){return this._autoResolveAccounts=!0,this._accountsResolver.resolveOptionals(e),this}accountsStrict(e){return this._autoResolveAccounts=!1,this._accountsResolver.resolveOptionals(e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e){return this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async rpc(e){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpcAndKeys(e){return{pubkeys:await this.pubkeys(),signature:await this.rpc(e)}}async view(e){if(this._autoResolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async simulate(e){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async instruction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async prepare(){return{instruction:await this.instruction(),pubkeys:await this.pubkeys(),signers:await this._signers}}async transaction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class NOe{static build(e,r,n,i){const s=r.accounts.find(u=>u.isMut),o=!!r.returns;return s||!o?void 0:async(...u)=>{var f,d;let g=await n(...u);const y=`Program return: ${e} `;let b=g.raw.find(I=>I.startsWith(y));if(!b)throw new Error("View expected return log");let A=Yte(b.slice(y.length)),x=r.returns;if(!x)throw new Error("View expected return type");return No.fieldLayout({type:x},Array.from([...(f=i.accounts)!==null&&f!==void 0?f:[],...(d=i.types)!==null&&d!==void 0?d:[]])).decode(A)}}}class BOe{static build(e,r,n,i,s){const o={},a={},u={},f={},d={},g={},y=bBe(e),b=e.accounts?bOe.build(e,r,n,i):{};return e.instructions.forEach(A=>{const x=hE.build(A,(V,Z)=>r.instruction.encode(V,Z),n),k=mOe.build(A,x),I=yOe.build(A,k,y,i),R=EOe.build(A,k,y,i,r,n,e),M=NOe.build(n,A,R,e),P=COe.build(i,n,A,x,k,I,R,M,b,e.types||[],s&&s(A)),j=Jn(A.name);a[j]=x,u[j]=k,o[j]=I,f[j]=R,d[j]=P,M&&(g[j]=M)}),[o,a,u,b,f,d,g]}}class C0{get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}constructor(e,r,n,i,s){r=Ja(r),n||(n=EP()),this._idl=e,this._provider=n,this._programId=r,this._coder=i??new ire(e),this._events=new _Oe(this._programId,n,this._coder);const[o,a,u,f,d,g,y]=BOe.build(e,this._coder,r,n,s??(()=>{}));this.rpc=o,this.instruction=a,this.transaction=u,this.account=f,this.simulate=d,this.methods=g,this.views=y}static async at(e,r){const n=Ja(e),i=await C0.fetchIdl(n,r);if(!i)throw new Error(`IDL not found for program: ${e.toString()}`);return new C0(i,n,r)}static async fetchIdl(e,r){r=r??EP();const n=Ja(e),i=await fOe(n),s=await r.connection.getAccountInfo(i);if(!s)return null;let o=pOe(s.data.slice(8));const a=dBe(o.data);return JSON.parse(mBe(a))}addEventListener(e,r){return this._events.addEventListener(e,r)}async removeEventListener(e){return await this._events.removeEventListener(e)}}new pt("11111111111111111111111111111111");const IO=new dt("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new dt("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");const OOe=new dt("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");new dt("So11111111111111111111111111111111111111112");new dt("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");const RO=t=>{const e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},LOe=t=>e=>{const r=at(t,e),{encode:n,decode:i}=RO(r),s=r;return s.decode=(o,a)=>{const u=i(o,a);return f1(we.Buffer.from(u))},s.encode=(o,a,u)=>{const f=Uh(o,t);return n(f,a,u)},s},q2=LOe(8),bre=t=>{const e=Ge(t),{encode:r,decode:n}=RO(e),i=e;return i.decode=(s,o)=>!!n(s,o),i.encode=(s,o,a)=>{const u=Number(s);return r(u,o,a)},i};var DOe=s1,FOe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",$Oe=DOe(FOe);const dK=ro($Oe);function hK(t){try{return Yi.ExtendedPoint.fromHex(t),!0}catch{return!1}}const UOe=t=>xe.Buffer.isBuffer(t)?t:t instanceof Uint8Array?xe.Buffer.from(t.buffer,t.byteOffset,t.byteLength):xe.Buffer.from(t);let zOe=class{constructor(e){Object.assign(this,e)}encode(){return xe.Buffer.from(a1(V2,this))}static decode(e){return u1(V2,this,e)}static decodeUnchecked(e){return o1(V2,this,e)}};const V2=new Map;var vre;const WOe=32,mR=32;function jOe(t){return t._bn!==void 0}let pK=1,mn=class tm extends zOe{constructor(e){if(super({}),this._bn=void 0,jOe(e))this._bn=e._bn;else{if(typeof e=="string"){const r=dK.decode(e);if(r.length!=mR)throw new Error("Invalid public key input");this._bn=new Mr(r)}else this._bn=new Mr(e);if(this._bn.byteLength()>mR)throw new Error("Invalid public key input")}}static unique(){const e=new tm(pK);return pK+=1,new tm(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return dK.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(xe.Buffer);if(e.length===mR)return e;const r=xe.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){const i=xe.Buffer.concat([e.toBuffer(),xe.Buffer.from(r),n.toBuffer()]),s=Vo(i);return new tm(s)}static createProgramAddressSync(e,r){let n=xe.Buffer.alloc(0);e.forEach(function(s){if(s.length>WOe)throw new TypeError("Max seed length exceeded");n=xe.Buffer.concat([n,UOe(s)])}),n=xe.Buffer.concat([n,r.toBuffer(),xe.Buffer.from("ProgramDerivedAddress")]);const i=Vo(n);if(hK(i))throw new Error("Invalid seeds, address must fall off the curve");return new tm(i)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,i;for(;n!=0;){try{const s=e.concat(xe.Buffer.from([n]));i=this.createProgramAddressSync(s,r)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){const r=new tm(e);return hK(r.toBytes())}};vre=mn;mn.default=new vre("11111111111111111111111111111111");V2.set(mn,{kind:"struct",fields:[["_bn","u256"]]});new mn("BPFLoader1111111111111111111111111111111111");const KOe=64,en=(t="publicKey")=>at(32,t),Lm=(t="string")=>{const e=pe([ge("length"),ge("lengthPadding"),at(zr(ge(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(s,o)=>r(s,o).chars.toString(),i.encode=(s,o,a)=>{const u={chars:xe.Buffer.from(s,"utf8")};return n(u,o,a)},i.alloc=s=>ge().span+ge().span+xe.Buffer.from(s,"utf8").length,i},HOe=(t="authorized")=>pe([en("staker"),en("withdrawer")],t),qOe=(t="lockup")=>pe([Lt("unixTimestamp"),Lt("epoch"),en("custodian")],t),VOe=(t="voteInit")=>pe([en("nodePubkey"),en("authorizedVoter"),en("authorizedWithdrawer"),Ge("commission")],t),GOe=(t="voteAuthorizeWithSeedArgs")=>pe([ge("voteAuthorizationType"),en("currentAuthorityDerivedKeyOwnerPubkey"),Lm("currentAuthorityDerivedKeySeed"),en("newAuthorized")],t);xe.Buffer.alloc(KOe).fill(0);new mn("SysvarC1ock11111111111111111111111111111111");new mn("SysvarEpochSchedu1e111111111111111111111111");new mn("Sysvar1nstructions1111111111111111111111111");new mn("SysvarRecentB1ockHashes11111111111111111111");new mn("SysvarRent111111111111111111111111111111111");new mn("SysvarRewards111111111111111111111111111111");new mn("SysvarS1otHashes111111111111111111111111111");new mn("SysvarS1otHistory11111111111111111111111111");new mn("SysvarStakeHistory1111111111111111111111111");const YOe=bt("lamportsPerSignature"),ZOe=pe([ge("version"),ge("state"),en("authorizedPubkey"),en("nonce"),pe([YOe],"feeCalculator")]);ZOe.span;const XOe=t=>{const e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},JOe=t=>e=>{const r=at(t,e),{encode:n,decode:i}=XOe(r),s=r;return s.decode=(o,a)=>{const u=i(o,a);return f1(xe.Buffer.from(u))},s.encode=(o,a,u)=>{const f=Uh(o,t);return n(f,a,u)},s},Ob=JOe(8);Object.freeze({Create:{index:0,layout:pe([ge("instruction"),Lt("lamports"),Lt("space"),en("programId")])},Assign:{index:1,layout:pe([ge("instruction"),en("programId")])},Transfer:{index:2,layout:pe([ge("instruction"),Ob("lamports")])},CreateWithSeed:{index:3,layout:pe([ge("instruction"),en("base"),Lm("seed"),Lt("lamports"),Lt("space"),en("programId")])},AdvanceNonceAccount:{index:4,layout:pe([ge("instruction")])},WithdrawNonceAccount:{index:5,layout:pe([ge("instruction"),Lt("lamports")])},InitializeNonceAccount:{index:6,layout:pe([ge("instruction"),en("authorized")])},AuthorizeNonceAccount:{index:7,layout:pe([ge("instruction"),en("authorized")])},Allocate:{index:8,layout:pe([ge("instruction"),Lt("space")])},AllocateWithSeed:{index:9,layout:pe([ge("instruction"),en("base"),Lm("seed"),Lt("space"),en("programId")])},AssignWithSeed:{index:10,layout:pe([ge("instruction"),en("base"),Lm("seed"),en("programId")])},TransferWithSeed:{index:11,layout:pe([ge("instruction"),Ob("lamports"),Lm("seed"),en("programId")])},UpgradeNonceAccount:{index:12,layout:pe([ge("instruction")])}});new mn("11111111111111111111111111111111");new mn("BPFLoader2111111111111111111111111111111111");pe([ge("typeIndex"),Ob("deactivationSlot"),bt("lastExtendedSlot"),Ge("lastExtendedStartIndex"),Ge(),Mt(en(),zr(Ge(),-1),"authority")]);const vi=zi(uu(mn),he(),t=>new mn(t)),wre=cu([he(),ht("base64")]),MO=zi(uu(xe.Buffer),wre,t=>xe.Buffer.from(t[0],"base64"));function Sre(t){return Dt([ce({jsonrpc:ht("2.0"),id:he(),result:t}),ce({jsonrpc:ht("2.0"),id:he(),error:ce({code:ri(),message:he(),data:Ie(Nk())})})])}const QOe=Sre(ri());function jn(t){return zi(Sre(t),QOe,e=>"error"in e?e:{...e,result:Oe(e.result,t)})}function sc(t){return jn(ce({context:ce({slot:Y()}),value:t}))}function D3(t){return ce({context:ce({slot:Y()}),value:t})}const eLe=ce({foundation:Y(),foundationTerm:Y(),initial:Y(),taper:Y(),terminal:Y()});jn(me(ye(ce({epoch:Y(),effectiveSlot:Y(),amount:Y(),postBalance:Y(),commission:Ie(ye(Y()))}))));const tLe=me(ce({slot:Y(),prioritizationFee:Y()})),rLe=ce({total:Y(),validator:Y(),foundation:Y(),epoch:Y()}),nLe=ce({epoch:Y(),slotIndex:Y(),slotsInEpoch:Y(),absoluteSlot:Y(),blockHeight:Ie(Y()),transactionCount:Ie(Y())}),iLe=ce({slotsPerEpoch:Y(),leaderScheduleSlotOffset:Y(),warmup:xr(),firstNormalEpoch:Y(),firstNormalSlot:Y()}),sLe=zh(he(),me(Y())),ug=ye(Dt([ce({}),he()])),oLe=ce({err:ug}),aLe=ht("receivedSignature");ce({"solana-core":he(),"feature-set":Ie(Y())});const uLe=ce({program:he(),programId:vi,parsed:ri()}),cLe=ce({programId:vi,accounts:me(vi),data:he()});sc(ce({err:ye(Dt([ce({}),he()])),logs:ye(me(he())),accounts:Ie(ye(me(ye(ce({executable:xr(),owner:he(),lamports:Y(),data:me(he()),rentEpoch:Ie(Y())}))))),unitsConsumed:Ie(Y()),returnData:Ie(ye(ce({programId:he(),data:cu([he(),ht("base64")])}))),innerInstructions:Ie(ye(me(ce({index:Y(),instructions:me(Dt([uLe,cLe]))}))))}));sc(ce({byIdentity:zh(he(),me(Y())),range:ce({firstSlot:Y(),lastSlot:Y()})}));jn(eLe);jn(rLe);jn(tLe);jn(nLe);jn(iLe);jn(sLe);jn(Y());sc(ce({total:Y(),circulating:Y(),nonCirculating:Y(),nonCirculatingAccounts:me(vi)}));const lLe=ce({amount:he(),uiAmount:ye(Y()),decimals:Y(),uiAmountString:Ie(he())});sc(me(ce({address:vi,amount:he(),uiAmount:ye(Y()),decimals:Y(),uiAmountString:Ie(he())})));sc(me(ce({pubkey:vi,account:ce({executable:xr(),owner:vi,lamports:Y(),data:MO,rentEpoch:Y()})})));const CP=ce({program:he(),parsed:ri(),space:Y()});sc(me(ce({pubkey:vi,account:ce({executable:xr(),owner:vi,lamports:Y(),data:CP,rentEpoch:Y()})})));sc(me(ce({lamports:Y(),address:vi})));const CO=ce({executable:xr(),owner:vi,lamports:Y(),data:MO,rentEpoch:Y()});ce({pubkey:vi,account:CO});const fLe=zi(Dt([uu(xe.Buffer),CP]),Dt([wre,CP]),t=>Array.isArray(t)?Oe(t,MO):t),dLe=ce({executable:xr(),owner:vi,lamports:Y(),data:fLe,rentEpoch:Y()});ce({pubkey:vi,account:dLe});ce({state:Dt([ht("active"),ht("inactive"),ht("activating"),ht("deactivating")]),active:Y(),inactive:Y()});jn(me(ce({signature:he(),slot:Y(),err:ug,memo:ye(he()),blockTime:Ie(ye(Y()))})));jn(me(ce({signature:he(),slot:Y(),err:ug,memo:ye(he()),blockTime:Ie(ye(Y()))})));ce({subscription:Y(),result:D3(CO)});const hLe=ce({pubkey:vi,account:CO});ce({subscription:Y(),result:D3(hLe)});const pLe=ce({parent:Y(),slot:Y(),root:Y()});ce({subscription:Y(),result:pLe});const gLe=Dt([ce({type:Dt([ht("firstShredReceived"),ht("completed"),ht("optimisticConfirmation"),ht("root")]),slot:Y(),timestamp:Y()}),ce({type:ht("createdBank"),parent:Y(),slot:Y(),timestamp:Y()}),ce({type:ht("frozen"),slot:Y(),timestamp:Y(),stats:ce({numTransactionEntries:Y(),numSuccessfulTransactions:Y(),numFailedTransactions:Y(),maxTransactionsPerEntry:Y()})}),ce({type:ht("dead"),slot:Y(),timestamp:Y(),err:he()})]);ce({subscription:Y(),result:gLe});ce({subscription:Y(),result:D3(Dt([oLe,aLe]))});ce({subscription:Y(),result:Y()});ce({pubkey:he(),gossip:ye(he()),tpu:ye(he()),rpc:ye(he()),version:ye(he())});const gK=ce({votePubkey:he(),nodePubkey:he(),activatedStake:Y(),epochVoteAccount:xr(),epochCredits:me(cu([Y(),Y(),Y()])),commission:Y(),lastVote:Y(),rootSlot:ye(Y())});jn(ce({current:me(gK),delinquent:me(gK)}));const mLe=Dt([ht("processed"),ht("confirmed"),ht("finalized")]),yLe=ce({slot:Y(),confirmations:ye(Y()),err:ug,confirmationStatus:Ie(mLe)});sc(me(ye(yLe)));jn(Y());const _re=ce({accountKey:vi,writableIndexes:me(Y()),readonlyIndexes:me(Y())}),PO=ce({signatures:me(he()),message:ce({accountKeys:me(he()),header:ce({numRequiredSignatures:Y(),numReadonlySignedAccounts:Y(),numReadonlyUnsignedAccounts:Y()}),instructions:me(ce({accounts:me(Y()),data:he(),programIdIndex:Y()})),recentBlockhash:he(),addressTableLookups:Ie(me(_re))})}),Are=ce({pubkey:vi,signer:xr(),writable:xr(),source:Ie(Dt([ht("transaction"),ht("lookupTable")]))}),xre=ce({accountKeys:me(Are),signatures:me(he())}),Ere=ce({parsed:ri(),program:he(),programId:vi}),kre=ce({accounts:me(vi),data:he(),programId:vi}),bLe=Dt([kre,Ere]),vLe=Dt([ce({parsed:ri(),program:he(),programId:he()}),ce({accounts:me(he()),data:he(),programId:he()})]),Tre=zi(bLe,vLe,t=>"accounts"in t?Oe(t,kre):Oe(t,Ere)),Ire=ce({signatures:me(he()),message:ce({accountKeys:me(Are),instructions:me(Tre),recentBlockhash:he(),addressTableLookups:Ie(ye(me(_re)))})}),pE=ce({accountIndex:Y(),mint:he(),owner:Ie(he()),programId:Ie(he()),uiTokenAmount:lLe}),Rre=ce({writable:me(vi),readonly:me(vi)}),F3=ce({err:ug,fee:Y(),innerInstructions:Ie(ye(me(ce({index:Y(),instructions:me(ce({accounts:me(Y()),data:he(),programIdIndex:Y()}))})))),preBalances:me(Y()),postBalances:me(Y()),logMessages:Ie(ye(me(he()))),preTokenBalances:Ie(ye(me(pE))),postTokenBalances:Ie(ye(me(pE))),loadedAddresses:Ie(Rre),computeUnitsConsumed:Ie(Y())}),NO=ce({err:ug,fee:Y(),innerInstructions:Ie(ye(me(ce({index:Y(),instructions:me(Tre)})))),preBalances:me(Y()),postBalances:me(Y()),logMessages:Ie(ye(me(he()))),preTokenBalances:Ie(ye(me(pE))),postTokenBalances:Ie(ye(me(pE))),loadedAddresses:Ie(Rre),computeUnitsConsumed:Ie(Y())}),A1=Dt([ht(0),ht("legacy")]),cg=ce({pubkey:he(),lamports:Y(),postBalance:ye(Y()),rewardType:ye(he()),commission:Ie(ye(Y()))});jn(ye(ce({blockhash:he(),previousBlockhash:he(),parentSlot:Y(),transactions:me(ce({transaction:PO,meta:ye(F3),version:Ie(A1)})),rewards:Ie(me(cg)),blockTime:ye(Y()),blockHeight:ye(Y())})));jn(ye(ce({blockhash:he(),previousBlockhash:he(),parentSlot:Y(),rewards:Ie(me(cg)),blockTime:ye(Y()),blockHeight:ye(Y())})));jn(ye(ce({blockhash:he(),previousBlockhash:he(),parentSlot:Y(),transactions:me(ce({transaction:xre,meta:ye(F3),version:Ie(A1)})),rewards:Ie(me(cg)),blockTime:ye(Y()),blockHeight:ye(Y())})));jn(ye(ce({blockhash:he(),previousBlockhash:he(),parentSlot:Y(),transactions:me(ce({transaction:Ire,meta:ye(NO),version:Ie(A1)})),rewards:Ie(me(cg)),blockTime:ye(Y()),blockHeight:ye(Y())})));jn(ye(ce({blockhash:he(),previousBlockhash:he(),parentSlot:Y(),transactions:me(ce({transaction:xre,meta:ye(NO),version:Ie(A1)})),rewards:Ie(me(cg)),blockTime:ye(Y()),blockHeight:ye(Y())})));jn(ye(ce({blockhash:he(),previousBlockhash:he(),parentSlot:Y(),rewards:Ie(me(cg)),blockTime:ye(Y()),blockHeight:ye(Y())})));jn(ye(ce({blockhash:he(),previousBlockhash:he(),parentSlot:Y(),transactions:me(ce({transaction:PO,meta:ye(F3)})),rewards:Ie(me(cg)),blockTime:ye(Y())})));jn(ye(ce({blockhash:he(),previousBlockhash:he(),parentSlot:Y(),signatures:me(he()),blockTime:ye(Y())})));jn(ye(ce({slot:Y(),meta:ye(F3),blockTime:Ie(ye(Y())),transaction:PO,version:Ie(A1)})));jn(ye(ce({slot:Y(),transaction:Ire,meta:ye(NO),blockTime:Ie(ye(Y())),version:Ie(A1)})));sc(ce({blockhash:he(),lastValidBlockHeight:Y()}));sc(xr());const wLe=ce({slot:Y(),numTransactions:Y(),numSlots:Y(),samplePeriodSecs:Y()});jn(me(wLe));sc(ye(ce({feeCalculator:ce({lamportsPerSignature:Y()})})));jn(he());jn(he());const SLe=ce({err:ug,logs:me(he()),signature:he()});ce({result:D3(SLe),subscription:Y()});Object.freeze({CreateLookupTable:{index:0,layout:pe([ge("instruction"),Ob("recentSlot"),Ge("bumpSeed")])},FreezeLookupTable:{index:1,layout:pe([ge("instruction")])},ExtendLookupTable:{index:2,layout:pe([ge("instruction"),Ob(),Mt(en(),zr(ge(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:pe([ge("instruction")])},CloseLookupTable:{index:4,layout:pe([ge("instruction")])}});new mn("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:pe([Ge("instruction"),ge("units"),ge("additionalFee")])},RequestHeapFrame:{index:1,layout:pe([Ge("instruction"),ge("bytes")])},SetComputeUnitLimit:{index:2,layout:pe([Ge("instruction"),ge("units")])},SetComputeUnitPrice:{index:3,layout:pe([Ge("instruction"),Ob("microLamports")])}});new mn("ComputeBudget111111111111111111111111111111");pe([Ge("numSignatures"),Ge("padding"),jt("signatureOffset"),jt("signatureInstructionIndex"),jt("publicKeyOffset"),jt("publicKeyInstructionIndex"),jt("messageDataOffset"),jt("messageDataSize"),jt("messageInstructionIndex")]);new mn("Ed25519SigVerify111111111111111111111111111");Ra.utils.isValidPrivateKey;Ra.getPublicKey;pe([Ge("numSignatures"),jt("signatureOffset"),Ge("signatureInstructionIndex"),jt("ethAddressOffset"),Ge("ethAddressInstructionIndex"),jt("messageDataOffset"),jt("messageDataSize"),Ge("messageInstructionIndex"),at(20,"ethAddress"),at(64,"signature"),Ge("recoveryId")]);new mn("KeccakSecp256k11111111111111111111111111111");var Mre;new mn("StakeConfig11111111111111111111111111111111");let Cre=class{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}};Mre=Cre;Cre.default=new Mre(0,0,mn.default);Object.freeze({Initialize:{index:0,layout:pe([ge("instruction"),HOe(),qOe()])},Authorize:{index:1,layout:pe([ge("instruction"),en("newAuthorized"),ge("stakeAuthorizationType")])},Delegate:{index:2,layout:pe([ge("instruction")])},Split:{index:3,layout:pe([ge("instruction"),Lt("lamports")])},Withdraw:{index:4,layout:pe([ge("instruction"),Lt("lamports")])},Deactivate:{index:5,layout:pe([ge("instruction")])},Merge:{index:7,layout:pe([ge("instruction")])},AuthorizeWithSeed:{index:8,layout:pe([ge("instruction"),en("newAuthorized"),ge("stakeAuthorizationType"),Lm("authoritySeed"),en("authorityOwner")])}});new mn("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:pe([ge("instruction"),VOe()])},Authorize:{index:1,layout:pe([ge("instruction"),en("newAuthorized"),ge("voteAuthorizationType")])},Withdraw:{index:3,layout:pe([ge("instruction"),Lt("lamports")])},UpdateValidatorIdentity:{index:4,layout:pe([ge("instruction")])},AuthorizeWithSeed:{index:10,layout:pe([ge("instruction"),GOe()])}});new mn("Vote111111111111111111111111111111111111111");new mn("Va1idator1nfo111111111111111111111111111111");ce({name:he(),website:Ie(he()),details:Ie(he()),iconUrl:Ie(he()),keybaseUsername:Ie(he())});new mn("Vote111111111111111111111111111111111111111");pe([en("nodePubkey"),en("authorizedWithdrawer"),Ge("commission"),bt(),Mt(pe([bt("slot"),ge("confirmationCount")]),zr(ge(),-8),"votes"),Ge("rootSlotValid"),bt("rootSlot"),bt(),Mt(pe([bt("epoch"),en("authorizedVoter")]),zr(ge(),-8),"authorizedVoters"),pe([Mt(pe([en("authorizedPubkey"),bt("epochOfLastAuthorizedSwitch"),bt("targetEpoch")]),32,"buf"),bt("idx"),Ge("isEmpty")],"priorVoters"),bt(),Mt(pe([bt("epoch"),bt("credits"),bt("prevCredits")]),zr(ge(),-8),"epochCredits"),pe([bt("slot"),bt("timestamp")],"lastTimestamp")]);const Es=t=>{const e=at(32,t),{encode:r,decode:n}=RO(e),i=e;return i.decode=(s,o)=>{const a=n(s,o);return new mn(a)},i.encode=(s,o,a)=>{const u=s.toBuffer();return r(u,o,a)},i};class y_ extends Error{constructor(e){super(e)}}class _Le extends y_{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}}class ALe extends y_{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}}class xLe extends y_{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}}class mK extends y_{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}}class ELe extends y_{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}var PP;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Mint=1]="Mint",t[t.Account=2]="Account"})(PP||(PP={}));const kLe=1,TLe=pe([Ge("m"),Ge("n"),bre("isInitialized"),Es("signer1"),Es("signer2"),Es("signer3"),Es("signer4"),Es("signer5"),Es("signer6"),Es("signer7"),Es("signer8"),Es("signer9"),Es("signer10"),Es("signer11")]),ILe=TLe.span;var gE;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initialized=1]="Initialized",t[t.Frozen=2]="Frozen"})(gE||(gE={}));const Pre=pe([Es("mint"),Es("owner"),q2("amount"),ge("delegateOption"),Es("delegate"),Ge("state"),ge("isNativeOption"),q2("isNative"),q2("delegatedAmount"),ge("closeAuthorityOption"),Es("closeAuthority")]),dv=Pre.span;async function RLe(t,e,r,n=IO){const i=await t.getAccountInfo(e,r);return MLe(e,i,n)}function MLe(t,e,r=IO){if(!e)throw new _Le;if(!e.owner.equals(r))throw new xLe;if(e.data.length<dv)throw new mK;const n=Pre.decode(e.data.slice(0,dv));let i=we.Buffer.alloc(0);if(e.data.length>dv){if(e.data.length===ILe)throw new mK;if(e.data[dv]!=PP.Account)throw new ALe;i=e.data.slice(dv+kLe)}return{address:t,mint:n.mint,owner:n.owner,amount:n.amount,delegate:n.delegateOption?n.delegate:null,delegatedAmount:n.delegatedAmount,isInitialized:n.state!==gE.Uninitialized,isFrozen:n.state===gE.Frozen,isNative:!!n.isNativeOption,rentExemptReserve:n.isNativeOption?n.isNative:null,closeAuthority:n.closeAuthorityOption?n.closeAuthority:null,tlvData:i}}const CLe=pe([ge("mintAuthorityOption"),Es("mintAuthority"),q2("supply"),Ge("decimals"),bre("isInitialized"),ge("freezeAuthorityOption"),Es("freezeAuthority")]);CLe.span;function PLe(t,e,r=!1,n=IO,i=OOe){if(!r&&!dt.isOnCurve(e.toBuffer()))throw new ELe;const[s]=dt.findProgramAddressSync([e.toBuffer(),n.toBuffer(),t.toBuffer()],i);return s}var hr={},NP={exports:{}},yR=65536,NLe=4294967295;function BLe(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var OLe=dr.Buffer,mE=St.crypto||St.msCrypto;mE&&mE.getRandomValues?NP.exports=LLe:NP.exports=BLe;function LLe(t,e){if(t>NLe)throw new RangeError("requested too many random bytes");var r=OLe.allocUnsafe(t);if(t>0)if(t>yR)for(var n=0;n<t;n+=yR)mE.getRandomValues(r.slice(n,n+yR));else mE.getRandomValues(r);return typeof e=="function"?we.process.nextTick(function(){e(null,r)}):r}var x1=NP.exports,BP={exports:{}};typeof Object.create=="function"?BP.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:BP.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var rr=BP.exports,OP={exports:{}},Nre=zk.EventEmitter;const DLe={},FLe=Object.freeze(Object.defineProperty({__proto__:null,default:DLe},Symbol.toStringTag,{value:"Module"})),E1=GS(FLe);var bR,yK;function $Le(){if(yK)return bR;yK=1;function t(A,x){var k=Object.keys(A);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(A);x&&(I=I.filter(function(R){return Object.getOwnPropertyDescriptor(A,R).enumerable})),k.push.apply(k,I)}return k}function e(A){for(var x=1;x<arguments.length;x++){var k=arguments[x]!=null?arguments[x]:{};x%2?t(Object(k),!0).forEach(function(I){r(A,I,k[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(k)):t(Object(k)).forEach(function(I){Object.defineProperty(A,I,Object.getOwnPropertyDescriptor(k,I))})}return A}function r(A,x,k){return x=o(x),x in A?Object.defineProperty(A,x,{value:k,enumerable:!0,configurable:!0,writable:!0}):A[x]=k,A}function n(A,x){if(!(A instanceof x))throw new TypeError("Cannot call a class as a function")}function i(A,x){for(var k=0;k<x.length;k++){var I=x[k];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(A,o(I.key),I)}}function s(A,x,k){return x&&i(A.prototype,x),Object.defineProperty(A,"prototype",{writable:!1}),A}function o(A){var x=a(A,"string");return typeof x=="symbol"?x:String(x)}function a(A,x){if(typeof A!="object"||A===null)return A;var k=A[Symbol.toPrimitive];if(k!==void 0){var I=k.call(A,x);if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(A)}var u=xe,f=u.Buffer,d=E1,g=d.inspect,y=g&&g.custom||"inspect";function b(A,x,k){f.prototype.copy.call(A,x,k)}return bR=function(){function A(){n(this,A),this.head=null,this.tail=null,this.length=0}return s(A,[{key:"push",value:function(k){var I={data:k,next:null};this.length>0?this.tail.next=I:this.head=I,this.tail=I,++this.length}},{key:"unshift",value:function(k){var I={data:k,next:this.head};this.length===0&&(this.tail=I),this.head=I,++this.length}},{key:"shift",value:function(){if(this.length!==0){var k=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,k}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(k){if(this.length===0)return"";for(var I=this.head,R=""+I.data;I=I.next;)R+=k+I.data;return R}},{key:"concat",value:function(k){if(this.length===0)return f.alloc(0);for(var I=f.allocUnsafe(k>>>0),R=this.head,M=0;R;)b(R.data,I,M),M+=R.data.length,R=R.next;return I}},{key:"consume",value:function(k,I){var R;return k<this.head.data.length?(R=this.head.data.slice(0,k),this.head.data=this.head.data.slice(k)):k===this.head.data.length?R=this.shift():R=I?this._getString(k):this._getBuffer(k),R}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(k){var I=this.head,R=1,M=I.data;for(k-=M.length;I=I.next;){var P=I.data,j=k>P.length?P.length:k;if(j===P.length?M+=P:M+=P.slice(0,k),k-=j,k===0){j===P.length?(++R,I.next?this.head=I.next:this.head=this.tail=null):(this.head=I,I.data=P.slice(j));break}++R}return this.length-=R,M}},{key:"_getBuffer",value:function(k){var I=f.allocUnsafe(k),R=this.head,M=1;for(R.data.copy(I),k-=R.data.length;R=R.next;){var P=R.data,j=k>P.length?P.length:k;if(P.copy(I,I.length-k,0,j),k-=j,k===0){j===P.length?(++M,R.next?this.head=R.next:this.head=this.tail=null):(this.head=R,R.data=P.slice(j));break}++M}return this.length-=M,I}},{key:y,value:function(k,I){return g(this,e(e({},I),{},{depth:0,customInspect:!1}))}}]),A}(),bR}function ULe(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,we.process.nextTick(LP,this,t)):we.process.nextTick(LP,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?we.process.nextTick(G2,r):(r._writableState.errorEmitted=!0,we.process.nextTick(bK,r,s)):we.process.nextTick(bK,r,s):e?(we.process.nextTick(G2,r),e(s)):we.process.nextTick(G2,r)}),this)}function bK(t,e){LP(t,e),G2(t)}function G2(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function zLe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function LP(t,e){t.emit("error",e)}function WLe(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var Bre={destroy:ULe,undestroy:zLe,errorOrDestroy:WLe},lg={};function jLe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Ore={};function lu(t,e,r){r||(r=Error);function n(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){jLe(o,s);function o(a,u,f){return s.call(this,n(a,u,f))||this}return o}(r);i.prototype.name=r.name,i.prototype.code=t,Ore[t]=i}function vK(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function KLe(t,e,r){return t.substr(0,e.length)===e}function HLe(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function qLe(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}lu("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);lu("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&KLe(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(HLe(t," argument"))i="The ".concat(t," ").concat(n," ").concat(vK(e,"type"));else{var s=qLe(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(vK(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);lu("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");lu("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});lu("ERR_STREAM_PREMATURE_CLOSE","Premature close");lu("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});lu("ERR_MULTIPLE_CALLBACK","Callback called multiple times");lu("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");lu("ERR_STREAM_WRITE_AFTER_END","write after end");lu("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);lu("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);lu("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");lg.codes=Ore;var VLe=lg.codes.ERR_INVALID_OPT_VALUE;function GLe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function YLe(t,e,r,n){var i=GLe(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new VLe(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var Lre={getHighWaterMark:YLe},Dre=ZLe;function ZLe(t,e){if(vR("noDeprecation"))return t;var r=!1;function n(){if(!r){if(vR("throwDeprecation"))throw new Error(e);vR("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function vR(t){try{if(!St.localStorage)return!1}catch{return!1}var e=St.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var wR,wK;function Fre(){if(wK)return wR;wK=1,wR=G;function t($){var F=this;this.next=null,this.entry=null,this.finish=function(){O(F,$)}}var e;G.WritableState=V;var r={deprecate:Dre},n=Nre,i=xe.Buffer,s=(typeof St<"u"?St:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o($){return i.from($)}function a($){return i.isBuffer($)||$ instanceof s}var u=Bre,f=Lre,d=f.getHighWaterMark,g=lg.codes,y=g.ERR_INVALID_ARG_TYPE,b=g.ERR_METHOD_NOT_IMPLEMENTED,A=g.ERR_MULTIPLE_CALLBACK,x=g.ERR_STREAM_CANNOT_PIPE,k=g.ERR_STREAM_DESTROYED,I=g.ERR_STREAM_NULL_VALUES,R=g.ERR_STREAM_WRITE_AFTER_END,M=g.ERR_UNKNOWN_ENCODING,P=u.errorOrDestroy;rr(G,n);function j(){}function V($,F,H){e=e||Lb(),$=$||{},typeof H!="boolean"&&(H=F instanceof e),this.objectMode=!!$.objectMode,H&&(this.objectMode=this.objectMode||!!$.writableObjectMode),this.highWaterMark=d(this,$,"writableHighWaterMark",H),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Q=$.decodeStrings===!1;this.decodeStrings=!Q,this.defaultEncoding=$.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(te){v(F,te)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=$.emitClose!==!1,this.autoDestroy=!!$.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}V.prototype.getBuffer=function(){for(var F=this.bufferedRequest,H=[];F;)H.push(F),F=F.next;return H},function(){try{Object.defineProperty(V.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Z;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Z=Function.prototype[Symbol.hasInstance],Object.defineProperty(G,Symbol.hasInstance,{value:function(F){return Z.call(this,F)?!0:this!==G?!1:F&&F._writableState instanceof V}})):Z=function(F){return F instanceof this};function G($){e=e||Lb();var F=this instanceof e;if(!F&&!Z.call(G,this))return new G($);this._writableState=new V($,this,F),this.writable=!0,$&&(typeof $.write=="function"&&(this._write=$.write),typeof $.writev=="function"&&(this._writev=$.writev),typeof $.destroy=="function"&&(this._destroy=$.destroy),typeof $.final=="function"&&(this._final=$.final)),n.call(this)}G.prototype.pipe=function(){P(this,new x)};function q($,F){var H=new R;P($,H),we.process.nextTick(F,H)}function ae($,F,H,Q){var te;return H===null?te=new I:typeof H!="string"&&!F.objectMode&&(te=new y("chunk",["string","Buffer"],H)),te?(P($,te),we.process.nextTick(Q,te),!1):!0}G.prototype.write=function($,F,H){var Q=this._writableState,te=!1,X=!Q.objectMode&&a($);return X&&!i.isBuffer($)&&($=o($)),typeof F=="function"&&(H=F,F=null),X?F="buffer":F||(F=Q.defaultEncoding),typeof H!="function"&&(H=j),Q.ending?q(this,H):(X||ae(this,Q,$,H))&&(Q.pendingcb++,te=c(this,Q,X,$,F,H)),te},G.prototype.cork=function(){this._writableState.corked++},G.prototype.uncork=function(){var $=this._writableState;$.corked&&($.corked--,!$.writing&&!$.corked&&!$.bufferProcessing&&$.bufferedRequest&&w(this,$))},G.prototype.setDefaultEncoding=function(F){if(typeof F=="string"&&(F=F.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((F+"").toLowerCase())>-1))throw new M(F);return this._writableState.defaultEncoding=F,this},Object.defineProperty(G.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function T($,F,H){return!$.objectMode&&$.decodeStrings!==!1&&typeof F=="string"&&(F=i.from(F,H)),F}Object.defineProperty(G.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function c($,F,H,Q,te,X){if(!H){var K=T(F,Q,te);Q!==K&&(H=!0,te="buffer",Q=K)}var oe=F.objectMode?1:Q.length;F.length+=oe;var _e=F.length<F.highWaterMark;if(_e||(F.needDrain=!0),F.writing||F.corked){var Se=F.lastBufferedRequest;F.lastBufferedRequest={chunk:Q,encoding:te,isBuf:H,callback:X,next:null},Se?Se.next=F.lastBufferedRequest:F.bufferedRequest=F.lastBufferedRequest,F.bufferedRequestCount+=1}else h($,F,!1,oe,Q,te,X);return _e}function h($,F,H,Q,te,X,K){F.writelen=Q,F.writecb=K,F.writing=!0,F.sync=!0,F.destroyed?F.onwrite(new k("write")):H?$._writev(te,F.onwrite):$._write(te,X,F.onwrite),F.sync=!1}function p($,F,H,Q,te){--F.pendingcb,H?(we.process.nextTick(te,Q),we.process.nextTick(D,$,F),$._writableState.errorEmitted=!0,P($,Q)):(te(Q),$._writableState.errorEmitted=!0,P($,Q),D($,F))}function m($){$.writing=!1,$.writecb=null,$.length-=$.writelen,$.writelen=0}function v($,F){var H=$._writableState,Q=H.sync,te=H.writecb;if(typeof te!="function")throw new A;if(m(H),F)p($,H,Q,F,te);else{var X=l(H)||$.destroyed;!X&&!H.corked&&!H.bufferProcessing&&H.bufferedRequest&&w($,H),Q?we.process.nextTick(_,$,H,X,te):_($,H,X,te)}}function _($,F,H,Q){H||E($,F),F.pendingcb--,Q(),D($,F)}function E($,F){F.length===0&&F.needDrain&&(F.needDrain=!1,$.emit("drain"))}function w($,F){F.bufferProcessing=!0;var H=F.bufferedRequest;if($._writev&&H&&H.next){var Q=F.bufferedRequestCount,te=new Array(Q),X=F.corkedRequestsFree;X.entry=H;for(var K=0,oe=!0;H;)te[K]=H,H.isBuf||(oe=!1),H=H.next,K+=1;te.allBuffers=oe,h($,F,!0,F.length,te,"",X.finish),F.pendingcb++,F.lastBufferedRequest=null,X.next?(F.corkedRequestsFree=X.next,X.next=null):F.corkedRequestsFree=new t(F),F.bufferedRequestCount=0}else{for(;H;){var _e=H.chunk,Se=H.encoding,W=H.callback,re=F.objectMode?1:_e.length;if(h($,F,!1,re,_e,Se,W),H=H.next,F.bufferedRequestCount--,F.writing)break}H===null&&(F.lastBufferedRequest=null)}F.bufferedRequest=H,F.bufferProcessing=!1}G.prototype._write=function($,F,H){H(new b("_write()"))},G.prototype._writev=null,G.prototype.end=function($,F,H){var Q=this._writableState;return typeof $=="function"?(H=$,$=null,F=null):typeof F=="function"&&(H=F,F=null),$!=null&&this.write($,F),Q.corked&&(Q.corked=1,this.uncork()),Q.ending||U(this,Q,H),this},Object.defineProperty(G.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l($){return $.ending&&$.length===0&&$.bufferedRequest===null&&!$.finished&&!$.writing}function S($,F){$._final(function(H){F.pendingcb--,H&&P($,H),F.prefinished=!0,$.emit("prefinish"),D($,F)})}function C($,F){!F.prefinished&&!F.finalCalled&&(typeof $._final=="function"&&!F.destroyed?(F.pendingcb++,F.finalCalled=!0,we.process.nextTick(S,$,F)):(F.prefinished=!0,$.emit("prefinish")))}function D($,F){var H=l(F);if(H&&(C($,F),F.pendingcb===0&&(F.finished=!0,$.emit("finish"),F.autoDestroy))){var Q=$._readableState;(!Q||Q.autoDestroy&&Q.endEmitted)&&$.destroy()}return H}function U($,F,H){F.ending=!0,D($,F),H&&(F.finished?we.process.nextTick(H):$.once("finish",H)),F.ended=!0,$.writable=!1}function O($,F,H){var Q=$.entry;for($.entry=null;Q;){var te=Q.callback;F.pendingcb--,te(H),Q=Q.next}F.corkedRequestsFree.next=$}return Object.defineProperty(G.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(F){this._writableState&&(this._writableState.destroyed=F)}}),G.prototype.destroy=u.destroy,G.prototype._undestroy=u.undestroy,G.prototype._destroy=function($,F){F($)},wR}var SR,SK;function Lb(){if(SK)return SR;SK=1;var t=Object.keys||function(f){var d=[];for(var g in f)d.push(g);return d};SR=o;var e=Ure(),r=Fre();rr(o,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(f){if(!(this instanceof o))return new o(f);e.call(this,f),r.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||we.process.nextTick(u,this)}function u(f){f.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(d){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=d,this._writableState.destroyed=d)}}),SR}var yE={},BO=dr.Buffer,_K=BO.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function XLe(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function JLe(t){var e=XLe(t);if(typeof e!="string"&&(BO.isEncoding===_K||!_K(t)))throw new Error("Unknown encoding: "+t);return e||t}yE.StringDecoder=b_;function b_(t){this.encoding=JLe(t);var e;switch(this.encoding){case"utf16le":this.text=i9e,this.end=s9e,e=4;break;case"utf8":this.fillLast=t9e,e=4;break;case"base64":this.text=o9e,this.end=a9e,e=3;break;default:this.write=u9e,this.end=c9e;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=BO.allocUnsafe(e)}b_.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};b_.prototype.end=n9e;b_.prototype.text=r9e;b_.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function _R(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function QLe(t,e,r){var n=e.length-1;if(n<r)return 0;var i=_R(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=_R(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=_R(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function e9e(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,""}}function t9e(t){var e=this.lastTotal-this.lastNeed,r=e9e(this,t);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function r9e(t,e){var r=QLe(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function n9e(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e}function i9e(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function s9e(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function o9e(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function a9e(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function u9e(t){return t.toString(this.encoding)}function c9e(t){return t&&t.length?this.write(t):""}var AK=lg.codes.ERR_STREAM_PREMATURE_CLOSE;function l9e(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function f9e(){}function d9e(t){return t.setHeader&&typeof t.abort=="function"}function $re(t,e,r){if(typeof e=="function")return $re(t,null,e);e||(e={}),r=l9e(r||f9e);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,n||r.call(t)},u=t._readableState&&t._readableState.endEmitted,f=function(){n=!1,u=!0,i||r.call(t)},d=function(A){r.call(t,A)},g=function(){var A;if(n&&!u)return(!t._readableState||!t._readableState.ended)&&(A=new AK),r.call(t,A);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(A=new AK),r.call(t,A)},y=function(){t.req.on("finish",a)};return d9e(t)?(t.on("complete",a),t.on("abort",g),t.req?y():t.on("request",y)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",f),t.on("finish",a),e.error!==!1&&t.on("error",d),t.on("close",g),function(){t.removeListener("complete",a),t.removeListener("abort",g),t.removeListener("request",y),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",f),t.removeListener("error",d),t.removeListener("close",g)}}var OO=$re,AR,xK;function h9e(){if(xK)return AR;xK=1;var t;function e(M,P,j){return P=r(P),P in M?Object.defineProperty(M,P,{value:j,enumerable:!0,configurable:!0,writable:!0}):M[P]=j,M}function r(M){var P=n(M,"string");return typeof P=="symbol"?P:String(P)}function n(M,P){if(typeof M!="object"||M===null)return M;var j=M[Symbol.toPrimitive];if(j!==void 0){var V=j.call(M,P);if(typeof V!="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return(P==="string"?String:Number)(M)}var i=OO,s=Symbol("lastResolve"),o=Symbol("lastReject"),a=Symbol("error"),u=Symbol("ended"),f=Symbol("lastPromise"),d=Symbol("handlePromise"),g=Symbol("stream");function y(M,P){return{value:M,done:P}}function b(M){var P=M[s];if(P!==null){var j=M[g].read();j!==null&&(M[f]=null,M[s]=null,M[o]=null,P(y(j,!1)))}}function A(M){we.process.nextTick(b,M)}function x(M,P){return function(j,V){M.then(function(){if(P[u]){j(y(void 0,!0));return}P[d](j,V)},V)}}var k=Object.getPrototypeOf(function(){}),I=Object.setPrototypeOf((t={get stream(){return this[g]},next:function(){var P=this,j=this[a];if(j!==null)return Promise.reject(j);if(this[u])return Promise.resolve(y(void 0,!0));if(this[g].destroyed)return new Promise(function(q,ae){we.process.nextTick(function(){P[a]?ae(P[a]):q(y(void 0,!0))})});var V=this[f],Z;if(V)Z=new Promise(x(V,this));else{var G=this[g].read();if(G!==null)return Promise.resolve(y(G,!1));Z=new Promise(this[d])}return this[f]=Z,Z}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var P=this;return new Promise(function(j,V){P[g].destroy(null,function(Z){if(Z){V(Z);return}j(y(void 0,!0))})})}),t),k),R=function(P){var j,V=Object.create(I,(j={},e(j,g,{value:P,writable:!0}),e(j,s,{value:null,writable:!0}),e(j,o,{value:null,writable:!0}),e(j,a,{value:null,writable:!0}),e(j,u,{value:P._readableState.endEmitted,writable:!0}),e(j,d,{value:function(G,q){var ae=V[g].read();ae?(V[f]=null,V[s]=null,V[o]=null,G(y(ae,!1))):(V[s]=G,V[o]=q)},writable:!0}),j));return V[f]=null,i(P,function(Z){if(Z&&Z.code!=="ERR_STREAM_PREMATURE_CLOSE"){var G=V[o];G!==null&&(V[f]=null,V[s]=null,V[o]=null,G(Z)),V[a]=Z;return}var q=V[s];q!==null&&(V[f]=null,V[s]=null,V[o]=null,q(y(void 0,!0))),V[u]=!0}),P.on("readable",A.bind(null,V)),V};return AR=R,AR}var xR,EK;function p9e(){return EK||(EK=1,xR=function(){throw new Error("Readable.from is not available in the browser")}),xR}var ER,kK;function Ure(){if(kK)return ER;kK=1,ER=q;var t;q.ReadableState=G,zk.EventEmitter;var e=function(K,oe){return K.listeners(oe).length},r=Nre,n=xe.Buffer,i=(typeof St<"u"?St:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(X){return n.from(X)}function o(X){return n.isBuffer(X)||X instanceof i}var a=E1,u;a&&a.debuglog?u=a.debuglog("stream"):u=function(){};var f=$Le(),d=Bre,g=Lre,y=g.getHighWaterMark,b=lg.codes,A=b.ERR_INVALID_ARG_TYPE,x=b.ERR_STREAM_PUSH_AFTER_EOF,k=b.ERR_METHOD_NOT_IMPLEMENTED,I=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,R,M,P;rr(q,r);var j=d.errorOrDestroy,V=["error","close","destroy","pause","resume"];function Z(X,K,oe){if(typeof X.prependListener=="function")return X.prependListener(K,oe);!X._events||!X._events[K]?X.on(K,oe):Array.isArray(X._events[K])?X._events[K].unshift(oe):X._events[K]=[oe,X._events[K]]}function G(X,K,oe){t=t||Lb(),X=X||{},typeof oe!="boolean"&&(oe=K instanceof t),this.objectMode=!!X.objectMode,oe&&(this.objectMode=this.objectMode||!!X.readableObjectMode),this.highWaterMark=y(this,X,"readableHighWaterMark",oe),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=X.emitClose!==!1,this.autoDestroy=!!X.autoDestroy,this.destroyed=!1,this.defaultEncoding=X.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,X.encoding&&(R||(R=yE.StringDecoder),this.decoder=new R(X.encoding),this.encoding=X.encoding)}function q(X){if(t=t||Lb(),!(this instanceof q))return new q(X);var K=this instanceof t;this._readableState=new G(X,this,K),this.readable=!0,X&&(typeof X.read=="function"&&(this._read=X.read),typeof X.destroy=="function"&&(this._destroy=X.destroy)),r.call(this)}Object.defineProperty(q.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(K){this._readableState&&(this._readableState.destroyed=K)}}),q.prototype.destroy=d.destroy,q.prototype._undestroy=d.undestroy,q.prototype._destroy=function(X,K){K(X)},q.prototype.push=function(X,K){var oe=this._readableState,_e;return oe.objectMode?_e=!0:typeof X=="string"&&(K=K||oe.defaultEncoding,K!==oe.encoding&&(X=n.from(X,K),K=""),_e=!0),ae(this,X,K,!1,_e)},q.prototype.unshift=function(X){return ae(this,X,null,!0,!1)};function ae(X,K,oe,_e,Se){u("readableAddChunk",K);var W=X._readableState;if(K===null)W.reading=!1,v(X,W);else{var re;if(Se||(re=c(W,K)),re)j(X,re);else if(W.objectMode||K&&K.length>0)if(typeof K!="string"&&!W.objectMode&&Object.getPrototypeOf(K)!==n.prototype&&(K=s(K)),_e)W.endEmitted?j(X,new I):T(X,W,K,!0);else if(W.ended)j(X,new x);else{if(W.destroyed)return!1;W.reading=!1,W.decoder&&!oe?(K=W.decoder.write(K),W.objectMode||K.length!==0?T(X,W,K,!1):w(X,W)):T(X,W,K,!1)}else _e||(W.reading=!1,w(X,W))}return!W.ended&&(W.length<W.highWaterMark||W.length===0)}function T(X,K,oe,_e){K.flowing&&K.length===0&&!K.sync?(K.awaitDrain=0,X.emit("data",oe)):(K.length+=K.objectMode?1:oe.length,_e?K.buffer.unshift(oe):K.buffer.push(oe),K.needReadable&&_(X)),w(X,K)}function c(X,K){var oe;return!o(K)&&typeof K!="string"&&K!==void 0&&!X.objectMode&&(oe=new A("chunk",["string","Buffer","Uint8Array"],K)),oe}q.prototype.isPaused=function(){return this._readableState.flowing===!1},q.prototype.setEncoding=function(X){R||(R=yE.StringDecoder);var K=new R(X);this._readableState.decoder=K,this._readableState.encoding=this._readableState.decoder.encoding;for(var oe=this._readableState.buffer.head,_e="";oe!==null;)_e+=K.write(oe.data),oe=oe.next;return this._readableState.buffer.clear(),_e!==""&&this._readableState.buffer.push(_e),this._readableState.length=_e.length,this};var h=1073741824;function p(X){return X>=h?X=h:(X--,X|=X>>>1,X|=X>>>2,X|=X>>>4,X|=X>>>8,X|=X>>>16,X++),X}function m(X,K){return X<=0||K.length===0&&K.ended?0:K.objectMode?1:X!==X?K.flowing&&K.length?K.buffer.head.data.length:K.length:(X>K.highWaterMark&&(K.highWaterMark=p(X)),X<=K.length?X:K.ended?K.length:(K.needReadable=!0,0))}q.prototype.read=function(X){u("read",X),X=parseInt(X,10);var K=this._readableState,oe=X;if(X!==0&&(K.emittedReadable=!1),X===0&&K.needReadable&&((K.highWaterMark!==0?K.length>=K.highWaterMark:K.length>0)||K.ended))return u("read: emitReadable",K.length,K.ended),K.length===0&&K.ended?H(this):_(this),null;if(X=m(X,K),X===0&&K.ended)return K.length===0&&H(this),null;var _e=K.needReadable;u("need readable",_e),(K.length===0||K.length-X<K.highWaterMark)&&(_e=!0,u("length less than watermark",_e)),K.ended||K.reading?(_e=!1,u("reading or ended",_e)):_e&&(u("do read"),K.reading=!0,K.sync=!0,K.length===0&&(K.needReadable=!0),this._read(K.highWaterMark),K.sync=!1,K.reading||(X=m(oe,K)));var Se;return X>0?Se=F(X,K):Se=null,Se===null?(K.needReadable=K.length<=K.highWaterMark,X=0):(K.length-=X,K.awaitDrain=0),K.length===0&&(K.ended||(K.needReadable=!0),oe!==X&&K.ended&&H(this)),Se!==null&&this.emit("data",Se),Se};function v(X,K){if(u("onEofChunk"),!K.ended){if(K.decoder){var oe=K.decoder.end();oe&&oe.length&&(K.buffer.push(oe),K.length+=K.objectMode?1:oe.length)}K.ended=!0,K.sync?_(X):(K.needReadable=!1,K.emittedReadable||(K.emittedReadable=!0,E(X)))}}function _(X){var K=X._readableState;u("emitReadable",K.needReadable,K.emittedReadable),K.needReadable=!1,K.emittedReadable||(u("emitReadable",K.flowing),K.emittedReadable=!0,we.process.nextTick(E,X))}function E(X){var K=X._readableState;u("emitReadable_",K.destroyed,K.length,K.ended),!K.destroyed&&(K.length||K.ended)&&(X.emit("readable"),K.emittedReadable=!1),K.needReadable=!K.flowing&&!K.ended&&K.length<=K.highWaterMark,$(X)}function w(X,K){K.readingMore||(K.readingMore=!0,we.process.nextTick(l,X,K))}function l(X,K){for(;!K.reading&&!K.ended&&(K.length<K.highWaterMark||K.flowing&&K.length===0);){var oe=K.length;if(u("maybeReadMore read 0"),X.read(0),oe===K.length)break}K.readingMore=!1}q.prototype._read=function(X){j(this,new k("_read()"))},q.prototype.pipe=function(X,K){var oe=this,_e=this._readableState;switch(_e.pipesCount){case 0:_e.pipes=X;break;case 1:_e.pipes=[_e.pipes,X];break;default:_e.pipes.push(X);break}_e.pipesCount+=1,u("pipe count=%d opts=%j",_e.pipesCount,K);var Se=(!K||K.end!==!1)&&X!==we.process.stdout&&X!==we.process.stderr,W=Se?ne:Fe;_e.endEmitted?we.process.nextTick(W):oe.once("end",W),X.on("unpipe",re);function re(ee,z){u("onunpipe"),ee===oe&&z&&z.hasUnpiped===!1&&(z.hasUnpiped=!0,be())}function ne(){u("onend"),X.end()}var se=S(oe);X.on("drain",se);var Te=!1;function be(){u("cleanup"),X.removeListener("close",le),X.removeListener("finish",de),X.removeListener("drain",se),X.removeListener("error",ut),X.removeListener("unpipe",re),oe.removeListener("end",ne),oe.removeListener("end",Fe),oe.removeListener("data",Ee),Te=!0,_e.awaitDrain&&(!X._writableState||X._writableState.needDrain)&&se()}oe.on("data",Ee);function Ee(ee){u("ondata");var z=X.write(ee);u("dest.write",z),z===!1&&((_e.pipesCount===1&&_e.pipes===X||_e.pipesCount>1&&te(_e.pipes,X)!==-1)&&!Te&&(u("false write response, pause",_e.awaitDrain),_e.awaitDrain++),oe.pause())}function ut(ee){u("onerror",ee),Fe(),X.removeListener("error",ut),e(X,"error")===0&&j(X,ee)}Z(X,"error",ut);function le(){X.removeListener("finish",de),Fe()}X.once("close",le);function de(){u("onfinish"),X.removeListener("close",le),Fe()}X.once("finish",de);function Fe(){u("unpipe"),oe.unpipe(X)}return X.emit("pipe",oe),_e.flowing||(u("pipe resume"),oe.resume()),X};function S(X){return function(){var oe=X._readableState;u("pipeOnDrain",oe.awaitDrain),oe.awaitDrain&&oe.awaitDrain--,oe.awaitDrain===0&&e(X,"data")&&(oe.flowing=!0,$(X))}}q.prototype.unpipe=function(X){var K=this._readableState,oe={hasUnpiped:!1};if(K.pipesCount===0)return this;if(K.pipesCount===1)return X&&X!==K.pipes?this:(X||(X=K.pipes),K.pipes=null,K.pipesCount=0,K.flowing=!1,X&&X.emit("unpipe",this,oe),this);if(!X){var _e=K.pipes,Se=K.pipesCount;K.pipes=null,K.pipesCount=0,K.flowing=!1;for(var W=0;W<Se;W++)_e[W].emit("unpipe",this,{hasUnpiped:!1});return this}var re=te(K.pipes,X);return re===-1?this:(K.pipes.splice(re,1),K.pipesCount-=1,K.pipesCount===1&&(K.pipes=K.pipes[0]),X.emit("unpipe",this,oe),this)},q.prototype.on=function(X,K){var oe=r.prototype.on.call(this,X,K),_e=this._readableState;return X==="data"?(_e.readableListening=this.listenerCount("readable")>0,_e.flowing!==!1&&this.resume()):X==="readable"&&!_e.endEmitted&&!_e.readableListening&&(_e.readableListening=_e.needReadable=!0,_e.flowing=!1,_e.emittedReadable=!1,u("on readable",_e.length,_e.reading),_e.length?_(this):_e.reading||we.process.nextTick(D,this)),oe},q.prototype.addListener=q.prototype.on,q.prototype.removeListener=function(X,K){var oe=r.prototype.removeListener.call(this,X,K);return X==="readable"&&we.process.nextTick(C,this),oe},q.prototype.removeAllListeners=function(X){var K=r.prototype.removeAllListeners.apply(this,arguments);return(X==="readable"||X===void 0)&&we.process.nextTick(C,this),K};function C(X){var K=X._readableState;K.readableListening=X.listenerCount("readable")>0,K.resumeScheduled&&!K.paused?K.flowing=!0:X.listenerCount("data")>0&&X.resume()}function D(X){u("readable nexttick read 0"),X.read(0)}q.prototype.resume=function(){var X=this._readableState;return X.flowing||(u("resume"),X.flowing=!X.readableListening,U(this,X)),X.paused=!1,this};function U(X,K){K.resumeScheduled||(K.resumeScheduled=!0,we.process.nextTick(O,X,K))}function O(X,K){u("resume",K.reading),K.reading||X.read(0),K.resumeScheduled=!1,X.emit("resume"),$(X),K.flowing&&!K.reading&&X.read(0)}q.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function $(X){var K=X._readableState;for(u("flow",K.flowing);K.flowing&&X.read()!==null;);}q.prototype.wrap=function(X){var K=this,oe=this._readableState,_e=!1;X.on("end",function(){if(u("wrapped end"),oe.decoder&&!oe.ended){var re=oe.decoder.end();re&&re.length&&K.push(re)}K.push(null)}),X.on("data",function(re){if(u("wrapped data"),oe.decoder&&(re=oe.decoder.write(re)),!(oe.objectMode&&re==null)&&!(!oe.objectMode&&(!re||!re.length))){var ne=K.push(re);ne||(_e=!0,X.pause())}});for(var Se in X)this[Se]===void 0&&typeof X[Se]=="function"&&(this[Se]=function(ne){return function(){return X[ne].apply(X,arguments)}}(Se));for(var W=0;W<V.length;W++)X.on(V[W],this.emit.bind(this,V[W]));return this._read=function(re){u("wrapped _read",re),_e&&(_e=!1,X.resume())},this},typeof Symbol=="function"&&(q.prototype[Symbol.asyncIterator]=function(){return M===void 0&&(M=h9e()),M(this)}),Object.defineProperty(q.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(q.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(q.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(K){this._readableState&&(this._readableState.flowing=K)}}),q._fromList=F,Object.defineProperty(q.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function F(X,K){if(K.length===0)return null;var oe;return K.objectMode?oe=K.buffer.shift():!X||X>=K.length?(K.decoder?oe=K.buffer.join(""):K.buffer.length===1?oe=K.buffer.first():oe=K.buffer.concat(K.length),K.buffer.clear()):oe=K.buffer.consume(X,K.decoder),oe}function H(X){var K=X._readableState;u("endReadable",K.endEmitted),K.endEmitted||(K.ended=!0,we.process.nextTick(Q,K,X))}function Q(X,K){if(u("endReadableNT",X.endEmitted,X.length),!X.endEmitted&&X.length===0&&(X.endEmitted=!0,K.readable=!1,K.emit("end"),X.autoDestroy)){var oe=K._writableState;(!oe||oe.autoDestroy&&oe.finished)&&K.destroy()}}typeof Symbol=="function"&&(q.from=function(X,K){return P===void 0&&(P=p9e()),P(q,X,K)});function te(X,K){for(var oe=0,_e=X.length;oe<_e;oe++)if(X[oe]===K)return oe;return-1}return ER}var zre=Xf,$3=lg.codes,g9e=$3.ERR_METHOD_NOT_IMPLEMENTED,m9e=$3.ERR_MULTIPLE_CALLBACK,y9e=$3.ERR_TRANSFORM_ALREADY_TRANSFORMING,b9e=$3.ERR_TRANSFORM_WITH_LENGTH_0,U3=Lb();rr(Xf,U3);function v9e(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new m9e);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Xf(t){if(!(this instanceof Xf))return new Xf(t);U3.call(this,t),this._transformState={afterTransform:v9e.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",w9e)}function w9e(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){TK(t,e,r)}):TK(this,null,null)}Xf.prototype.push=function(t,e){return this._transformState.needTransform=!1,U3.prototype.push.call(this,t,e)};Xf.prototype._transform=function(t,e,r){r(new g9e("_transform()"))};Xf.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Xf.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Xf.prototype._destroy=function(t,e){U3.prototype._destroy.call(this,t,function(r){e(r)})};function TK(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new b9e;if(t._transformState.transforming)throw new y9e;return t.push(null)}var S9e=cS,Wre=zre;rr(cS,Wre);function cS(t){if(!(this instanceof cS))return new cS(t);Wre.call(this,t)}cS.prototype._transform=function(t,e,r){r(null,t)};var kR;function _9e(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var jre=lg.codes,A9e=jre.ERR_MISSING_ARGS,x9e=jre.ERR_STREAM_DESTROYED;function IK(t){if(t)throw t}function E9e(t){return t.setHeader&&typeof t.abort=="function"}function k9e(t,e,r,n){n=_9e(n);var i=!1;t.on("close",function(){i=!0}),kR===void 0&&(kR=OO),kR(t,{readable:e,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,E9e(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new x9e("pipe"))}}}function RK(t){t()}function T9e(t,e){return t.pipe(e)}function I9e(t){return!t.length||typeof t[t.length-1]!="function"?IK:t.pop()}function R9e(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=I9e(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new A9e("streams");var i,s=e.map(function(o,a){var u=a<e.length-1,f=a>0;return k9e(o,u,f,function(d){i||(i=d),d&&s.forEach(RK),!u&&(s.forEach(RK),n(i))})});return e.reduce(T9e)}var M9e=R9e;(function(t,e){e=t.exports=Ure(),e.Stream=e,e.Readable=e,e.Writable=Fre(),e.Duplex=Lb(),e.Transform=zre,e.PassThrough=S9e,e.finished=OO,e.pipeline=M9e})(OP,OP.exports);var Kre=OP.exports,bE=dr.Buffer,Hre=Kre.Transform,C9e=rr;function P9e(t,e){if(!bE.isBuffer(t)&&typeof t!="string")throw new TypeError(e+" must be a string or a buffer")}function Kh(t){Hre.call(this),this._block=bE.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}C9e(Kh,Hre);Kh.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(i){n=i}r(n)};Kh.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(r){e=r}t(e)};Kh.prototype.update=function(t,e){if(P9e(t,"Data"),this._finalized)throw new Error("Digest already called");bE.isBuffer(t)||(t=bE.from(t,e));for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var s=0,o=t.length*8;o>0;++s)this._length[s]+=o,o=this._length[s]/4294967296|0,o>0&&(this._length[s]-=4294967296*o);return this};Kh.prototype._update=function(){throw new Error("_update is not implemented")};Kh.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();t!==void 0&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e};Kh.prototype._digest=function(){throw new Error("_digest is not implemented")};var N9e=Kh,B9e=rr,qre=N9e,O9e=dr.Buffer,L9e=new Array(16);function z3(){qre.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}B9e(z3,qre);z3.prototype._update=function(){for(var t=L9e,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);var r=this._a,n=this._b,i=this._c,s=this._d;r=Us(r,n,i,s,t[0],3614090360,7),s=Us(s,r,n,i,t[1],3905402710,12),i=Us(i,s,r,n,t[2],606105819,17),n=Us(n,i,s,r,t[3],3250441966,22),r=Us(r,n,i,s,t[4],4118548399,7),s=Us(s,r,n,i,t[5],1200080426,12),i=Us(i,s,r,n,t[6],2821735955,17),n=Us(n,i,s,r,t[7],4249261313,22),r=Us(r,n,i,s,t[8],1770035416,7),s=Us(s,r,n,i,t[9],2336552879,12),i=Us(i,s,r,n,t[10],4294925233,17),n=Us(n,i,s,r,t[11],2304563134,22),r=Us(r,n,i,s,t[12],1804603682,7),s=Us(s,r,n,i,t[13],4254626195,12),i=Us(i,s,r,n,t[14],2792965006,17),n=Us(n,i,s,r,t[15],1236535329,22),r=zs(r,n,i,s,t[1],4129170786,5),s=zs(s,r,n,i,t[6],3225465664,9),i=zs(i,s,r,n,t[11],643717713,14),n=zs(n,i,s,r,t[0],3921069994,20),r=zs(r,n,i,s,t[5],3593408605,5),s=zs(s,r,n,i,t[10],38016083,9),i=zs(i,s,r,n,t[15],3634488961,14),n=zs(n,i,s,r,t[4],3889429448,20),r=zs(r,n,i,s,t[9],568446438,5),s=zs(s,r,n,i,t[14],3275163606,9),i=zs(i,s,r,n,t[3],4107603335,14),n=zs(n,i,s,r,t[8],1163531501,20),r=zs(r,n,i,s,t[13],2850285829,5),s=zs(s,r,n,i,t[2],4243563512,9),i=zs(i,s,r,n,t[7],1735328473,14),n=zs(n,i,s,r,t[12],2368359562,20),r=Ws(r,n,i,s,t[5],4294588738,4),s=Ws(s,r,n,i,t[8],2272392833,11),i=Ws(i,s,r,n,t[11],1839030562,16),n=Ws(n,i,s,r,t[14],4259657740,23),r=Ws(r,n,i,s,t[1],2763975236,4),s=Ws(s,r,n,i,t[4],1272893353,11),i=Ws(i,s,r,n,t[7],4139469664,16),n=Ws(n,i,s,r,t[10],3200236656,23),r=Ws(r,n,i,s,t[13],681279174,4),s=Ws(s,r,n,i,t[0],3936430074,11),i=Ws(i,s,r,n,t[3],3572445317,16),n=Ws(n,i,s,r,t[6],76029189,23),r=Ws(r,n,i,s,t[9],3654602809,4),s=Ws(s,r,n,i,t[12],3873151461,11),i=Ws(i,s,r,n,t[15],530742520,16),n=Ws(n,i,s,r,t[2],3299628645,23),r=js(r,n,i,s,t[0],4096336452,6),s=js(s,r,n,i,t[7],1126891415,10),i=js(i,s,r,n,t[14],2878612391,15),n=js(n,i,s,r,t[5],4237533241,21),r=js(r,n,i,s,t[12],1700485571,6),s=js(s,r,n,i,t[3],2399980690,10),i=js(i,s,r,n,t[10],4293915773,15),n=js(n,i,s,r,t[1],2240044497,21),r=js(r,n,i,s,t[8],1873313359,6),s=js(s,r,n,i,t[15],4264355552,10),i=js(i,s,r,n,t[6],2734768916,15),n=js(n,i,s,r,t[13],1309151649,21),r=js(r,n,i,s,t[4],4149444226,6),s=js(s,r,n,i,t[11],3174756917,10),i=js(i,s,r,n,t[2],718787259,15),n=js(n,i,s,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+s|0};z3.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=O9e.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t};function W3(t,e){return t<<e|t>>>32-e}function Us(t,e,r,n,i,s,o){return W3(t+(e&r|~e&n)+i+s|0,o)+e|0}function zs(t,e,r,n,i,s,o){return W3(t+(e&n|r&~n)+i+s|0,o)+e|0}function Ws(t,e,r,n,i,s,o){return W3(t+(e^r^n)+i+s|0,o)+e|0}function js(t,e,r,n,i,s,o){return W3(t+(r^(e|~n))+i+s|0,o)+e|0}var LO=z3,vE=dr.Buffer,Vre=Kre.Transform,D9e=rr;function F9e(t,e){if(!vE.isBuffer(t)&&typeof t!="string")throw new TypeError(e+" must be a string or a buffer")}function Hh(t){Vre.call(this),this._block=vE.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}D9e(Hh,Vre);Hh.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(i){n=i}r(n)};Hh.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(r){e=r}t(e)};Hh.prototype.update=function(t,e){if(F9e(t,"Data"),this._finalized)throw new Error("Digest already called");vE.isBuffer(t)||(t=vE.from(t,e));for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var s=0,o=t.length*8;o>0;++s)this._length[s]+=o,o=this._length[s]/4294967296|0,o>0&&(this._length[s]-=4294967296*o);return this};Hh.prototype._update=function(){throw new Error("_update is not implemented")};Hh.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();t!==void 0&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e};Hh.prototype._digest=function(){throw new Error("_digest is not implemented")};var $9e=Hh,TR=xe.Buffer,U9e=rr,Gre=$9e,z9e=new Array(16),hv=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],pv=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],gv=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],mv=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],yv=[0,1518500249,1859775393,2400959708,2840853838],bv=[1352829926,1548603684,1836072691,2053994217,0];function j3(){Gre.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}U9e(j3,Gre);j3.prototype._update=function(){for(var t=z9e,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);for(var r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=this._a|0,u=this._b|0,f=this._c|0,d=this._d|0,g=this._e|0,y=0;y<80;y+=1){var b,A;y<16?(b=MK(r,n,i,s,o,t[hv[y]],yv[0],gv[y]),A=BK(a,u,f,d,g,t[pv[y]],bv[0],mv[y])):y<32?(b=CK(r,n,i,s,o,t[hv[y]],yv[1],gv[y]),A=NK(a,u,f,d,g,t[pv[y]],bv[1],mv[y])):y<48?(b=PK(r,n,i,s,o,t[hv[y]],yv[2],gv[y]),A=PK(a,u,f,d,g,t[pv[y]],bv[2],mv[y])):y<64?(b=NK(r,n,i,s,o,t[hv[y]],yv[3],gv[y]),A=CK(a,u,f,d,g,t[pv[y]],bv[3],mv[y])):(b=BK(r,n,i,s,o,t[hv[y]],yv[4],gv[y]),A=MK(a,u,f,d,g,t[pv[y]],bv[4],mv[y])),r=o,o=s,s=P0(i,10),i=n,n=b,a=g,g=d,d=P0(f,10),f=u,u=A}var x=this._b+i+d|0;this._b=this._c+s+g|0,this._c=this._d+o+a|0,this._d=this._e+r+u|0,this._e=this._a+n+f|0,this._a=x};j3.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=TR.alloc?TR.alloc(20):new TR(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};function P0(t,e){return t<<e|t>>>32-e}function MK(t,e,r,n,i,s,o,a){return P0(t+(e^r^n)+s+o|0,a)+i|0}function CK(t,e,r,n,i,s,o,a){return P0(t+(e&r|~e&n)+s+o|0,a)+i|0}function PK(t,e,r,n,i,s,o,a){return P0(t+((e|~r)^n)+s+o|0,a)+i|0}function NK(t,e,r,n,i,s,o,a){return P0(t+(e&n|r&~n)+s+o|0,a)+i|0}function BK(t,e,r,n,i,s,o,a){return P0(t+(e^(r|~n))+s+o|0,a)+i|0}var DO=j3,Yre={exports:{}},Zre=dr.Buffer;function K3(t,e){this._block=Zre.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}K3.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=Zre.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,s=this._len,o=0;o<i;){for(var a=s%n,u=Math.min(i-o,n-a),f=0;f<u;f++)r[a+f]=t[o+f];s+=u,o+=u,s%n===0&&this._update(r)}return this._len+=i,this};K3.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};K3.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var k1=K3,W9e=rr,Xre=k1,j9e=dr.Buffer,K9e=[1518500249,1859775393,-1894007588,-899497514],H9e=new Array(80);function v_(){this.init(),this._w=H9e,Xre.call(this,64,56)}W9e(v_,Xre);v_.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function q9e(t){return t<<5|t>>>27}function V9e(t){return t<<30|t>>>2}function G9e(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}v_.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var u=0;u<80;++u){var f=~~(u/20),d=q9e(r)+G9e(f,n,i,s)+o+e[u]+K9e[f]|0;o=s,s=i,i=V9e(n),n=r,r=d}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};v_.prototype._hash=function(){var t=j9e.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var Y9e=v_,Z9e=rr,Jre=k1,X9e=dr.Buffer,J9e=[1518500249,1859775393,-1894007588,-899497514],Q9e=new Array(80);function w_(){this.init(),this._w=Q9e,Jre.call(this,64,56)}Z9e(w_,Jre);w_.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function e7e(t){return t<<1|t>>>31}function t7e(t){return t<<5|t>>>27}function r7e(t){return t<<30|t>>>2}function n7e(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}w_.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=e7e(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var u=0;u<80;++u){var f=~~(u/20),d=t7e(r)+n7e(f,n,i,s)+o+e[u]+J9e[f]|0;o=s,s=i,i=r7e(n),n=r,r=d}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};w_.prototype._hash=function(){var t=X9e.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var i7e=w_,s7e=rr,Qre=k1,o7e=dr.Buffer,a7e=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],u7e=new Array(64);function S_(){this.init(),this._w=u7e,Qre.call(this,64,56)}s7e(S_,Qre);S_.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function c7e(t,e,r){return r^t&(e^r)}function l7e(t,e,r){return t&e|r&(t|e)}function f7e(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function d7e(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function h7e(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function p7e(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}S_.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=this._f|0,u=this._g|0,f=this._h|0,d=0;d<16;++d)e[d]=t.readInt32BE(d*4);for(;d<64;++d)e[d]=p7e(e[d-2])+e[d-7]+h7e(e[d-15])+e[d-16]|0;for(var g=0;g<64;++g){var y=f+d7e(o)+c7e(o,a,u)+a7e[g]+e[g]|0,b=f7e(r)+l7e(r,n,i)|0;f=u,u=a,a=o,o=s+y|0,s=i,i=n,n=r,r=y+b|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=u+this._g|0,this._h=f+this._h|0};S_.prototype._hash=function(){var t=o7e.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var ene=S_,g7e=rr,m7e=ene,y7e=k1,b7e=dr.Buffer,v7e=new Array(64);function H3(){this.init(),this._w=v7e,y7e.call(this,64,56)}g7e(H3,m7e);H3.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};H3.prototype._hash=function(){var t=b7e.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var w7e=H3,S7e=rr,tne=k1,_7e=dr.Buffer,OK=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],A7e=new Array(160);function __(){this.init(),this._w=A7e,tne.call(this,128,112)}S7e(__,tne);__.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function LK(t,e,r){return r^t&(e^r)}function DK(t,e,r){return t&e|r&(t|e)}function FK(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function $K(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function x7e(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function E7e(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function k7e(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function T7e(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function es(t,e){return t>>>0<e>>>0?1:0}__.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,o=this._eh|0,a=this._fh|0,u=this._gh|0,f=this._hh|0,d=this._al|0,g=this._bl|0,y=this._cl|0,b=this._dl|0,A=this._el|0,x=this._fl|0,k=this._gl|0,I=this._hl|0,R=0;R<32;R+=2)e[R]=t.readInt32BE(R*4),e[R+1]=t.readInt32BE(R*4+4);for(;R<160;R+=2){var M=e[R-30],P=e[R-15*2+1],j=x7e(M,P),V=E7e(P,M);M=e[R-2*2],P=e[R-2*2+1];var Z=k7e(M,P),G=T7e(P,M),q=e[R-7*2],ae=e[R-7*2+1],T=e[R-16*2],c=e[R-16*2+1],h=V+ae|0,p=j+q+es(h,V)|0;h=h+G|0,p=p+Z+es(h,G)|0,h=h+c|0,p=p+T+es(h,c)|0,e[R]=p,e[R+1]=h}for(var m=0;m<160;m+=2){p=e[m],h=e[m+1];var v=DK(r,n,i),_=DK(d,g,y),E=FK(r,d),w=FK(d,r),l=$K(o,A),S=$K(A,o),C=OK[m],D=OK[m+1],U=LK(o,a,u),O=LK(A,x,k),$=I+S|0,F=f+l+es($,I)|0;$=$+O|0,F=F+U+es($,O)|0,$=$+D|0,F=F+C+es($,D)|0,$=$+h|0,F=F+p+es($,h)|0;var H=w+_|0,Q=E+v+es(H,w)|0;f=u,I=k,u=a,k=x,a=o,x=A,A=b+$|0,o=s+F+es(A,b)|0,s=i,b=y,i=n,y=g,n=r,g=d,d=$+H|0,r=F+Q+es(d,$)|0}this._al=this._al+d|0,this._bl=this._bl+g|0,this._cl=this._cl+y|0,this._dl=this._dl+b|0,this._el=this._el+A|0,this._fl=this._fl+x|0,this._gl=this._gl+k|0,this._hl=this._hl+I|0,this._ah=this._ah+r+es(this._al,d)|0,this._bh=this._bh+n+es(this._bl,g)|0,this._ch=this._ch+i+es(this._cl,y)|0,this._dh=this._dh+s+es(this._dl,b)|0,this._eh=this._eh+o+es(this._el,A)|0,this._fh=this._fh+a+es(this._fl,x)|0,this._gh=this._gh+u+es(this._gl,k)|0,this._hh=this._hh+f+es(this._hl,I)|0};__.prototype._hash=function(){var t=_7e.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var rne=__,I7e=rr,R7e=rne,M7e=k1,C7e=dr.Buffer,P7e=new Array(160);function q3(){this.init(),this._w=P7e,M7e.call(this,128,112)}I7e(q3,R7e);q3.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};q3.prototype._hash=function(){var t=C7e.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var N7e=q3,fg=Yre.exports=function(e){e=e.toLowerCase();var r=fg[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};fg.sha=Y9e;fg.sha1=i7e;fg.sha224=w7e;fg.sha256=ene;fg.sha384=N7e;fg.sha512=rne;var FO=Yre.exports,xc=dr.Buffer,nne=E1.Transform,B7e=yE.StringDecoder,O7e=rr;function oc(t){nne.call(this),this.hashMode=typeof t=="string",this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}O7e(oc,nne);var L7e=typeof Uint8Array<"u",D7e=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(xc.prototype instanceof Uint8Array||xc.TYPED_ARRAY_SUPPORT);function F7e(t,e){if(t instanceof xc)return t;if(typeof t=="string")return xc.from(t,e);if(D7e&&ArrayBuffer.isView(t)){if(t.byteLength===0)return xc.alloc(0);var r=xc.from(t.buffer,t.byteOffset,t.byteLength);if(r.byteLength===t.byteLength)return r}if(L7e&&t instanceof Uint8Array||xc.isBuffer(t)&&t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t))return xc.from(t);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}oc.prototype.update=function(t,e,r){var n=F7e(t,e),i=this._update(n);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)};oc.prototype.setAutoPadding=function(){};oc.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};oc.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};oc.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};oc.prototype._transform=function(t,e,r){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(i){n=i}finally{r(n)}};oc.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(r){e=r}t(e)};oc.prototype._finalOrDigest=function(t){var e=this.__final()||xc.alloc(0);return t&&(e=this._toString(e,t,!0)),e};oc.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new B7e(e),this._encoding=e),this._encoding!==e)throw new Error("cant switch encodings");var n=this._decoder.write(t);return r&&(n+=this._decoder.end()),n};var qh=oc,$7e=rr,U7e=LO,z7e=DO,W7e=FO,ine=qh;function V3(t){ine.call(this,"digest"),this._hash=t}$7e(V3,ine);V3.prototype._update=function(t){this._hash.update(t)};V3.prototype._final=function(){return this._hash.digest()};var A_=function(e){return e=e.toLowerCase(),e==="md5"?new U7e:e==="rmd160"||e==="ripemd160"?new z7e:new V3(W7e(e))},j7e=rr,Np=dr.Buffer,sne=qh,K7e=Np.alloc(128),Ng=64;function G3(t,e){sne.call(this,"digest"),typeof e=="string"&&(e=Np.from(e)),this._alg=t,this._key=e,e.length>Ng?e=t(e):e.length<Ng&&(e=Np.concat([e,K7e],Ng));for(var r=this._ipad=Np.allocUnsafe(Ng),n=this._opad=Np.allocUnsafe(Ng),i=0;i<Ng;i++)r[i]=e[i]^54,n[i]=e[i]^92;this._hash=[r]}j7e(G3,sne);G3.prototype._update=function(t){this._hash.push(t)};G3.prototype._final=function(){var t=this._alg(Np.concat(this._hash));return this._alg(Np.concat([this._opad,t]))};var H7e=G3,q7e=LO,one=function(t){return new q7e().update(t).digest()},V7e=rr,G7e=H7e,ane=qh,Kv=dr.Buffer,Y7e=one,DP=DO,FP=FO,Z7e=Kv.alloc(128);function lS(t,e){ane.call(this,"digest"),typeof e=="string"&&(e=Kv.from(e));var r=t==="sha512"||t==="sha384"?128:64;if(this._alg=t,this._key=e,e.length>r){var n=t==="rmd160"?new DP:FP(t);e=n.update(e).digest()}else e.length<r&&(e=Kv.concat([e,Z7e],r));for(var i=this._ipad=Kv.allocUnsafe(r),s=this._opad=Kv.allocUnsafe(r),o=0;o<r;o++)i[o]=e[o]^54,s[o]=e[o]^92;this._hash=t==="rmd160"?new DP:FP(t),this._hash.update(i)}V7e(lS,ane);lS.prototype._update=function(t){this._hash.update(t)};lS.prototype._final=function(){var t=this._hash.digest(),e=this._alg==="rmd160"?new DP:FP(this._alg);return e.update(this._opad).update(t).digest()};var une=function(e,r){return e=e.toLowerCase(),e==="rmd160"||e==="ripemd160"?new lS("rmd160",r):e==="md5"?new G7e(Y7e,r):new lS(e,r)};const X7e={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},J7e={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},Q7e={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},eDe={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},tDe={sign:"ecdsa",hash:"sha256",id:""},rDe={sign:"ecdsa",hash:"sha224",id:""},nDe={sign:"ecdsa",hash:"sha384",id:""},iDe={sign:"ecdsa",hash:"sha512",id:""},sDe={sign:"dsa",hash:"sha1",id:""},oDe={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},aDe={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},cne={sha224WithRSAEncryption:X7e,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:J7e,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:Q7e,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:eDe,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:tDe,sha224:rDe,sha384:nDe,sha512:iDe,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:sDe,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:oDe,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:aDe,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var uDe=cne,Y3={},cDe=Math.pow(2,30)-1,lne=function(t,e){if(typeof t!="number")throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if(typeof e!="number")throw new TypeError("Key length not a number");if(e<0||e>cDe||e!==e)throw new TypeError("Bad key length")},Y2;if(St.process&&St.process.browser)Y2="utf-8";else if(St.process&&St.process.version){var lDe=parseInt(we.process.version.split(".")[0].slice(1),10);Y2=lDe>=6?"utf-8":"binary"}else Y2="utf-8";var fne=Y2,IR=dr.Buffer,dne=function(t,e,r){if(IR.isBuffer(t))return t;if(typeof t=="string")return IR.from(t,e);if(ArrayBuffer.isView(t))return IR.from(t.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")},fDe=one,dDe=DO,hDe=FO,Bp=dr.Buffer,pDe=lne,UK=fne,zK=dne,gDe=Bp.alloc(128),Z2={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function hne(t,e,r){var n=mDe(t),i=t==="sha512"||t==="sha384"?128:64;e.length>i?e=n(e):e.length<i&&(e=Bp.concat([e,gDe],i));for(var s=Bp.allocUnsafe(i+Z2[t]),o=Bp.allocUnsafe(i+Z2[t]),a=0;a<i;a++)s[a]=e[a]^54,o[a]=e[a]^92;var u=Bp.allocUnsafe(i+r+4);s.copy(u,0,0,i),this.ipad1=u,this.ipad2=s,this.opad=o,this.alg=t,this.blocksize=i,this.hash=n,this.size=Z2[t]}hne.prototype.run=function(t,e){t.copy(e,this.blocksize);var r=this.hash(e);return r.copy(this.opad,this.blocksize),this.hash(this.opad)};function mDe(t){function e(n){return hDe(t).update(n).digest()}function r(n){return new dDe().update(n).digest()}return t==="rmd160"||t==="ripemd160"?r:t==="md5"?fDe:e}function yDe(t,e,r,n,i){pDe(r,n),t=zK(t,UK,"Password"),e=zK(e,UK,"Salt"),i=i||"sha1";var s=new hne(i,t,e.length),o=Bp.allocUnsafe(n),a=Bp.allocUnsafe(e.length+4);e.copy(a,0,0,e.length);for(var u=0,f=Z2[i],d=Math.ceil(n/f),g=1;g<=d;g++){a.writeUInt32BE(g,e.length);for(var y=s.run(a,s.ipad1),b=y,A=1;A<r;A++){b=s.run(b,s.ipad2);for(var x=0;x<f;x++)y[x]^=b[x]}y.copy(o,u),u+=f}return o}var pne=yDe,gne=dr.Buffer,bDe=lne,WK=fne,jK=pne,KK=dne,WA,Aw=St.crypto&&St.crypto.subtle,vDe={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},RR=[];function wDe(t){if(St.process&&!St.process.browser||!Aw||!Aw.importKey||!Aw.deriveBits)return Promise.resolve(!1);if(RR[t]!==void 0)return RR[t];WA=WA||gne.alloc(8);var e=mne(WA,WA,10,128,t).then(function(){return!0}).catch(function(){return!1});return RR[t]=e,e}var ep;function $P(){return ep||(St.process&&St.process.nextTick?ep=St.process.nextTick:St.queueMicrotask?ep=St.queueMicrotask:St.setImmediate?ep=St.setImmediate:ep=St.setTimeout,ep)}function mne(t,e,r,n,i){return Aw.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(function(s){return Aw.deriveBits({name:"PBKDF2",salt:e,iterations:r,hash:{name:i}},s,n<<3)}).then(function(s){return gne.from(s)})}function SDe(t,e){t.then(function(r){$P()(function(){e(null,r)})},function(r){$P()(function(){e(r)})})}var _De=function(t,e,r,n,i,s){typeof i=="function"&&(s=i,i=void 0),i=i||"sha1";var o=vDe[i.toLowerCase()];if(!o||typeof St.Promise!="function"){$P()(function(){var a;try{a=jK(t,e,r,n,i)}catch(u){return s(u)}s(null,a)});return}if(bDe(r,n),t=KK(t,WK,"Password"),e=KK(e,WK,"Salt"),typeof s!="function")throw new Error("No callback provided to pbkdf2");SDe(wDe(o).then(function(a){return a?mne(t,e,r,n,o):jK(t,e,r,n,i)}),s)};Y3.pbkdf2=_De;Y3.pbkdf2Sync=pne;var Yu={},T1={},Ca={};Ca.readUInt32BE=function(e,r){var n=e[0+r]<<24|e[1+r]<<16|e[2+r]<<8|e[3+r];return n>>>0};Ca.writeUInt32BE=function(e,r,n){e[0+n]=r>>>24,e[1+n]=r>>>16&255,e[2+n]=r>>>8&255,e[3+n]=r&255};Ca.ip=function(e,r,n,i){for(var s=0,o=0,a=6;a>=0;a-=2){for(var u=0;u<=24;u+=8)s<<=1,s|=r>>>u+a&1;for(var u=0;u<=24;u+=8)s<<=1,s|=e>>>u+a&1}for(var a=6;a>=0;a-=2){for(var u=1;u<=25;u+=8)o<<=1,o|=r>>>u+a&1;for(var u=1;u<=25;u+=8)o<<=1,o|=e>>>u+a&1}n[i+0]=s>>>0,n[i+1]=o>>>0};Ca.rip=function(e,r,n,i){for(var s=0,o=0,a=0;a<4;a++)for(var u=24;u>=0;u-=8)s<<=1,s|=r>>>u+a&1,s<<=1,s|=e>>>u+a&1;for(var a=4;a<8;a++)for(var u=24;u>=0;u-=8)o<<=1,o|=r>>>u+a&1,o<<=1,o|=e>>>u+a&1;n[i+0]=s>>>0,n[i+1]=o>>>0};Ca.pc1=function(e,r,n,i){for(var s=0,o=0,a=7;a>=5;a--){for(var u=0;u<=24;u+=8)s<<=1,s|=r>>u+a&1;for(var u=0;u<=24;u+=8)s<<=1,s|=e>>u+a&1}for(var u=0;u<=24;u+=8)s<<=1,s|=r>>u+a&1;for(var a=1;a<=3;a++){for(var u=0;u<=24;u+=8)o<<=1,o|=r>>u+a&1;for(var u=0;u<=24;u+=8)o<<=1,o|=e>>u+a&1}for(var u=0;u<=24;u+=8)o<<=1,o|=e>>u+a&1;n[i+0]=s>>>0,n[i+1]=o>>>0};Ca.r28shl=function(e,r){return e<<r&268435455|e>>>28-r};var jA=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];Ca.pc2=function(e,r,n,i){for(var s=0,o=0,a=jA.length>>>1,u=0;u<a;u++)s<<=1,s|=e>>>jA[u]&1;for(var u=a;u<jA.length;u++)o<<=1,o|=r>>>jA[u]&1;n[i+0]=s>>>0,n[i+1]=o>>>0};Ca.expand=function(e,r,n){var i=0,s=0;i=(e&1)<<5|e>>>27;for(var o=23;o>=15;o-=4)i<<=6,i|=e>>>o&63;for(var o=11;o>=3;o-=4)s|=e>>>o&63,s<<=6;s|=(e&31)<<1|e>>>31,r[n+0]=i>>>0,r[n+1]=s>>>0};var HK=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];Ca.substitute=function(e,r){for(var n=0,i=0;i<4;i++){var s=e>>>18-i*6&63,o=HK[i*64+s];n<<=4,n|=o}for(var i=0;i<4;i++){var s=r>>>18-i*6&63,o=HK[4*64+i*64+s];n<<=4,n|=o}return n>>>0};var qK=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];Ca.permute=function(e){for(var r=0,n=0;n<qK.length;n++)r<<=1,r|=e>>>qK[n]&1;return r>>>0};Ca.padSplit=function(e,r,n){for(var i=e.toString(2);i.length<r;)i="0"+i;for(var s=[],o=0;o<r;o+=n)s.push(i.slice(o,o+n));return s.join(" ")};var fu=yne;function yne(t,e){if(!t)throw new Error(e||"Assertion failed")}yne.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var ADe=fu;function du(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=t.padding!==!1}var $O=du;du.prototype._init=function(){};du.prototype.update=function(e){return e.length===0?[]:this.type==="decrypt"?this._updateDecrypt(e):this._updateEncrypt(e)};du.prototype._buffer=function(e,r){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-r),i=0;i<n;i++)this.buffer[this.bufferOff+i]=e[r+i];return this.bufferOff+=n,n};du.prototype._flushBuffer=function(e,r){return this._update(this.buffer,0,e,r),this.bufferOff=0,this.blockSize};du.prototype._updateEncrypt=function(e){var r=0,n=0,i=(this.bufferOff+e.length)/this.blockSize|0,s=new Array(i*this.blockSize);this.bufferOff!==0&&(r+=this._buffer(e,r),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(s,n)));for(var o=e.length-(e.length-r)%this.blockSize;r<o;r+=this.blockSize)this._update(e,r,s,n),n+=this.blockSize;for(;r<e.length;r++,this.bufferOff++)this.buffer[this.bufferOff]=e[r];return s};du.prototype._updateDecrypt=function(e){for(var r=0,n=0,i=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,s=new Array(i*this.blockSize);i>0;i--)r+=this._buffer(e,r),n+=this._flushBuffer(s,n);return r+=this._buffer(e,r),s};du.prototype.final=function(e){var r;e&&(r=this.update(e));var n;return this.type==="encrypt"?n=this._finalEncrypt():n=this._finalDecrypt(),r?r.concat(n):n};du.prototype._pad=function(e,r){if(r===0)return!1;for(;r<e.length;)e[r++]=0;return!0};du.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e};du.prototype._unpad=function(e){return e};du.prototype._finalDecrypt=function(){ADe.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)};var bne=fu,xDe=rr,Hi=Ca,vne=$O;function EDe(){this.tmp=new Array(2),this.keys=null}function hl(t){vne.call(this,t);var e=new EDe;this._desState=e,this.deriveKeys(e,t.key)}xDe(hl,vne);var wne=hl;hl.create=function(e){return new hl(e)};var kDe=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];hl.prototype.deriveKeys=function(e,r){e.keys=new Array(16*2),bne.equal(r.length,this.blockSize,"Invalid key length");var n=Hi.readUInt32BE(r,0),i=Hi.readUInt32BE(r,4);Hi.pc1(n,i,e.tmp,0),n=e.tmp[0],i=e.tmp[1];for(var s=0;s<e.keys.length;s+=2){var o=kDe[s>>>1];n=Hi.r28shl(n,o),i=Hi.r28shl(i,o),Hi.pc2(n,i,e.keys,s)}};hl.prototype._update=function(e,r,n,i){var s=this._desState,o=Hi.readUInt32BE(e,r),a=Hi.readUInt32BE(e,r+4);Hi.ip(o,a,s.tmp,0),o=s.tmp[0],a=s.tmp[1],this.type==="encrypt"?this._encrypt(s,o,a,s.tmp,0):this._decrypt(s,o,a,s.tmp,0),o=s.tmp[0],a=s.tmp[1],Hi.writeUInt32BE(n,o,i),Hi.writeUInt32BE(n,a,i+4)};hl.prototype._pad=function(e,r){if(this.padding===!1)return!1;for(var n=e.length-r,i=r;i<e.length;i++)e[i]=n;return!0};hl.prototype._unpad=function(e){if(this.padding===!1)return e;for(var r=e[e.length-1],n=e.length-r;n<e.length;n++)bne.equal(e[n],r);return e.slice(0,e.length-r)};hl.prototype._encrypt=function(e,r,n,i,s){for(var o=r,a=n,u=0;u<e.keys.length;u+=2){var f=e.keys[u],d=e.keys[u+1];Hi.expand(a,e.tmp,0),f^=e.tmp[0],d^=e.tmp[1];var g=Hi.substitute(f,d),y=Hi.permute(g),b=a;a=(o^y)>>>0,o=b}Hi.rip(a,o,i,s)};hl.prototype._decrypt=function(e,r,n,i,s){for(var o=n,a=r,u=e.keys.length-2;u>=0;u-=2){var f=e.keys[u],d=e.keys[u+1];Hi.expand(o,e.tmp,0),f^=e.tmp[0],d^=e.tmp[1];var g=Hi.substitute(f,d),y=Hi.permute(g),b=o;o=(a^y)>>>0,a=b}Hi.rip(o,a,i,s)};var Sne={},TDe=fu,IDe=rr,wE={};function RDe(t){TDe.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}function MDe(t){function e(s){t.call(this,s),this._cbcInit()}IDe(e,t);for(var r=Object.keys(wE),n=0;n<r.length;n++){var i=r[n];e.prototype[i]=wE[i]}return e.create=function(o){return new e(o)},e}Sne.instantiate=MDe;wE._cbcInit=function(){var e=new RDe(this.options.iv);this._cbcState=e};wE._update=function(e,r,n,i){var s=this._cbcState,o=this.constructor.super_.prototype,a=s.iv;if(this.type==="encrypt"){for(var u=0;u<this.blockSize;u++)a[u]^=e[r+u];o._update.call(this,a,0,n,i);for(var u=0;u<this.blockSize;u++)a[u]=n[i+u]}else{o._update.call(this,e,r,n,i);for(var u=0;u<this.blockSize;u++)n[i+u]^=a[u];for(var u=0;u<this.blockSize;u++)a[u]=e[r+u]}};var CDe=fu,PDe=rr,_ne=$O,Od=wne;function NDe(t,e){CDe.equal(e.length,24,"Invalid key length");var r=e.slice(0,8),n=e.slice(8,16),i=e.slice(16,24);t==="encrypt"?this.ciphers=[Od.create({type:"encrypt",key:r}),Od.create({type:"decrypt",key:n}),Od.create({type:"encrypt",key:i})]:this.ciphers=[Od.create({type:"decrypt",key:i}),Od.create({type:"encrypt",key:n}),Od.create({type:"decrypt",key:r})]}function N0(t){_ne.call(this,t);var e=new NDe(this.type,this.options.key);this._edeState=e}PDe(N0,_ne);var BDe=N0;N0.create=function(e){return new N0(e)};N0.prototype._update=function(e,r,n,i){var s=this._edeState;s.ciphers[0]._update(e,r,n,i),s.ciphers[1]._update(n,i,n,i),s.ciphers[2]._update(n,i,n,i)};N0.prototype._pad=Od.prototype._pad;N0.prototype._unpad=Od.prototype._unpad;T1.utils=Ca;T1.Cipher=$O;T1.DES=wne;T1.CBC=Sne;T1.EDE=BDe;var Ane=qh,Ul=T1,ODe=rr,bp=dr.Buffer,fS={"des-ede3-cbc":Ul.CBC.instantiate(Ul.EDE),"des-ede3":Ul.EDE,"des-ede-cbc":Ul.CBC.instantiate(Ul.EDE),"des-ede":Ul.EDE,"des-cbc":Ul.CBC.instantiate(Ul.DES),"des-ecb":Ul.DES};fS.des=fS["des-cbc"];fS.des3=fS["des-ede3-cbc"];var LDe=Z3;ODe(Z3,Ane);function Z3(t){Ane.call(this);var e=t.mode.toLowerCase(),r=fS[e],n;t.decrypt?n="decrypt":n="encrypt";var i=t.key;bp.isBuffer(i)||(i=bp.from(i)),(e==="des-ede"||e==="des-ede-cbc")&&(i=bp.concat([i,i.slice(0,8)]));var s=t.iv;bp.isBuffer(s)||(s=bp.from(s)),this._des=r.create({key:i,iv:s,type:n})}Z3.prototype._update=function(t){return bp.from(this._des.update(t))};Z3.prototype._final=function(){return bp.from(this._des.final())};var _a={},UO={},zO={};zO.encrypt=function(t,e){return t._cipher.encryptBlock(e)};zO.decrypt=function(t,e){return t._cipher.decryptBlock(e)};var WO={},x_=function(e,r){for(var n=Math.min(e.length,r.length),i=new we.Buffer(n),s=0;s<n;++s)i[s]=e[s]^r[s];return i},xne=x_;WO.encrypt=function(t,e){var r=xne(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev};WO.decrypt=function(t,e){var r=t._prev;t._prev=e;var n=t._cipher.decryptBlock(e);return xne(n,r)};var Ene={},Hv=dr.Buffer,DDe=x_;function VK(t,e,r){var n=e.length,i=DDe(e,t._cache);return t._cache=t._cache.slice(n),t._prev=Hv.concat([t._prev,r?e:i]),i}Ene.encrypt=function(t,e,r){for(var n=Hv.allocUnsafe(0),i;e.length;)if(t._cache.length===0&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=Hv.allocUnsafe(0)),t._cache.length<=e.length)i=t._cache.length,n=Hv.concat([n,VK(t,e.slice(0,i),r)]),e=e.slice(i);else{n=Hv.concat([n,VK(t,e,r)]);break}return n};var kne={},UP=dr.Buffer;function FDe(t,e,r){var n=t._cipher.encryptBlock(t._prev),i=n[0]^e;return t._prev=UP.concat([t._prev.slice(1),UP.from([r?e:i])]),i}kne.encrypt=function(t,e,r){for(var n=e.length,i=UP.allocUnsafe(n),s=-1;++s<n;)i[s]=FDe(t,e[s],r);return i};var Tne={},X2=dr.Buffer;function $De(t,e,r){for(var n,i=-1,s=8,o=0,a,u;++i<s;)n=t._cipher.encryptBlock(t._prev),a=e&1<<7-i?128:0,u=n[0]^a,o+=(u&128)>>i%8,t._prev=UDe(t._prev,r?a:u);return o}function UDe(t,e){var r=t.length,n=-1,i=X2.allocUnsafe(t.length);for(t=X2.concat([t,X2.from([e])]);++n<r;)i[n]=t[n]<<1|t[n+1]>>7;return i}Tne.encrypt=function(t,e,r){for(var n=e.length,i=X2.allocUnsafe(n),s=-1;++s<n;)i[s]=$De(t,e[s],r);return i};var Ine={},zDe=x_;function WDe(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}Ine.encrypt=function(t,e){for(;t._cache.length<e.length;)t._cache=we.Buffer.concat([t._cache,WDe(t)]);var r=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),zDe(e,r)};var zP={};function jDe(t){for(var e=t.length,r;e--;)if(r=t.readUInt8(e),r===255)t.writeUInt8(0,e);else{r++,t.writeUInt8(r,e);break}}var Rne=jDe,KDe=x_,GK=dr.Buffer,HDe=Rne;function qDe(t){var e=t._cipher.encryptBlockRaw(t._prev);return HDe(t._prev),e}var MR=16;zP.encrypt=function(t,e){var r=Math.ceil(e.length/MR),n=t._cache.length;t._cache=GK.concat([t._cache,GK.allocUnsafe(r*MR)]);for(var i=0;i<r;i++){var s=qDe(t),o=n+i*MR;t._cache.writeUInt32BE(s[0],o+0),t._cache.writeUInt32BE(s[1],o+4),t._cache.writeUInt32BE(s[2],o+8),t._cache.writeUInt32BE(s[3],o+12)}var a=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),KDe(e,a)};const VDe={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},GDe={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},YDe={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},Mne={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:VDe,aes192:GDe,aes256:YDe,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var ZDe={ECB:zO,CBC:WO,CFB:Ene,CFB8:kne,CFB1:Tne,OFB:Ine,CTR:zP,GCM:zP},J2=Mne;for(var YK in J2)J2[YK].module=ZDe[J2[YK].mode];var jO=J2,E_={},SE=dr.Buffer;function KO(t){SE.isBuffer(t)||(t=SE.from(t));for(var e=t.length/4|0,r=new Array(e),n=0;n<e;n++)r[n]=t.readUInt32BE(n*4);return r}function CR(t){for(var e=0;e<t.length;t++)t[e]=0}function Cne(t,e,r,n,i){for(var s=r[0],o=r[1],a=r[2],u=r[3],f=t[0]^e[0],d=t[1]^e[1],g=t[2]^e[2],y=t[3]^e[3],b,A,x,k,I=4,R=1;R<i;R++)b=s[f>>>24]^o[d>>>16&255]^a[g>>>8&255]^u[y&255]^e[I++],A=s[d>>>24]^o[g>>>16&255]^a[y>>>8&255]^u[f&255]^e[I++],x=s[g>>>24]^o[y>>>16&255]^a[f>>>8&255]^u[d&255]^e[I++],k=s[y>>>24]^o[f>>>16&255]^a[d>>>8&255]^u[g&255]^e[I++],f=b,d=A,g=x,y=k;return b=(n[f>>>24]<<24|n[d>>>16&255]<<16|n[g>>>8&255]<<8|n[y&255])^e[I++],A=(n[d>>>24]<<24|n[g>>>16&255]<<16|n[y>>>8&255]<<8|n[f&255])^e[I++],x=(n[g>>>24]<<24|n[y>>>16&255]<<16|n[f>>>8&255]<<8|n[d&255])^e[I++],k=(n[y>>>24]<<24|n[f>>>16&255]<<16|n[d>>>8&255]<<8|n[g&255])^e[I++],b=b>>>0,A=A>>>0,x=x>>>0,k=k>>>0,[b,A,x,k]}var XDe=[0,1,2,4,8,16,32,64,128,27,54],Ni=function(){for(var t=new Array(256),e=0;e<256;e++)e<128?t[e]=e<<1:t[e]=e<<1^283;for(var r=[],n=[],i=[[],[],[],[]],s=[[],[],[],[]],o=0,a=0,u=0;u<256;++u){var f=a^a<<1^a<<2^a<<3^a<<4;f=f>>>8^f&255^99,r[o]=f,n[f]=o;var d=t[o],g=t[d],y=t[g],b=t[f]*257^f*16843008;i[0][o]=b<<24|b>>>8,i[1][o]=b<<16|b>>>16,i[2][o]=b<<8|b>>>24,i[3][o]=b,b=y*16843009^g*65537^d*257^o*16843008,s[0][f]=b<<24|b>>>8,s[1][f]=b<<16|b>>>16,s[2][f]=b<<8|b>>>24,s[3][f]=b,o===0?o=a=1:(o=d^t[t[t[y^d]]],a^=t[t[a]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:s}}();function ou(t){this._key=KO(t),this._reset()}ou.blockSize=4*4;ou.keySize=256/8;ou.prototype.blockSize=ou.blockSize;ou.prototype.keySize=ou.keySize;ou.prototype._reset=function(){for(var t=this._key,e=t.length,r=e+6,n=(r+1)*4,i=[],s=0;s<e;s++)i[s]=t[s];for(s=e;s<n;s++){var o=i[s-1];s%e===0?(o=o<<8|o>>>24,o=Ni.SBOX[o>>>24]<<24|Ni.SBOX[o>>>16&255]<<16|Ni.SBOX[o>>>8&255]<<8|Ni.SBOX[o&255],o^=XDe[s/e|0]<<24):e>6&&s%e===4&&(o=Ni.SBOX[o>>>24]<<24|Ni.SBOX[o>>>16&255]<<16|Ni.SBOX[o>>>8&255]<<8|Ni.SBOX[o&255]),i[s]=i[s-e]^o}for(var a=[],u=0;u<n;u++){var f=n-u,d=i[f-(u%4?0:4)];u<4||f<=4?a[u]=d:a[u]=Ni.INV_SUB_MIX[0][Ni.SBOX[d>>>24]]^Ni.INV_SUB_MIX[1][Ni.SBOX[d>>>16&255]]^Ni.INV_SUB_MIX[2][Ni.SBOX[d>>>8&255]]^Ni.INV_SUB_MIX[3][Ni.SBOX[d&255]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=a};ou.prototype.encryptBlockRaw=function(t){return t=KO(t),Cne(t,this._keySchedule,Ni.SUB_MIX,Ni.SBOX,this._nRounds)};ou.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),r=SE.allocUnsafe(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(e[2],8),r.writeUInt32BE(e[3],12),r};ou.prototype.decryptBlock=function(t){t=KO(t);var e=t[1];t[1]=t[3],t[3]=e;var r=Cne(t,this._invKeySchedule,Ni.INV_SUB_MIX,Ni.INV_SBOX,this._nRounds),n=SE.allocUnsafe(16);return n.writeUInt32BE(r[0],0),n.writeUInt32BE(r[3],4),n.writeUInt32BE(r[2],8),n.writeUInt32BE(r[1],12),n};ou.prototype.scrub=function(){CR(this._keySchedule),CR(this._invKeySchedule),CR(this._key)};E_.AES=ou;var Db=dr.Buffer,JDe=Db.alloc(16,0);function QDe(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}function Pne(t){var e=Db.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function k_(t){this.h=t,this.state=Db.alloc(16,0),this.cache=Db.allocUnsafe(0)}k_.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()};k_.prototype._multiply=function(){for(var t=QDe(this.h),e=[0,0,0,0],r,n,i,s=-1;++s<128;){for(n=(this.state[~~(s/8)]&1<<7-s%8)!==0,n&&(e[0]^=t[0],e[1]^=t[1],e[2]^=t[2],e[3]^=t[3]),i=(t[3]&1)!==0,r=3;r>0;r--)t[r]=t[r]>>>1|(t[r-1]&1)<<31;t[0]=t[0]>>>1,i&&(t[0]=t[0]^225<<24)}this.state=Pne(e)};k_.prototype.update=function(t){this.cache=Db.concat([this.cache,t]);for(var e;this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)};k_.prototype.final=function(t,e){return this.cache.length&&this.ghash(Db.concat([this.cache,JDe],16)),this.ghash(Pne([0,t,0,e])),this.state};var eFe=k_,tFe=E_,Bo=dr.Buffer,Nne=qh,rFe=rr,Bne=eFe,nFe=x_,iFe=Rne;function sFe(t,e){var r=0;t.length!==e.length&&r++;for(var n=Math.min(t.length,e.length),i=0;i<n;++i)r+=t[i]^e[i];return r}function oFe(t,e,r){if(e.length===12)return t._finID=Bo.concat([e,Bo.from([0,0,0,1])]),Bo.concat([e,Bo.from([0,0,0,2])]);var n=new Bne(r),i=e.length,s=i%16;n.update(e),s&&(s=16-s,n.update(Bo.alloc(s,0))),n.update(Bo.alloc(8,0));var o=i*8,a=Bo.alloc(8);a.writeUIntBE(o,0,8),n.update(a),t._finID=n.state;var u=Bo.from(t._finID);return iFe(u),u}function dg(t,e,r,n){Nne.call(this);var i=Bo.alloc(4,0);this._cipher=new tFe.AES(e);var s=this._cipher.encryptBlock(i);this._ghash=new Bne(s),r=oFe(this,r,s),this._prev=Bo.from(r),this._cache=Bo.allocUnsafe(0),this._secCache=Bo.allocUnsafe(0),this._decrypt=n,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}rFe(dg,Nne);dg.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=Bo.alloc(e,0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r};dg.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=nFe(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&sFe(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()};dg.prototype.getAuthTag=function(){if(this._decrypt||!Bo.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag};dg.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e};dg.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length};var One=dg,aFe=E_,PR=dr.Buffer,Lne=qh,uFe=rr;function X3(t,e,r,n){Lne.call(this),this._cipher=new aFe.AES(e),this._prev=PR.from(r),this._cache=PR.allocUnsafe(0),this._secCache=PR.allocUnsafe(0),this._decrypt=n,this._mode=t}uFe(X3,Lne);X3.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)};X3.prototype._final=function(){this._cipher.scrub()};var Dne=X3,tp=dr.Buffer,cFe=LO;function lFe(t,e,r,n){if(tp.isBuffer(t)||(t=tp.from(t,"binary")),e&&(tp.isBuffer(e)||(e=tp.from(e,"binary")),e.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var i=r/8,s=tp.alloc(i),o=tp.alloc(n||0),a=tp.alloc(0);i>0||n>0;){var u=new cFe;u.update(a),u.update(t),e&&u.update(e),a=u.digest();var f=0;if(i>0){var d=s.length-i;f=Math.min(i,a.length),a.copy(s,d,0,f),i-=f}if(f<a.length&&n>0){var g=o.length-n,y=Math.min(n,a.length-f);a.copy(o,g,f,f+y),n-=y}}return a.fill(0),{key:s,iv:o}}var J3=lFe,Fne=jO,fFe=One,Jf=dr.Buffer,dFe=Dne,$ne=qh,hFe=E_,pFe=J3,gFe=rr;function T_(t,e,r){$ne.call(this),this._cache=new Q3,this._cipher=new hFe.AES(e),this._prev=Jf.from(r),this._mode=t,this._autopadding=!0}gFe(T_,$ne);T_.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get();)r=this._mode.encrypt(this,e),n.push(r);return Jf.concat(n)};var mFe=Jf.alloc(16,16);T_.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(mFe))throw this._cipher.scrub(),new Error("data not multiple of block length")};T_.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function Q3(){this.cache=Jf.allocUnsafe(0)}Q3.prototype.add=function(t){this.cache=Jf.concat([this.cache,t])};Q3.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null};Q3.prototype.flush=function(){for(var t=16-this.cache.length,e=Jf.allocUnsafe(t),r=-1;++r<t;)e.writeUInt8(t,r);return Jf.concat([this.cache,e])};function Une(t,e,r){var n=Fne[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof e=="string"&&(e=Jf.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);if(typeof r=="string"&&(r=Jf.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);return n.type==="stream"?new dFe(n.module,e,r):n.type==="auth"?new fFe(n.module,e,r):new T_(n.module,e,r)}function yFe(t,e){var r=Fne[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=pFe(e,!1,r.key,r.iv);return Une(t,n.key,n.iv)}UO.createCipheriv=Une;UO.createCipher=yFe;var HO={},bFe=One,Fb=dr.Buffer,zne=jO,vFe=Dne,Wne=qh,wFe=E_,SFe=J3,_Fe=rr;function I_(t,e,r){Wne.call(this),this._cache=new eT,this._last=void 0,this._cipher=new wFe.AES(e),this._prev=Fb.from(r),this._mode=t,this._autopadding=!0}_Fe(I_,Wne);I_.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,e),n.push(r);return Fb.concat(n)};I_.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return AFe(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")};I_.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function eT(){this.cache=Fb.allocUnsafe(0)}eT.prototype.add=function(t){this.cache=Fb.concat([this.cache,t])};eT.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null};eT.prototype.flush=function(){if(this.cache.length)return this.cache};function AFe(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");for(var r=-1;++r<e;)if(t[r+(16-e)]!==e)throw new Error("unable to decrypt data");if(e!==16)return t.slice(0,16-e)}function jne(t,e,r){var n=zne[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof r=="string"&&(r=Fb.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);if(typeof e=="string"&&(e=Fb.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);return n.type==="stream"?new vFe(n.module,e,r,!0):n.type==="auth"?new bFe(n.module,e,r,!0):new I_(n.module,e,r)}function xFe(t,e){var r=zne[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=SFe(e,!1,r.key,r.iv);return jne(t,n.key,n.iv)}HO.createDecipher=xFe;HO.createDecipheriv=jne;var Kne=UO,Hne=HO,EFe=Mne;function kFe(){return Object.keys(EFe)}_a.createCipher=_a.Cipher=Kne.createCipher;_a.createCipheriv=_a.Cipheriv=Kne.createCipheriv;_a.createDecipher=_a.Decipher=Hne.createDecipher;_a.createDecipheriv=_a.Decipheriv=Hne.createDecipheriv;_a.listCiphers=_a.getCiphers=kFe;var qne={};(function(t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}})(qne);var Vne=LDe,qO=_a,yh=jO,zf=qne,Gne=J3;function TFe(t,e){t=t.toLowerCase();var r,n;if(yh[t])r=yh[t].key,n=yh[t].iv;else if(zf[t])r=zf[t].key*8,n=zf[t].iv;else throw new TypeError("invalid suite type");var i=Gne(e,!1,r,n);return Yne(t,i.key,i.iv)}function IFe(t,e){t=t.toLowerCase();var r,n;if(yh[t])r=yh[t].key,n=yh[t].iv;else if(zf[t])r=zf[t].key*8,n=zf[t].iv;else throw new TypeError("invalid suite type");var i=Gne(e,!1,r,n);return Zne(t,i.key,i.iv)}function Yne(t,e,r){if(t=t.toLowerCase(),yh[t])return qO.createCipheriv(t,e,r);if(zf[t])return new Vne({key:e,iv:r,mode:t});throw new TypeError("invalid suite type")}function Zne(t,e,r){if(t=t.toLowerCase(),yh[t])return qO.createDecipheriv(t,e,r);if(zf[t])return new Vne({key:e,iv:r,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}function RFe(){return Object.keys(zf).concat(qO.getCiphers())}Yu.createCipher=Yu.Cipher=TFe;Yu.createCipheriv=Yu.Cipheriv=Yne;Yu.createDecipher=Yu.Decipher=IFe;Yu.createDecipheriv=Yu.Decipheriv=Zne;Yu.listCiphers=Yu.getCiphers=RFe;var rp={},VO={exports:{}};VO.exports;(function(t){(function(e,r){function n(T,c){if(!T)throw new Error(c||"Assertion failed")}function i(T,c){T.super_=c;var h=function(){};h.prototype=c.prototype,T.prototype=new h,T.prototype.constructor=T}function s(T,c,h){if(s.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,T!==null&&((c==="le"||c==="be")&&(h=c,c=10),this._init(T||0,c||10,h||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=xe.Buffer}catch{}s.isBN=function(c){return c instanceof s?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===s.wordSize&&Array.isArray(c.words)},s.max=function(c,h){return c.cmp(h)>0?c:h},s.min=function(c,h){return c.cmp(h)<0?c:h},s.prototype._init=function(c,h,p){if(typeof c=="number")return this._initNumber(c,h,p);if(typeof c=="object")return this._initArray(c,h,p);h==="hex"&&(h=16),n(h===(h|0)&&h>=2&&h<=36),c=c.toString().replace(/\s+/g,"");var m=0;c[0]==="-"&&(m++,this.negative=1),m<c.length&&(h===16?this._parseHex(c,m,p):(this._parseBase(c,h,m),p==="le"&&this._initArray(this.toArray(),h,p)))},s.prototype._initNumber=function(c,h,p){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(n(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),h,p)},s.prototype._initArray=function(c,h,p){if(n(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var v,_,E=0;if(p==="be")for(m=c.length-1,v=0;m>=0;m-=3)_=c[m]|c[m-1]<<8|c[m-2]<<16,this.words[v]|=_<<E&67108863,this.words[v+1]=_>>>26-E&67108863,E+=24,E>=26&&(E-=26,v++);else if(p==="le")for(m=0,v=0;m<c.length;m+=3)_=c[m]|c[m+1]<<8|c[m+2]<<16,this.words[v]|=_<<E&67108863,this.words[v+1]=_>>>26-E&67108863,E+=24,E>=26&&(E-=26,v++);return this.strip()};function a(T,c){var h=T.charCodeAt(c);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function u(T,c,h){var p=a(T,h);return h-1>=c&&(p|=a(T,h-1)<<4),p}s.prototype._parseHex=function(c,h,p){this.length=Math.ceil((c.length-h)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var v=0,_=0,E;if(p==="be")for(m=c.length-1;m>=h;m-=2)E=u(c,h,m)<<v,this.words[_]|=E&67108863,v>=18?(v-=18,_+=1,this.words[_]|=E>>>26):v+=8;else{var w=c.length-h;for(m=w%2===0?h+1:h;m<c.length;m+=2)E=u(c,h,m)<<v,this.words[_]|=E&67108863,v>=18?(v-=18,_+=1,this.words[_]|=E>>>26):v+=8}this.strip()};function f(T,c,h,p){for(var m=0,v=Math.min(T.length,h),_=c;_<v;_++){var E=T.charCodeAt(_)-48;m*=p,E>=49?m+=E-49+10:E>=17?m+=E-17+10:m+=E}return m}s.prototype._parseBase=function(c,h,p){this.words=[0],this.length=1;for(var m=0,v=1;v<=67108863;v*=h)m++;m--,v=v/h|0;for(var _=c.length-p,E=_%m,w=Math.min(_,_-E)+p,l=0,S=p;S<w;S+=m)l=f(c,S,S+m,h),this.imuln(v),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(E!==0){var C=1;for(l=f(c,S,c.length,h),S=0;S<E;S++)C*=h;this.imuln(C),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},s.prototype.copy=function(c){c.words=new Array(this.length);for(var h=0;h<this.length;h++)c.words[h]=this.words[h];c.length=this.length,c.negative=this.negative,c.red=this.red},s.prototype.clone=function(){var c=new s(null);return this.copy(c),c},s.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(c,h){c=c||10,h=h|0||1;var p;if(c===16||c==="hex"){p="";for(var m=0,v=0,_=0;_<this.length;_++){var E=this.words[_],w=((E<<m|v)&16777215).toString(16);v=E>>>24-m&16777215,m+=2,m>=26&&(m-=26,_--),v!==0||_!==this.length-1?p=d[6-w.length]+w+p:p=w+p}for(v!==0&&(p=v.toString(16)+p);p.length%h!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(c===(c|0)&&c>=2&&c<=36){var l=g[c],S=y[c];p="";var C=this.clone();for(C.negative=0;!C.isZero();){var D=C.modn(S).toString(c);C=C.idivn(S),C.isZero()?p=D+p:p=d[l-D.length]+D+p}for(this.isZero()&&(p="0"+p);p.length%h!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(c,h){return n(typeof o<"u"),this.toArrayLike(o,c,h)},s.prototype.toArray=function(c,h){return this.toArrayLike(Array,c,h)},s.prototype.toArrayLike=function(c,h,p){var m=this.byteLength(),v=p||Math.max(1,m);n(m<=v,"byte array longer than desired length"),n(v>0,"Requested array length <= 0"),this.strip();var _=h==="le",E=new c(v),w,l,S=this.clone();if(_){for(l=0;!S.isZero();l++)w=S.andln(255),S.iushrn(8),E[l]=w;for(;l<v;l++)E[l]=0}else{for(l=0;l<v-m;l++)E[l]=0;for(l=0;!S.isZero();l++)w=S.andln(255),S.iushrn(8),E[v-l-1]=w}return E},Math.clz32?s.prototype._countBits=function(c){return 32-Math.clz32(c)}:s.prototype._countBits=function(c){var h=c,p=0;return h>=4096&&(p+=13,h>>>=13),h>=64&&(p+=7,h>>>=7),h>=8&&(p+=4,h>>>=4),h>=2&&(p+=2,h>>>=2),p+h},s.prototype._zeroBits=function(c){if(c===0)return 26;var h=c,p=0;return h&8191||(p+=13,h>>>=13),h&127||(p+=7,h>>>=7),h&15||(p+=4,h>>>=4),h&3||(p+=2,h>>>=2),h&1||p++,p},s.prototype.bitLength=function(){var c=this.words[this.length-1],h=this._countBits(c);return(this.length-1)*26+h};function b(T){for(var c=new Array(T.bitLength()),h=0;h<c.length;h++){var p=h/26|0,m=h%26;c[h]=(T.words[p]&1<<m)>>>m}return c}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,h=0;h<this.length;h++){var p=this._zeroBits(this.words[h]);if(c+=p,p!==26)break}return c},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},s.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var h=0;h<c.length;h++)this.words[h]=this.words[h]|c.words[h];return this.strip()},s.prototype.ior=function(c){return n((this.negative|c.negative)===0),this.iuor(c)},s.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},s.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},s.prototype.iuand=function(c){var h;this.length>c.length?h=c:h=this;for(var p=0;p<h.length;p++)this.words[p]=this.words[p]&c.words[p];return this.length=h.length,this.strip()},s.prototype.iand=function(c){return n((this.negative|c.negative)===0),this.iuand(c)},s.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},s.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},s.prototype.iuxor=function(c){var h,p;this.length>c.length?(h=this,p=c):(h=c,p=this);for(var m=0;m<p.length;m++)this.words[m]=h.words[m]^p.words[m];if(this!==h)for(;m<h.length;m++)this.words[m]=h.words[m];return this.length=h.length,this.strip()},s.prototype.ixor=function(c){return n((this.negative|c.negative)===0),this.iuxor(c)},s.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},s.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},s.prototype.inotn=function(c){n(typeof c=="number"&&c>=0);var h=Math.ceil(c/26)|0,p=c%26;this._expand(h),p>0&&h--;for(var m=0;m<h;m++)this.words[m]=~this.words[m]&67108863;return p>0&&(this.words[m]=~this.words[m]&67108863>>26-p),this.strip()},s.prototype.notn=function(c){return this.clone().inotn(c)},s.prototype.setn=function(c,h){n(typeof c=="number"&&c>=0);var p=c/26|0,m=c%26;return this._expand(p+1),h?this.words[p]=this.words[p]|1<<m:this.words[p]=this.words[p]&~(1<<m),this.strip()},s.prototype.iadd=function(c){var h;if(this.negative!==0&&c.negative===0)return this.negative=0,h=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,h=this.isub(c),c.negative=1,h._normSign();var p,m;this.length>c.length?(p=this,m=c):(p=c,m=this);for(var v=0,_=0;_<m.length;_++)h=(p.words[_]|0)+(m.words[_]|0)+v,this.words[_]=h&67108863,v=h>>>26;for(;v!==0&&_<p.length;_++)h=(p.words[_]|0)+v,this.words[_]=h&67108863,v=h>>>26;if(this.length=p.length,v!==0)this.words[this.length]=v,this.length++;else if(p!==this)for(;_<p.length;_++)this.words[_]=p.words[_];return this},s.prototype.add=function(c){var h;return c.negative!==0&&this.negative===0?(c.negative=0,h=this.sub(c),c.negative^=1,h):c.negative===0&&this.negative!==0?(this.negative=0,h=c.sub(this),this.negative=1,h):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},s.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var h=this.iadd(c);return c.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var p=this.cmp(c);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,v;p>0?(m=this,v=c):(m=c,v=this);for(var _=0,E=0;E<v.length;E++)h=(m.words[E]|0)-(v.words[E]|0)+_,_=h>>26,this.words[E]=h&67108863;for(;_!==0&&E<m.length;E++)h=(m.words[E]|0)+_,_=h>>26,this.words[E]=h&67108863;if(_===0&&E<m.length&&m!==this)for(;E<m.length;E++)this.words[E]=m.words[E];return this.length=Math.max(this.length,E),m!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(c){return this.clone().isub(c)};function A(T,c,h){h.negative=c.negative^T.negative;var p=T.length+c.length|0;h.length=p,p=p-1|0;var m=T.words[0]|0,v=c.words[0]|0,_=m*v,E=_&67108863,w=_/67108864|0;h.words[0]=E;for(var l=1;l<p;l++){for(var S=w>>>26,C=w&67108863,D=Math.min(l,c.length-1),U=Math.max(0,l-T.length+1);U<=D;U++){var O=l-U|0;m=T.words[O]|0,v=c.words[U]|0,_=m*v+C,S+=_/67108864|0,C=_&67108863}h.words[l]=C|0,w=S|0}return w!==0?h.words[l]=w|0:h.length--,h.strip()}var x=function(c,h,p){var m=c.words,v=h.words,_=p.words,E=0,w,l,S,C=m[0]|0,D=C&8191,U=C>>>13,O=m[1]|0,$=O&8191,F=O>>>13,H=m[2]|0,Q=H&8191,te=H>>>13,X=m[3]|0,K=X&8191,oe=X>>>13,_e=m[4]|0,Se=_e&8191,W=_e>>>13,re=m[5]|0,ne=re&8191,se=re>>>13,Te=m[6]|0,be=Te&8191,Ee=Te>>>13,ut=m[7]|0,le=ut&8191,de=ut>>>13,Fe=m[8]|0,ee=Fe&8191,z=Fe>>>13,J=m[9]|0,ie=J&8191,fe=J>>>13,ke=v[0]|0,ve=ke&8191,Ne=ke>>>13,kt=v[1]|0,Be=kt&8191,Le=kt>>>13,yt=v[2]|0,$e=yt&8191,Ze=yt>>>13,nr=v[3]|0,Ue=nr&8191,Xe=nr>>>13,ir=v[4]|0,ze=ir&8191,Je=ir>>>13,sr=v[5]|0,We=sr&8191,Qe=sr>>>13,or=v[6]|0,je=or&8191,et=or>>>13,ar=v[7]|0,Ke=ar&8191,tt=ar>>>13,ur=v[8]|0,He=ur&8191,rt=ur>>>13,cr=v[9]|0,qe=cr&8191,nt=cr>>>13;p.negative=c.negative^h.negative,p.length=19,w=Math.imul(D,ve),l=Math.imul(D,Ne),l=l+Math.imul(U,ve)|0,S=Math.imul(U,Ne);var Jt=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,w=Math.imul($,ve),l=Math.imul($,Ne),l=l+Math.imul(F,ve)|0,S=Math.imul(F,Ne),w=w+Math.imul(D,Be)|0,l=l+Math.imul(D,Le)|0,l=l+Math.imul(U,Be)|0,S=S+Math.imul(U,Le)|0;var Qt=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,w=Math.imul(Q,ve),l=Math.imul(Q,Ne),l=l+Math.imul(te,ve)|0,S=Math.imul(te,Ne),w=w+Math.imul($,Be)|0,l=l+Math.imul($,Le)|0,l=l+Math.imul(F,Be)|0,S=S+Math.imul(F,Le)|0,w=w+Math.imul(D,$e)|0,l=l+Math.imul(D,Ze)|0,l=l+Math.imul(U,$e)|0,S=S+Math.imul(U,Ze)|0;var jr=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(jr>>>26)|0,jr&=67108863,w=Math.imul(K,ve),l=Math.imul(K,Ne),l=l+Math.imul(oe,ve)|0,S=Math.imul(oe,Ne),w=w+Math.imul(Q,Be)|0,l=l+Math.imul(Q,Le)|0,l=l+Math.imul(te,Be)|0,S=S+Math.imul(te,Le)|0,w=w+Math.imul($,$e)|0,l=l+Math.imul($,Ze)|0,l=l+Math.imul(F,$e)|0,S=S+Math.imul(F,Ze)|0,w=w+Math.imul(D,Ue)|0,l=l+Math.imul(D,Xe)|0,l=l+Math.imul(U,Ue)|0,S=S+Math.imul(U,Xe)|0;var Kr=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,w=Math.imul(Se,ve),l=Math.imul(Se,Ne),l=l+Math.imul(W,ve)|0,S=Math.imul(W,Ne),w=w+Math.imul(K,Be)|0,l=l+Math.imul(K,Le)|0,l=l+Math.imul(oe,Be)|0,S=S+Math.imul(oe,Le)|0,w=w+Math.imul(Q,$e)|0,l=l+Math.imul(Q,Ze)|0,l=l+Math.imul(te,$e)|0,S=S+Math.imul(te,Ze)|0,w=w+Math.imul($,Ue)|0,l=l+Math.imul($,Xe)|0,l=l+Math.imul(F,Ue)|0,S=S+Math.imul(F,Xe)|0,w=w+Math.imul(D,ze)|0,l=l+Math.imul(D,Je)|0,l=l+Math.imul(U,ze)|0,S=S+Math.imul(U,Je)|0;var Hr=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,w=Math.imul(ne,ve),l=Math.imul(ne,Ne),l=l+Math.imul(se,ve)|0,S=Math.imul(se,Ne),w=w+Math.imul(Se,Be)|0,l=l+Math.imul(Se,Le)|0,l=l+Math.imul(W,Be)|0,S=S+Math.imul(W,Le)|0,w=w+Math.imul(K,$e)|0,l=l+Math.imul(K,Ze)|0,l=l+Math.imul(oe,$e)|0,S=S+Math.imul(oe,Ze)|0,w=w+Math.imul(Q,Ue)|0,l=l+Math.imul(Q,Xe)|0,l=l+Math.imul(te,Ue)|0,S=S+Math.imul(te,Xe)|0,w=w+Math.imul($,ze)|0,l=l+Math.imul($,Je)|0,l=l+Math.imul(F,ze)|0,S=S+Math.imul(F,Je)|0,w=w+Math.imul(D,We)|0,l=l+Math.imul(D,Qe)|0,l=l+Math.imul(U,We)|0,S=S+Math.imul(U,Qe)|0;var qr=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(qr>>>26)|0,qr&=67108863,w=Math.imul(be,ve),l=Math.imul(be,Ne),l=l+Math.imul(Ee,ve)|0,S=Math.imul(Ee,Ne),w=w+Math.imul(ne,Be)|0,l=l+Math.imul(ne,Le)|0,l=l+Math.imul(se,Be)|0,S=S+Math.imul(se,Le)|0,w=w+Math.imul(Se,$e)|0,l=l+Math.imul(Se,Ze)|0,l=l+Math.imul(W,$e)|0,S=S+Math.imul(W,Ze)|0,w=w+Math.imul(K,Ue)|0,l=l+Math.imul(K,Xe)|0,l=l+Math.imul(oe,Ue)|0,S=S+Math.imul(oe,Xe)|0,w=w+Math.imul(Q,ze)|0,l=l+Math.imul(Q,Je)|0,l=l+Math.imul(te,ze)|0,S=S+Math.imul(te,Je)|0,w=w+Math.imul($,We)|0,l=l+Math.imul($,Qe)|0,l=l+Math.imul(F,We)|0,S=S+Math.imul(F,Qe)|0,w=w+Math.imul(D,je)|0,l=l+Math.imul(D,et)|0,l=l+Math.imul(U,je)|0,S=S+Math.imul(U,et)|0;var Vr=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,w=Math.imul(le,ve),l=Math.imul(le,Ne),l=l+Math.imul(de,ve)|0,S=Math.imul(de,Ne),w=w+Math.imul(be,Be)|0,l=l+Math.imul(be,Le)|0,l=l+Math.imul(Ee,Be)|0,S=S+Math.imul(Ee,Le)|0,w=w+Math.imul(ne,$e)|0,l=l+Math.imul(ne,Ze)|0,l=l+Math.imul(se,$e)|0,S=S+Math.imul(se,Ze)|0,w=w+Math.imul(Se,Ue)|0,l=l+Math.imul(Se,Xe)|0,l=l+Math.imul(W,Ue)|0,S=S+Math.imul(W,Xe)|0,w=w+Math.imul(K,ze)|0,l=l+Math.imul(K,Je)|0,l=l+Math.imul(oe,ze)|0,S=S+Math.imul(oe,Je)|0,w=w+Math.imul(Q,We)|0,l=l+Math.imul(Q,Qe)|0,l=l+Math.imul(te,We)|0,S=S+Math.imul(te,Qe)|0,w=w+Math.imul($,je)|0,l=l+Math.imul($,et)|0,l=l+Math.imul(F,je)|0,S=S+Math.imul(F,et)|0,w=w+Math.imul(D,Ke)|0,l=l+Math.imul(D,tt)|0,l=l+Math.imul(U,Ke)|0,S=S+Math.imul(U,tt)|0;var yn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(yn>>>26)|0,yn&=67108863,w=Math.imul(ee,ve),l=Math.imul(ee,Ne),l=l+Math.imul(z,ve)|0,S=Math.imul(z,Ne),w=w+Math.imul(le,Be)|0,l=l+Math.imul(le,Le)|0,l=l+Math.imul(de,Be)|0,S=S+Math.imul(de,Le)|0,w=w+Math.imul(be,$e)|0,l=l+Math.imul(be,Ze)|0,l=l+Math.imul(Ee,$e)|0,S=S+Math.imul(Ee,Ze)|0,w=w+Math.imul(ne,Ue)|0,l=l+Math.imul(ne,Xe)|0,l=l+Math.imul(se,Ue)|0,S=S+Math.imul(se,Xe)|0,w=w+Math.imul(Se,ze)|0,l=l+Math.imul(Se,Je)|0,l=l+Math.imul(W,ze)|0,S=S+Math.imul(W,Je)|0,w=w+Math.imul(K,We)|0,l=l+Math.imul(K,Qe)|0,l=l+Math.imul(oe,We)|0,S=S+Math.imul(oe,Qe)|0,w=w+Math.imul(Q,je)|0,l=l+Math.imul(Q,et)|0,l=l+Math.imul(te,je)|0,S=S+Math.imul(te,et)|0,w=w+Math.imul($,Ke)|0,l=l+Math.imul($,tt)|0,l=l+Math.imul(F,Ke)|0,S=S+Math.imul(F,tt)|0,w=w+Math.imul(D,He)|0,l=l+Math.imul(D,rt)|0,l=l+Math.imul(U,He)|0,S=S+Math.imul(U,rt)|0;var bn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(bn>>>26)|0,bn&=67108863,w=Math.imul(ie,ve),l=Math.imul(ie,Ne),l=l+Math.imul(fe,ve)|0,S=Math.imul(fe,Ne),w=w+Math.imul(ee,Be)|0,l=l+Math.imul(ee,Le)|0,l=l+Math.imul(z,Be)|0,S=S+Math.imul(z,Le)|0,w=w+Math.imul(le,$e)|0,l=l+Math.imul(le,Ze)|0,l=l+Math.imul(de,$e)|0,S=S+Math.imul(de,Ze)|0,w=w+Math.imul(be,Ue)|0,l=l+Math.imul(be,Xe)|0,l=l+Math.imul(Ee,Ue)|0,S=S+Math.imul(Ee,Xe)|0,w=w+Math.imul(ne,ze)|0,l=l+Math.imul(ne,Je)|0,l=l+Math.imul(se,ze)|0,S=S+Math.imul(se,Je)|0,w=w+Math.imul(Se,We)|0,l=l+Math.imul(Se,Qe)|0,l=l+Math.imul(W,We)|0,S=S+Math.imul(W,Qe)|0,w=w+Math.imul(K,je)|0,l=l+Math.imul(K,et)|0,l=l+Math.imul(oe,je)|0,S=S+Math.imul(oe,et)|0,w=w+Math.imul(Q,Ke)|0,l=l+Math.imul(Q,tt)|0,l=l+Math.imul(te,Ke)|0,S=S+Math.imul(te,tt)|0,w=w+Math.imul($,He)|0,l=l+Math.imul($,rt)|0,l=l+Math.imul(F,He)|0,S=S+Math.imul(F,rt)|0,w=w+Math.imul(D,qe)|0,l=l+Math.imul(D,nt)|0,l=l+Math.imul(U,qe)|0,S=S+Math.imul(U,nt)|0;var vn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(vn>>>26)|0,vn&=67108863,w=Math.imul(ie,Be),l=Math.imul(ie,Le),l=l+Math.imul(fe,Be)|0,S=Math.imul(fe,Le),w=w+Math.imul(ee,$e)|0,l=l+Math.imul(ee,Ze)|0,l=l+Math.imul(z,$e)|0,S=S+Math.imul(z,Ze)|0,w=w+Math.imul(le,Ue)|0,l=l+Math.imul(le,Xe)|0,l=l+Math.imul(de,Ue)|0,S=S+Math.imul(de,Xe)|0,w=w+Math.imul(be,ze)|0,l=l+Math.imul(be,Je)|0,l=l+Math.imul(Ee,ze)|0,S=S+Math.imul(Ee,Je)|0,w=w+Math.imul(ne,We)|0,l=l+Math.imul(ne,Qe)|0,l=l+Math.imul(se,We)|0,S=S+Math.imul(se,Qe)|0,w=w+Math.imul(Se,je)|0,l=l+Math.imul(Se,et)|0,l=l+Math.imul(W,je)|0,S=S+Math.imul(W,et)|0,w=w+Math.imul(K,Ke)|0,l=l+Math.imul(K,tt)|0,l=l+Math.imul(oe,Ke)|0,S=S+Math.imul(oe,tt)|0,w=w+Math.imul(Q,He)|0,l=l+Math.imul(Q,rt)|0,l=l+Math.imul(te,He)|0,S=S+Math.imul(te,rt)|0,w=w+Math.imul($,qe)|0,l=l+Math.imul($,nt)|0,l=l+Math.imul(F,qe)|0,S=S+Math.imul(F,nt)|0;var wn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(wn>>>26)|0,wn&=67108863,w=Math.imul(ie,$e),l=Math.imul(ie,Ze),l=l+Math.imul(fe,$e)|0,S=Math.imul(fe,Ze),w=w+Math.imul(ee,Ue)|0,l=l+Math.imul(ee,Xe)|0,l=l+Math.imul(z,Ue)|0,S=S+Math.imul(z,Xe)|0,w=w+Math.imul(le,ze)|0,l=l+Math.imul(le,Je)|0,l=l+Math.imul(de,ze)|0,S=S+Math.imul(de,Je)|0,w=w+Math.imul(be,We)|0,l=l+Math.imul(be,Qe)|0,l=l+Math.imul(Ee,We)|0,S=S+Math.imul(Ee,Qe)|0,w=w+Math.imul(ne,je)|0,l=l+Math.imul(ne,et)|0,l=l+Math.imul(se,je)|0,S=S+Math.imul(se,et)|0,w=w+Math.imul(Se,Ke)|0,l=l+Math.imul(Se,tt)|0,l=l+Math.imul(W,Ke)|0,S=S+Math.imul(W,tt)|0,w=w+Math.imul(K,He)|0,l=l+Math.imul(K,rt)|0,l=l+Math.imul(oe,He)|0,S=S+Math.imul(oe,rt)|0,w=w+Math.imul(Q,qe)|0,l=l+Math.imul(Q,nt)|0,l=l+Math.imul(te,qe)|0,S=S+Math.imul(te,nt)|0;var Sn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,w=Math.imul(ie,Ue),l=Math.imul(ie,Xe),l=l+Math.imul(fe,Ue)|0,S=Math.imul(fe,Xe),w=w+Math.imul(ee,ze)|0,l=l+Math.imul(ee,Je)|0,l=l+Math.imul(z,ze)|0,S=S+Math.imul(z,Je)|0,w=w+Math.imul(le,We)|0,l=l+Math.imul(le,Qe)|0,l=l+Math.imul(de,We)|0,S=S+Math.imul(de,Qe)|0,w=w+Math.imul(be,je)|0,l=l+Math.imul(be,et)|0,l=l+Math.imul(Ee,je)|0,S=S+Math.imul(Ee,et)|0,w=w+Math.imul(ne,Ke)|0,l=l+Math.imul(ne,tt)|0,l=l+Math.imul(se,Ke)|0,S=S+Math.imul(se,tt)|0,w=w+Math.imul(Se,He)|0,l=l+Math.imul(Se,rt)|0,l=l+Math.imul(W,He)|0,S=S+Math.imul(W,rt)|0,w=w+Math.imul(K,qe)|0,l=l+Math.imul(K,nt)|0,l=l+Math.imul(oe,qe)|0,S=S+Math.imul(oe,nt)|0;var _n=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(_n>>>26)|0,_n&=67108863,w=Math.imul(ie,ze),l=Math.imul(ie,Je),l=l+Math.imul(fe,ze)|0,S=Math.imul(fe,Je),w=w+Math.imul(ee,We)|0,l=l+Math.imul(ee,Qe)|0,l=l+Math.imul(z,We)|0,S=S+Math.imul(z,Qe)|0,w=w+Math.imul(le,je)|0,l=l+Math.imul(le,et)|0,l=l+Math.imul(de,je)|0,S=S+Math.imul(de,et)|0,w=w+Math.imul(be,Ke)|0,l=l+Math.imul(be,tt)|0,l=l+Math.imul(Ee,Ke)|0,S=S+Math.imul(Ee,tt)|0,w=w+Math.imul(ne,He)|0,l=l+Math.imul(ne,rt)|0,l=l+Math.imul(se,He)|0,S=S+Math.imul(se,rt)|0,w=w+Math.imul(Se,qe)|0,l=l+Math.imul(Se,nt)|0,l=l+Math.imul(W,qe)|0,S=S+Math.imul(W,nt)|0;var An=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(An>>>26)|0,An&=67108863,w=Math.imul(ie,We),l=Math.imul(ie,Qe),l=l+Math.imul(fe,We)|0,S=Math.imul(fe,Qe),w=w+Math.imul(ee,je)|0,l=l+Math.imul(ee,et)|0,l=l+Math.imul(z,je)|0,S=S+Math.imul(z,et)|0,w=w+Math.imul(le,Ke)|0,l=l+Math.imul(le,tt)|0,l=l+Math.imul(de,Ke)|0,S=S+Math.imul(de,tt)|0,w=w+Math.imul(be,He)|0,l=l+Math.imul(be,rt)|0,l=l+Math.imul(Ee,He)|0,S=S+Math.imul(Ee,rt)|0,w=w+Math.imul(ne,qe)|0,l=l+Math.imul(ne,nt)|0,l=l+Math.imul(se,qe)|0,S=S+Math.imul(se,nt)|0;var xn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(xn>>>26)|0,xn&=67108863,w=Math.imul(ie,je),l=Math.imul(ie,et),l=l+Math.imul(fe,je)|0,S=Math.imul(fe,et),w=w+Math.imul(ee,Ke)|0,l=l+Math.imul(ee,tt)|0,l=l+Math.imul(z,Ke)|0,S=S+Math.imul(z,tt)|0,w=w+Math.imul(le,He)|0,l=l+Math.imul(le,rt)|0,l=l+Math.imul(de,He)|0,S=S+Math.imul(de,rt)|0,w=w+Math.imul(be,qe)|0,l=l+Math.imul(be,nt)|0,l=l+Math.imul(Ee,qe)|0,S=S+Math.imul(Ee,nt)|0;var En=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(En>>>26)|0,En&=67108863,w=Math.imul(ie,Ke),l=Math.imul(ie,tt),l=l+Math.imul(fe,Ke)|0,S=Math.imul(fe,tt),w=w+Math.imul(ee,He)|0,l=l+Math.imul(ee,rt)|0,l=l+Math.imul(z,He)|0,S=S+Math.imul(z,rt)|0,w=w+Math.imul(le,qe)|0,l=l+Math.imul(le,nt)|0,l=l+Math.imul(de,qe)|0,S=S+Math.imul(de,nt)|0;var kn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(kn>>>26)|0,kn&=67108863,w=Math.imul(ie,He),l=Math.imul(ie,rt),l=l+Math.imul(fe,He)|0,S=Math.imul(fe,rt),w=w+Math.imul(ee,qe)|0,l=l+Math.imul(ee,nt)|0,l=l+Math.imul(z,qe)|0,S=S+Math.imul(z,nt)|0;var Tn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,w=Math.imul(ie,qe),l=Math.imul(ie,nt),l=l+Math.imul(fe,qe)|0,S=Math.imul(fe,nt);var In=(E+w|0)+((l&8191)<<13)|0;return E=(S+(l>>>13)|0)+(In>>>26)|0,In&=67108863,_[0]=Jt,_[1]=Qt,_[2]=jr,_[3]=Kr,_[4]=Hr,_[5]=qr,_[6]=Vr,_[7]=yn,_[8]=bn,_[9]=vn,_[10]=wn,_[11]=Sn,_[12]=_n,_[13]=An,_[14]=xn,_[15]=En,_[16]=kn,_[17]=Tn,_[18]=In,E!==0&&(_[19]=E,p.length++),p};Math.imul||(x=A);function k(T,c,h){h.negative=c.negative^T.negative,h.length=T.length+c.length;for(var p=0,m=0,v=0;v<h.length-1;v++){var _=m;m=0;for(var E=p&67108863,w=Math.min(v,c.length-1),l=Math.max(0,v-T.length+1);l<=w;l++){var S=v-l,C=T.words[S]|0,D=c.words[l]|0,U=C*D,O=U&67108863;_=_+(U/67108864|0)|0,O=O+E|0,E=O&67108863,_=_+(O>>>26)|0,m+=_>>>26,_&=67108863}h.words[v]=E,p=_,_=m}return p!==0?h.words[v]=p:h.length--,h.strip()}function I(T,c,h){var p=new R;return p.mulp(T,c,h)}s.prototype.mulTo=function(c,h){var p,m=this.length+c.length;return this.length===10&&c.length===10?p=x(this,c,h):m<63?p=A(this,c,h):m<1024?p=k(this,c,h):p=I(this,c,h),p};function R(T,c){this.x=T,this.y=c}R.prototype.makeRBT=function(c){for(var h=new Array(c),p=s.prototype._countBits(c)-1,m=0;m<c;m++)h[m]=this.revBin(m,p,c);return h},R.prototype.revBin=function(c,h,p){if(c===0||c===p-1)return c;for(var m=0,v=0;v<h;v++)m|=(c&1)<<h-v-1,c>>=1;return m},R.prototype.permute=function(c,h,p,m,v,_){for(var E=0;E<_;E++)m[E]=h[c[E]],v[E]=p[c[E]]},R.prototype.transform=function(c,h,p,m,v,_){this.permute(_,c,h,p,m,v);for(var E=1;E<v;E<<=1)for(var w=E<<1,l=Math.cos(2*Math.PI/w),S=Math.sin(2*Math.PI/w),C=0;C<v;C+=w)for(var D=l,U=S,O=0;O<E;O++){var $=p[C+O],F=m[C+O],H=p[C+O+E],Q=m[C+O+E],te=D*H-U*Q;Q=D*Q+U*H,H=te,p[C+O]=$+H,m[C+O]=F+Q,p[C+O+E]=$-H,m[C+O+E]=F-Q,O!==w&&(te=l*D-S*U,U=l*U+S*D,D=te)}},R.prototype.guessLen13b=function(c,h){var p=Math.max(h,c)|1,m=p&1,v=0;for(p=p/2|0;p;p=p>>>1)v++;return 1<<v+1+m},R.prototype.conjugate=function(c,h,p){if(!(p<=1))for(var m=0;m<p/2;m++){var v=c[m];c[m]=c[p-m-1],c[p-m-1]=v,v=h[m],h[m]=-h[p-m-1],h[p-m-1]=-v}},R.prototype.normalize13b=function(c,h){for(var p=0,m=0;m<h/2;m++){var v=Math.round(c[2*m+1]/h)*8192+Math.round(c[2*m]/h)+p;c[m]=v&67108863,v<67108864?p=0:p=v/67108864|0}return c},R.prototype.convert13b=function(c,h,p,m){for(var v=0,_=0;_<h;_++)v=v+(c[_]|0),p[2*_]=v&8191,v=v>>>13,p[2*_+1]=v&8191,v=v>>>13;for(_=2*h;_<m;++_)p[_]=0;n(v===0),n((v&-8192)===0)},R.prototype.stub=function(c){for(var h=new Array(c),p=0;p<c;p++)h[p]=0;return h},R.prototype.mulp=function(c,h,p){var m=2*this.guessLen13b(c.length,h.length),v=this.makeRBT(m),_=this.stub(m),E=new Array(m),w=new Array(m),l=new Array(m),S=new Array(m),C=new Array(m),D=new Array(m),U=p.words;U.length=m,this.convert13b(c.words,c.length,E,m),this.convert13b(h.words,h.length,S,m),this.transform(E,_,w,l,m,v),this.transform(S,_,C,D,m,v);for(var O=0;O<m;O++){var $=w[O]*C[O]-l[O]*D[O];l[O]=w[O]*D[O]+l[O]*C[O],w[O]=$}return this.conjugate(w,l,m),this.transform(w,l,U,_,m,v),this.conjugate(U,_,m),this.normalize13b(U,m),p.negative=c.negative^h.negative,p.length=c.length+h.length,p.strip()},s.prototype.mul=function(c){var h=new s(null);return h.words=new Array(this.length+c.length),this.mulTo(c,h)},s.prototype.mulf=function(c){var h=new s(null);return h.words=new Array(this.length+c.length),I(this,c,h)},s.prototype.imul=function(c){return this.clone().mulTo(c,this)},s.prototype.imuln=function(c){n(typeof c=="number"),n(c<67108864);for(var h=0,p=0;p<this.length;p++){var m=(this.words[p]|0)*c,v=(m&67108863)+(h&67108863);h>>=26,h+=m/67108864|0,h+=v>>>26,this.words[p]=v&67108863}return h!==0&&(this.words[p]=h,this.length++),this},s.prototype.muln=function(c){return this.clone().imuln(c)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(c){var h=b(c);if(h.length===0)return new s(1);for(var p=this,m=0;m<h.length&&h[m]===0;m++,p=p.sqr());if(++m<h.length)for(var v=p.sqr();m<h.length;m++,v=v.sqr())h[m]!==0&&(p=p.mul(v));return p},s.prototype.iushln=function(c){n(typeof c=="number"&&c>=0);var h=c%26,p=(c-h)/26,m=67108863>>>26-h<<26-h,v;if(h!==0){var _=0;for(v=0;v<this.length;v++){var E=this.words[v]&m,w=(this.words[v]|0)-E<<h;this.words[v]=w|_,_=E>>>26-h}_&&(this.words[v]=_,this.length++)}if(p!==0){for(v=this.length-1;v>=0;v--)this.words[v+p]=this.words[v];for(v=0;v<p;v++)this.words[v]=0;this.length+=p}return this.strip()},s.prototype.ishln=function(c){return n(this.negative===0),this.iushln(c)},s.prototype.iushrn=function(c,h,p){n(typeof c=="number"&&c>=0);var m;h?m=(h-h%26)/26:m=0;var v=c%26,_=Math.min((c-v)/26,this.length),E=67108863^67108863>>>v<<v,w=p;if(m-=_,m=Math.max(0,m),w){for(var l=0;l<_;l++)w.words[l]=this.words[l];w.length=_}if(_!==0)if(this.length>_)for(this.length-=_,l=0;l<this.length;l++)this.words[l]=this.words[l+_];else this.words[0]=0,this.length=1;var S=0;for(l=this.length-1;l>=0&&(S!==0||l>=m);l--){var C=this.words[l]|0;this.words[l]=S<<26-v|C>>>v,S=C&E}return w&&S!==0&&(w.words[w.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(c,h,p){return n(this.negative===0),this.iushrn(c,h,p)},s.prototype.shln=function(c){return this.clone().ishln(c)},s.prototype.ushln=function(c){return this.clone().iushln(c)},s.prototype.shrn=function(c){return this.clone().ishrn(c)},s.prototype.ushrn=function(c){return this.clone().iushrn(c)},s.prototype.testn=function(c){n(typeof c=="number"&&c>=0);var h=c%26,p=(c-h)/26,m=1<<h;if(this.length<=p)return!1;var v=this.words[p];return!!(v&m)},s.prototype.imaskn=function(c){n(typeof c=="number"&&c>=0);var h=c%26,p=(c-h)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(h!==0&&p++,this.length=Math.min(p,this.length),h!==0){var m=67108863^67108863>>>h<<h;this.words[this.length-1]&=m}return this.strip()},s.prototype.maskn=function(c){return this.clone().imaskn(c)},s.prototype.iaddn=function(c){return n(typeof c=="number"),n(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},s.prototype._iaddn=function(c){this.words[0]+=c;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},s.prototype.isubn=function(c){if(n(typeof c=="number"),n(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},s.prototype.addn=function(c){return this.clone().iaddn(c)},s.prototype.subn=function(c){return this.clone().isubn(c)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(c,h,p){var m=c.length+p,v;this._expand(m);var _,E=0;for(v=0;v<c.length;v++){_=(this.words[v+p]|0)+E;var w=(c.words[v]|0)*h;_-=w&67108863,E=(_>>26)-(w/67108864|0),this.words[v+p]=_&67108863}for(;v<this.length-p;v++)_=(this.words[v+p]|0)+E,E=_>>26,this.words[v+p]=_&67108863;if(E===0)return this.strip();for(n(E===-1),E=0,v=0;v<this.length;v++)_=-(this.words[v]|0)+E,E=_>>26,this.words[v]=_&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(c,h){var p=this.length-c.length,m=this.clone(),v=c,_=v.words[v.length-1]|0,E=this._countBits(_);p=26-E,p!==0&&(v=v.ushln(p),m.iushln(p),_=v.words[v.length-1]|0);var w=m.length-v.length,l;if(h!=="mod"){l=new s(null),l.length=w+1,l.words=new Array(l.length);for(var S=0;S<l.length;S++)l.words[S]=0}var C=m.clone()._ishlnsubmul(v,1,w);C.negative===0&&(m=C,l&&(l.words[w]=1));for(var D=w-1;D>=0;D--){var U=(m.words[v.length+D]|0)*67108864+(m.words[v.length+D-1]|0);for(U=Math.min(U/_|0,67108863),m._ishlnsubmul(v,U,D);m.negative!==0;)U--,m.negative=0,m._ishlnsubmul(v,1,D),m.isZero()||(m.negative^=1);l&&(l.words[D]=U)}return l&&l.strip(),m.strip(),h!=="div"&&p!==0&&m.iushrn(p),{div:l||null,mod:m}},s.prototype.divmod=function(c,h,p){if(n(!c.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var m,v,_;return this.negative!==0&&c.negative===0?(_=this.neg().divmod(c,h),h!=="mod"&&(m=_.div.neg()),h!=="div"&&(v=_.mod.neg(),p&&v.negative!==0&&v.iadd(c)),{div:m,mod:v}):this.negative===0&&c.negative!==0?(_=this.divmod(c.neg(),h),h!=="mod"&&(m=_.div.neg()),{div:m,mod:_.mod}):this.negative&c.negative?(_=this.neg().divmod(c.neg(),h),h!=="div"&&(v=_.mod.neg(),p&&v.negative!==0&&v.isub(c)),{div:_.div,mod:v}):c.length>this.length||this.cmp(c)<0?{div:new s(0),mod:this}:c.length===1?h==="div"?{div:this.divn(c.words[0]),mod:null}:h==="mod"?{div:null,mod:new s(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new s(this.modn(c.words[0]))}:this._wordDiv(c,h)},s.prototype.div=function(c){return this.divmod(c,"div",!1).div},s.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},s.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},s.prototype.divRound=function(c){var h=this.divmod(c);if(h.mod.isZero())return h.div;var p=h.div.negative!==0?h.mod.isub(c):h.mod,m=c.ushrn(1),v=c.andln(1),_=p.cmp(m);return _<0||v===1&&_===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},s.prototype.modn=function(c){n(c<=67108863);for(var h=(1<<26)%c,p=0,m=this.length-1;m>=0;m--)p=(h*p+(this.words[m]|0))%c;return p},s.prototype.idivn=function(c){n(c<=67108863);for(var h=0,p=this.length-1;p>=0;p--){var m=(this.words[p]|0)+h*67108864;this.words[p]=m/c|0,h=m%c}return this.strip()},s.prototype.divn=function(c){return this.clone().idivn(c)},s.prototype.egcd=function(c){n(c.negative===0),n(!c.isZero());var h=this,p=c.clone();h.negative!==0?h=h.umod(c):h=h.clone();for(var m=new s(1),v=new s(0),_=new s(0),E=new s(1),w=0;h.isEven()&&p.isEven();)h.iushrn(1),p.iushrn(1),++w;for(var l=p.clone(),S=h.clone();!h.isZero();){for(var C=0,D=1;!(h.words[0]&D)&&C<26;++C,D<<=1);if(C>0)for(h.iushrn(C);C-- >0;)(m.isOdd()||v.isOdd())&&(m.iadd(l),v.isub(S)),m.iushrn(1),v.iushrn(1);for(var U=0,O=1;!(p.words[0]&O)&&U<26;++U,O<<=1);if(U>0)for(p.iushrn(U);U-- >0;)(_.isOdd()||E.isOdd())&&(_.iadd(l),E.isub(S)),_.iushrn(1),E.iushrn(1);h.cmp(p)>=0?(h.isub(p),m.isub(_),v.isub(E)):(p.isub(h),_.isub(m),E.isub(v))}return{a:_,b:E,gcd:p.iushln(w)}},s.prototype._invmp=function(c){n(c.negative===0),n(!c.isZero());var h=this,p=c.clone();h.negative!==0?h=h.umod(c):h=h.clone();for(var m=new s(1),v=new s(0),_=p.clone();h.cmpn(1)>0&&p.cmpn(1)>0;){for(var E=0,w=1;!(h.words[0]&w)&&E<26;++E,w<<=1);if(E>0)for(h.iushrn(E);E-- >0;)m.isOdd()&&m.iadd(_),m.iushrn(1);for(var l=0,S=1;!(p.words[0]&S)&&l<26;++l,S<<=1);if(l>0)for(p.iushrn(l);l-- >0;)v.isOdd()&&v.iadd(_),v.iushrn(1);h.cmp(p)>=0?(h.isub(p),m.isub(v)):(p.isub(h),v.isub(m))}var C;return h.cmpn(1)===0?C=m:C=v,C.cmpn(0)<0&&C.iadd(c),C},s.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var h=this.clone(),p=c.clone();h.negative=0,p.negative=0;for(var m=0;h.isEven()&&p.isEven();m++)h.iushrn(1),p.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;p.isEven();)p.iushrn(1);var v=h.cmp(p);if(v<0){var _=h;h=p,p=_}else if(v===0||p.cmpn(1)===0)break;h.isub(p)}while(!0);return p.iushln(m)},s.prototype.invm=function(c){return this.egcd(c).a.umod(c)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(c){return this.words[0]&c},s.prototype.bincn=function(c){n(typeof c=="number");var h=c%26,p=(c-h)/26,m=1<<h;if(this.length<=p)return this._expand(p+1),this.words[p]|=m,this;for(var v=m,_=p;v!==0&&_<this.length;_++){var E=this.words[_]|0;E+=v,v=E>>>26,E&=67108863,this.words[_]=E}return v!==0&&(this.words[_]=v,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(c){var h=c<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this.strip();var p;if(this.length>1)p=1;else{h&&(c=-c),n(c<=67108863,"Number is too big");var m=this.words[0]|0;p=m===c?0:m<c?-1:1}return this.negative!==0?-p|0:p},s.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var h=this.ucmp(c);return this.negative!==0?-h|0:h},s.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var h=0,p=this.length-1;p>=0;p--){var m=this.words[p]|0,v=c.words[p]|0;if(m!==v){m<v?h=-1:m>v&&(h=1);break}}return h},s.prototype.gtn=function(c){return this.cmpn(c)===1},s.prototype.gt=function(c){return this.cmp(c)===1},s.prototype.gten=function(c){return this.cmpn(c)>=0},s.prototype.gte=function(c){return this.cmp(c)>=0},s.prototype.ltn=function(c){return this.cmpn(c)===-1},s.prototype.lt=function(c){return this.cmp(c)===-1},s.prototype.lten=function(c){return this.cmpn(c)<=0},s.prototype.lte=function(c){return this.cmp(c)<=0},s.prototype.eqn=function(c){return this.cmpn(c)===0},s.prototype.eq=function(c){return this.cmp(c)===0},s.red=function(c){return new q(c)},s.prototype.toRed=function(c){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(c){return this.red=c,this},s.prototype.forceRed=function(c){return n(!this.red,"Already a number in reduction context"),this._forceRed(c)},s.prototype.redAdd=function(c){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},s.prototype.redIAdd=function(c){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},s.prototype.redSub=function(c){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},s.prototype.redISub=function(c){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},s.prototype.redShl=function(c){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},s.prototype.redMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},s.prototype.redIMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(c){return n(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var M={k256:null,p224:null,p192:null,p25519:null};function P(T,c){this.name=T,this.p=new s(c,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var c=new s(null);return c.words=new Array(Math.ceil(this.n/13)),c},P.prototype.ireduce=function(c){var h=c,p;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),p=h.bitLength();while(p>this.n);var m=p<this.n?-1:h.ucmp(this.p);return m===0?(h.words[0]=0,h.length=1):m>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},P.prototype.split=function(c,h){c.iushrn(this.n,0,h)},P.prototype.imulK=function(c){return c.imul(this.k)};function j(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(j,P),j.prototype.split=function(c,h){for(var p=4194303,m=Math.min(c.length,9),v=0;v<m;v++)h.words[v]=c.words[v];if(h.length=m,c.length<=9){c.words[0]=0,c.length=1;return}var _=c.words[9];for(h.words[h.length++]=_&p,v=10;v<c.length;v++){var E=c.words[v]|0;c.words[v-10]=(E&p)<<4|_>>>22,_=E}_>>>=22,c.words[v-10]=_,_===0&&c.length>10?c.length-=10:c.length-=9},j.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var h=0,p=0;p<c.length;p++){var m=c.words[p]|0;h+=m*977,c.words[p]=h&67108863,h=m*64+(h/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function V(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(V,P);function Z(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Z,P);function G(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(G,P),G.prototype.imulK=function(c){for(var h=0,p=0;p<c.length;p++){var m=(c.words[p]|0)*19+h,v=m&67108863;m>>>=26,c.words[p]=v,h=m}return h!==0&&(c.words[c.length++]=h),c},s._prime=function(c){if(M[c])return M[c];var h;if(c==="k256")h=new j;else if(c==="p224")h=new V;else if(c==="p192")h=new Z;else if(c==="p25519")h=new G;else throw new Error("Unknown prime "+c);return M[c]=h,h};function q(T){if(typeof T=="string"){var c=s._prime(T);this.m=c.p,this.prime=c}else n(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}q.prototype._verify1=function(c){n(c.negative===0,"red works only with positives"),n(c.red,"red works only with red numbers")},q.prototype._verify2=function(c,h){n((c.negative|h.negative)===0,"red works only with positives"),n(c.red&&c.red===h.red,"red works only with red numbers")},q.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},q.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},q.prototype.add=function(c,h){this._verify2(c,h);var p=c.add(h);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},q.prototype.iadd=function(c,h){this._verify2(c,h);var p=c.iadd(h);return p.cmp(this.m)>=0&&p.isub(this.m),p},q.prototype.sub=function(c,h){this._verify2(c,h);var p=c.sub(h);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},q.prototype.isub=function(c,h){this._verify2(c,h);var p=c.isub(h);return p.cmpn(0)<0&&p.iadd(this.m),p},q.prototype.shl=function(c,h){return this._verify1(c),this.imod(c.ushln(h))},q.prototype.imul=function(c,h){return this._verify2(c,h),this.imod(c.imul(h))},q.prototype.mul=function(c,h){return this._verify2(c,h),this.imod(c.mul(h))},q.prototype.isqr=function(c){return this.imul(c,c.clone())},q.prototype.sqr=function(c){return this.mul(c,c)},q.prototype.sqrt=function(c){if(c.isZero())return c.clone();var h=this.m.andln(3);if(n(h%2===1),h===3){var p=this.m.add(new s(1)).iushrn(2);return this.pow(c,p)}for(var m=this.m.subn(1),v=0;!m.isZero()&&m.andln(1)===0;)v++,m.iushrn(1);n(!m.isZero());var _=new s(1).toRed(this),E=_.redNeg(),w=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);this.pow(l,w).cmp(E)!==0;)l.redIAdd(E);for(var S=this.pow(l,m),C=this.pow(c,m.addn(1).iushrn(1)),D=this.pow(c,m),U=v;D.cmp(_)!==0;){for(var O=D,$=0;O.cmp(_)!==0;$++)O=O.redSqr();n($<U);var F=this.pow(S,new s(1).iushln(U-$-1));C=C.redMul(F),S=F.redSqr(),D=D.redMul(S),U=$}return C},q.prototype.invm=function(c){var h=c._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},q.prototype.pow=function(c,h){if(h.isZero())return new s(1).toRed(this);if(h.cmpn(1)===0)return c.clone();var p=4,m=new Array(1<<p);m[0]=new s(1).toRed(this),m[1]=c;for(var v=2;v<m.length;v++)m[v]=this.mul(m[v-1],c);var _=m[0],E=0,w=0,l=h.bitLength()%26;for(l===0&&(l=26),v=h.length-1;v>=0;v--){for(var S=h.words[v],C=l-1;C>=0;C--){var D=S>>C&1;if(_!==m[0]&&(_=this.sqr(_)),D===0&&E===0){w=0;continue}E<<=1,E|=D,w++,!(w!==p&&(v!==0||C!==0))&&(_=this.mul(_,m[E]),w=0,E=0)}l=26}return _},q.prototype.convertTo=function(c){var h=c.umod(this.m);return h===c?h.clone():h},q.prototype.convertFrom=function(c){var h=c.clone();return h.red=null,h},s.mont=function(c){return new ae(c)};function ae(T){q.call(this,T),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(ae,q),ae.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},ae.prototype.convertFrom=function(c){var h=this.imod(c.mul(this.rinv));return h.red=null,h},ae.prototype.imul=function(c,h){if(c.isZero()||h.isZero())return c.words[0]=0,c.length=1,c;var p=c.imul(h),m=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(m).iushrn(this.shift),_=v;return v.cmp(this.m)>=0?_=v.isub(this.m):v.cmpn(0)<0&&(_=v.iadd(this.m)),_._forceRed(this)},ae.prototype.mul=function(c,h){if(c.isZero()||h.isZero())return new s(0)._forceRed(this);var p=c.mul(h),m=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(m).iushrn(this.shift),_=v;return v.cmp(this.m)>=0?_=v.isub(this.m):v.cmpn(0)<0&&(_=v.iadd(this.m)),_._forceRed(this)},ae.prototype.invm=function(c){var h=this.imod(c._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(t,St)})(VO);var Xne=VO.exports,GO={exports:{}};GO.exports;(function(t){(function(e,r){function n(T,c){if(!T)throw new Error(c||"Assertion failed")}function i(T,c){T.super_=c;var h=function(){};h.prototype=c.prototype,T.prototype=new h,T.prototype.constructor=T}function s(T,c,h){if(s.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,T!==null&&((c==="le"||c==="be")&&(h=c,c=10),this._init(T||0,c||10,h||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=xe.Buffer}catch{}s.isBN=function(c){return c instanceof s?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===s.wordSize&&Array.isArray(c.words)},s.max=function(c,h){return c.cmp(h)>0?c:h},s.min=function(c,h){return c.cmp(h)<0?c:h},s.prototype._init=function(c,h,p){if(typeof c=="number")return this._initNumber(c,h,p);if(typeof c=="object")return this._initArray(c,h,p);h==="hex"&&(h=16),n(h===(h|0)&&h>=2&&h<=36),c=c.toString().replace(/\s+/g,"");var m=0;c[0]==="-"&&(m++,this.negative=1),m<c.length&&(h===16?this._parseHex(c,m,p):(this._parseBase(c,h,m),p==="le"&&this._initArray(this.toArray(),h,p)))},s.prototype._initNumber=function(c,h,p){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(n(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),h,p)},s.prototype._initArray=function(c,h,p){if(n(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var v,_,E=0;if(p==="be")for(m=c.length-1,v=0;m>=0;m-=3)_=c[m]|c[m-1]<<8|c[m-2]<<16,this.words[v]|=_<<E&67108863,this.words[v+1]=_>>>26-E&67108863,E+=24,E>=26&&(E-=26,v++);else if(p==="le")for(m=0,v=0;m<c.length;m+=3)_=c[m]|c[m+1]<<8|c[m+2]<<16,this.words[v]|=_<<E&67108863,this.words[v+1]=_>>>26-E&67108863,E+=24,E>=26&&(E-=26,v++);return this.strip()};function a(T,c){var h=T.charCodeAt(c);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function u(T,c,h){var p=a(T,h);return h-1>=c&&(p|=a(T,h-1)<<4),p}s.prototype._parseHex=function(c,h,p){this.length=Math.ceil((c.length-h)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var v=0,_=0,E;if(p==="be")for(m=c.length-1;m>=h;m-=2)E=u(c,h,m)<<v,this.words[_]|=E&67108863,v>=18?(v-=18,_+=1,this.words[_]|=E>>>26):v+=8;else{var w=c.length-h;for(m=w%2===0?h+1:h;m<c.length;m+=2)E=u(c,h,m)<<v,this.words[_]|=E&67108863,v>=18?(v-=18,_+=1,this.words[_]|=E>>>26):v+=8}this.strip()};function f(T,c,h,p){for(var m=0,v=Math.min(T.length,h),_=c;_<v;_++){var E=T.charCodeAt(_)-48;m*=p,E>=49?m+=E-49+10:E>=17?m+=E-17+10:m+=E}return m}s.prototype._parseBase=function(c,h,p){this.words=[0],this.length=1;for(var m=0,v=1;v<=67108863;v*=h)m++;m--,v=v/h|0;for(var _=c.length-p,E=_%m,w=Math.min(_,_-E)+p,l=0,S=p;S<w;S+=m)l=f(c,S,S+m,h),this.imuln(v),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(E!==0){var C=1;for(l=f(c,S,c.length,h),S=0;S<E;S++)C*=h;this.imuln(C),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},s.prototype.copy=function(c){c.words=new Array(this.length);for(var h=0;h<this.length;h++)c.words[h]=this.words[h];c.length=this.length,c.negative=this.negative,c.red=this.red},s.prototype.clone=function(){var c=new s(null);return this.copy(c),c},s.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(c,h){c=c||10,h=h|0||1;var p;if(c===16||c==="hex"){p="";for(var m=0,v=0,_=0;_<this.length;_++){var E=this.words[_],w=((E<<m|v)&16777215).toString(16);v=E>>>24-m&16777215,m+=2,m>=26&&(m-=26,_--),v!==0||_!==this.length-1?p=d[6-w.length]+w+p:p=w+p}for(v!==0&&(p=v.toString(16)+p);p.length%h!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(c===(c|0)&&c>=2&&c<=36){var l=g[c],S=y[c];p="";var C=this.clone();for(C.negative=0;!C.isZero();){var D=C.modn(S).toString(c);C=C.idivn(S),C.isZero()?p=D+p:p=d[l-D.length]+D+p}for(this.isZero()&&(p="0"+p);p.length%h!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(c,h){return n(typeof o<"u"),this.toArrayLike(o,c,h)},s.prototype.toArray=function(c,h){return this.toArrayLike(Array,c,h)},s.prototype.toArrayLike=function(c,h,p){var m=this.byteLength(),v=p||Math.max(1,m);n(m<=v,"byte array longer than desired length"),n(v>0,"Requested array length <= 0"),this.strip();var _=h==="le",E=new c(v),w,l,S=this.clone();if(_){for(l=0;!S.isZero();l++)w=S.andln(255),S.iushrn(8),E[l]=w;for(;l<v;l++)E[l]=0}else{for(l=0;l<v-m;l++)E[l]=0;for(l=0;!S.isZero();l++)w=S.andln(255),S.iushrn(8),E[v-l-1]=w}return E},Math.clz32?s.prototype._countBits=function(c){return 32-Math.clz32(c)}:s.prototype._countBits=function(c){var h=c,p=0;return h>=4096&&(p+=13,h>>>=13),h>=64&&(p+=7,h>>>=7),h>=8&&(p+=4,h>>>=4),h>=2&&(p+=2,h>>>=2),p+h},s.prototype._zeroBits=function(c){if(c===0)return 26;var h=c,p=0;return h&8191||(p+=13,h>>>=13),h&127||(p+=7,h>>>=7),h&15||(p+=4,h>>>=4),h&3||(p+=2,h>>>=2),h&1||p++,p},s.prototype.bitLength=function(){var c=this.words[this.length-1],h=this._countBits(c);return(this.length-1)*26+h};function b(T){for(var c=new Array(T.bitLength()),h=0;h<c.length;h++){var p=h/26|0,m=h%26;c[h]=(T.words[p]&1<<m)>>>m}return c}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,h=0;h<this.length;h++){var p=this._zeroBits(this.words[h]);if(c+=p,p!==26)break}return c},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},s.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var h=0;h<c.length;h++)this.words[h]=this.words[h]|c.words[h];return this.strip()},s.prototype.ior=function(c){return n((this.negative|c.negative)===0),this.iuor(c)},s.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},s.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},s.prototype.iuand=function(c){var h;this.length>c.length?h=c:h=this;for(var p=0;p<h.length;p++)this.words[p]=this.words[p]&c.words[p];return this.length=h.length,this.strip()},s.prototype.iand=function(c){return n((this.negative|c.negative)===0),this.iuand(c)},s.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},s.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},s.prototype.iuxor=function(c){var h,p;this.length>c.length?(h=this,p=c):(h=c,p=this);for(var m=0;m<p.length;m++)this.words[m]=h.words[m]^p.words[m];if(this!==h)for(;m<h.length;m++)this.words[m]=h.words[m];return this.length=h.length,this.strip()},s.prototype.ixor=function(c){return n((this.negative|c.negative)===0),this.iuxor(c)},s.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},s.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},s.prototype.inotn=function(c){n(typeof c=="number"&&c>=0);var h=Math.ceil(c/26)|0,p=c%26;this._expand(h),p>0&&h--;for(var m=0;m<h;m++)this.words[m]=~this.words[m]&67108863;return p>0&&(this.words[m]=~this.words[m]&67108863>>26-p),this.strip()},s.prototype.notn=function(c){return this.clone().inotn(c)},s.prototype.setn=function(c,h){n(typeof c=="number"&&c>=0);var p=c/26|0,m=c%26;return this._expand(p+1),h?this.words[p]=this.words[p]|1<<m:this.words[p]=this.words[p]&~(1<<m),this.strip()},s.prototype.iadd=function(c){var h;if(this.negative!==0&&c.negative===0)return this.negative=0,h=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,h=this.isub(c),c.negative=1,h._normSign();var p,m;this.length>c.length?(p=this,m=c):(p=c,m=this);for(var v=0,_=0;_<m.length;_++)h=(p.words[_]|0)+(m.words[_]|0)+v,this.words[_]=h&67108863,v=h>>>26;for(;v!==0&&_<p.length;_++)h=(p.words[_]|0)+v,this.words[_]=h&67108863,v=h>>>26;if(this.length=p.length,v!==0)this.words[this.length]=v,this.length++;else if(p!==this)for(;_<p.length;_++)this.words[_]=p.words[_];return this},s.prototype.add=function(c){var h;return c.negative!==0&&this.negative===0?(c.negative=0,h=this.sub(c),c.negative^=1,h):c.negative===0&&this.negative!==0?(this.negative=0,h=c.sub(this),this.negative=1,h):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},s.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var h=this.iadd(c);return c.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var p=this.cmp(c);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,v;p>0?(m=this,v=c):(m=c,v=this);for(var _=0,E=0;E<v.length;E++)h=(m.words[E]|0)-(v.words[E]|0)+_,_=h>>26,this.words[E]=h&67108863;for(;_!==0&&E<m.length;E++)h=(m.words[E]|0)+_,_=h>>26,this.words[E]=h&67108863;if(_===0&&E<m.length&&m!==this)for(;E<m.length;E++)this.words[E]=m.words[E];return this.length=Math.max(this.length,E),m!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(c){return this.clone().isub(c)};function A(T,c,h){h.negative=c.negative^T.negative;var p=T.length+c.length|0;h.length=p,p=p-1|0;var m=T.words[0]|0,v=c.words[0]|0,_=m*v,E=_&67108863,w=_/67108864|0;h.words[0]=E;for(var l=1;l<p;l++){for(var S=w>>>26,C=w&67108863,D=Math.min(l,c.length-1),U=Math.max(0,l-T.length+1);U<=D;U++){var O=l-U|0;m=T.words[O]|0,v=c.words[U]|0,_=m*v+C,S+=_/67108864|0,C=_&67108863}h.words[l]=C|0,w=S|0}return w!==0?h.words[l]=w|0:h.length--,h.strip()}var x=function(c,h,p){var m=c.words,v=h.words,_=p.words,E=0,w,l,S,C=m[0]|0,D=C&8191,U=C>>>13,O=m[1]|0,$=O&8191,F=O>>>13,H=m[2]|0,Q=H&8191,te=H>>>13,X=m[3]|0,K=X&8191,oe=X>>>13,_e=m[4]|0,Se=_e&8191,W=_e>>>13,re=m[5]|0,ne=re&8191,se=re>>>13,Te=m[6]|0,be=Te&8191,Ee=Te>>>13,ut=m[7]|0,le=ut&8191,de=ut>>>13,Fe=m[8]|0,ee=Fe&8191,z=Fe>>>13,J=m[9]|0,ie=J&8191,fe=J>>>13,ke=v[0]|0,ve=ke&8191,Ne=ke>>>13,kt=v[1]|0,Be=kt&8191,Le=kt>>>13,yt=v[2]|0,$e=yt&8191,Ze=yt>>>13,nr=v[3]|0,Ue=nr&8191,Xe=nr>>>13,ir=v[4]|0,ze=ir&8191,Je=ir>>>13,sr=v[5]|0,We=sr&8191,Qe=sr>>>13,or=v[6]|0,je=or&8191,et=or>>>13,ar=v[7]|0,Ke=ar&8191,tt=ar>>>13,ur=v[8]|0,He=ur&8191,rt=ur>>>13,cr=v[9]|0,qe=cr&8191,nt=cr>>>13;p.negative=c.negative^h.negative,p.length=19,w=Math.imul(D,ve),l=Math.imul(D,Ne),l=l+Math.imul(U,ve)|0,S=Math.imul(U,Ne);var Jt=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,w=Math.imul($,ve),l=Math.imul($,Ne),l=l+Math.imul(F,ve)|0,S=Math.imul(F,Ne),w=w+Math.imul(D,Be)|0,l=l+Math.imul(D,Le)|0,l=l+Math.imul(U,Be)|0,S=S+Math.imul(U,Le)|0;var Qt=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,w=Math.imul(Q,ve),l=Math.imul(Q,Ne),l=l+Math.imul(te,ve)|0,S=Math.imul(te,Ne),w=w+Math.imul($,Be)|0,l=l+Math.imul($,Le)|0,l=l+Math.imul(F,Be)|0,S=S+Math.imul(F,Le)|0,w=w+Math.imul(D,$e)|0,l=l+Math.imul(D,Ze)|0,l=l+Math.imul(U,$e)|0,S=S+Math.imul(U,Ze)|0;var jr=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(jr>>>26)|0,jr&=67108863,w=Math.imul(K,ve),l=Math.imul(K,Ne),l=l+Math.imul(oe,ve)|0,S=Math.imul(oe,Ne),w=w+Math.imul(Q,Be)|0,l=l+Math.imul(Q,Le)|0,l=l+Math.imul(te,Be)|0,S=S+Math.imul(te,Le)|0,w=w+Math.imul($,$e)|0,l=l+Math.imul($,Ze)|0,l=l+Math.imul(F,$e)|0,S=S+Math.imul(F,Ze)|0,w=w+Math.imul(D,Ue)|0,l=l+Math.imul(D,Xe)|0,l=l+Math.imul(U,Ue)|0,S=S+Math.imul(U,Xe)|0;var Kr=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,w=Math.imul(Se,ve),l=Math.imul(Se,Ne),l=l+Math.imul(W,ve)|0,S=Math.imul(W,Ne),w=w+Math.imul(K,Be)|0,l=l+Math.imul(K,Le)|0,l=l+Math.imul(oe,Be)|0,S=S+Math.imul(oe,Le)|0,w=w+Math.imul(Q,$e)|0,l=l+Math.imul(Q,Ze)|0,l=l+Math.imul(te,$e)|0,S=S+Math.imul(te,Ze)|0,w=w+Math.imul($,Ue)|0,l=l+Math.imul($,Xe)|0,l=l+Math.imul(F,Ue)|0,S=S+Math.imul(F,Xe)|0,w=w+Math.imul(D,ze)|0,l=l+Math.imul(D,Je)|0,l=l+Math.imul(U,ze)|0,S=S+Math.imul(U,Je)|0;var Hr=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,w=Math.imul(ne,ve),l=Math.imul(ne,Ne),l=l+Math.imul(se,ve)|0,S=Math.imul(se,Ne),w=w+Math.imul(Se,Be)|0,l=l+Math.imul(Se,Le)|0,l=l+Math.imul(W,Be)|0,S=S+Math.imul(W,Le)|0,w=w+Math.imul(K,$e)|0,l=l+Math.imul(K,Ze)|0,l=l+Math.imul(oe,$e)|0,S=S+Math.imul(oe,Ze)|0,w=w+Math.imul(Q,Ue)|0,l=l+Math.imul(Q,Xe)|0,l=l+Math.imul(te,Ue)|0,S=S+Math.imul(te,Xe)|0,w=w+Math.imul($,ze)|0,l=l+Math.imul($,Je)|0,l=l+Math.imul(F,ze)|0,S=S+Math.imul(F,Je)|0,w=w+Math.imul(D,We)|0,l=l+Math.imul(D,Qe)|0,l=l+Math.imul(U,We)|0,S=S+Math.imul(U,Qe)|0;var qr=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(qr>>>26)|0,qr&=67108863,w=Math.imul(be,ve),l=Math.imul(be,Ne),l=l+Math.imul(Ee,ve)|0,S=Math.imul(Ee,Ne),w=w+Math.imul(ne,Be)|0,l=l+Math.imul(ne,Le)|0,l=l+Math.imul(se,Be)|0,S=S+Math.imul(se,Le)|0,w=w+Math.imul(Se,$e)|0,l=l+Math.imul(Se,Ze)|0,l=l+Math.imul(W,$e)|0,S=S+Math.imul(W,Ze)|0,w=w+Math.imul(K,Ue)|0,l=l+Math.imul(K,Xe)|0,l=l+Math.imul(oe,Ue)|0,S=S+Math.imul(oe,Xe)|0,w=w+Math.imul(Q,ze)|0,l=l+Math.imul(Q,Je)|0,l=l+Math.imul(te,ze)|0,S=S+Math.imul(te,Je)|0,w=w+Math.imul($,We)|0,l=l+Math.imul($,Qe)|0,l=l+Math.imul(F,We)|0,S=S+Math.imul(F,Qe)|0,w=w+Math.imul(D,je)|0,l=l+Math.imul(D,et)|0,l=l+Math.imul(U,je)|0,S=S+Math.imul(U,et)|0;var Vr=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,w=Math.imul(le,ve),l=Math.imul(le,Ne),l=l+Math.imul(de,ve)|0,S=Math.imul(de,Ne),w=w+Math.imul(be,Be)|0,l=l+Math.imul(be,Le)|0,l=l+Math.imul(Ee,Be)|0,S=S+Math.imul(Ee,Le)|0,w=w+Math.imul(ne,$e)|0,l=l+Math.imul(ne,Ze)|0,l=l+Math.imul(se,$e)|0,S=S+Math.imul(se,Ze)|0,w=w+Math.imul(Se,Ue)|0,l=l+Math.imul(Se,Xe)|0,l=l+Math.imul(W,Ue)|0,S=S+Math.imul(W,Xe)|0,w=w+Math.imul(K,ze)|0,l=l+Math.imul(K,Je)|0,l=l+Math.imul(oe,ze)|0,S=S+Math.imul(oe,Je)|0,w=w+Math.imul(Q,We)|0,l=l+Math.imul(Q,Qe)|0,l=l+Math.imul(te,We)|0,S=S+Math.imul(te,Qe)|0,w=w+Math.imul($,je)|0,l=l+Math.imul($,et)|0,l=l+Math.imul(F,je)|0,S=S+Math.imul(F,et)|0,w=w+Math.imul(D,Ke)|0,l=l+Math.imul(D,tt)|0,l=l+Math.imul(U,Ke)|0,S=S+Math.imul(U,tt)|0;var yn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(yn>>>26)|0,yn&=67108863,w=Math.imul(ee,ve),l=Math.imul(ee,Ne),l=l+Math.imul(z,ve)|0,S=Math.imul(z,Ne),w=w+Math.imul(le,Be)|0,l=l+Math.imul(le,Le)|0,l=l+Math.imul(de,Be)|0,S=S+Math.imul(de,Le)|0,w=w+Math.imul(be,$e)|0,l=l+Math.imul(be,Ze)|0,l=l+Math.imul(Ee,$e)|0,S=S+Math.imul(Ee,Ze)|0,w=w+Math.imul(ne,Ue)|0,l=l+Math.imul(ne,Xe)|0,l=l+Math.imul(se,Ue)|0,S=S+Math.imul(se,Xe)|0,w=w+Math.imul(Se,ze)|0,l=l+Math.imul(Se,Je)|0,l=l+Math.imul(W,ze)|0,S=S+Math.imul(W,Je)|0,w=w+Math.imul(K,We)|0,l=l+Math.imul(K,Qe)|0,l=l+Math.imul(oe,We)|0,S=S+Math.imul(oe,Qe)|0,w=w+Math.imul(Q,je)|0,l=l+Math.imul(Q,et)|0,l=l+Math.imul(te,je)|0,S=S+Math.imul(te,et)|0,w=w+Math.imul($,Ke)|0,l=l+Math.imul($,tt)|0,l=l+Math.imul(F,Ke)|0,S=S+Math.imul(F,tt)|0,w=w+Math.imul(D,He)|0,l=l+Math.imul(D,rt)|0,l=l+Math.imul(U,He)|0,S=S+Math.imul(U,rt)|0;var bn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(bn>>>26)|0,bn&=67108863,w=Math.imul(ie,ve),l=Math.imul(ie,Ne),l=l+Math.imul(fe,ve)|0,S=Math.imul(fe,Ne),w=w+Math.imul(ee,Be)|0,l=l+Math.imul(ee,Le)|0,l=l+Math.imul(z,Be)|0,S=S+Math.imul(z,Le)|0,w=w+Math.imul(le,$e)|0,l=l+Math.imul(le,Ze)|0,l=l+Math.imul(de,$e)|0,S=S+Math.imul(de,Ze)|0,w=w+Math.imul(be,Ue)|0,l=l+Math.imul(be,Xe)|0,l=l+Math.imul(Ee,Ue)|0,S=S+Math.imul(Ee,Xe)|0,w=w+Math.imul(ne,ze)|0,l=l+Math.imul(ne,Je)|0,l=l+Math.imul(se,ze)|0,S=S+Math.imul(se,Je)|0,w=w+Math.imul(Se,We)|0,l=l+Math.imul(Se,Qe)|0,l=l+Math.imul(W,We)|0,S=S+Math.imul(W,Qe)|0,w=w+Math.imul(K,je)|0,l=l+Math.imul(K,et)|0,l=l+Math.imul(oe,je)|0,S=S+Math.imul(oe,et)|0,w=w+Math.imul(Q,Ke)|0,l=l+Math.imul(Q,tt)|0,l=l+Math.imul(te,Ke)|0,S=S+Math.imul(te,tt)|0,w=w+Math.imul($,He)|0,l=l+Math.imul($,rt)|0,l=l+Math.imul(F,He)|0,S=S+Math.imul(F,rt)|0,w=w+Math.imul(D,qe)|0,l=l+Math.imul(D,nt)|0,l=l+Math.imul(U,qe)|0,S=S+Math.imul(U,nt)|0;var vn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(vn>>>26)|0,vn&=67108863,w=Math.imul(ie,Be),l=Math.imul(ie,Le),l=l+Math.imul(fe,Be)|0,S=Math.imul(fe,Le),w=w+Math.imul(ee,$e)|0,l=l+Math.imul(ee,Ze)|0,l=l+Math.imul(z,$e)|0,S=S+Math.imul(z,Ze)|0,w=w+Math.imul(le,Ue)|0,l=l+Math.imul(le,Xe)|0,l=l+Math.imul(de,Ue)|0,S=S+Math.imul(de,Xe)|0,w=w+Math.imul(be,ze)|0,l=l+Math.imul(be,Je)|0,l=l+Math.imul(Ee,ze)|0,S=S+Math.imul(Ee,Je)|0,w=w+Math.imul(ne,We)|0,l=l+Math.imul(ne,Qe)|0,l=l+Math.imul(se,We)|0,S=S+Math.imul(se,Qe)|0,w=w+Math.imul(Se,je)|0,l=l+Math.imul(Se,et)|0,l=l+Math.imul(W,je)|0,S=S+Math.imul(W,et)|0,w=w+Math.imul(K,Ke)|0,l=l+Math.imul(K,tt)|0,l=l+Math.imul(oe,Ke)|0,S=S+Math.imul(oe,tt)|0,w=w+Math.imul(Q,He)|0,l=l+Math.imul(Q,rt)|0,l=l+Math.imul(te,He)|0,S=S+Math.imul(te,rt)|0,w=w+Math.imul($,qe)|0,l=l+Math.imul($,nt)|0,l=l+Math.imul(F,qe)|0,S=S+Math.imul(F,nt)|0;var wn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(wn>>>26)|0,wn&=67108863,w=Math.imul(ie,$e),l=Math.imul(ie,Ze),l=l+Math.imul(fe,$e)|0,S=Math.imul(fe,Ze),w=w+Math.imul(ee,Ue)|0,l=l+Math.imul(ee,Xe)|0,l=l+Math.imul(z,Ue)|0,S=S+Math.imul(z,Xe)|0,w=w+Math.imul(le,ze)|0,l=l+Math.imul(le,Je)|0,l=l+Math.imul(de,ze)|0,S=S+Math.imul(de,Je)|0,w=w+Math.imul(be,We)|0,l=l+Math.imul(be,Qe)|0,l=l+Math.imul(Ee,We)|0,S=S+Math.imul(Ee,Qe)|0,w=w+Math.imul(ne,je)|0,l=l+Math.imul(ne,et)|0,l=l+Math.imul(se,je)|0,S=S+Math.imul(se,et)|0,w=w+Math.imul(Se,Ke)|0,l=l+Math.imul(Se,tt)|0,l=l+Math.imul(W,Ke)|0,S=S+Math.imul(W,tt)|0,w=w+Math.imul(K,He)|0,l=l+Math.imul(K,rt)|0,l=l+Math.imul(oe,He)|0,S=S+Math.imul(oe,rt)|0,w=w+Math.imul(Q,qe)|0,l=l+Math.imul(Q,nt)|0,l=l+Math.imul(te,qe)|0,S=S+Math.imul(te,nt)|0;var Sn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,w=Math.imul(ie,Ue),l=Math.imul(ie,Xe),l=l+Math.imul(fe,Ue)|0,S=Math.imul(fe,Xe),w=w+Math.imul(ee,ze)|0,l=l+Math.imul(ee,Je)|0,l=l+Math.imul(z,ze)|0,S=S+Math.imul(z,Je)|0,w=w+Math.imul(le,We)|0,l=l+Math.imul(le,Qe)|0,l=l+Math.imul(de,We)|0,S=S+Math.imul(de,Qe)|0,w=w+Math.imul(be,je)|0,l=l+Math.imul(be,et)|0,l=l+Math.imul(Ee,je)|0,S=S+Math.imul(Ee,et)|0,w=w+Math.imul(ne,Ke)|0,l=l+Math.imul(ne,tt)|0,l=l+Math.imul(se,Ke)|0,S=S+Math.imul(se,tt)|0,w=w+Math.imul(Se,He)|0,l=l+Math.imul(Se,rt)|0,l=l+Math.imul(W,He)|0,S=S+Math.imul(W,rt)|0,w=w+Math.imul(K,qe)|0,l=l+Math.imul(K,nt)|0,l=l+Math.imul(oe,qe)|0,S=S+Math.imul(oe,nt)|0;var _n=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(_n>>>26)|0,_n&=67108863,w=Math.imul(ie,ze),l=Math.imul(ie,Je),l=l+Math.imul(fe,ze)|0,S=Math.imul(fe,Je),w=w+Math.imul(ee,We)|0,l=l+Math.imul(ee,Qe)|0,l=l+Math.imul(z,We)|0,S=S+Math.imul(z,Qe)|0,w=w+Math.imul(le,je)|0,l=l+Math.imul(le,et)|0,l=l+Math.imul(de,je)|0,S=S+Math.imul(de,et)|0,w=w+Math.imul(be,Ke)|0,l=l+Math.imul(be,tt)|0,l=l+Math.imul(Ee,Ke)|0,S=S+Math.imul(Ee,tt)|0,w=w+Math.imul(ne,He)|0,l=l+Math.imul(ne,rt)|0,l=l+Math.imul(se,He)|0,S=S+Math.imul(se,rt)|0,w=w+Math.imul(Se,qe)|0,l=l+Math.imul(Se,nt)|0,l=l+Math.imul(W,qe)|0,S=S+Math.imul(W,nt)|0;var An=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(An>>>26)|0,An&=67108863,w=Math.imul(ie,We),l=Math.imul(ie,Qe),l=l+Math.imul(fe,We)|0,S=Math.imul(fe,Qe),w=w+Math.imul(ee,je)|0,l=l+Math.imul(ee,et)|0,l=l+Math.imul(z,je)|0,S=S+Math.imul(z,et)|0,w=w+Math.imul(le,Ke)|0,l=l+Math.imul(le,tt)|0,l=l+Math.imul(de,Ke)|0,S=S+Math.imul(de,tt)|0,w=w+Math.imul(be,He)|0,l=l+Math.imul(be,rt)|0,l=l+Math.imul(Ee,He)|0,S=S+Math.imul(Ee,rt)|0,w=w+Math.imul(ne,qe)|0,l=l+Math.imul(ne,nt)|0,l=l+Math.imul(se,qe)|0,S=S+Math.imul(se,nt)|0;var xn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(xn>>>26)|0,xn&=67108863,w=Math.imul(ie,je),l=Math.imul(ie,et),l=l+Math.imul(fe,je)|0,S=Math.imul(fe,et),w=w+Math.imul(ee,Ke)|0,l=l+Math.imul(ee,tt)|0,l=l+Math.imul(z,Ke)|0,S=S+Math.imul(z,tt)|0,w=w+Math.imul(le,He)|0,l=l+Math.imul(le,rt)|0,l=l+Math.imul(de,He)|0,S=S+Math.imul(de,rt)|0,w=w+Math.imul(be,qe)|0,l=l+Math.imul(be,nt)|0,l=l+Math.imul(Ee,qe)|0,S=S+Math.imul(Ee,nt)|0;var En=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(En>>>26)|0,En&=67108863,w=Math.imul(ie,Ke),l=Math.imul(ie,tt),l=l+Math.imul(fe,Ke)|0,S=Math.imul(fe,tt),w=w+Math.imul(ee,He)|0,l=l+Math.imul(ee,rt)|0,l=l+Math.imul(z,He)|0,S=S+Math.imul(z,rt)|0,w=w+Math.imul(le,qe)|0,l=l+Math.imul(le,nt)|0,l=l+Math.imul(de,qe)|0,S=S+Math.imul(de,nt)|0;var kn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(kn>>>26)|0,kn&=67108863,w=Math.imul(ie,He),l=Math.imul(ie,rt),l=l+Math.imul(fe,He)|0,S=Math.imul(fe,rt),w=w+Math.imul(ee,qe)|0,l=l+Math.imul(ee,nt)|0,l=l+Math.imul(z,qe)|0,S=S+Math.imul(z,nt)|0;var Tn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,w=Math.imul(ie,qe),l=Math.imul(ie,nt),l=l+Math.imul(fe,qe)|0,S=Math.imul(fe,nt);var In=(E+w|0)+((l&8191)<<13)|0;return E=(S+(l>>>13)|0)+(In>>>26)|0,In&=67108863,_[0]=Jt,_[1]=Qt,_[2]=jr,_[3]=Kr,_[4]=Hr,_[5]=qr,_[6]=Vr,_[7]=yn,_[8]=bn,_[9]=vn,_[10]=wn,_[11]=Sn,_[12]=_n,_[13]=An,_[14]=xn,_[15]=En,_[16]=kn,_[17]=Tn,_[18]=In,E!==0&&(_[19]=E,p.length++),p};Math.imul||(x=A);function k(T,c,h){h.negative=c.negative^T.negative,h.length=T.length+c.length;for(var p=0,m=0,v=0;v<h.length-1;v++){var _=m;m=0;for(var E=p&67108863,w=Math.min(v,c.length-1),l=Math.max(0,v-T.length+1);l<=w;l++){var S=v-l,C=T.words[S]|0,D=c.words[l]|0,U=C*D,O=U&67108863;_=_+(U/67108864|0)|0,O=O+E|0,E=O&67108863,_=_+(O>>>26)|0,m+=_>>>26,_&=67108863}h.words[v]=E,p=_,_=m}return p!==0?h.words[v]=p:h.length--,h.strip()}function I(T,c,h){var p=new R;return p.mulp(T,c,h)}s.prototype.mulTo=function(c,h){var p,m=this.length+c.length;return this.length===10&&c.length===10?p=x(this,c,h):m<63?p=A(this,c,h):m<1024?p=k(this,c,h):p=I(this,c,h),p};function R(T,c){this.x=T,this.y=c}R.prototype.makeRBT=function(c){for(var h=new Array(c),p=s.prototype._countBits(c)-1,m=0;m<c;m++)h[m]=this.revBin(m,p,c);return h},R.prototype.revBin=function(c,h,p){if(c===0||c===p-1)return c;for(var m=0,v=0;v<h;v++)m|=(c&1)<<h-v-1,c>>=1;return m},R.prototype.permute=function(c,h,p,m,v,_){for(var E=0;E<_;E++)m[E]=h[c[E]],v[E]=p[c[E]]},R.prototype.transform=function(c,h,p,m,v,_){this.permute(_,c,h,p,m,v);for(var E=1;E<v;E<<=1)for(var w=E<<1,l=Math.cos(2*Math.PI/w),S=Math.sin(2*Math.PI/w),C=0;C<v;C+=w)for(var D=l,U=S,O=0;O<E;O++){var $=p[C+O],F=m[C+O],H=p[C+O+E],Q=m[C+O+E],te=D*H-U*Q;Q=D*Q+U*H,H=te,p[C+O]=$+H,m[C+O]=F+Q,p[C+O+E]=$-H,m[C+O+E]=F-Q,O!==w&&(te=l*D-S*U,U=l*U+S*D,D=te)}},R.prototype.guessLen13b=function(c,h){var p=Math.max(h,c)|1,m=p&1,v=0;for(p=p/2|0;p;p=p>>>1)v++;return 1<<v+1+m},R.prototype.conjugate=function(c,h,p){if(!(p<=1))for(var m=0;m<p/2;m++){var v=c[m];c[m]=c[p-m-1],c[p-m-1]=v,v=h[m],h[m]=-h[p-m-1],h[p-m-1]=-v}},R.prototype.normalize13b=function(c,h){for(var p=0,m=0;m<h/2;m++){var v=Math.round(c[2*m+1]/h)*8192+Math.round(c[2*m]/h)+p;c[m]=v&67108863,v<67108864?p=0:p=v/67108864|0}return c},R.prototype.convert13b=function(c,h,p,m){for(var v=0,_=0;_<h;_++)v=v+(c[_]|0),p[2*_]=v&8191,v=v>>>13,p[2*_+1]=v&8191,v=v>>>13;for(_=2*h;_<m;++_)p[_]=0;n(v===0),n((v&-8192)===0)},R.prototype.stub=function(c){for(var h=new Array(c),p=0;p<c;p++)h[p]=0;return h},R.prototype.mulp=function(c,h,p){var m=2*this.guessLen13b(c.length,h.length),v=this.makeRBT(m),_=this.stub(m),E=new Array(m),w=new Array(m),l=new Array(m),S=new Array(m),C=new Array(m),D=new Array(m),U=p.words;U.length=m,this.convert13b(c.words,c.length,E,m),this.convert13b(h.words,h.length,S,m),this.transform(E,_,w,l,m,v),this.transform(S,_,C,D,m,v);for(var O=0;O<m;O++){var $=w[O]*C[O]-l[O]*D[O];l[O]=w[O]*D[O]+l[O]*C[O],w[O]=$}return this.conjugate(w,l,m),this.transform(w,l,U,_,m,v),this.conjugate(U,_,m),this.normalize13b(U,m),p.negative=c.negative^h.negative,p.length=c.length+h.length,p.strip()},s.prototype.mul=function(c){var h=new s(null);return h.words=new Array(this.length+c.length),this.mulTo(c,h)},s.prototype.mulf=function(c){var h=new s(null);return h.words=new Array(this.length+c.length),I(this,c,h)},s.prototype.imul=function(c){return this.clone().mulTo(c,this)},s.prototype.imuln=function(c){n(typeof c=="number"),n(c<67108864);for(var h=0,p=0;p<this.length;p++){var m=(this.words[p]|0)*c,v=(m&67108863)+(h&67108863);h>>=26,h+=m/67108864|0,h+=v>>>26,this.words[p]=v&67108863}return h!==0&&(this.words[p]=h,this.length++),this},s.prototype.muln=function(c){return this.clone().imuln(c)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(c){var h=b(c);if(h.length===0)return new s(1);for(var p=this,m=0;m<h.length&&h[m]===0;m++,p=p.sqr());if(++m<h.length)for(var v=p.sqr();m<h.length;m++,v=v.sqr())h[m]!==0&&(p=p.mul(v));return p},s.prototype.iushln=function(c){n(typeof c=="number"&&c>=0);var h=c%26,p=(c-h)/26,m=67108863>>>26-h<<26-h,v;if(h!==0){var _=0;for(v=0;v<this.length;v++){var E=this.words[v]&m,w=(this.words[v]|0)-E<<h;this.words[v]=w|_,_=E>>>26-h}_&&(this.words[v]=_,this.length++)}if(p!==0){for(v=this.length-1;v>=0;v--)this.words[v+p]=this.words[v];for(v=0;v<p;v++)this.words[v]=0;this.length+=p}return this.strip()},s.prototype.ishln=function(c){return n(this.negative===0),this.iushln(c)},s.prototype.iushrn=function(c,h,p){n(typeof c=="number"&&c>=0);var m;h?m=(h-h%26)/26:m=0;var v=c%26,_=Math.min((c-v)/26,this.length),E=67108863^67108863>>>v<<v,w=p;if(m-=_,m=Math.max(0,m),w){for(var l=0;l<_;l++)w.words[l]=this.words[l];w.length=_}if(_!==0)if(this.length>_)for(this.length-=_,l=0;l<this.length;l++)this.words[l]=this.words[l+_];else this.words[0]=0,this.length=1;var S=0;for(l=this.length-1;l>=0&&(S!==0||l>=m);l--){var C=this.words[l]|0;this.words[l]=S<<26-v|C>>>v,S=C&E}return w&&S!==0&&(w.words[w.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(c,h,p){return n(this.negative===0),this.iushrn(c,h,p)},s.prototype.shln=function(c){return this.clone().ishln(c)},s.prototype.ushln=function(c){return this.clone().iushln(c)},s.prototype.shrn=function(c){return this.clone().ishrn(c)},s.prototype.ushrn=function(c){return this.clone().iushrn(c)},s.prototype.testn=function(c){n(typeof c=="number"&&c>=0);var h=c%26,p=(c-h)/26,m=1<<h;if(this.length<=p)return!1;var v=this.words[p];return!!(v&m)},s.prototype.imaskn=function(c){n(typeof c=="number"&&c>=0);var h=c%26,p=(c-h)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(h!==0&&p++,this.length=Math.min(p,this.length),h!==0){var m=67108863^67108863>>>h<<h;this.words[this.length-1]&=m}return this.strip()},s.prototype.maskn=function(c){return this.clone().imaskn(c)},s.prototype.iaddn=function(c){return n(typeof c=="number"),n(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},s.prototype._iaddn=function(c){this.words[0]+=c;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},s.prototype.isubn=function(c){if(n(typeof c=="number"),n(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},s.prototype.addn=function(c){return this.clone().iaddn(c)},s.prototype.subn=function(c){return this.clone().isubn(c)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(c,h,p){var m=c.length+p,v;this._expand(m);var _,E=0;for(v=0;v<c.length;v++){_=(this.words[v+p]|0)+E;var w=(c.words[v]|0)*h;_-=w&67108863,E=(_>>26)-(w/67108864|0),this.words[v+p]=_&67108863}for(;v<this.length-p;v++)_=(this.words[v+p]|0)+E,E=_>>26,this.words[v+p]=_&67108863;if(E===0)return this.strip();for(n(E===-1),E=0,v=0;v<this.length;v++)_=-(this.words[v]|0)+E,E=_>>26,this.words[v]=_&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(c,h){var p=this.length-c.length,m=this.clone(),v=c,_=v.words[v.length-1]|0,E=this._countBits(_);p=26-E,p!==0&&(v=v.ushln(p),m.iushln(p),_=v.words[v.length-1]|0);var w=m.length-v.length,l;if(h!=="mod"){l=new s(null),l.length=w+1,l.words=new Array(l.length);for(var S=0;S<l.length;S++)l.words[S]=0}var C=m.clone()._ishlnsubmul(v,1,w);C.negative===0&&(m=C,l&&(l.words[w]=1));for(var D=w-1;D>=0;D--){var U=(m.words[v.length+D]|0)*67108864+(m.words[v.length+D-1]|0);for(U=Math.min(U/_|0,67108863),m._ishlnsubmul(v,U,D);m.negative!==0;)U--,m.negative=0,m._ishlnsubmul(v,1,D),m.isZero()||(m.negative^=1);l&&(l.words[D]=U)}return l&&l.strip(),m.strip(),h!=="div"&&p!==0&&m.iushrn(p),{div:l||null,mod:m}},s.prototype.divmod=function(c,h,p){if(n(!c.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var m,v,_;return this.negative!==0&&c.negative===0?(_=this.neg().divmod(c,h),h!=="mod"&&(m=_.div.neg()),h!=="div"&&(v=_.mod.neg(),p&&v.negative!==0&&v.iadd(c)),{div:m,mod:v}):this.negative===0&&c.negative!==0?(_=this.divmod(c.neg(),h),h!=="mod"&&(m=_.div.neg()),{div:m,mod:_.mod}):this.negative&c.negative?(_=this.neg().divmod(c.neg(),h),h!=="div"&&(v=_.mod.neg(),p&&v.negative!==0&&v.isub(c)),{div:_.div,mod:v}):c.length>this.length||this.cmp(c)<0?{div:new s(0),mod:this}:c.length===1?h==="div"?{div:this.divn(c.words[0]),mod:null}:h==="mod"?{div:null,mod:new s(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new s(this.modn(c.words[0]))}:this._wordDiv(c,h)},s.prototype.div=function(c){return this.divmod(c,"div",!1).div},s.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},s.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},s.prototype.divRound=function(c){var h=this.divmod(c);if(h.mod.isZero())return h.div;var p=h.div.negative!==0?h.mod.isub(c):h.mod,m=c.ushrn(1),v=c.andln(1),_=p.cmp(m);return _<0||v===1&&_===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},s.prototype.modn=function(c){n(c<=67108863);for(var h=(1<<26)%c,p=0,m=this.length-1;m>=0;m--)p=(h*p+(this.words[m]|0))%c;return p},s.prototype.idivn=function(c){n(c<=67108863);for(var h=0,p=this.length-1;p>=0;p--){var m=(this.words[p]|0)+h*67108864;this.words[p]=m/c|0,h=m%c}return this.strip()},s.prototype.divn=function(c){return this.clone().idivn(c)},s.prototype.egcd=function(c){n(c.negative===0),n(!c.isZero());var h=this,p=c.clone();h.negative!==0?h=h.umod(c):h=h.clone();for(var m=new s(1),v=new s(0),_=new s(0),E=new s(1),w=0;h.isEven()&&p.isEven();)h.iushrn(1),p.iushrn(1),++w;for(var l=p.clone(),S=h.clone();!h.isZero();){for(var C=0,D=1;!(h.words[0]&D)&&C<26;++C,D<<=1);if(C>0)for(h.iushrn(C);C-- >0;)(m.isOdd()||v.isOdd())&&(m.iadd(l),v.isub(S)),m.iushrn(1),v.iushrn(1);for(var U=0,O=1;!(p.words[0]&O)&&U<26;++U,O<<=1);if(U>0)for(p.iushrn(U);U-- >0;)(_.isOdd()||E.isOdd())&&(_.iadd(l),E.isub(S)),_.iushrn(1),E.iushrn(1);h.cmp(p)>=0?(h.isub(p),m.isub(_),v.isub(E)):(p.isub(h),_.isub(m),E.isub(v))}return{a:_,b:E,gcd:p.iushln(w)}},s.prototype._invmp=function(c){n(c.negative===0),n(!c.isZero());var h=this,p=c.clone();h.negative!==0?h=h.umod(c):h=h.clone();for(var m=new s(1),v=new s(0),_=p.clone();h.cmpn(1)>0&&p.cmpn(1)>0;){for(var E=0,w=1;!(h.words[0]&w)&&E<26;++E,w<<=1);if(E>0)for(h.iushrn(E);E-- >0;)m.isOdd()&&m.iadd(_),m.iushrn(1);for(var l=0,S=1;!(p.words[0]&S)&&l<26;++l,S<<=1);if(l>0)for(p.iushrn(l);l-- >0;)v.isOdd()&&v.iadd(_),v.iushrn(1);h.cmp(p)>=0?(h.isub(p),m.isub(v)):(p.isub(h),v.isub(m))}var C;return h.cmpn(1)===0?C=m:C=v,C.cmpn(0)<0&&C.iadd(c),C},s.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var h=this.clone(),p=c.clone();h.negative=0,p.negative=0;for(var m=0;h.isEven()&&p.isEven();m++)h.iushrn(1),p.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;p.isEven();)p.iushrn(1);var v=h.cmp(p);if(v<0){var _=h;h=p,p=_}else if(v===0||p.cmpn(1)===0)break;h.isub(p)}while(!0);return p.iushln(m)},s.prototype.invm=function(c){return this.egcd(c).a.umod(c)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(c){return this.words[0]&c},s.prototype.bincn=function(c){n(typeof c=="number");var h=c%26,p=(c-h)/26,m=1<<h;if(this.length<=p)return this._expand(p+1),this.words[p]|=m,this;for(var v=m,_=p;v!==0&&_<this.length;_++){var E=this.words[_]|0;E+=v,v=E>>>26,E&=67108863,this.words[_]=E}return v!==0&&(this.words[_]=v,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(c){var h=c<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this.strip();var p;if(this.length>1)p=1;else{h&&(c=-c),n(c<=67108863,"Number is too big");var m=this.words[0]|0;p=m===c?0:m<c?-1:1}return this.negative!==0?-p|0:p},s.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var h=this.ucmp(c);return this.negative!==0?-h|0:h},s.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var h=0,p=this.length-1;p>=0;p--){var m=this.words[p]|0,v=c.words[p]|0;if(m!==v){m<v?h=-1:m>v&&(h=1);break}}return h},s.prototype.gtn=function(c){return this.cmpn(c)===1},s.prototype.gt=function(c){return this.cmp(c)===1},s.prototype.gten=function(c){return this.cmpn(c)>=0},s.prototype.gte=function(c){return this.cmp(c)>=0},s.prototype.ltn=function(c){return this.cmpn(c)===-1},s.prototype.lt=function(c){return this.cmp(c)===-1},s.prototype.lten=function(c){return this.cmpn(c)<=0},s.prototype.lte=function(c){return this.cmp(c)<=0},s.prototype.eqn=function(c){return this.cmpn(c)===0},s.prototype.eq=function(c){return this.cmp(c)===0},s.red=function(c){return new q(c)},s.prototype.toRed=function(c){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(c){return this.red=c,this},s.prototype.forceRed=function(c){return n(!this.red,"Already a number in reduction context"),this._forceRed(c)},s.prototype.redAdd=function(c){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},s.prototype.redIAdd=function(c){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},s.prototype.redSub=function(c){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},s.prototype.redISub=function(c){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},s.prototype.redShl=function(c){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},s.prototype.redMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},s.prototype.redIMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(c){return n(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var M={k256:null,p224:null,p192:null,p25519:null};function P(T,c){this.name=T,this.p=new s(c,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var c=new s(null);return c.words=new Array(Math.ceil(this.n/13)),c},P.prototype.ireduce=function(c){var h=c,p;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),p=h.bitLength();while(p>this.n);var m=p<this.n?-1:h.ucmp(this.p);return m===0?(h.words[0]=0,h.length=1):m>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},P.prototype.split=function(c,h){c.iushrn(this.n,0,h)},P.prototype.imulK=function(c){return c.imul(this.k)};function j(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(j,P),j.prototype.split=function(c,h){for(var p=4194303,m=Math.min(c.length,9),v=0;v<m;v++)h.words[v]=c.words[v];if(h.length=m,c.length<=9){c.words[0]=0,c.length=1;return}var _=c.words[9];for(h.words[h.length++]=_&p,v=10;v<c.length;v++){var E=c.words[v]|0;c.words[v-10]=(E&p)<<4|_>>>22,_=E}_>>>=22,c.words[v-10]=_,_===0&&c.length>10?c.length-=10:c.length-=9},j.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var h=0,p=0;p<c.length;p++){var m=c.words[p]|0;h+=m*977,c.words[p]=h&67108863,h=m*64+(h/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function V(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(V,P);function Z(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Z,P);function G(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(G,P),G.prototype.imulK=function(c){for(var h=0,p=0;p<c.length;p++){var m=(c.words[p]|0)*19+h,v=m&67108863;m>>>=26,c.words[p]=v,h=m}return h!==0&&(c.words[c.length++]=h),c},s._prime=function(c){if(M[c])return M[c];var h;if(c==="k256")h=new j;else if(c==="p224")h=new V;else if(c==="p192")h=new Z;else if(c==="p25519")h=new G;else throw new Error("Unknown prime "+c);return M[c]=h,h};function q(T){if(typeof T=="string"){var c=s._prime(T);this.m=c.p,this.prime=c}else n(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}q.prototype._verify1=function(c){n(c.negative===0,"red works only with positives"),n(c.red,"red works only with red numbers")},q.prototype._verify2=function(c,h){n((c.negative|h.negative)===0,"red works only with positives"),n(c.red&&c.red===h.red,"red works only with red numbers")},q.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},q.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},q.prototype.add=function(c,h){this._verify2(c,h);var p=c.add(h);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},q.prototype.iadd=function(c,h){this._verify2(c,h);var p=c.iadd(h);return p.cmp(this.m)>=0&&p.isub(this.m),p},q.prototype.sub=function(c,h){this._verify2(c,h);var p=c.sub(h);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},q.prototype.isub=function(c,h){this._verify2(c,h);var p=c.isub(h);return p.cmpn(0)<0&&p.iadd(this.m),p},q.prototype.shl=function(c,h){return this._verify1(c),this.imod(c.ushln(h))},q.prototype.imul=function(c,h){return this._verify2(c,h),this.imod(c.imul(h))},q.prototype.mul=function(c,h){return this._verify2(c,h),this.imod(c.mul(h))},q.prototype.isqr=function(c){return this.imul(c,c.clone())},q.prototype.sqr=function(c){return this.mul(c,c)},q.prototype.sqrt=function(c){if(c.isZero())return c.clone();var h=this.m.andln(3);if(n(h%2===1),h===3){var p=this.m.add(new s(1)).iushrn(2);return this.pow(c,p)}for(var m=this.m.subn(1),v=0;!m.isZero()&&m.andln(1)===0;)v++,m.iushrn(1);n(!m.isZero());var _=new s(1).toRed(this),E=_.redNeg(),w=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);this.pow(l,w).cmp(E)!==0;)l.redIAdd(E);for(var S=this.pow(l,m),C=this.pow(c,m.addn(1).iushrn(1)),D=this.pow(c,m),U=v;D.cmp(_)!==0;){for(var O=D,$=0;O.cmp(_)!==0;$++)O=O.redSqr();n($<U);var F=this.pow(S,new s(1).iushln(U-$-1));C=C.redMul(F),S=F.redSqr(),D=D.redMul(S),U=$}return C},q.prototype.invm=function(c){var h=c._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},q.prototype.pow=function(c,h){if(h.isZero())return new s(1).toRed(this);if(h.cmpn(1)===0)return c.clone();var p=4,m=new Array(1<<p);m[0]=new s(1).toRed(this),m[1]=c;for(var v=2;v<m.length;v++)m[v]=this.mul(m[v-1],c);var _=m[0],E=0,w=0,l=h.bitLength()%26;for(l===0&&(l=26),v=h.length-1;v>=0;v--){for(var S=h.words[v],C=l-1;C>=0;C--){var D=S>>C&1;if(_!==m[0]&&(_=this.sqr(_)),D===0&&E===0){w=0;continue}E<<=1,E|=D,w++,!(w!==p&&(v!==0||C!==0))&&(_=this.mul(_,m[E]),w=0,E=0)}l=26}return _},q.prototype.convertTo=function(c){var h=c.umod(this.m);return h===c?h.clone():h},q.prototype.convertFrom=function(c){var h=c.clone();return h.red=null,h},s.mont=function(c){return new ae(c)};function ae(T){q.call(this,T),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(ae,q),ae.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},ae.prototype.convertFrom=function(c){var h=this.imod(c.mul(this.rinv));return h.red=null,h},ae.prototype.imul=function(c,h){if(c.isZero()||h.isZero())return c.words[0]=0,c.length=1,c;var p=c.imul(h),m=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(m).iushrn(this.shift),_=v;return v.cmp(this.m)>=0?_=v.isub(this.m):v.cmpn(0)<0&&(_=v.iadd(this.m)),_._forceRed(this)},ae.prototype.mul=function(c,h){if(c.isZero()||h.isZero())return new s(0)._forceRed(this);var p=c.mul(h),m=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(m).iushrn(this.shift),_=v;return v.cmp(this.m)>=0?_=v.isub(this.m):v.cmpn(0)<0&&(_=v.iadd(this.m)),_._forceRed(this)},ae.prototype.invm=function(c){var h=this.imod(c._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(t,St)})(GO);var MFe=GO.exports,KA={exports:{}},ZK;function YO(){if(ZK)return KA.exports;ZK=1;var t;KA.exports=function(i){return t||(t=new e(null)),t.generate(i)};function e(n){this.rand=n}if(KA.exports.Rand=e,e.prototype.generate=function(i){return this._rand(i)},e.prototype._rand=function(i){if(this.rand.getBytes)return this.rand.getBytes(i);for(var s=new Uint8Array(i),o=0;o<s.length;o++)s[o]=this.rand.getByte();return s},typeof self=="object")self.crypto&&self.crypto.getRandomValues?e.prototype._rand=function(i){var s=new Uint8Array(i);return self.crypto.getRandomValues(s),s}:self.msCrypto&&self.msCrypto.getRandomValues?e.prototype._rand=function(i){var s=new Uint8Array(i);return self.msCrypto.getRandomValues(s),s}:typeof window=="object"&&(e.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var r=Jie();if(typeof r.randomBytes!="function")throw new Error("Not supported");e.prototype._rand=function(i){return r.randomBytes(i)}}catch{}return KA.exports}var NR,XK;function Jne(){if(XK)return NR;XK=1;var t=MFe,e=YO();function r(n){this.rand=n||new e.Rand}return NR=r,r.create=function(i){return new r(i)},r.prototype._randbelow=function(i){var s=i.bitLength(),o=Math.ceil(s/8);do var a=new t(this.rand.generate(o));while(a.cmp(i)>=0);return a},r.prototype._randrange=function(i,s){var o=s.sub(i);return i.add(this._randbelow(o))},r.prototype.test=function(i,s,o){var a=i.bitLength(),u=t.mont(i),f=new t(1).toRed(u);s||(s=Math.max(1,a/48|0));for(var d=i.subn(1),g=0;!d.testn(g);g++);for(var y=i.shrn(g),b=d.toRed(u),A=!0;s>0;s--){var x=this._randrange(new t(2),d);o&&o(x);var k=x.toRed(u).redPow(y);if(!(k.cmp(f)===0||k.cmp(b)===0)){for(var I=1;I<g;I++){if(k=k.redSqr(),k.cmp(f)===0)return!1;if(k.cmp(b)===0)break}if(I===g)return!1}}return A},r.prototype.getDivisor=function(i,s){var o=i.bitLength(),a=t.mont(i),u=new t(1).toRed(a);s||(s=Math.max(1,o/48|0));for(var f=i.subn(1),d=0;!f.testn(d);d++);for(var g=i.shrn(d),y=f.toRed(a);s>0;s--){var b=this._randrange(new t(2),f),A=i.gcd(b);if(A.cmpn(1)!==0)return A;var x=b.toRed(a).redPow(g);if(!(x.cmp(u)===0||x.cmp(y)===0)){for(var k=1;k<d;k++){if(x=x.redSqr(),x.cmp(u)===0)return x.fromRed().subn(1).gcd(i);if(x.cmp(y)===0)break}if(k===d)return x=x.redSqr(),x.fromRed().subn(1).gcd(i)}}return!1},NR}var BR,JK;function Qne(){if(JK)return BR;JK=1;var t=x1;BR=k,k.simpleSieve=A,k.fermatTest=x;var e=Xne,r=new e(24),n=Jne(),i=new n,s=new e(1),o=new e(2),a=new e(5);new e(16),new e(8);var u=new e(10),f=new e(3);new e(7);var d=new e(11),g=new e(4);new e(12);var y=null;function b(){if(y!==null)return y;var I=1048576,R=[];R[0]=2;for(var M=1,P=3;P<I;P+=2){for(var j=Math.ceil(Math.sqrt(P)),V=0;V<M&&R[V]<=j&&P%R[V]!==0;V++);M!==V&&R[V]<=j||(R[M++]=P)}return y=R,R}function A(I){for(var R=b(),M=0;M<R.length;M++)if(I.modn(R[M])===0)return I.cmpn(R[M])===0;return!0}function x(I){var R=e.mont(I);return o.toRed(R).redPow(I.subn(1)).fromRed().cmpn(1)===0}function k(I,R){if(I<16)return R===2||R===5?new e([140,123]):new e([140,39]);R=new e(R);for(var M,P;;){for(M=new e(t(Math.ceil(I/8)));M.bitLength()>I;)M.ishrn(1);if(M.isEven()&&M.iadd(s),M.testn(1)||M.iadd(o),R.cmp(o)){if(!R.cmp(a))for(;M.mod(u).cmp(f);)M.iadd(g)}else for(;M.mod(r).cmp(d);)M.iadd(g);if(P=M.shrn(1),A(P)&&A(M)&&x(P)&&x(M)&&i.test(P)&&i.test(M))return M}}return BR}const CFe={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},PFe={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},NFe={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},BFe={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},OFe={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},LFe={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},DFe={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},FFe={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},$Fe={modp1:CFe,modp2:PFe,modp5:NFe,modp14:BFe,modp15:OFe,modp16:LFe,modp17:DFe,modp18:FFe};var OR,QK;function UFe(){if(QK)return OR;QK=1;var t=Xne,e=Jne(),r=new e,n=new t(24),i=new t(11),s=new t(10),o=new t(3),a=new t(7),u=Qne(),f=x1;OR=A;function d(k,I){return I=I||"utf8",we.Buffer.isBuffer(k)||(k=new we.Buffer(k,I)),this._pub=new t(k),this}function g(k,I){return I=I||"utf8",we.Buffer.isBuffer(k)||(k=new we.Buffer(k,I)),this._priv=new t(k),this}var y={};function b(k,I){var R=I.toString("hex"),M=[R,k.toString(16)].join("_");if(M in y)return y[M];var P=0;if(k.isEven()||!u.simpleSieve||!u.fermatTest(k)||!r.test(k))return P+=1,R==="02"||R==="05"?P+=8:P+=4,y[M]=P,P;r.test(k.shrn(1))||(P+=2);var j;switch(R){case"02":k.mod(n).cmp(i)&&(P+=8);break;case"05":j=k.mod(s),j.cmp(o)&&j.cmp(a)&&(P+=8);break;default:P+=4}return y[M]=P,P}function A(k,I,R){this.setGenerator(I),this.__prime=new t(k),this._prime=t.mont(this.__prime),this._primeLen=k.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,R?(this.setPublicKey=d,this.setPrivateKey=g):this._primeCode=8}Object.defineProperty(A.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=b(this.__prime,this.__gen)),this._primeCode}}),A.prototype.generateKeys=function(){return this._priv||(this._priv=new t(f(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},A.prototype.computeSecret=function(k){k=new t(k),k=k.toRed(this._prime);var I=k.redPow(this._priv).fromRed(),R=new we.Buffer(I.toArray()),M=this.getPrime();if(R.length<M.length){var P=new we.Buffer(M.length-R.length);P.fill(0),R=we.Buffer.concat([P,R])}return R},A.prototype.getPublicKey=function(I){return x(this._pub,I)},A.prototype.getPrivateKey=function(I){return x(this._priv,I)},A.prototype.getPrime=function(k){return x(this.__prime,k)},A.prototype.getGenerator=function(k){return x(this._gen,k)},A.prototype.setGenerator=function(k,I){return I=I||"utf8",we.Buffer.isBuffer(k)||(k=new we.Buffer(k,I)),this.__gen=k,this._gen=new t(k),this};function x(k,I){var R=new we.Buffer(k.toArray());return I?R.toString(I):R}return OR}var eH;function zFe(){if(eH)return rp;eH=1;var t=Qne(),e=$Fe,r=UFe();function n(o){var a=new we.Buffer(e[o].prime,"hex"),u=new we.Buffer(e[o].gen,"hex");return new r(a,u)}var i={binary:!0,hex:!0,base64:!0};function s(o,a,u,f){return we.Buffer.isBuffer(a)||i[a]===void 0?s(o,"binary",a,u):(a=a||"binary",f=f||"binary",u=u||new we.Buffer([2]),we.Buffer.isBuffer(u)||(u=new we.Buffer(u,f)),typeof o=="number"?new r(t(o,u),u,!0):(we.Buffer.isBuffer(o)||(o=new we.Buffer(o,a)),new r(o,u,!0)))}return rp.DiffieHellmanGroup=rp.createDiffieHellmanGroup=rp.getDiffieHellman=n,rp.createDiffieHellman=rp.DiffieHellman=s,rp}var WP={exports:{}},jP={exports:{}};typeof we.process>"u"||!we.process.version||we.process.version.indexOf("v0.")===0||we.process.version.indexOf("v1.")===0&&we.process.version.indexOf("v1.8.")!==0?jP.exports={nextTick:WFe}:jP.exports=we.process;function WFe(t,e,r,n){if(typeof t!="function")throw new TypeError('"callback" argument must be a function');var i=arguments.length,s,o;switch(i){case 0:case 1:return we.process.nextTick(t);case 2:return we.process.nextTick(function(){t.call(null,e)});case 3:return we.process.nextTick(function(){t.call(null,e,r)});case 4:return we.process.nextTick(function(){t.call(null,e,r,n)});default:for(s=new Array(i-1),o=0;o<s.length;)s[o++]=arguments[o];return we.process.nextTick(function(){t.apply(null,s)})}}var tT=jP.exports,jFe={}.toString,KFe=Array.isArray||function(t){return jFe.call(t)=="[object Array]"},eie=zk.EventEmitter,KP={exports:{}};(function(t,e){var r=xe,n=r.Buffer;function i(o,a){for(var u in o)a[u]=o[u]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,a,u){return n(o,a,u)}i(n,s),s.from=function(o,a,u){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,u)},s.alloc=function(o,a,u){if(typeof o!="number")throw new TypeError("Argument must be a number");var f=n(o);return a!==void 0?typeof u=="string"?f.fill(a,u):f.fill(a):f.fill(0),f},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(KP,KP.exports);var ZO=KP.exports,Wi={};function HFe(t){return Array.isArray?Array.isArray(t):rT(t)==="[object Array]"}Wi.isArray=HFe;function qFe(t){return typeof t=="boolean"}Wi.isBoolean=qFe;function VFe(t){return t===null}Wi.isNull=VFe;function GFe(t){return t==null}Wi.isNullOrUndefined=GFe;function YFe(t){return typeof t=="number"}Wi.isNumber=YFe;function ZFe(t){return typeof t=="string"}Wi.isString=ZFe;function XFe(t){return typeof t=="symbol"}Wi.isSymbol=XFe;function JFe(t){return t===void 0}Wi.isUndefined=JFe;function QFe(t){return rT(t)==="[object RegExp]"}Wi.isRegExp=QFe;function e$e(t){return typeof t=="object"&&t!==null}Wi.isObject=e$e;function t$e(t){return rT(t)==="[object Date]"}Wi.isDate=t$e;function r$e(t){return rT(t)==="[object Error]"||t instanceof Error}Wi.isError=r$e;function n$e(t){return typeof t=="function"}Wi.isFunction=n$e;function i$e(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}Wi.isPrimitive=i$e;Wi.isBuffer=xe.Buffer.isBuffer;function rT(t){return Object.prototype.toString.call(t)}var LR={exports:{}},tH;function s$e(){return tH||(tH=1,function(t){function e(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")}var r=ZO.Buffer,n=E1;function i(s,o,a){s.copy(o,a)}t.exports=function(){function s(){e(this,s),this.head=null,this.tail=null,this.length=0}return s.prototype.push=function(a){var u={data:a,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length},s.prototype.unshift=function(a){var u={data:a,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length},s.prototype.shift=function(){if(this.length!==0){var a=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,a}},s.prototype.clear=function(){this.head=this.tail=null,this.length=0},s.prototype.join=function(a){if(this.length===0)return"";for(var u=this.head,f=""+u.data;u=u.next;)f+=a+u.data;return f},s.prototype.concat=function(a){if(this.length===0)return r.alloc(0);for(var u=r.allocUnsafe(a>>>0),f=this.head,d=0;f;)i(f.data,u,d),d+=f.data.length,f=f.next;return u},s}(),n&&n.inspect&&n.inspect.custom&&(t.exports.prototype[n.inspect.custom]=function(){var s=n.inspect({length:this.length});return this.constructor.name+" "+s})}(LR)),LR.exports}var HA=tT;function o$e(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,HA.nextTick(qA,this,t)):HA.nextTick(qA,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,HA.nextTick(qA,r,s)):HA.nextTick(qA,r,s):e&&e(s)}),this)}function a$e(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function qA(t,e){t.emit("error",e)}var tie={destroy:o$e,undestroy:a$e},DR,rH;function rie(){if(rH)return DR;rH=1;var t=tT;DR=x;function e(_){var E=this;this.next=null,this.entry=null,this.finish=function(){v(E,_)}}var r=!we.process.browser&&["v0.10","v0.9."].indexOf(we.process.version.slice(0,5))>-1?setImmediate:t.nextTick,n;x.WritableState=b;var i=Object.create(Wi);i.inherits=rr;var s={deprecate:Dre},o=eie,a=ZO.Buffer,u=(typeof St<"u"?St:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function f(_){return a.from(_)}function d(_){return a.isBuffer(_)||_ instanceof u}var g=tie;i.inherits(x,o);function y(){}function b(_,E){n=n||$b(),_=_||{};var w=E instanceof n;this.objectMode=!!_.objectMode,w&&(this.objectMode=this.objectMode||!!_.writableObjectMode);var l=_.highWaterMark,S=_.writableHighWaterMark,C=this.objectMode?16:16*1024;l||l===0?this.highWaterMark=l:w&&(S||S===0)?this.highWaterMark=S:this.highWaterMark=C,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var D=_.decodeStrings===!1;this.decodeStrings=!D,this.defaultEncoding=_.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(U){Z(E,U)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}b.prototype.getBuffer=function(){for(var E=this.bufferedRequest,w=[];E;)w.push(E),E=E.next;return w},function(){try{Object.defineProperty(b.prototype,"buffer",{get:s.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var A;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(A=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(_){return A.call(this,_)?!0:this!==x?!1:_&&_._writableState instanceof b}})):A=function(_){return _ instanceof this};function x(_){if(n=n||$b(),!A.call(x,this)&&!(this instanceof n))return new x(_);this._writableState=new b(_,this),this.writable=!0,_&&(typeof _.write=="function"&&(this._write=_.write),typeof _.writev=="function"&&(this._writev=_.writev),typeof _.destroy=="function"&&(this._destroy=_.destroy),typeof _.final=="function"&&(this._final=_.final)),o.call(this)}x.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function k(_,E){var w=new Error("write after end");_.emit("error",w),t.nextTick(E,w)}function I(_,E,w,l){var S=!0,C=!1;return w===null?C=new TypeError("May not write null values to stream"):typeof w!="string"&&w!==void 0&&!E.objectMode&&(C=new TypeError("Invalid non-string/buffer chunk")),C&&(_.emit("error",C),t.nextTick(l,C),S=!1),S}x.prototype.write=function(_,E,w){var l=this._writableState,S=!1,C=!l.objectMode&&d(_);return C&&!a.isBuffer(_)&&(_=f(_)),typeof E=="function"&&(w=E,E=null),C?E="buffer":E||(E=l.defaultEncoding),typeof w!="function"&&(w=y),l.ended?k(this,w):(C||I(this,l,_,w))&&(l.pendingcb++,S=M(this,l,C,_,E,w)),S},x.prototype.cork=function(){var _=this._writableState;_.corked++},x.prototype.uncork=function(){var _=this._writableState;_.corked&&(_.corked--,!_.writing&&!_.corked&&!_.bufferProcessing&&_.bufferedRequest&&ae(this,_))},x.prototype.setDefaultEncoding=function(E){if(typeof E=="string"&&(E=E.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((E+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+E);return this._writableState.defaultEncoding=E,this};function R(_,E,w){return!_.objectMode&&_.decodeStrings!==!1&&typeof E=="string"&&(E=a.from(E,w)),E}Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function M(_,E,w,l,S,C){if(!w){var D=R(E,l,S);l!==D&&(w=!0,S="buffer",l=D)}var U=E.objectMode?1:l.length;E.length+=U;var O=E.length<E.highWaterMark;if(O||(E.needDrain=!0),E.writing||E.corked){var $=E.lastBufferedRequest;E.lastBufferedRequest={chunk:l,encoding:S,isBuf:w,callback:C,next:null},$?$.next=E.lastBufferedRequest:E.bufferedRequest=E.lastBufferedRequest,E.bufferedRequestCount+=1}else P(_,E,!1,U,l,S,C);return O}function P(_,E,w,l,S,C,D){E.writelen=l,E.writecb=D,E.writing=!0,E.sync=!0,w?_._writev(S,E.onwrite):_._write(S,C,E.onwrite),E.sync=!1}function j(_,E,w,l,S){--E.pendingcb,w?(t.nextTick(S,l),t.nextTick(p,_,E),_._writableState.errorEmitted=!0,_.emit("error",l)):(S(l),_._writableState.errorEmitted=!0,_.emit("error",l),p(_,E))}function V(_){_.writing=!1,_.writecb=null,_.length-=_.writelen,_.writelen=0}function Z(_,E){var w=_._writableState,l=w.sync,S=w.writecb;if(V(w),E)j(_,w,l,E,S);else{var C=T(w);!C&&!w.corked&&!w.bufferProcessing&&w.bufferedRequest&&ae(_,w),l?r(G,_,w,C,S):G(_,w,C,S)}}function G(_,E,w,l){w||q(_,E),E.pendingcb--,l(),p(_,E)}function q(_,E){E.length===0&&E.needDrain&&(E.needDrain=!1,_.emit("drain"))}function ae(_,E){E.bufferProcessing=!0;var w=E.bufferedRequest;if(_._writev&&w&&w.next){var l=E.bufferedRequestCount,S=new Array(l),C=E.corkedRequestsFree;C.entry=w;for(var D=0,U=!0;w;)S[D]=w,w.isBuf||(U=!1),w=w.next,D+=1;S.allBuffers=U,P(_,E,!0,E.length,S,"",C.finish),E.pendingcb++,E.lastBufferedRequest=null,C.next?(E.corkedRequestsFree=C.next,C.next=null):E.corkedRequestsFree=new e(E),E.bufferedRequestCount=0}else{for(;w;){var O=w.chunk,$=w.encoding,F=w.callback,H=E.objectMode?1:O.length;if(P(_,E,!1,H,O,$,F),w=w.next,E.bufferedRequestCount--,E.writing)break}w===null&&(E.lastBufferedRequest=null)}E.bufferedRequest=w,E.bufferProcessing=!1}x.prototype._write=function(_,E,w){w(new Error("_write() is not implemented"))},x.prototype._writev=null,x.prototype.end=function(_,E,w){var l=this._writableState;typeof _=="function"?(w=_,_=null,E=null):typeof E=="function"&&(w=E,E=null),_!=null&&this.write(_,E),l.corked&&(l.corked=1,this.uncork()),l.ending||m(this,l,w)};function T(_){return _.ending&&_.length===0&&_.bufferedRequest===null&&!_.finished&&!_.writing}function c(_,E){_._final(function(w){E.pendingcb--,w&&_.emit("error",w),E.prefinished=!0,_.emit("prefinish"),p(_,E)})}function h(_,E){!E.prefinished&&!E.finalCalled&&(typeof _._final=="function"?(E.pendingcb++,E.finalCalled=!0,t.nextTick(c,_,E)):(E.prefinished=!0,_.emit("prefinish")))}function p(_,E){var w=T(E);return w&&(h(_,E),E.pendingcb===0&&(E.finished=!0,_.emit("finish"))),w}function m(_,E,w){E.ending=!0,p(_,E),w&&(E.finished?t.nextTick(w):_.once("finish",w)),E.ended=!0,_.writable=!1}function v(_,E,w){var l=_.entry;for(_.entry=null;l;){var S=l.callback;E.pendingcb--,S(w),l=l.next}E.corkedRequestsFree.next=_}return Object.defineProperty(x.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(_){this._writableState&&(this._writableState.destroyed=_)}}),x.prototype.destroy=g.destroy,x.prototype._undestroy=g.undestroy,x.prototype._destroy=function(_,E){this.end(),E(_)},DR}var FR,nH;function $b(){if(nH)return FR;nH=1;var t=tT,e=Object.keys||function(g){var y=[];for(var b in g)y.push(b);return y};FR=u;var r=Object.create(Wi);r.inherits=rr;var n=nie(),i=rie();r.inherits(u,n);for(var s=e(i.prototype),o=0;o<s.length;o++){var a=s[o];u.prototype[a]||(u.prototype[a]=i.prototype[a])}function u(g){if(!(this instanceof u))return new u(g);n.call(this,g),i.call(this,g),g&&g.readable===!1&&(this.readable=!1),g&&g.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,g&&g.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",f)}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function f(){this.allowHalfOpen||this._writableState.ended||t.nextTick(d,this)}function d(g){g.end()}return Object.defineProperty(u.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=g,this._writableState.destroyed=g)}}),u.prototype._destroy=function(g,y){this.push(null),this.end(),t.nextTick(y,g)},FR}var $R={},VA={exports:{}},iH;function u$e(){return iH||(iH=1,function(t,e){var r=xe,n=r.Buffer;function i(o,a){for(var u in o)a[u]=o[u]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,a,u){return n(o,a,u)}i(n,s),s.from=function(o,a,u){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,u)},s.alloc=function(o,a,u){if(typeof o!="number")throw new TypeError("Argument must be a number");var f=n(o);return a!==void 0?typeof u=="string"?f.fill(a,u):f.fill(a):f.fill(0),f},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}}(VA,VA.exports)),VA.exports}var sH;function oH(){if(sH)return $R;sH=1;var t=u$e().Buffer,e=t.isEncoding||function(I){switch(I=""+I,I&&I.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(I){if(!I)return"utf8";for(var R;;)switch(I){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return I;default:if(R)return;I=(""+I).toLowerCase(),R=!0}}function n(I){var R=r(I);if(typeof R!="string"&&(t.isEncoding===e||!e(I)))throw new Error("Unknown encoding: "+I);return R||I}$R.StringDecoder=i;function i(I){this.encoding=n(I);var R;switch(this.encoding){case"utf16le":this.text=g,this.end=y,R=4;break;case"utf8":this.fillLast=u,R=4;break;case"base64":this.text=b,this.end=A,R=3;break;default:this.write=x,this.end=k;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(R)}i.prototype.write=function(I){if(I.length===0)return"";var R,M;if(this.lastNeed){if(R=this.fillLast(I),R===void 0)return"";M=this.lastNeed,this.lastNeed=0}else M=0;return M<I.length?R?R+this.text(I,M):this.text(I,M):R||""},i.prototype.end=d,i.prototype.text=f,i.prototype.fillLast=function(I){if(this.lastNeed<=I.length)return I.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);I.copy(this.lastChar,this.lastTotal-this.lastNeed,0,I.length),this.lastNeed-=I.length};function s(I){return I<=127?0:I>>5===6?2:I>>4===14?3:I>>3===30?4:I>>6===2?-1:-2}function o(I,R,M){var P=R.length-1;if(P<M)return 0;var j=s(R[P]);return j>=0?(j>0&&(I.lastNeed=j-1),j):--P<M||j===-2?0:(j=s(R[P]),j>=0?(j>0&&(I.lastNeed=j-2),j):--P<M||j===-2?0:(j=s(R[P]),j>=0?(j>0&&(j===2?j=0:I.lastNeed=j-3),j):0))}function a(I,R,M){if((R[0]&192)!==128)return I.lastNeed=0,"";if(I.lastNeed>1&&R.length>1){if((R[1]&192)!==128)return I.lastNeed=1,"";if(I.lastNeed>2&&R.length>2&&(R[2]&192)!==128)return I.lastNeed=2,""}}function u(I){var R=this.lastTotal-this.lastNeed,M=a(this,I);if(M!==void 0)return M;if(this.lastNeed<=I.length)return I.copy(this.lastChar,R,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);I.copy(this.lastChar,R,0,I.length),this.lastNeed-=I.length}function f(I,R){var M=o(this,I,R);if(!this.lastNeed)return I.toString("utf8",R);this.lastTotal=M;var P=I.length-(M-this.lastNeed);return I.copy(this.lastChar,0,P),I.toString("utf8",R,P)}function d(I){var R=I&&I.length?this.write(I):"";return this.lastNeed?R+"":R}function g(I,R){if((I.length-R)%2===0){var M=I.toString("utf16le",R);if(M){var P=M.charCodeAt(M.length-1);if(P>=55296&&P<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=I[I.length-2],this.lastChar[1]=I[I.length-1],M.slice(0,-1)}return M}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=I[I.length-1],I.toString("utf16le",R,I.length-1)}function y(I){var R=I&&I.length?this.write(I):"";if(this.lastNeed){var M=this.lastTotal-this.lastNeed;return R+this.lastChar.toString("utf16le",0,M)}return R}function b(I,R){var M=(I.length-R)%3;return M===0?I.toString("base64",R):(this.lastNeed=3-M,this.lastTotal=3,M===1?this.lastChar[0]=I[I.length-1]:(this.lastChar[0]=I[I.length-2],this.lastChar[1]=I[I.length-1]),I.toString("base64",R,I.length-M))}function A(I){var R=I&&I.length?this.write(I):"";return this.lastNeed?R+this.lastChar.toString("base64",0,3-this.lastNeed):R}function x(I){return I.toString(this.encoding)}function k(I){return I&&I.length?this.write(I):""}return $R}var UR,aH;function nie(){if(aH)return UR;aH=1;var t=tT;UR=R;var e=KFe,r;R.ReadableState=I,zk.EventEmitter;var n=function(F,H){return F.listeners(H).length},i=eie,s=ZO.Buffer,o=(typeof St<"u"?St:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(F){return s.from(F)}function u(F){return s.isBuffer(F)||F instanceof o}var f=Object.create(Wi);f.inherits=rr;var d=E1,g=void 0;d&&d.debuglog?g=d.debuglog("stream"):g=function(){};var y=s$e(),b=tie,A;f.inherits(R,i);var x=["error","close","destroy","pause","resume"];function k(F,H,Q){if(typeof F.prependListener=="function")return F.prependListener(H,Q);!F._events||!F._events[H]?F.on(H,Q):e(F._events[H])?F._events[H].unshift(Q):F._events[H]=[Q,F._events[H]]}function I(F,H){r=r||$b(),F=F||{};var Q=H instanceof r;this.objectMode=!!F.objectMode,Q&&(this.objectMode=this.objectMode||!!F.readableObjectMode);var te=F.highWaterMark,X=F.readableHighWaterMark,K=this.objectMode?16:16*1024;te||te===0?this.highWaterMark=te:Q&&(X||X===0)?this.highWaterMark=X:this.highWaterMark=K,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=F.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,F.encoding&&(A||(A=oH().StringDecoder),this.decoder=new A(F.encoding),this.encoding=F.encoding)}function R(F){if(r=r||$b(),!(this instanceof R))return new R(F);this._readableState=new I(F,this),this.readable=!0,F&&(typeof F.read=="function"&&(this._read=F.read),typeof F.destroy=="function"&&(this._destroy=F.destroy)),i.call(this)}Object.defineProperty(R.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(F){this._readableState&&(this._readableState.destroyed=F)}}),R.prototype.destroy=b.destroy,R.prototype._undestroy=b.undestroy,R.prototype._destroy=function(F,H){this.push(null),H(F)},R.prototype.push=function(F,H){var Q=this._readableState,te;return Q.objectMode?te=!0:typeof F=="string"&&(H=H||Q.defaultEncoding,H!==Q.encoding&&(F=s.from(F,H),H=""),te=!0),M(this,F,H,!1,te)},R.prototype.unshift=function(F){return M(this,F,null,!0,!1)};function M(F,H,Q,te,X){var K=F._readableState;if(H===null)K.reading=!1,ae(F,K);else{var oe;X||(oe=j(K,H)),oe?F.emit("error",oe):K.objectMode||H&&H.length>0?(typeof H!="string"&&!K.objectMode&&Object.getPrototypeOf(H)!==s.prototype&&(H=a(H)),te?K.endEmitted?F.emit("error",new Error("stream.unshift() after end event")):P(F,K,H,!0):K.ended?F.emit("error",new Error("stream.push() after EOF")):(K.reading=!1,K.decoder&&!Q?(H=K.decoder.write(H),K.objectMode||H.length!==0?P(F,K,H,!1):h(F,K)):P(F,K,H,!1))):te||(K.reading=!1)}return V(K)}function P(F,H,Q,te){H.flowing&&H.length===0&&!H.sync?(F.emit("data",Q),F.read(0)):(H.length+=H.objectMode?1:Q.length,te?H.buffer.unshift(Q):H.buffer.push(Q),H.needReadable&&T(F)),h(F,H)}function j(F,H){var Q;return!u(H)&&typeof H!="string"&&H!==void 0&&!F.objectMode&&(Q=new TypeError("Invalid non-string/buffer chunk")),Q}function V(F){return!F.ended&&(F.needReadable||F.length<F.highWaterMark||F.length===0)}R.prototype.isPaused=function(){return this._readableState.flowing===!1},R.prototype.setEncoding=function(F){return A||(A=oH().StringDecoder),this._readableState.decoder=new A(F),this._readableState.encoding=F,this};var Z=8388608;function G(F){return F>=Z?F=Z:(F--,F|=F>>>1,F|=F>>>2,F|=F>>>4,F|=F>>>8,F|=F>>>16,F++),F}function q(F,H){return F<=0||H.length===0&&H.ended?0:H.objectMode?1:F!==F?H.flowing&&H.length?H.buffer.head.data.length:H.length:(F>H.highWaterMark&&(H.highWaterMark=G(F)),F<=H.length?F:H.ended?H.length:(H.needReadable=!0,0))}R.prototype.read=function(F){g("read",F),F=parseInt(F,10);var H=this._readableState,Q=F;if(F!==0&&(H.emittedReadable=!1),F===0&&H.needReadable&&(H.length>=H.highWaterMark||H.ended))return g("read: emitReadable",H.length,H.ended),H.length===0&&H.ended?U(this):T(this),null;if(F=q(F,H),F===0&&H.ended)return H.length===0&&U(this),null;var te=H.needReadable;g("need readable",te),(H.length===0||H.length-F<H.highWaterMark)&&(te=!0,g("length less than watermark",te)),H.ended||H.reading?(te=!1,g("reading or ended",te)):te&&(g("do read"),H.reading=!0,H.sync=!0,H.length===0&&(H.needReadable=!0),this._read(H.highWaterMark),H.sync=!1,H.reading||(F=q(Q,H)));var X;return F>0?X=l(F,H):X=null,X===null?(H.needReadable=!0,F=0):H.length-=F,H.length===0&&(H.ended||(H.needReadable=!0),Q!==F&&H.ended&&U(this)),X!==null&&this.emit("data",X),X};function ae(F,H){if(!H.ended){if(H.decoder){var Q=H.decoder.end();Q&&Q.length&&(H.buffer.push(Q),H.length+=H.objectMode?1:Q.length)}H.ended=!0,T(F)}}function T(F){var H=F._readableState;H.needReadable=!1,H.emittedReadable||(g("emitReadable",H.flowing),H.emittedReadable=!0,H.sync?t.nextTick(c,F):c(F))}function c(F){g("emit readable"),F.emit("readable"),w(F)}function h(F,H){H.readingMore||(H.readingMore=!0,t.nextTick(p,F,H))}function p(F,H){for(var Q=H.length;!H.reading&&!H.flowing&&!H.ended&&H.length<H.highWaterMark&&(g("maybeReadMore read 0"),F.read(0),Q!==H.length);)Q=H.length;H.readingMore=!1}R.prototype._read=function(F){this.emit("error",new Error("_read() is not implemented"))},R.prototype.pipe=function(F,H){var Q=this,te=this._readableState;switch(te.pipesCount){case 0:te.pipes=F;break;case 1:te.pipes=[te.pipes,F];break;default:te.pipes.push(F);break}te.pipesCount+=1,g("pipe count=%d opts=%j",te.pipesCount,H);var X=(!H||H.end!==!1)&&F!==we.process.stdout&&F!==we.process.stderr,K=X?_e:ut;te.endEmitted?t.nextTick(K):Q.once("end",K),F.on("unpipe",oe);function oe(le,de){g("onunpipe"),le===Q&&de&&de.hasUnpiped===!1&&(de.hasUnpiped=!0,re())}function _e(){g("onend"),F.end()}var Se=m(Q);F.on("drain",Se);var W=!1;function re(){g("cleanup"),F.removeListener("close",be),F.removeListener("finish",Ee),F.removeListener("drain",Se),F.removeListener("error",Te),F.removeListener("unpipe",oe),Q.removeListener("end",_e),Q.removeListener("end",ut),Q.removeListener("data",se),W=!0,te.awaitDrain&&(!F._writableState||F._writableState.needDrain)&&Se()}var ne=!1;Q.on("data",se);function se(le){g("ondata"),ne=!1;var de=F.write(le);de===!1&&!ne&&((te.pipesCount===1&&te.pipes===F||te.pipesCount>1&&$(te.pipes,F)!==-1)&&!W&&(g("false write response, pause",te.awaitDrain),te.awaitDrain++,ne=!0),Q.pause())}function Te(le){g("onerror",le),ut(),F.removeListener("error",Te),n(F,"error")===0&&F.emit("error",le)}k(F,"error",Te);function be(){F.removeListener("finish",Ee),ut()}F.once("close",be);function Ee(){g("onfinish"),F.removeListener("close",be),ut()}F.once("finish",Ee);function ut(){g("unpipe"),Q.unpipe(F)}return F.emit("pipe",Q),te.flowing||(g("pipe resume"),Q.resume()),F};function m(F){return function(){var H=F._readableState;g("pipeOnDrain",H.awaitDrain),H.awaitDrain&&H.awaitDrain--,H.awaitDrain===0&&n(F,"data")&&(H.flowing=!0,w(F))}}R.prototype.unpipe=function(F){var H=this._readableState,Q={hasUnpiped:!1};if(H.pipesCount===0)return this;if(H.pipesCount===1)return F&&F!==H.pipes?this:(F||(F=H.pipes),H.pipes=null,H.pipesCount=0,H.flowing=!1,F&&F.emit("unpipe",this,Q),this);if(!F){var te=H.pipes,X=H.pipesCount;H.pipes=null,H.pipesCount=0,H.flowing=!1;for(var K=0;K<X;K++)te[K].emit("unpipe",this,{hasUnpiped:!1});return this}var oe=$(H.pipes,F);return oe===-1?this:(H.pipes.splice(oe,1),H.pipesCount-=1,H.pipesCount===1&&(H.pipes=H.pipes[0]),F.emit("unpipe",this,Q),this)},R.prototype.on=function(F,H){var Q=i.prototype.on.call(this,F,H);if(F==="data")this._readableState.flowing!==!1&&this.resume();else if(F==="readable"){var te=this._readableState;!te.endEmitted&&!te.readableListening&&(te.readableListening=te.needReadable=!0,te.emittedReadable=!1,te.reading?te.length&&T(this):t.nextTick(v,this))}return Q},R.prototype.addListener=R.prototype.on;function v(F){g("readable nexttick read 0"),F.read(0)}R.prototype.resume=function(){var F=this._readableState;return F.flowing||(g("resume"),F.flowing=!0,_(this,F)),this};function _(F,H){H.resumeScheduled||(H.resumeScheduled=!0,t.nextTick(E,F,H))}function E(F,H){H.reading||(g("resume read 0"),F.read(0)),H.resumeScheduled=!1,H.awaitDrain=0,F.emit("resume"),w(F),H.flowing&&!H.reading&&F.read(0)}R.prototype.pause=function(){return g("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(g("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function w(F){var H=F._readableState;for(g("flow",H.flowing);H.flowing&&F.read()!==null;);}R.prototype.wrap=function(F){var H=this,Q=this._readableState,te=!1;F.on("end",function(){if(g("wrapped end"),Q.decoder&&!Q.ended){var oe=Q.decoder.end();oe&&oe.length&&H.push(oe)}H.push(null)}),F.on("data",function(oe){if(g("wrapped data"),Q.decoder&&(oe=Q.decoder.write(oe)),!(Q.objectMode&&oe==null)&&!(!Q.objectMode&&(!oe||!oe.length))){var _e=H.push(oe);_e||(te=!0,F.pause())}});for(var X in F)this[X]===void 0&&typeof F[X]=="function"&&(this[X]=function(oe){return function(){return F[oe].apply(F,arguments)}}(X));for(var K=0;K<x.length;K++)F.on(x[K],this.emit.bind(this,x[K]));return this._read=function(oe){g("wrapped _read",oe),te&&(te=!1,F.resume())},this},Object.defineProperty(R.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),R._fromList=l;function l(F,H){if(H.length===0)return null;var Q;return H.objectMode?Q=H.buffer.shift():!F||F>=H.length?(H.decoder?Q=H.buffer.join(""):H.buffer.length===1?Q=H.buffer.head.data:Q=H.buffer.concat(H.length),H.buffer.clear()):Q=S(F,H.buffer,H.decoder),Q}function S(F,H,Q){var te;return F<H.head.data.length?(te=H.head.data.slice(0,F),H.head.data=H.head.data.slice(F)):F===H.head.data.length?te=H.shift():te=Q?C(F,H):D(F,H),te}function C(F,H){var Q=H.head,te=1,X=Q.data;for(F-=X.length;Q=Q.next;){var K=Q.data,oe=F>K.length?K.length:F;if(oe===K.length?X+=K:X+=K.slice(0,F),F-=oe,F===0){oe===K.length?(++te,Q.next?H.head=Q.next:H.head=H.tail=null):(H.head=Q,Q.data=K.slice(oe));break}++te}return H.length-=te,X}function D(F,H){var Q=s.allocUnsafe(F),te=H.head,X=1;for(te.data.copy(Q),F-=te.data.length;te=te.next;){var K=te.data,oe=F>K.length?K.length:F;if(K.copy(Q,Q.length-F,0,oe),F-=oe,F===0){oe===K.length?(++X,te.next?H.head=te.next:H.head=H.tail=null):(H.head=te,te.data=K.slice(oe));break}++X}return H.length-=X,Q}function U(F){var H=F._readableState;if(H.length>0)throw new Error('"endReadable()" called on non-empty stream');H.endEmitted||(H.ended=!0,t.nextTick(O,H,F))}function O(F,H){!F.endEmitted&&F.length===0&&(F.endEmitted=!0,H.readable=!1,H.emit("end"))}function $(F,H){for(var Q=0,te=F.length;Q<te;Q++)if(F[Q]===H)return Q;return-1}return UR}var iie=Qf,nT=$b(),sie=Object.create(Wi);sie.inherits=rr;sie.inherits(Qf,nT);function c$e(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Qf(t){if(!(this instanceof Qf))return new Qf(t);nT.call(this,t),this._transformState={afterTransform:c$e.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",l$e)}function l$e(){var t=this;typeof this._flush=="function"?this._flush(function(e,r){uH(t,e,r)}):uH(this,null,null)}Qf.prototype.push=function(t,e){return this._transformState.needTransform=!1,nT.prototype.push.call(this,t,e)};Qf.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")};Qf.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Qf.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Qf.prototype._destroy=function(t,e){var r=this;nT.prototype._destroy.call(this,t,function(n){e(n),r.emit("close")})};function uH(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}var f$e=dS,oie=iie,aie=Object.create(Wi);aie.inherits=rr;aie.inherits(dS,oie);function dS(t){if(!(this instanceof dS))return new dS(t);oie.call(this,t)}dS.prototype._transform=function(t,e,r){r(null,t)};(function(t,e){e=t.exports=nie(),e.Stream=e,e.Readable=e,e.Writable=rie(),e.Duplex=$b(),e.Transform=iie,e.PassThrough=f$e})(WP,WP.exports);var d$e=WP.exports,vv={exports:{}},dy=Z0,h$e=x1,p$e=dr.Buffer;function uie(t){var e=t.modulus.byteLength(),r;do r=new dy(h$e(e));while(r.cmp(t.modulus)>=0||!r.umod(t.prime1)||!r.umod(t.prime2));return r}function g$e(t){var e=uie(t),r=e.toRed(dy.mont(t.modulus)).redPow(new dy(t.publicExponent)).fromRed();return{blinder:r,unblinder:e.invm(t.modulus)}}function cie(t,e){var r=g$e(e),n=e.modulus.byteLength(),i=new dy(t).mul(r.blinder).umod(e.modulus),s=i.toRed(dy.mont(e.prime1)),o=i.toRed(dy.mont(e.prime2)),a=e.coefficient,u=e.prime1,f=e.prime2,d=s.redPow(e.exponent1).fromRed(),g=o.redPow(e.exponent2).fromRed(),y=d.isub(g).imul(a).umod(u).imul(f);return g.iadd(y).imul(r.unblinder).umod(e.modulus).toArrayLike(p$e,"be",n)}cie.getr=uie;var XO=cie,zR={};const m$e="6.6.1",y$e={version:m$e};var Pa={},JO={exports:{}};JO.exports;(function(t){(function(e,r){function n(T,c){if(!T)throw new Error(c||"Assertion failed")}function i(T,c){T.super_=c;var h=function(){};h.prototype=c.prototype,T.prototype=new h,T.prototype.constructor=T}function s(T,c,h){if(s.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,T!==null&&((c==="le"||c==="be")&&(h=c,c=10),this._init(T||0,c||10,h||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=xe.Buffer}catch{}s.isBN=function(c){return c instanceof s?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===s.wordSize&&Array.isArray(c.words)},s.max=function(c,h){return c.cmp(h)>0?c:h},s.min=function(c,h){return c.cmp(h)<0?c:h},s.prototype._init=function(c,h,p){if(typeof c=="number")return this._initNumber(c,h,p);if(typeof c=="object")return this._initArray(c,h,p);h==="hex"&&(h=16),n(h===(h|0)&&h>=2&&h<=36),c=c.toString().replace(/\s+/g,"");var m=0;c[0]==="-"&&(m++,this.negative=1),m<c.length&&(h===16?this._parseHex(c,m,p):(this._parseBase(c,h,m),p==="le"&&this._initArray(this.toArray(),h,p)))},s.prototype._initNumber=function(c,h,p){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(n(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),h,p)},s.prototype._initArray=function(c,h,p){if(n(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var v,_,E=0;if(p==="be")for(m=c.length-1,v=0;m>=0;m-=3)_=c[m]|c[m-1]<<8|c[m-2]<<16,this.words[v]|=_<<E&67108863,this.words[v+1]=_>>>26-E&67108863,E+=24,E>=26&&(E-=26,v++);else if(p==="le")for(m=0,v=0;m<c.length;m+=3)_=c[m]|c[m+1]<<8|c[m+2]<<16,this.words[v]|=_<<E&67108863,this.words[v+1]=_>>>26-E&67108863,E+=24,E>=26&&(E-=26,v++);return this.strip()};function a(T,c){var h=T.charCodeAt(c);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function u(T,c,h){var p=a(T,h);return h-1>=c&&(p|=a(T,h-1)<<4),p}s.prototype._parseHex=function(c,h,p){this.length=Math.ceil((c.length-h)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var v=0,_=0,E;if(p==="be")for(m=c.length-1;m>=h;m-=2)E=u(c,h,m)<<v,this.words[_]|=E&67108863,v>=18?(v-=18,_+=1,this.words[_]|=E>>>26):v+=8;else{var w=c.length-h;for(m=w%2===0?h+1:h;m<c.length;m+=2)E=u(c,h,m)<<v,this.words[_]|=E&67108863,v>=18?(v-=18,_+=1,this.words[_]|=E>>>26):v+=8}this.strip()};function f(T,c,h,p){for(var m=0,v=Math.min(T.length,h),_=c;_<v;_++){var E=T.charCodeAt(_)-48;m*=p,E>=49?m+=E-49+10:E>=17?m+=E-17+10:m+=E}return m}s.prototype._parseBase=function(c,h,p){this.words=[0],this.length=1;for(var m=0,v=1;v<=67108863;v*=h)m++;m--,v=v/h|0;for(var _=c.length-p,E=_%m,w=Math.min(_,_-E)+p,l=0,S=p;S<w;S+=m)l=f(c,S,S+m,h),this.imuln(v),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(E!==0){var C=1;for(l=f(c,S,c.length,h),S=0;S<E;S++)C*=h;this.imuln(C),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},s.prototype.copy=function(c){c.words=new Array(this.length);for(var h=0;h<this.length;h++)c.words[h]=this.words[h];c.length=this.length,c.negative=this.negative,c.red=this.red},s.prototype.clone=function(){var c=new s(null);return this.copy(c),c},s.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(c,h){c=c||10,h=h|0||1;var p;if(c===16||c==="hex"){p="";for(var m=0,v=0,_=0;_<this.length;_++){var E=this.words[_],w=((E<<m|v)&16777215).toString(16);v=E>>>24-m&16777215,m+=2,m>=26&&(m-=26,_--),v!==0||_!==this.length-1?p=d[6-w.length]+w+p:p=w+p}for(v!==0&&(p=v.toString(16)+p);p.length%h!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(c===(c|0)&&c>=2&&c<=36){var l=g[c],S=y[c];p="";var C=this.clone();for(C.negative=0;!C.isZero();){var D=C.modn(S).toString(c);C=C.idivn(S),C.isZero()?p=D+p:p=d[l-D.length]+D+p}for(this.isZero()&&(p="0"+p);p.length%h!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(c,h){return n(typeof o<"u"),this.toArrayLike(o,c,h)},s.prototype.toArray=function(c,h){return this.toArrayLike(Array,c,h)},s.prototype.toArrayLike=function(c,h,p){var m=this.byteLength(),v=p||Math.max(1,m);n(m<=v,"byte array longer than desired length"),n(v>0,"Requested array length <= 0"),this.strip();var _=h==="le",E=new c(v),w,l,S=this.clone();if(_){for(l=0;!S.isZero();l++)w=S.andln(255),S.iushrn(8),E[l]=w;for(;l<v;l++)E[l]=0}else{for(l=0;l<v-m;l++)E[l]=0;for(l=0;!S.isZero();l++)w=S.andln(255),S.iushrn(8),E[v-l-1]=w}return E},Math.clz32?s.prototype._countBits=function(c){return 32-Math.clz32(c)}:s.prototype._countBits=function(c){var h=c,p=0;return h>=4096&&(p+=13,h>>>=13),h>=64&&(p+=7,h>>>=7),h>=8&&(p+=4,h>>>=4),h>=2&&(p+=2,h>>>=2),p+h},s.prototype._zeroBits=function(c){if(c===0)return 26;var h=c,p=0;return h&8191||(p+=13,h>>>=13),h&127||(p+=7,h>>>=7),h&15||(p+=4,h>>>=4),h&3||(p+=2,h>>>=2),h&1||p++,p},s.prototype.bitLength=function(){var c=this.words[this.length-1],h=this._countBits(c);return(this.length-1)*26+h};function b(T){for(var c=new Array(T.bitLength()),h=0;h<c.length;h++){var p=h/26|0,m=h%26;c[h]=(T.words[p]&1<<m)>>>m}return c}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,h=0;h<this.length;h++){var p=this._zeroBits(this.words[h]);if(c+=p,p!==26)break}return c},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},s.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var h=0;h<c.length;h++)this.words[h]=this.words[h]|c.words[h];return this.strip()},s.prototype.ior=function(c){return n((this.negative|c.negative)===0),this.iuor(c)},s.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},s.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},s.prototype.iuand=function(c){var h;this.length>c.length?h=c:h=this;for(var p=0;p<h.length;p++)this.words[p]=this.words[p]&c.words[p];return this.length=h.length,this.strip()},s.prototype.iand=function(c){return n((this.negative|c.negative)===0),this.iuand(c)},s.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},s.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},s.prototype.iuxor=function(c){var h,p;this.length>c.length?(h=this,p=c):(h=c,p=this);for(var m=0;m<p.length;m++)this.words[m]=h.words[m]^p.words[m];if(this!==h)for(;m<h.length;m++)this.words[m]=h.words[m];return this.length=h.length,this.strip()},s.prototype.ixor=function(c){return n((this.negative|c.negative)===0),this.iuxor(c)},s.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},s.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},s.prototype.inotn=function(c){n(typeof c=="number"&&c>=0);var h=Math.ceil(c/26)|0,p=c%26;this._expand(h),p>0&&h--;for(var m=0;m<h;m++)this.words[m]=~this.words[m]&67108863;return p>0&&(this.words[m]=~this.words[m]&67108863>>26-p),this.strip()},s.prototype.notn=function(c){return this.clone().inotn(c)},s.prototype.setn=function(c,h){n(typeof c=="number"&&c>=0);var p=c/26|0,m=c%26;return this._expand(p+1),h?this.words[p]=this.words[p]|1<<m:this.words[p]=this.words[p]&~(1<<m),this.strip()},s.prototype.iadd=function(c){var h;if(this.negative!==0&&c.negative===0)return this.negative=0,h=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,h=this.isub(c),c.negative=1,h._normSign();var p,m;this.length>c.length?(p=this,m=c):(p=c,m=this);for(var v=0,_=0;_<m.length;_++)h=(p.words[_]|0)+(m.words[_]|0)+v,this.words[_]=h&67108863,v=h>>>26;for(;v!==0&&_<p.length;_++)h=(p.words[_]|0)+v,this.words[_]=h&67108863,v=h>>>26;if(this.length=p.length,v!==0)this.words[this.length]=v,this.length++;else if(p!==this)for(;_<p.length;_++)this.words[_]=p.words[_];return this},s.prototype.add=function(c){var h;return c.negative!==0&&this.negative===0?(c.negative=0,h=this.sub(c),c.negative^=1,h):c.negative===0&&this.negative!==0?(this.negative=0,h=c.sub(this),this.negative=1,h):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},s.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var h=this.iadd(c);return c.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var p=this.cmp(c);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,v;p>0?(m=this,v=c):(m=c,v=this);for(var _=0,E=0;E<v.length;E++)h=(m.words[E]|0)-(v.words[E]|0)+_,_=h>>26,this.words[E]=h&67108863;for(;_!==0&&E<m.length;E++)h=(m.words[E]|0)+_,_=h>>26,this.words[E]=h&67108863;if(_===0&&E<m.length&&m!==this)for(;E<m.length;E++)this.words[E]=m.words[E];return this.length=Math.max(this.length,E),m!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(c){return this.clone().isub(c)};function A(T,c,h){h.negative=c.negative^T.negative;var p=T.length+c.length|0;h.length=p,p=p-1|0;var m=T.words[0]|0,v=c.words[0]|0,_=m*v,E=_&67108863,w=_/67108864|0;h.words[0]=E;for(var l=1;l<p;l++){for(var S=w>>>26,C=w&67108863,D=Math.min(l,c.length-1),U=Math.max(0,l-T.length+1);U<=D;U++){var O=l-U|0;m=T.words[O]|0,v=c.words[U]|0,_=m*v+C,S+=_/67108864|0,C=_&67108863}h.words[l]=C|0,w=S|0}return w!==0?h.words[l]=w|0:h.length--,h.strip()}var x=function(c,h,p){var m=c.words,v=h.words,_=p.words,E=0,w,l,S,C=m[0]|0,D=C&8191,U=C>>>13,O=m[1]|0,$=O&8191,F=O>>>13,H=m[2]|0,Q=H&8191,te=H>>>13,X=m[3]|0,K=X&8191,oe=X>>>13,_e=m[4]|0,Se=_e&8191,W=_e>>>13,re=m[5]|0,ne=re&8191,se=re>>>13,Te=m[6]|0,be=Te&8191,Ee=Te>>>13,ut=m[7]|0,le=ut&8191,de=ut>>>13,Fe=m[8]|0,ee=Fe&8191,z=Fe>>>13,J=m[9]|0,ie=J&8191,fe=J>>>13,ke=v[0]|0,ve=ke&8191,Ne=ke>>>13,kt=v[1]|0,Be=kt&8191,Le=kt>>>13,yt=v[2]|0,$e=yt&8191,Ze=yt>>>13,nr=v[3]|0,Ue=nr&8191,Xe=nr>>>13,ir=v[4]|0,ze=ir&8191,Je=ir>>>13,sr=v[5]|0,We=sr&8191,Qe=sr>>>13,or=v[6]|0,je=or&8191,et=or>>>13,ar=v[7]|0,Ke=ar&8191,tt=ar>>>13,ur=v[8]|0,He=ur&8191,rt=ur>>>13,cr=v[9]|0,qe=cr&8191,nt=cr>>>13;p.negative=c.negative^h.negative,p.length=19,w=Math.imul(D,ve),l=Math.imul(D,Ne),l=l+Math.imul(U,ve)|0,S=Math.imul(U,Ne);var Jt=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,w=Math.imul($,ve),l=Math.imul($,Ne),l=l+Math.imul(F,ve)|0,S=Math.imul(F,Ne),w=w+Math.imul(D,Be)|0,l=l+Math.imul(D,Le)|0,l=l+Math.imul(U,Be)|0,S=S+Math.imul(U,Le)|0;var Qt=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,w=Math.imul(Q,ve),l=Math.imul(Q,Ne),l=l+Math.imul(te,ve)|0,S=Math.imul(te,Ne),w=w+Math.imul($,Be)|0,l=l+Math.imul($,Le)|0,l=l+Math.imul(F,Be)|0,S=S+Math.imul(F,Le)|0,w=w+Math.imul(D,$e)|0,l=l+Math.imul(D,Ze)|0,l=l+Math.imul(U,$e)|0,S=S+Math.imul(U,Ze)|0;var jr=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(jr>>>26)|0,jr&=67108863,w=Math.imul(K,ve),l=Math.imul(K,Ne),l=l+Math.imul(oe,ve)|0,S=Math.imul(oe,Ne),w=w+Math.imul(Q,Be)|0,l=l+Math.imul(Q,Le)|0,l=l+Math.imul(te,Be)|0,S=S+Math.imul(te,Le)|0,w=w+Math.imul($,$e)|0,l=l+Math.imul($,Ze)|0,l=l+Math.imul(F,$e)|0,S=S+Math.imul(F,Ze)|0,w=w+Math.imul(D,Ue)|0,l=l+Math.imul(D,Xe)|0,l=l+Math.imul(U,Ue)|0,S=S+Math.imul(U,Xe)|0;var Kr=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,w=Math.imul(Se,ve),l=Math.imul(Se,Ne),l=l+Math.imul(W,ve)|0,S=Math.imul(W,Ne),w=w+Math.imul(K,Be)|0,l=l+Math.imul(K,Le)|0,l=l+Math.imul(oe,Be)|0,S=S+Math.imul(oe,Le)|0,w=w+Math.imul(Q,$e)|0,l=l+Math.imul(Q,Ze)|0,l=l+Math.imul(te,$e)|0,S=S+Math.imul(te,Ze)|0,w=w+Math.imul($,Ue)|0,l=l+Math.imul($,Xe)|0,l=l+Math.imul(F,Ue)|0,S=S+Math.imul(F,Xe)|0,w=w+Math.imul(D,ze)|0,l=l+Math.imul(D,Je)|0,l=l+Math.imul(U,ze)|0,S=S+Math.imul(U,Je)|0;var Hr=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,w=Math.imul(ne,ve),l=Math.imul(ne,Ne),l=l+Math.imul(se,ve)|0,S=Math.imul(se,Ne),w=w+Math.imul(Se,Be)|0,l=l+Math.imul(Se,Le)|0,l=l+Math.imul(W,Be)|0,S=S+Math.imul(W,Le)|0,w=w+Math.imul(K,$e)|0,l=l+Math.imul(K,Ze)|0,l=l+Math.imul(oe,$e)|0,S=S+Math.imul(oe,Ze)|0,w=w+Math.imul(Q,Ue)|0,l=l+Math.imul(Q,Xe)|0,l=l+Math.imul(te,Ue)|0,S=S+Math.imul(te,Xe)|0,w=w+Math.imul($,ze)|0,l=l+Math.imul($,Je)|0,l=l+Math.imul(F,ze)|0,S=S+Math.imul(F,Je)|0,w=w+Math.imul(D,We)|0,l=l+Math.imul(D,Qe)|0,l=l+Math.imul(U,We)|0,S=S+Math.imul(U,Qe)|0;var qr=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(qr>>>26)|0,qr&=67108863,w=Math.imul(be,ve),l=Math.imul(be,Ne),l=l+Math.imul(Ee,ve)|0,S=Math.imul(Ee,Ne),w=w+Math.imul(ne,Be)|0,l=l+Math.imul(ne,Le)|0,l=l+Math.imul(se,Be)|0,S=S+Math.imul(se,Le)|0,w=w+Math.imul(Se,$e)|0,l=l+Math.imul(Se,Ze)|0,l=l+Math.imul(W,$e)|0,S=S+Math.imul(W,Ze)|0,w=w+Math.imul(K,Ue)|0,l=l+Math.imul(K,Xe)|0,l=l+Math.imul(oe,Ue)|0,S=S+Math.imul(oe,Xe)|0,w=w+Math.imul(Q,ze)|0,l=l+Math.imul(Q,Je)|0,l=l+Math.imul(te,ze)|0,S=S+Math.imul(te,Je)|0,w=w+Math.imul($,We)|0,l=l+Math.imul($,Qe)|0,l=l+Math.imul(F,We)|0,S=S+Math.imul(F,Qe)|0,w=w+Math.imul(D,je)|0,l=l+Math.imul(D,et)|0,l=l+Math.imul(U,je)|0,S=S+Math.imul(U,et)|0;var Vr=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,w=Math.imul(le,ve),l=Math.imul(le,Ne),l=l+Math.imul(de,ve)|0,S=Math.imul(de,Ne),w=w+Math.imul(be,Be)|0,l=l+Math.imul(be,Le)|0,l=l+Math.imul(Ee,Be)|0,S=S+Math.imul(Ee,Le)|0,w=w+Math.imul(ne,$e)|0,l=l+Math.imul(ne,Ze)|0,l=l+Math.imul(se,$e)|0,S=S+Math.imul(se,Ze)|0,w=w+Math.imul(Se,Ue)|0,l=l+Math.imul(Se,Xe)|0,l=l+Math.imul(W,Ue)|0,S=S+Math.imul(W,Xe)|0,w=w+Math.imul(K,ze)|0,l=l+Math.imul(K,Je)|0,l=l+Math.imul(oe,ze)|0,S=S+Math.imul(oe,Je)|0,w=w+Math.imul(Q,We)|0,l=l+Math.imul(Q,Qe)|0,l=l+Math.imul(te,We)|0,S=S+Math.imul(te,Qe)|0,w=w+Math.imul($,je)|0,l=l+Math.imul($,et)|0,l=l+Math.imul(F,je)|0,S=S+Math.imul(F,et)|0,w=w+Math.imul(D,Ke)|0,l=l+Math.imul(D,tt)|0,l=l+Math.imul(U,Ke)|0,S=S+Math.imul(U,tt)|0;var yn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(yn>>>26)|0,yn&=67108863,w=Math.imul(ee,ve),l=Math.imul(ee,Ne),l=l+Math.imul(z,ve)|0,S=Math.imul(z,Ne),w=w+Math.imul(le,Be)|0,l=l+Math.imul(le,Le)|0,l=l+Math.imul(de,Be)|0,S=S+Math.imul(de,Le)|0,w=w+Math.imul(be,$e)|0,l=l+Math.imul(be,Ze)|0,l=l+Math.imul(Ee,$e)|0,S=S+Math.imul(Ee,Ze)|0,w=w+Math.imul(ne,Ue)|0,l=l+Math.imul(ne,Xe)|0,l=l+Math.imul(se,Ue)|0,S=S+Math.imul(se,Xe)|0,w=w+Math.imul(Se,ze)|0,l=l+Math.imul(Se,Je)|0,l=l+Math.imul(W,ze)|0,S=S+Math.imul(W,Je)|0,w=w+Math.imul(K,We)|0,l=l+Math.imul(K,Qe)|0,l=l+Math.imul(oe,We)|0,S=S+Math.imul(oe,Qe)|0,w=w+Math.imul(Q,je)|0,l=l+Math.imul(Q,et)|0,l=l+Math.imul(te,je)|0,S=S+Math.imul(te,et)|0,w=w+Math.imul($,Ke)|0,l=l+Math.imul($,tt)|0,l=l+Math.imul(F,Ke)|0,S=S+Math.imul(F,tt)|0,w=w+Math.imul(D,He)|0,l=l+Math.imul(D,rt)|0,l=l+Math.imul(U,He)|0,S=S+Math.imul(U,rt)|0;var bn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(bn>>>26)|0,bn&=67108863,w=Math.imul(ie,ve),l=Math.imul(ie,Ne),l=l+Math.imul(fe,ve)|0,S=Math.imul(fe,Ne),w=w+Math.imul(ee,Be)|0,l=l+Math.imul(ee,Le)|0,l=l+Math.imul(z,Be)|0,S=S+Math.imul(z,Le)|0,w=w+Math.imul(le,$e)|0,l=l+Math.imul(le,Ze)|0,l=l+Math.imul(de,$e)|0,S=S+Math.imul(de,Ze)|0,w=w+Math.imul(be,Ue)|0,l=l+Math.imul(be,Xe)|0,l=l+Math.imul(Ee,Ue)|0,S=S+Math.imul(Ee,Xe)|0,w=w+Math.imul(ne,ze)|0,l=l+Math.imul(ne,Je)|0,l=l+Math.imul(se,ze)|0,S=S+Math.imul(se,Je)|0,w=w+Math.imul(Se,We)|0,l=l+Math.imul(Se,Qe)|0,l=l+Math.imul(W,We)|0,S=S+Math.imul(W,Qe)|0,w=w+Math.imul(K,je)|0,l=l+Math.imul(K,et)|0,l=l+Math.imul(oe,je)|0,S=S+Math.imul(oe,et)|0,w=w+Math.imul(Q,Ke)|0,l=l+Math.imul(Q,tt)|0,l=l+Math.imul(te,Ke)|0,S=S+Math.imul(te,tt)|0,w=w+Math.imul($,He)|0,l=l+Math.imul($,rt)|0,l=l+Math.imul(F,He)|0,S=S+Math.imul(F,rt)|0,w=w+Math.imul(D,qe)|0,l=l+Math.imul(D,nt)|0,l=l+Math.imul(U,qe)|0,S=S+Math.imul(U,nt)|0;var vn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(vn>>>26)|0,vn&=67108863,w=Math.imul(ie,Be),l=Math.imul(ie,Le),l=l+Math.imul(fe,Be)|0,S=Math.imul(fe,Le),w=w+Math.imul(ee,$e)|0,l=l+Math.imul(ee,Ze)|0,l=l+Math.imul(z,$e)|0,S=S+Math.imul(z,Ze)|0,w=w+Math.imul(le,Ue)|0,l=l+Math.imul(le,Xe)|0,l=l+Math.imul(de,Ue)|0,S=S+Math.imul(de,Xe)|0,w=w+Math.imul(be,ze)|0,l=l+Math.imul(be,Je)|0,l=l+Math.imul(Ee,ze)|0,S=S+Math.imul(Ee,Je)|0,w=w+Math.imul(ne,We)|0,l=l+Math.imul(ne,Qe)|0,l=l+Math.imul(se,We)|0,S=S+Math.imul(se,Qe)|0,w=w+Math.imul(Se,je)|0,l=l+Math.imul(Se,et)|0,l=l+Math.imul(W,je)|0,S=S+Math.imul(W,et)|0,w=w+Math.imul(K,Ke)|0,l=l+Math.imul(K,tt)|0,l=l+Math.imul(oe,Ke)|0,S=S+Math.imul(oe,tt)|0,w=w+Math.imul(Q,He)|0,l=l+Math.imul(Q,rt)|0,l=l+Math.imul(te,He)|0,S=S+Math.imul(te,rt)|0,w=w+Math.imul($,qe)|0,l=l+Math.imul($,nt)|0,l=l+Math.imul(F,qe)|0,S=S+Math.imul(F,nt)|0;var wn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(wn>>>26)|0,wn&=67108863,w=Math.imul(ie,$e),l=Math.imul(ie,Ze),l=l+Math.imul(fe,$e)|0,S=Math.imul(fe,Ze),w=w+Math.imul(ee,Ue)|0,l=l+Math.imul(ee,Xe)|0,l=l+Math.imul(z,Ue)|0,S=S+Math.imul(z,Xe)|0,w=w+Math.imul(le,ze)|0,l=l+Math.imul(le,Je)|0,l=l+Math.imul(de,ze)|0,S=S+Math.imul(de,Je)|0,w=w+Math.imul(be,We)|0,l=l+Math.imul(be,Qe)|0,l=l+Math.imul(Ee,We)|0,S=S+Math.imul(Ee,Qe)|0,w=w+Math.imul(ne,je)|0,l=l+Math.imul(ne,et)|0,l=l+Math.imul(se,je)|0,S=S+Math.imul(se,et)|0,w=w+Math.imul(Se,Ke)|0,l=l+Math.imul(Se,tt)|0,l=l+Math.imul(W,Ke)|0,S=S+Math.imul(W,tt)|0,w=w+Math.imul(K,He)|0,l=l+Math.imul(K,rt)|0,l=l+Math.imul(oe,He)|0,S=S+Math.imul(oe,rt)|0,w=w+Math.imul(Q,qe)|0,l=l+Math.imul(Q,nt)|0,l=l+Math.imul(te,qe)|0,S=S+Math.imul(te,nt)|0;var Sn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,w=Math.imul(ie,Ue),l=Math.imul(ie,Xe),l=l+Math.imul(fe,Ue)|0,S=Math.imul(fe,Xe),w=w+Math.imul(ee,ze)|0,l=l+Math.imul(ee,Je)|0,l=l+Math.imul(z,ze)|0,S=S+Math.imul(z,Je)|0,w=w+Math.imul(le,We)|0,l=l+Math.imul(le,Qe)|0,l=l+Math.imul(de,We)|0,S=S+Math.imul(de,Qe)|0,w=w+Math.imul(be,je)|0,l=l+Math.imul(be,et)|0,l=l+Math.imul(Ee,je)|0,S=S+Math.imul(Ee,et)|0,w=w+Math.imul(ne,Ke)|0,l=l+Math.imul(ne,tt)|0,l=l+Math.imul(se,Ke)|0,S=S+Math.imul(se,tt)|0,w=w+Math.imul(Se,He)|0,l=l+Math.imul(Se,rt)|0,l=l+Math.imul(W,He)|0,S=S+Math.imul(W,rt)|0,w=w+Math.imul(K,qe)|0,l=l+Math.imul(K,nt)|0,l=l+Math.imul(oe,qe)|0,S=S+Math.imul(oe,nt)|0;var _n=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(_n>>>26)|0,_n&=67108863,w=Math.imul(ie,ze),l=Math.imul(ie,Je),l=l+Math.imul(fe,ze)|0,S=Math.imul(fe,Je),w=w+Math.imul(ee,We)|0,l=l+Math.imul(ee,Qe)|0,l=l+Math.imul(z,We)|0,S=S+Math.imul(z,Qe)|0,w=w+Math.imul(le,je)|0,l=l+Math.imul(le,et)|0,l=l+Math.imul(de,je)|0,S=S+Math.imul(de,et)|0,w=w+Math.imul(be,Ke)|0,l=l+Math.imul(be,tt)|0,l=l+Math.imul(Ee,Ke)|0,S=S+Math.imul(Ee,tt)|0,w=w+Math.imul(ne,He)|0,l=l+Math.imul(ne,rt)|0,l=l+Math.imul(se,He)|0,S=S+Math.imul(se,rt)|0,w=w+Math.imul(Se,qe)|0,l=l+Math.imul(Se,nt)|0,l=l+Math.imul(W,qe)|0,S=S+Math.imul(W,nt)|0;var An=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(An>>>26)|0,An&=67108863,w=Math.imul(ie,We),l=Math.imul(ie,Qe),l=l+Math.imul(fe,We)|0,S=Math.imul(fe,Qe),w=w+Math.imul(ee,je)|0,l=l+Math.imul(ee,et)|0,l=l+Math.imul(z,je)|0,S=S+Math.imul(z,et)|0,w=w+Math.imul(le,Ke)|0,l=l+Math.imul(le,tt)|0,l=l+Math.imul(de,Ke)|0,S=S+Math.imul(de,tt)|0,w=w+Math.imul(be,He)|0,l=l+Math.imul(be,rt)|0,l=l+Math.imul(Ee,He)|0,S=S+Math.imul(Ee,rt)|0,w=w+Math.imul(ne,qe)|0,l=l+Math.imul(ne,nt)|0,l=l+Math.imul(se,qe)|0,S=S+Math.imul(se,nt)|0;var xn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(xn>>>26)|0,xn&=67108863,w=Math.imul(ie,je),l=Math.imul(ie,et),l=l+Math.imul(fe,je)|0,S=Math.imul(fe,et),w=w+Math.imul(ee,Ke)|0,l=l+Math.imul(ee,tt)|0,l=l+Math.imul(z,Ke)|0,S=S+Math.imul(z,tt)|0,w=w+Math.imul(le,He)|0,l=l+Math.imul(le,rt)|0,l=l+Math.imul(de,He)|0,S=S+Math.imul(de,rt)|0,w=w+Math.imul(be,qe)|0,l=l+Math.imul(be,nt)|0,l=l+Math.imul(Ee,qe)|0,S=S+Math.imul(Ee,nt)|0;var En=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(En>>>26)|0,En&=67108863,w=Math.imul(ie,Ke),l=Math.imul(ie,tt),l=l+Math.imul(fe,Ke)|0,S=Math.imul(fe,tt),w=w+Math.imul(ee,He)|0,l=l+Math.imul(ee,rt)|0,l=l+Math.imul(z,He)|0,S=S+Math.imul(z,rt)|0,w=w+Math.imul(le,qe)|0,l=l+Math.imul(le,nt)|0,l=l+Math.imul(de,qe)|0,S=S+Math.imul(de,nt)|0;var kn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(kn>>>26)|0,kn&=67108863,w=Math.imul(ie,He),l=Math.imul(ie,rt),l=l+Math.imul(fe,He)|0,S=Math.imul(fe,rt),w=w+Math.imul(ee,qe)|0,l=l+Math.imul(ee,nt)|0,l=l+Math.imul(z,qe)|0,S=S+Math.imul(z,nt)|0;var Tn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,w=Math.imul(ie,qe),l=Math.imul(ie,nt),l=l+Math.imul(fe,qe)|0,S=Math.imul(fe,nt);var In=(E+w|0)+((l&8191)<<13)|0;return E=(S+(l>>>13)|0)+(In>>>26)|0,In&=67108863,_[0]=Jt,_[1]=Qt,_[2]=jr,_[3]=Kr,_[4]=Hr,_[5]=qr,_[6]=Vr,_[7]=yn,_[8]=bn,_[9]=vn,_[10]=wn,_[11]=Sn,_[12]=_n,_[13]=An,_[14]=xn,_[15]=En,_[16]=kn,_[17]=Tn,_[18]=In,E!==0&&(_[19]=E,p.length++),p};Math.imul||(x=A);function k(T,c,h){h.negative=c.negative^T.negative,h.length=T.length+c.length;for(var p=0,m=0,v=0;v<h.length-1;v++){var _=m;m=0;for(var E=p&67108863,w=Math.min(v,c.length-1),l=Math.max(0,v-T.length+1);l<=w;l++){var S=v-l,C=T.words[S]|0,D=c.words[l]|0,U=C*D,O=U&67108863;_=_+(U/67108864|0)|0,O=O+E|0,E=O&67108863,_=_+(O>>>26)|0,m+=_>>>26,_&=67108863}h.words[v]=E,p=_,_=m}return p!==0?h.words[v]=p:h.length--,h.strip()}function I(T,c,h){var p=new R;return p.mulp(T,c,h)}s.prototype.mulTo=function(c,h){var p,m=this.length+c.length;return this.length===10&&c.length===10?p=x(this,c,h):m<63?p=A(this,c,h):m<1024?p=k(this,c,h):p=I(this,c,h),p};function R(T,c){this.x=T,this.y=c}R.prototype.makeRBT=function(c){for(var h=new Array(c),p=s.prototype._countBits(c)-1,m=0;m<c;m++)h[m]=this.revBin(m,p,c);return h},R.prototype.revBin=function(c,h,p){if(c===0||c===p-1)return c;for(var m=0,v=0;v<h;v++)m|=(c&1)<<h-v-1,c>>=1;return m},R.prototype.permute=function(c,h,p,m,v,_){for(var E=0;E<_;E++)m[E]=h[c[E]],v[E]=p[c[E]]},R.prototype.transform=function(c,h,p,m,v,_){this.permute(_,c,h,p,m,v);for(var E=1;E<v;E<<=1)for(var w=E<<1,l=Math.cos(2*Math.PI/w),S=Math.sin(2*Math.PI/w),C=0;C<v;C+=w)for(var D=l,U=S,O=0;O<E;O++){var $=p[C+O],F=m[C+O],H=p[C+O+E],Q=m[C+O+E],te=D*H-U*Q;Q=D*Q+U*H,H=te,p[C+O]=$+H,m[C+O]=F+Q,p[C+O+E]=$-H,m[C+O+E]=F-Q,O!==w&&(te=l*D-S*U,U=l*U+S*D,D=te)}},R.prototype.guessLen13b=function(c,h){var p=Math.max(h,c)|1,m=p&1,v=0;for(p=p/2|0;p;p=p>>>1)v++;return 1<<v+1+m},R.prototype.conjugate=function(c,h,p){if(!(p<=1))for(var m=0;m<p/2;m++){var v=c[m];c[m]=c[p-m-1],c[p-m-1]=v,v=h[m],h[m]=-h[p-m-1],h[p-m-1]=-v}},R.prototype.normalize13b=function(c,h){for(var p=0,m=0;m<h/2;m++){var v=Math.round(c[2*m+1]/h)*8192+Math.round(c[2*m]/h)+p;c[m]=v&67108863,v<67108864?p=0:p=v/67108864|0}return c},R.prototype.convert13b=function(c,h,p,m){for(var v=0,_=0;_<h;_++)v=v+(c[_]|0),p[2*_]=v&8191,v=v>>>13,p[2*_+1]=v&8191,v=v>>>13;for(_=2*h;_<m;++_)p[_]=0;n(v===0),n((v&-8192)===0)},R.prototype.stub=function(c){for(var h=new Array(c),p=0;p<c;p++)h[p]=0;return h},R.prototype.mulp=function(c,h,p){var m=2*this.guessLen13b(c.length,h.length),v=this.makeRBT(m),_=this.stub(m),E=new Array(m),w=new Array(m),l=new Array(m),S=new Array(m),C=new Array(m),D=new Array(m),U=p.words;U.length=m,this.convert13b(c.words,c.length,E,m),this.convert13b(h.words,h.length,S,m),this.transform(E,_,w,l,m,v),this.transform(S,_,C,D,m,v);for(var O=0;O<m;O++){var $=w[O]*C[O]-l[O]*D[O];l[O]=w[O]*D[O]+l[O]*C[O],w[O]=$}return this.conjugate(w,l,m),this.transform(w,l,U,_,m,v),this.conjugate(U,_,m),this.normalize13b(U,m),p.negative=c.negative^h.negative,p.length=c.length+h.length,p.strip()},s.prototype.mul=function(c){var h=new s(null);return h.words=new Array(this.length+c.length),this.mulTo(c,h)},s.prototype.mulf=function(c){var h=new s(null);return h.words=new Array(this.length+c.length),I(this,c,h)},s.prototype.imul=function(c){return this.clone().mulTo(c,this)},s.prototype.imuln=function(c){n(typeof c=="number"),n(c<67108864);for(var h=0,p=0;p<this.length;p++){var m=(this.words[p]|0)*c,v=(m&67108863)+(h&67108863);h>>=26,h+=m/67108864|0,h+=v>>>26,this.words[p]=v&67108863}return h!==0&&(this.words[p]=h,this.length++),this},s.prototype.muln=function(c){return this.clone().imuln(c)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(c){var h=b(c);if(h.length===0)return new s(1);for(var p=this,m=0;m<h.length&&h[m]===0;m++,p=p.sqr());if(++m<h.length)for(var v=p.sqr();m<h.length;m++,v=v.sqr())h[m]!==0&&(p=p.mul(v));return p},s.prototype.iushln=function(c){n(typeof c=="number"&&c>=0);var h=c%26,p=(c-h)/26,m=67108863>>>26-h<<26-h,v;if(h!==0){var _=0;for(v=0;v<this.length;v++){var E=this.words[v]&m,w=(this.words[v]|0)-E<<h;this.words[v]=w|_,_=E>>>26-h}_&&(this.words[v]=_,this.length++)}if(p!==0){for(v=this.length-1;v>=0;v--)this.words[v+p]=this.words[v];for(v=0;v<p;v++)this.words[v]=0;this.length+=p}return this.strip()},s.prototype.ishln=function(c){return n(this.negative===0),this.iushln(c)},s.prototype.iushrn=function(c,h,p){n(typeof c=="number"&&c>=0);var m;h?m=(h-h%26)/26:m=0;var v=c%26,_=Math.min((c-v)/26,this.length),E=67108863^67108863>>>v<<v,w=p;if(m-=_,m=Math.max(0,m),w){for(var l=0;l<_;l++)w.words[l]=this.words[l];w.length=_}if(_!==0)if(this.length>_)for(this.length-=_,l=0;l<this.length;l++)this.words[l]=this.words[l+_];else this.words[0]=0,this.length=1;var S=0;for(l=this.length-1;l>=0&&(S!==0||l>=m);l--){var C=this.words[l]|0;this.words[l]=S<<26-v|C>>>v,S=C&E}return w&&S!==0&&(w.words[w.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(c,h,p){return n(this.negative===0),this.iushrn(c,h,p)},s.prototype.shln=function(c){return this.clone().ishln(c)},s.prototype.ushln=function(c){return this.clone().iushln(c)},s.prototype.shrn=function(c){return this.clone().ishrn(c)},s.prototype.ushrn=function(c){return this.clone().iushrn(c)},s.prototype.testn=function(c){n(typeof c=="number"&&c>=0);var h=c%26,p=(c-h)/26,m=1<<h;if(this.length<=p)return!1;var v=this.words[p];return!!(v&m)},s.prototype.imaskn=function(c){n(typeof c=="number"&&c>=0);var h=c%26,p=(c-h)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(h!==0&&p++,this.length=Math.min(p,this.length),h!==0){var m=67108863^67108863>>>h<<h;this.words[this.length-1]&=m}return this.strip()},s.prototype.maskn=function(c){return this.clone().imaskn(c)},s.prototype.iaddn=function(c){return n(typeof c=="number"),n(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},s.prototype._iaddn=function(c){this.words[0]+=c;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},s.prototype.isubn=function(c){if(n(typeof c=="number"),n(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},s.prototype.addn=function(c){return this.clone().iaddn(c)},s.prototype.subn=function(c){return this.clone().isubn(c)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(c,h,p){var m=c.length+p,v;this._expand(m);var _,E=0;for(v=0;v<c.length;v++){_=(this.words[v+p]|0)+E;var w=(c.words[v]|0)*h;_-=w&67108863,E=(_>>26)-(w/67108864|0),this.words[v+p]=_&67108863}for(;v<this.length-p;v++)_=(this.words[v+p]|0)+E,E=_>>26,this.words[v+p]=_&67108863;if(E===0)return this.strip();for(n(E===-1),E=0,v=0;v<this.length;v++)_=-(this.words[v]|0)+E,E=_>>26,this.words[v]=_&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(c,h){var p=this.length-c.length,m=this.clone(),v=c,_=v.words[v.length-1]|0,E=this._countBits(_);p=26-E,p!==0&&(v=v.ushln(p),m.iushln(p),_=v.words[v.length-1]|0);var w=m.length-v.length,l;if(h!=="mod"){l=new s(null),l.length=w+1,l.words=new Array(l.length);for(var S=0;S<l.length;S++)l.words[S]=0}var C=m.clone()._ishlnsubmul(v,1,w);C.negative===0&&(m=C,l&&(l.words[w]=1));for(var D=w-1;D>=0;D--){var U=(m.words[v.length+D]|0)*67108864+(m.words[v.length+D-1]|0);for(U=Math.min(U/_|0,67108863),m._ishlnsubmul(v,U,D);m.negative!==0;)U--,m.negative=0,m._ishlnsubmul(v,1,D),m.isZero()||(m.negative^=1);l&&(l.words[D]=U)}return l&&l.strip(),m.strip(),h!=="div"&&p!==0&&m.iushrn(p),{div:l||null,mod:m}},s.prototype.divmod=function(c,h,p){if(n(!c.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var m,v,_;return this.negative!==0&&c.negative===0?(_=this.neg().divmod(c,h),h!=="mod"&&(m=_.div.neg()),h!=="div"&&(v=_.mod.neg(),p&&v.negative!==0&&v.iadd(c)),{div:m,mod:v}):this.negative===0&&c.negative!==0?(_=this.divmod(c.neg(),h),h!=="mod"&&(m=_.div.neg()),{div:m,mod:_.mod}):this.negative&c.negative?(_=this.neg().divmod(c.neg(),h),h!=="div"&&(v=_.mod.neg(),p&&v.negative!==0&&v.isub(c)),{div:_.div,mod:v}):c.length>this.length||this.cmp(c)<0?{div:new s(0),mod:this}:c.length===1?h==="div"?{div:this.divn(c.words[0]),mod:null}:h==="mod"?{div:null,mod:new s(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new s(this.modn(c.words[0]))}:this._wordDiv(c,h)},s.prototype.div=function(c){return this.divmod(c,"div",!1).div},s.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},s.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},s.prototype.divRound=function(c){var h=this.divmod(c);if(h.mod.isZero())return h.div;var p=h.div.negative!==0?h.mod.isub(c):h.mod,m=c.ushrn(1),v=c.andln(1),_=p.cmp(m);return _<0||v===1&&_===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},s.prototype.modn=function(c){n(c<=67108863);for(var h=(1<<26)%c,p=0,m=this.length-1;m>=0;m--)p=(h*p+(this.words[m]|0))%c;return p},s.prototype.idivn=function(c){n(c<=67108863);for(var h=0,p=this.length-1;p>=0;p--){var m=(this.words[p]|0)+h*67108864;this.words[p]=m/c|0,h=m%c}return this.strip()},s.prototype.divn=function(c){return this.clone().idivn(c)},s.prototype.egcd=function(c){n(c.negative===0),n(!c.isZero());var h=this,p=c.clone();h.negative!==0?h=h.umod(c):h=h.clone();for(var m=new s(1),v=new s(0),_=new s(0),E=new s(1),w=0;h.isEven()&&p.isEven();)h.iushrn(1),p.iushrn(1),++w;for(var l=p.clone(),S=h.clone();!h.isZero();){for(var C=0,D=1;!(h.words[0]&D)&&C<26;++C,D<<=1);if(C>0)for(h.iushrn(C);C-- >0;)(m.isOdd()||v.isOdd())&&(m.iadd(l),v.isub(S)),m.iushrn(1),v.iushrn(1);for(var U=0,O=1;!(p.words[0]&O)&&U<26;++U,O<<=1);if(U>0)for(p.iushrn(U);U-- >0;)(_.isOdd()||E.isOdd())&&(_.iadd(l),E.isub(S)),_.iushrn(1),E.iushrn(1);h.cmp(p)>=0?(h.isub(p),m.isub(_),v.isub(E)):(p.isub(h),_.isub(m),E.isub(v))}return{a:_,b:E,gcd:p.iushln(w)}},s.prototype._invmp=function(c){n(c.negative===0),n(!c.isZero());var h=this,p=c.clone();h.negative!==0?h=h.umod(c):h=h.clone();for(var m=new s(1),v=new s(0),_=p.clone();h.cmpn(1)>0&&p.cmpn(1)>0;){for(var E=0,w=1;!(h.words[0]&w)&&E<26;++E,w<<=1);if(E>0)for(h.iushrn(E);E-- >0;)m.isOdd()&&m.iadd(_),m.iushrn(1);for(var l=0,S=1;!(p.words[0]&S)&&l<26;++l,S<<=1);if(l>0)for(p.iushrn(l);l-- >0;)v.isOdd()&&v.iadd(_),v.iushrn(1);h.cmp(p)>=0?(h.isub(p),m.isub(v)):(p.isub(h),v.isub(m))}var C;return h.cmpn(1)===0?C=m:C=v,C.cmpn(0)<0&&C.iadd(c),C},s.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var h=this.clone(),p=c.clone();h.negative=0,p.negative=0;for(var m=0;h.isEven()&&p.isEven();m++)h.iushrn(1),p.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;p.isEven();)p.iushrn(1);var v=h.cmp(p);if(v<0){var _=h;h=p,p=_}else if(v===0||p.cmpn(1)===0)break;h.isub(p)}while(!0);return p.iushln(m)},s.prototype.invm=function(c){return this.egcd(c).a.umod(c)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(c){return this.words[0]&c},s.prototype.bincn=function(c){n(typeof c=="number");var h=c%26,p=(c-h)/26,m=1<<h;if(this.length<=p)return this._expand(p+1),this.words[p]|=m,this;for(var v=m,_=p;v!==0&&_<this.length;_++){var E=this.words[_]|0;E+=v,v=E>>>26,E&=67108863,this.words[_]=E}return v!==0&&(this.words[_]=v,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(c){var h=c<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this.strip();var p;if(this.length>1)p=1;else{h&&(c=-c),n(c<=67108863,"Number is too big");var m=this.words[0]|0;p=m===c?0:m<c?-1:1}return this.negative!==0?-p|0:p},s.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var h=this.ucmp(c);return this.negative!==0?-h|0:h},s.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var h=0,p=this.length-1;p>=0;p--){var m=this.words[p]|0,v=c.words[p]|0;if(m!==v){m<v?h=-1:m>v&&(h=1);break}}return h},s.prototype.gtn=function(c){return this.cmpn(c)===1},s.prototype.gt=function(c){return this.cmp(c)===1},s.prototype.gten=function(c){return this.cmpn(c)>=0},s.prototype.gte=function(c){return this.cmp(c)>=0},s.prototype.ltn=function(c){return this.cmpn(c)===-1},s.prototype.lt=function(c){return this.cmp(c)===-1},s.prototype.lten=function(c){return this.cmpn(c)<=0},s.prototype.lte=function(c){return this.cmp(c)<=0},s.prototype.eqn=function(c){return this.cmpn(c)===0},s.prototype.eq=function(c){return this.cmp(c)===0},s.red=function(c){return new q(c)},s.prototype.toRed=function(c){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(c){return this.red=c,this},s.prototype.forceRed=function(c){return n(!this.red,"Already a number in reduction context"),this._forceRed(c)},s.prototype.redAdd=function(c){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},s.prototype.redIAdd=function(c){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},s.prototype.redSub=function(c){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},s.prototype.redISub=function(c){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},s.prototype.redShl=function(c){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},s.prototype.redMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},s.prototype.redIMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(c){return n(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var M={k256:null,p224:null,p192:null,p25519:null};function P(T,c){this.name=T,this.p=new s(c,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var c=new s(null);return c.words=new Array(Math.ceil(this.n/13)),c},P.prototype.ireduce=function(c){var h=c,p;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),p=h.bitLength();while(p>this.n);var m=p<this.n?-1:h.ucmp(this.p);return m===0?(h.words[0]=0,h.length=1):m>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},P.prototype.split=function(c,h){c.iushrn(this.n,0,h)},P.prototype.imulK=function(c){return c.imul(this.k)};function j(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(j,P),j.prototype.split=function(c,h){for(var p=4194303,m=Math.min(c.length,9),v=0;v<m;v++)h.words[v]=c.words[v];if(h.length=m,c.length<=9){c.words[0]=0,c.length=1;return}var _=c.words[9];for(h.words[h.length++]=_&p,v=10;v<c.length;v++){var E=c.words[v]|0;c.words[v-10]=(E&p)<<4|_>>>22,_=E}_>>>=22,c.words[v-10]=_,_===0&&c.length>10?c.length-=10:c.length-=9},j.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var h=0,p=0;p<c.length;p++){var m=c.words[p]|0;h+=m*977,c.words[p]=h&67108863,h=m*64+(h/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function V(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(V,P);function Z(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Z,P);function G(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(G,P),G.prototype.imulK=function(c){for(var h=0,p=0;p<c.length;p++){var m=(c.words[p]|0)*19+h,v=m&67108863;m>>>=26,c.words[p]=v,h=m}return h!==0&&(c.words[c.length++]=h),c},s._prime=function(c){if(M[c])return M[c];var h;if(c==="k256")h=new j;else if(c==="p224")h=new V;else if(c==="p192")h=new Z;else if(c==="p25519")h=new G;else throw new Error("Unknown prime "+c);return M[c]=h,h};function q(T){if(typeof T=="string"){var c=s._prime(T);this.m=c.p,this.prime=c}else n(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}q.prototype._verify1=function(c){n(c.negative===0,"red works only with positives"),n(c.red,"red works only with red numbers")},q.prototype._verify2=function(c,h){n((c.negative|h.negative)===0,"red works only with positives"),n(c.red&&c.red===h.red,"red works only with red numbers")},q.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},q.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},q.prototype.add=function(c,h){this._verify2(c,h);var p=c.add(h);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},q.prototype.iadd=function(c,h){this._verify2(c,h);var p=c.iadd(h);return p.cmp(this.m)>=0&&p.isub(this.m),p},q.prototype.sub=function(c,h){this._verify2(c,h);var p=c.sub(h);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},q.prototype.isub=function(c,h){this._verify2(c,h);var p=c.isub(h);return p.cmpn(0)<0&&p.iadd(this.m),p},q.prototype.shl=function(c,h){return this._verify1(c),this.imod(c.ushln(h))},q.prototype.imul=function(c,h){return this._verify2(c,h),this.imod(c.imul(h))},q.prototype.mul=function(c,h){return this._verify2(c,h),this.imod(c.mul(h))},q.prototype.isqr=function(c){return this.imul(c,c.clone())},q.prototype.sqr=function(c){return this.mul(c,c)},q.prototype.sqrt=function(c){if(c.isZero())return c.clone();var h=this.m.andln(3);if(n(h%2===1),h===3){var p=this.m.add(new s(1)).iushrn(2);return this.pow(c,p)}for(var m=this.m.subn(1),v=0;!m.isZero()&&m.andln(1)===0;)v++,m.iushrn(1);n(!m.isZero());var _=new s(1).toRed(this),E=_.redNeg(),w=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);this.pow(l,w).cmp(E)!==0;)l.redIAdd(E);for(var S=this.pow(l,m),C=this.pow(c,m.addn(1).iushrn(1)),D=this.pow(c,m),U=v;D.cmp(_)!==0;){for(var O=D,$=0;O.cmp(_)!==0;$++)O=O.redSqr();n($<U);var F=this.pow(S,new s(1).iushln(U-$-1));C=C.redMul(F),S=F.redSqr(),D=D.redMul(S),U=$}return C},q.prototype.invm=function(c){var h=c._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},q.prototype.pow=function(c,h){if(h.isZero())return new s(1).toRed(this);if(h.cmpn(1)===0)return c.clone();var p=4,m=new Array(1<<p);m[0]=new s(1).toRed(this),m[1]=c;for(var v=2;v<m.length;v++)m[v]=this.mul(m[v-1],c);var _=m[0],E=0,w=0,l=h.bitLength()%26;for(l===0&&(l=26),v=h.length-1;v>=0;v--){for(var S=h.words[v],C=l-1;C>=0;C--){var D=S>>C&1;if(_!==m[0]&&(_=this.sqr(_)),D===0&&E===0){w=0;continue}E<<=1,E|=D,w++,!(w!==p&&(v!==0||C!==0))&&(_=this.mul(_,m[E]),w=0,E=0)}l=26}return _},q.prototype.convertTo=function(c){var h=c.umod(this.m);return h===c?h.clone():h},q.prototype.convertFrom=function(c){var h=c.clone();return h.red=null,h},s.mont=function(c){return new ae(c)};function ae(T){q.call(this,T),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(ae,q),ae.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},ae.prototype.convertFrom=function(c){var h=this.imod(c.mul(this.rinv));return h.red=null,h},ae.prototype.imul=function(c,h){if(c.isZero()||h.isZero())return c.words[0]=0,c.length=1,c;var p=c.imul(h),m=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(m).iushrn(this.shift),_=v;return v.cmp(this.m)>=0?_=v.isub(this.m):v.cmpn(0)<0&&(_=v.iadd(this.m)),_._forceRed(this)},ae.prototype.mul=function(c,h){if(c.isZero()||h.isZero())return new s(0)._forceRed(this);var p=c.mul(h),m=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(m).iushrn(this.shift),_=v;return v.cmp(this.m)>=0?_=v.isub(this.m):v.cmpn(0)<0&&(_=v.iadd(this.m)),_._forceRed(this)},ae.prototype.invm=function(c){var h=this.imod(c._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(t,St)})(JO);var cd=JO.exports,QO={};(function(t){var e=t;function r(s,o){if(Array.isArray(s))return s.slice();if(!s)return[];var a=[];if(typeof s!="string"){for(var u=0;u<s.length;u++)a[u]=s[u]|0;return a}if(o==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var u=0;u<s.length;u+=2)a.push(parseInt(s[u]+s[u+1],16))}else for(var u=0;u<s.length;u++){var f=s.charCodeAt(u),d=f>>8,g=f&255;d?a.push(d,g):a.push(g)}return a}e.toArray=r;function n(s){return s.length===1?"0"+s:s}e.zero2=n;function i(s){for(var o="",a=0;a<s.length;a++)o+=n(s[a].toString(16));return o}e.toHex=i,e.encode=function(o,a){return a==="hex"?i(o):o}})(QO);(function(t){var e=t,r=cd,n=fu,i=QO;e.assert=n,e.toArray=i.toArray,e.zero2=i.zero2,e.toHex=i.toHex,e.encode=i.encode;function s(d,g,y){var b=new Array(Math.max(d.bitLength(),y)+1),A;for(A=0;A<b.length;A+=1)b[A]=0;var x=1<<g+1,k=d.clone();for(A=0;A<b.length;A++){var I,R=k.andln(x-1);k.isOdd()?(R>(x>>1)-1?I=(x>>1)-R:I=R,k.isubn(I)):I=0,b[A]=I,k.iushrn(1)}return b}e.getNAF=s;function o(d,g){var y=[[],[]];d=d.clone(),g=g.clone();for(var b=0,A=0,x;d.cmpn(-b)>0||g.cmpn(-A)>0;){var k=d.andln(3)+b&3,I=g.andln(3)+A&3;k===3&&(k=-1),I===3&&(I=-1);var R;k&1?(x=d.andln(7)+b&7,(x===3||x===5)&&I===2?R=-k:R=k):R=0,y[0].push(R);var M;I&1?(x=g.andln(7)+A&7,(x===3||x===5)&&k===2?M=-I:M=I):M=0,y[1].push(M),2*b===R+1&&(b=1-b),2*A===M+1&&(A=1-A),d.iushrn(1),g.iushrn(1)}return y}e.getJSF=o;function a(d,g,y){var b="_"+g;d.prototype[g]=function(){return this[b]!==void 0?this[b]:this[b]=y.call(this)}}e.cachedProperty=a;function u(d){return typeof d=="string"?e.toArray(d,"hex"):d}e.parseBytes=u;function f(d){return new r(d,"hex","le")}e.intFromLE=f})(Pa);var eL={},np=cd,R_=Pa,_E=R_.getNAF,b$e=R_.getJSF,AE=R_.assert;function Vh(t,e){this.type=t,this.p=new np(e.p,16),this.red=e.prime?np.red(e.prime):np.mont(this.p),this.zero=new np(0).toRed(this.red),this.one=new np(1).toRed(this.red),this.two=new np(2).toRed(this.red),this.n=e.n&&new np(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var iT=Vh;Vh.prototype.point=function(){throw new Error("Not implemented")};Vh.prototype.validate=function(){throw new Error("Not implemented")};Vh.prototype._fixedNafMul=function(e,r){AE(e.precomputed);var n=e._getDoubles(),i=_E(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,u;for(a=0;a<i.length;a+=n.step){u=0;for(var f=a+n.step-1;f>=a;f--)u=(u<<1)+i[f];o.push(u)}for(var d=this.jpoint(null,null,null),g=this.jpoint(null,null,null),y=s;y>0;y--){for(a=0;a<o.length;a++)u=o[a],u===y?g=g.mixedAdd(n.points[a]):u===-y&&(g=g.mixedAdd(n.points[a].neg()));d=d.add(g)}return d.toP()};Vh.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=_E(r,n,this._bitLength),a=this.jpoint(null,null,null),u=o.length-1;u>=0;u--){for(var f=0;u>=0&&o[u]===0;u--)f++;if(u>=0&&f++,a=a.dblp(f),u<0)break;var d=o[u];AE(d!==0),e.type==="affine"?d>0?a=a.mixedAdd(s[d-1>>1]):a=a.mixedAdd(s[-d-1>>1].neg()):d>0?a=a.add(s[d-1>>1]):a=a.add(s[-d-1>>1].neg())}return e.type==="affine"?a.toP():a};Vh.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,u=this._wnafT3,f=0,d,g,y;for(d=0;d<i;d++){y=r[d];var b=y._getNAFPoints(e);o[d]=b.wnd,a[d]=b.points}for(d=i-1;d>=1;d-=2){var A=d-1,x=d;if(o[A]!==1||o[x]!==1){u[A]=_E(n[A],o[A],this._bitLength),u[x]=_E(n[x],o[x],this._bitLength),f=Math.max(u[A].length,f),f=Math.max(u[x].length,f);continue}var k=[r[A],null,null,r[x]];r[A].y.cmp(r[x].y)===0?(k[1]=r[A].add(r[x]),k[2]=r[A].toJ().mixedAdd(r[x].neg())):r[A].y.cmp(r[x].y.redNeg())===0?(k[1]=r[A].toJ().mixedAdd(r[x]),k[2]=r[A].add(r[x].neg())):(k[1]=r[A].toJ().mixedAdd(r[x]),k[2]=r[A].toJ().mixedAdd(r[x].neg()));var I=[-3,-1,-5,-7,0,7,5,1,3],R=b$e(n[A],n[x]);for(f=Math.max(R[0].length,f),u[A]=new Array(f),u[x]=new Array(f),g=0;g<f;g++){var M=R[0][g]|0,P=R[1][g]|0;u[A][g]=I[(M+1)*3+(P+1)],u[x][g]=0,a[A]=k}}var j=this.jpoint(null,null,null),V=this._wnafT4;for(d=f;d>=0;d--){for(var Z=0;d>=0;){var G=!0;for(g=0;g<i;g++)V[g]=u[g][d]|0,V[g]!==0&&(G=!1);if(!G)break;Z++,d--}if(d>=0&&Z++,j=j.dblp(Z),d<0)break;for(g=0;g<i;g++){var q=V[g];q!==0&&(q>0?y=a[g][q-1>>1]:q<0&&(y=a[g][-q-1>>1].neg()),y.type==="affine"?j=j.mixedAdd(y):j=j.add(y))}}for(d=0;d<i;d++)a[d]=null;return s?j:j.toP()};function hu(t,e){this.curve=t,this.type=e,this.precomputed=null}Vh.BasePoint=hu;hu.prototype.eq=function(){throw new Error("Not implemented")};hu.prototype.validate=function(){return this.curve.validate(this)};Vh.prototype.decodePoint=function(e,r){e=R_.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?AE(e[e.length-1]%2===0):e[0]===7&&AE(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};hu.prototype.encodeCompressed=function(e){return this.encode(e,!0)};hu.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};hu.prototype.encode=function(e,r){return R_.encode(this._encode(r),e)};hu.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};hu.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};hu.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};hu.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};hu.prototype._getBeta=function(){return null};hu.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var v$e=Pa,bi=cd,tL=rr,I1=iT,w$e=v$e.assert;function pu(t){I1.call(this,"short",t),this.a=new bi(t.a,16).toRed(this.red),this.b=new bi(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}tL(pu,I1);var S$e=pu;pu.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new bi(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new bi(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],w$e(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new bi(a.a,16),b:new bi(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};pu.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:bi.mont(e),n=new bi(2).toRed(r).redInvm(),i=n.redNeg(),s=new bi(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};pu.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new bi(1),o=new bi(0),a=new bi(0),u=new bi(1),f,d,g,y,b,A,x,k=0,I,R;n.cmpn(0)!==0;){var M=i.div(n);I=i.sub(M.mul(n)),R=a.sub(M.mul(s));var P=u.sub(M.mul(o));if(!g&&I.cmp(r)<0)f=x.neg(),d=s,g=I.neg(),y=R;else if(g&&++k===2)break;x=I,i=n,n=I,a=s,s=R,u=o,o=P}b=I.neg(),A=R;var j=g.sqr().add(y.sqr()),V=b.sqr().add(A.sqr());return V.cmp(j)>=0&&(b=f,A=d),g.negative&&(g=g.neg(),y=y.neg()),b.negative&&(b=b.neg(),A=A.neg()),[{a:g,b:y},{a:b,b:A}]};pu.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),u=o.mul(i.a),f=s.mul(n.b),d=o.mul(i.b),g=e.sub(a).sub(u),y=f.add(d).neg();return{k1:g,k2:y}};pu.prototype.pointFromX=function(e,r){e=new bi(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};pu.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};pu.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),u=e[o],f=u._getBeta();a.k1.negative&&(a.k1.ineg(),u=u.neg(!0)),a.k2.negative&&(a.k2.ineg(),f=f.neg(!0)),i[o*2]=u,i[o*2+1]=f,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var d=this._wnafMulAdd(1,i,s,o*2,n),g=0;g<o*2;g++)i[g]=null,s[g]=null;return d};function vs(t,e,r,n){I1.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new bi(e,16),this.y=new bi(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}tL(vs,I1.BasePoint);pu.prototype.point=function(e,r,n){return new vs(this,e,r,n)};pu.prototype.pointFromJSON=function(e,r){return vs.fromJSON(this,e,r)};vs.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};vs.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};vs.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};vs.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};vs.prototype.isInfinity=function(){return this.inf};vs.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};vs.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};vs.prototype.getX=function(){return this.x.fromRed()};vs.prototype.getY=function(){return this.y.fromRed()};vs.prototype.mul=function(e){return e=new bi(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};vs.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};vs.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};vs.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};vs.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};vs.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Os(t,e,r,n){I1.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new bi(0)):(this.x=new bi(e,16),this.y=new bi(r,16),this.z=new bi(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}tL(Os,I1.BasePoint);pu.prototype.jpoint=function(e,r,n){return new Os(this,e,r,n)};Os.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};Os.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Os.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),u=i.redSub(s),f=o.redSub(a);if(u.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var d=u.redSqr(),g=d.redMul(u),y=i.redMul(d),b=f.redSqr().redIAdd(g).redISub(y).redISub(y),A=f.redMul(y.redISub(b)).redISub(o.redMul(g)),x=this.z.redMul(e.z).redMul(u);return this.curve.jpoint(b,A,x)};Os.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),u=s.redSub(o);if(a.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=a.redSqr(),d=f.redMul(a),g=n.redMul(f),y=u.redSqr().redIAdd(d).redISub(g).redISub(g),b=u.redMul(g.redISub(y)).redISub(s.redMul(d)),A=this.z.redMul(a);return this.curve.jpoint(y,b,A)};Os.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,u=this.z,f=u.redSqr().redSqr(),d=a.redAdd(a);for(r=0;r<e;r++){var g=o.redSqr(),y=d.redSqr(),b=y.redSqr(),A=g.redAdd(g).redIAdd(g).redIAdd(i.redMul(f)),x=o.redMul(y),k=A.redSqr().redISub(x.redAdd(x)),I=x.redISub(k),R=A.redMul(I);R=R.redIAdd(R).redISub(b);var M=d.redMul(u);r+1<e&&(f=f.redMul(b)),o=k,u=M,d=R}return this.curve.jpoint(o,d.redMul(s),u)};Os.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Os.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var u=i.redAdd(i).redIAdd(i),f=u.redSqr().redISub(a).redISub(a),d=o.redIAdd(o);d=d.redIAdd(d),d=d.redIAdd(d),e=f,r=u.redMul(a.redISub(f)).redISub(d),n=this.y.redAdd(this.y)}else{var g=this.x.redSqr(),y=this.y.redSqr(),b=y.redSqr(),A=this.x.redAdd(y).redSqr().redISub(g).redISub(b);A=A.redIAdd(A);var x=g.redAdd(g).redIAdd(g),k=x.redSqr(),I=b.redIAdd(b);I=I.redIAdd(I),I=I.redIAdd(I),e=k.redISub(A).redISub(A),r=x.redMul(A.redISub(e)).redISub(I),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Os.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var u=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),f=u.redSqr().redISub(a).redISub(a);e=f;var d=o.redIAdd(o);d=d.redIAdd(d),d=d.redIAdd(d),r=u.redMul(a.redISub(f)).redISub(d),n=this.y.redAdd(this.y)}else{var g=this.z.redSqr(),y=this.y.redSqr(),b=this.x.redMul(y),A=this.x.redSub(g).redMul(this.x.redAdd(g));A=A.redAdd(A).redIAdd(A);var x=b.redIAdd(b);x=x.redIAdd(x);var k=x.redAdd(x);e=A.redSqr().redISub(k),n=this.y.redAdd(this.z).redSqr().redISub(y).redISub(g);var I=y.redSqr();I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I),r=A.redMul(x.redISub(e)).redISub(I)}return this.curve.jpoint(e,r,n)};Os.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),u=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),f=r.redAdd(r);f=f.redIAdd(f);var d=f.redMul(a),g=u.redSqr().redISub(d.redAdd(d)),y=d.redISub(g),b=a.redSqr();b=b.redIAdd(b),b=b.redIAdd(b),b=b.redIAdd(b);var A=u.redMul(y).redISub(b),x=n.redAdd(n).redMul(i);return this.curve.jpoint(g,A,x)};Os.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var u=a.redSqr(),f=i.redIAdd(i);f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var d=s.redIAdd(a).redSqr().redISub(o).redISub(u).redISub(f),g=r.redMul(d);g=g.redIAdd(g),g=g.redIAdd(g);var y=this.x.redMul(u).redISub(g);y=y.redIAdd(y),y=y.redIAdd(y);var b=this.y.redMul(d.redMul(f.redISub(d)).redISub(a.redMul(u)));b=b.redIAdd(b),b=b.redIAdd(b),b=b.redIAdd(b);var A=this.z.redAdd(a).redSqr().redISub(n).redISub(u);return this.curve.jpoint(y,b,A)};Os.prototype.mul=function(e,r){return e=new bi(e,r),this.curve._wnafMul(this,e)};Os.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};Os.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};Os.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Os.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Dm=cd,lie=rr,sT=iT,_$e=Pa;function R1(t){sT.call(this,"mont",t),this.a=new Dm(t.a,16).toRed(this.red),this.b=new Dm(t.b,16).toRed(this.red),this.i4=new Dm(4).toRed(this.red).redInvm(),this.two=new Dm(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}lie(R1,sT);var A$e=R1;R1.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),s=i.redSqrt();return s.redSqr().cmp(i)===0};function ys(t,e,r){sT.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Dm(e,16),this.z=new Dm(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}lie(ys,sT.BasePoint);R1.prototype.decodePoint=function(e,r){return this.point(_$e.toArray(e,r),1)};R1.prototype.point=function(e,r){return new ys(this,e,r)};R1.prototype.pointFromJSON=function(e){return ys.fromJSON(this,e)};ys.prototype.precompute=function(){};ys.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};ys.fromJSON=function(e,r){return new ys(e,r[0],r[1]||e.one)};ys.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};ys.prototype.isInfinity=function(){return this.z.cmpn(0)===0};ys.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),s=r.redSub(i),o=r.redMul(i),a=s.redMul(i.redAdd(this.curve.a24.redMul(s)));return this.curve.point(o,a)};ys.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};ys.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),s=e.x.redAdd(e.z),o=e.x.redSub(e.z),a=o.redMul(n),u=s.redMul(i),f=r.z.redMul(a.redAdd(u).redSqr()),d=r.x.redMul(a.redISub(u).redSqr());return this.curve.point(f,d)};ys.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),s=this,o=[];r.cmpn(0)!==0;r.iushrn(1))o.push(r.andln(1));for(var a=o.length-1;a>=0;a--)o[a]===0?(n=n.diffAdd(i,s),i=i.dbl()):(i=n.diffAdd(i,s),n=n.dbl());return i};ys.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};ys.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};ys.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};ys.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};ys.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var x$e=Pa,Nf=cd,fie=rr,oT=iT,E$e=x$e.assert;function Il(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,oT.call(this,"edwards",t),this.a=new Nf(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Nf(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Nf(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),E$e(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}fie(Il,oT);var k$e=Il;Il.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};Il.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};Il.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};Il.prototype.pointFromX=function(e,r){e=new Nf(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),s=this.one.redSub(this.c2.redMul(this.d).redMul(n)),o=i.redMul(s.redInvm()),a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");var u=a.fromRed().isOdd();return(r&&!u||!r&&u)&&(a=a.redNeg()),this.point(e,a)};Il.prototype.pointFromY=function(e,r){e=new Nf(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),s=n.redMul(this.d).redMul(this.c2).redSub(this.a),o=i.redMul(s.redInvm());if(o.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");return a.fromRed().isOdd()!==r&&(a=a.redNeg()),this.point(a,e)};Il.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),s=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(s)===0};function zn(t,e,r,n,i){oT.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Nf(e,16),this.y=new Nf(r,16),this.z=n?new Nf(n,16):this.curve.one,this.t=i&&new Nf(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}fie(zn,oT.BasePoint);Il.prototype.pointFromJSON=function(e){return zn.fromJSON(this,e)};Il.prototype.point=function(e,r,n,i){return new zn(this,e,r,n,i)};zn.fromJSON=function(e,r){return new zn(e,r[0],r[1],r[2])};zn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};zn.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};zn.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),o=i.redAdd(r),a=o.redSub(n),u=i.redSub(r),f=s.redMul(a),d=o.redMul(u),g=s.redMul(u),y=a.redMul(o);return this.curve.point(f,d,y,g)};zn.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,s,o,a,u,f;if(this.curve.twisted){a=this.curve._mulA(r);var d=a.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(d.redSub(this.curve.two)),s=d.redMul(a.redSub(n)),o=d.redSqr().redSub(d).redSub(d)):(u=this.z.redSqr(),f=d.redSub(u).redISub(u),i=e.redSub(r).redISub(n).redMul(f),s=d.redMul(a.redSub(n)),o=d.redMul(f))}else a=r.redAdd(n),u=this.curve._mulC(this.z).redSqr(),f=a.redSub(u).redSub(u),i=this.curve._mulC(e.redISub(a)).redMul(f),s=this.curve._mulC(a).redMul(r.redISub(n)),o=a.redMul(f);return this.curve.point(i,s,o)};zn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};zn.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),s=this.z.redMul(e.z.redAdd(e.z)),o=n.redSub(r),a=s.redSub(i),u=s.redAdd(i),f=n.redAdd(r),d=o.redMul(a),g=u.redMul(f),y=o.redMul(f),b=a.redMul(u);return this.curve.point(d,g,b,y)};zn.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),s=this.y.redMul(e.y),o=this.curve.d.redMul(i).redMul(s),a=n.redSub(o),u=n.redAdd(o),f=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(s),d=r.redMul(a).redMul(f),g,y;return this.curve.twisted?(g=r.redMul(u).redMul(s.redSub(this.curve._mulA(i))),y=a.redMul(u)):(g=r.redMul(u).redMul(s.redSub(i)),y=this.curve._mulC(a).redMul(u)),this.curve.point(d,g,y)};zn.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};zn.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};zn.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};zn.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};zn.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};zn.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};zn.prototype.getX=function(){return this.normalize(),this.x.fromRed()};zn.prototype.getY=function(){return this.normalize(),this.y.fromRed()};zn.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};zn.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};zn.prototype.toP=zn.prototype.normalize;zn.prototype.mixedAdd=zn.prototype.add;(function(t){var e=t;e.base=iT,e.short=S$e,e.mont=A$e,e.edwards=k$e})(eL);var aT={},M1={},Nr={},T$e=fu,I$e=rr;Nr.inherits=I$e;function R$e(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function M$e(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):R$e(t,i)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}Nr.toArray=M$e;function C$e(t){for(var e="",r=0;r<t.length;r++)e+=hie(t[r].toString(16));return e}Nr.toHex=C$e;function die(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Nr.htonl=die;function P$e(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=die(i)),r+=pie(i.toString(16))}return r}Nr.toHex32=P$e;function hie(t){return t.length===1?"0"+t:t}Nr.zero2=hie;function pie(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Nr.zero8=pie;function N$e(t,e,r,n){var i=r-e;T$e(i%4===0);for(var s=new Array(i/4),o=0,a=e;o<s.length;o++,a+=4){var u;n==="big"?u=t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:u=t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],s[o]=u>>>0}return s}Nr.join32=N$e;function B$e(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];e==="big"?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=s&255):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=s&255)}return r}Nr.split32=B$e;function O$e(t,e){return t>>>e|t<<32-e}Nr.rotr32=O$e;function L$e(t,e){return t<<e|t>>>32-e}Nr.rotl32=L$e;function D$e(t,e){return t+e>>>0}Nr.sum32=D$e;function F$e(t,e,r){return t+e+r>>>0}Nr.sum32_3=F$e;function $$e(t,e,r,n){return t+e+r+n>>>0}Nr.sum32_4=$$e;function U$e(t,e,r,n,i){return t+e+r+n+i>>>0}Nr.sum32_5=U$e;function z$e(t,e,r,n){var i=t[e],s=t[e+1],o=n+s>>>0,a=(o<n?1:0)+r+i;t[e]=a>>>0,t[e+1]=o}Nr.sum64=z$e;function W$e(t,e,r,n){var i=e+n>>>0,s=(i<e?1:0)+t+r;return s>>>0}Nr.sum64_hi=W$e;function j$e(t,e,r,n){var i=e+n;return i>>>0}Nr.sum64_lo=j$e;function K$e(t,e,r,n,i,s,o,a){var u=0,f=e;f=f+n>>>0,u+=f<e?1:0,f=f+s>>>0,u+=f<s?1:0,f=f+a>>>0,u+=f<a?1:0;var d=t+r+i+o+u;return d>>>0}Nr.sum64_4_hi=K$e;function H$e(t,e,r,n,i,s,o,a){var u=e+n+s+a;return u>>>0}Nr.sum64_4_lo=H$e;function q$e(t,e,r,n,i,s,o,a,u,f){var d=0,g=e;g=g+n>>>0,d+=g<e?1:0,g=g+s>>>0,d+=g<s?1:0,g=g+a>>>0,d+=g<a?1:0,g=g+f>>>0,d+=g<f?1:0;var y=t+r+i+o+u+d;return y>>>0}Nr.sum64_5_hi=q$e;function V$e(t,e,r,n,i,s,o,a,u,f){var d=e+n+s+a+f;return d>>>0}Nr.sum64_5_lo=V$e;function G$e(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}Nr.rotr64_hi=G$e;function Y$e(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Nr.rotr64_lo=Y$e;function Z$e(t,e,r){return t>>>r}Nr.shr64_hi=Z$e;function X$e(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Nr.shr64_lo=X$e;var C1={},cH=Nr,J$e=fu;function uT(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}C1.BlockHash=uT;uT.prototype.update=function(e,r){if(e=cH.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=cH.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};uT.prototype.digest=function(e){return this.update(this._pad()),J$e(this.pending===null),this._digest(e)};uT.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var s=1;s<n;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,o=8;o<this.padLength;o++)i[s++]=0;return i};var P1={},Rl={},Q$e=Nr,nl=Q$e.rotr32;function eUe(t,e,r,n){if(t===0)return gie(e,r,n);if(t===1||t===3)return yie(e,r,n);if(t===2)return mie(e,r,n)}Rl.ft_1=eUe;function gie(t,e,r){return t&e^~t&r}Rl.ch32=gie;function mie(t,e,r){return t&e^t&r^e&r}Rl.maj32=mie;function yie(t,e,r){return t^e^r}Rl.p32=yie;function tUe(t){return nl(t,2)^nl(t,13)^nl(t,22)}Rl.s0_256=tUe;function rUe(t){return nl(t,6)^nl(t,11)^nl(t,25)}Rl.s1_256=rUe;function nUe(t){return nl(t,7)^nl(t,18)^t>>>3}Rl.g0_256=nUe;function iUe(t){return nl(t,17)^nl(t,19)^t>>>10}Rl.g1_256=iUe;var Ub=Nr,sUe=C1,oUe=Rl,WR=Ub.rotl32,wv=Ub.sum32,aUe=Ub.sum32_5,uUe=oUe.ft_1,bie=sUe.BlockHash,cUe=[1518500249,1859775393,2400959708,3395469782];function pl(){if(!(this instanceof pl))return new pl;bie.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Ub.inherits(pl,bie);var lUe=pl;pl.blockSize=512;pl.outSize=160;pl.hmacStrength=80;pl.padLength=64;pl.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=WR(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var s=this.h[0],o=this.h[1],a=this.h[2],u=this.h[3],f=this.h[4];for(i=0;i<n.length;i++){var d=~~(i/20),g=aUe(WR(s,5),uUe(d,o,a,u),f,n[i],cUe[d]);f=u,u=a,a=WR(o,30),o=s,s=g}this.h[0]=wv(this.h[0],s),this.h[1]=wv(this.h[1],o),this.h[2]=wv(this.h[2],a),this.h[3]=wv(this.h[3],u),this.h[4]=wv(this.h[4],f)};pl.prototype._digest=function(e){return e==="hex"?Ub.toHex32(this.h,"big"):Ub.split32(this.h,"big")};var zb=Nr,fUe=C1,N1=Rl,dUe=fu,bu=zb.sum32,hUe=zb.sum32_4,pUe=zb.sum32_5,gUe=N1.ch32,mUe=N1.maj32,yUe=N1.s0_256,bUe=N1.s1_256,vUe=N1.g0_256,wUe=N1.g1_256,vie=fUe.BlockHash,SUe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function gl(){if(!(this instanceof gl))return new gl;vie.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=SUe,this.W=new Array(64)}zb.inherits(gl,vie);var wie=gl;gl.blockSize=512;gl.outSize=256;gl.hmacStrength=192;gl.padLength=64;gl.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=hUe(wUe(n[i-2]),n[i-7],vUe(n[i-15]),n[i-16]);var s=this.h[0],o=this.h[1],a=this.h[2],u=this.h[3],f=this.h[4],d=this.h[5],g=this.h[6],y=this.h[7];for(dUe(this.k.length===n.length),i=0;i<n.length;i++){var b=pUe(y,bUe(f),gUe(f,d,g),this.k[i],n[i]),A=bu(yUe(s),mUe(s,o,a));y=g,g=d,d=f,f=bu(u,b),u=a,a=o,o=s,s=bu(b,A)}this.h[0]=bu(this.h[0],s),this.h[1]=bu(this.h[1],o),this.h[2]=bu(this.h[2],a),this.h[3]=bu(this.h[3],u),this.h[4]=bu(this.h[4],f),this.h[5]=bu(this.h[5],d),this.h[6]=bu(this.h[6],g),this.h[7]=bu(this.h[7],y)};gl.prototype._digest=function(e){return e==="hex"?zb.toHex32(this.h,"big"):zb.split32(this.h,"big")};var HP=Nr,Sie=wie;function ed(){if(!(this instanceof ed))return new ed;Sie.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}HP.inherits(ed,Sie);var _Ue=ed;ed.blockSize=512;ed.outSize=224;ed.hmacStrength=192;ed.padLength=64;ed.prototype._digest=function(e){return e==="hex"?HP.toHex32(this.h.slice(0,7),"big"):HP.split32(this.h.slice(0,7),"big")};var Zo=Nr,AUe=C1,xUe=fu,il=Zo.rotr64_hi,sl=Zo.rotr64_lo,_ie=Zo.shr64_hi,Aie=Zo.shr64_lo,Ed=Zo.sum64,jR=Zo.sum64_hi,KR=Zo.sum64_lo,EUe=Zo.sum64_4_hi,kUe=Zo.sum64_4_lo,TUe=Zo.sum64_5_hi,IUe=Zo.sum64_5_lo,xie=AUe.BlockHash,RUe=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Zu(){if(!(this instanceof Zu))return new Zu;xie.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=RUe,this.W=new Array(160)}Zo.inherits(Zu,xie);var Eie=Zu;Zu.blockSize=1024;Zu.outSize=512;Zu.hmacStrength=192;Zu.padLength=128;Zu.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var s=UUe(n[i-4],n[i-3]),o=zUe(n[i-4],n[i-3]),a=n[i-14],u=n[i-13],f=FUe(n[i-30],n[i-29]),d=$Ue(n[i-30],n[i-29]),g=n[i-32],y=n[i-31];n[i]=EUe(s,o,a,u,f,d,g,y),n[i+1]=kUe(s,o,a,u,f,d,g,y)}};Zu.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],u=this.h[4],f=this.h[5],d=this.h[6],g=this.h[7],y=this.h[8],b=this.h[9],A=this.h[10],x=this.h[11],k=this.h[12],I=this.h[13],R=this.h[14],M=this.h[15];xUe(this.k.length===n.length);for(var P=0;P<n.length;P+=2){var j=R,V=M,Z=LUe(y,b),G=DUe(y,b),q=MUe(y,b,A,x,k),ae=CUe(y,b,A,x,k,I),T=this.k[P],c=this.k[P+1],h=n[P],p=n[P+1],m=TUe(j,V,Z,G,q,ae,T,c,h,p),v=IUe(j,V,Z,G,q,ae,T,c,h,p);j=BUe(i,s),V=OUe(i,s),Z=PUe(i,s,o,a,u),G=NUe(i,s,o,a,u,f);var _=jR(j,V,Z,G),E=KR(j,V,Z,G);R=k,M=I,k=A,I=x,A=y,x=b,y=jR(d,g,m,v),b=KR(g,g,m,v),d=u,g=f,u=o,f=a,o=i,a=s,i=jR(m,v,_,E),s=KR(m,v,_,E)}Ed(this.h,0,i,s),Ed(this.h,2,o,a),Ed(this.h,4,u,f),Ed(this.h,6,d,g),Ed(this.h,8,y,b),Ed(this.h,10,A,x),Ed(this.h,12,k,I),Ed(this.h,14,R,M)};Zu.prototype._digest=function(e){return e==="hex"?Zo.toHex32(this.h,"big"):Zo.split32(this.h,"big")};function MUe(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function CUe(t,e,r,n,i,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function PUe(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function NUe(t,e,r,n,i,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function BUe(t,e){var r=il(t,e,28),n=il(e,t,2),i=il(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function OUe(t,e){var r=sl(t,e,28),n=sl(e,t,2),i=sl(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function LUe(t,e){var r=il(t,e,14),n=il(t,e,18),i=il(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function DUe(t,e){var r=sl(t,e,14),n=sl(t,e,18),i=sl(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function FUe(t,e){var r=il(t,e,1),n=il(t,e,8),i=_ie(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function $Ue(t,e){var r=sl(t,e,1),n=sl(t,e,8),i=Aie(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function UUe(t,e){var r=il(t,e,19),n=il(e,t,29),i=_ie(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}function zUe(t,e){var r=sl(t,e,19),n=sl(e,t,29),i=Aie(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}var qP=Nr,kie=Eie;function td(){if(!(this instanceof td))return new td;kie.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}qP.inherits(td,kie);var WUe=td;td.blockSize=1024;td.outSize=384;td.hmacStrength=192;td.padLength=128;td.prototype._digest=function(e){return e==="hex"?qP.toHex32(this.h.slice(0,12),"big"):qP.split32(this.h.slice(0,12),"big")};P1.sha1=lUe;P1.sha224=_Ue;P1.sha256=wie;P1.sha384=WUe;P1.sha512=Eie;var Tie={},B0=Nr,jUe=C1,GA=B0.rotl32,lH=B0.sum32,Sv=B0.sum32_3,fH=B0.sum32_4,Iie=jUe.BlockHash;function ml(){if(!(this instanceof ml))return new ml;Iie.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}B0.inherits(ml,Iie);Tie.ripemd160=ml;ml.blockSize=512;ml.outSize=160;ml.hmacStrength=192;ml.padLength=64;ml.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],u=n,f=i,d=s,g=o,y=a,b=0;b<80;b++){var A=lH(GA(fH(n,dH(b,i,s,o),e[qUe[b]+r],KUe(b)),GUe[b]),a);n=a,a=o,o=GA(s,10),s=i,i=A,A=lH(GA(fH(u,dH(79-b,f,d,g),e[VUe[b]+r],HUe(b)),YUe[b]),y),u=y,y=g,g=GA(d,10),d=f,f=A}A=Sv(this.h[1],s,g),this.h[1]=Sv(this.h[2],o,y),this.h[2]=Sv(this.h[3],a,u),this.h[3]=Sv(this.h[4],n,f),this.h[4]=Sv(this.h[0],i,d),this.h[0]=A};ml.prototype._digest=function(e){return e==="hex"?B0.toHex32(this.h,"little"):B0.split32(this.h,"little")};function dH(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function KUe(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function HUe(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var qUe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],VUe=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],GUe=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],YUe=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],ZUe=Nr,XUe=fu;function Wb(t,e,r){if(!(this instanceof Wb))return new Wb(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(ZUe.toArray(e,r))}var JUe=Wb;Wb.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),XUe(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};Wb.prototype.update=function(e,r){return this.inner.update(e,r),this};Wb.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=Nr,e.common=C1,e.sha=P1,e.ripemd=Tie,e.hmac=JUe,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(M1);const Rie=ro(M1),pSt=mY({__proto__:null,default:Rie},[M1]);var HR,hH;function QUe(){return hH||(hH=1,HR={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),HR}(function(t){var e=t,r=M1,n=eL,i=Pa,s=i.assert;function o(f){f.type==="short"?this.curve=new n.short(f):f.type==="edwards"?this.curve=new n.edwards(f):this.curve=new n.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=o;function a(f,d){Object.defineProperty(e,f,{configurable:!0,enumerable:!0,get:function(){var g=new o(d);return Object.defineProperty(e,f,{configurable:!0,enumerable:!0,value:g}),g}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var u;try{u=QUe()}catch{u=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",u]})})(aT);var eze=M1,d0=QO,Mie=fu;function Ih(t){if(!(this instanceof Ih))return new Ih(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=d0.toArray(t.entropy,t.entropyEnc||"hex"),r=d0.toArray(t.nonce,t.nonceEnc||"hex"),n=d0.toArray(t.pers,t.persEnc||"hex");Mie(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var tze=Ih;Ih.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Ih.prototype._hmac=function(){return new eze.hmac(this.hash,this.K)};Ih.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Ih.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=d0.toArray(e,r),n=d0.toArray(n,i),Mie(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Ih.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=d0.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,d0.encode(o,r)};var rze=cd,nze=Pa,VP=nze.assert;function to(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var ize=to;to.fromPublic=function(e,r,n){return r instanceof to?r:new to(e,{pub:r,pubEnc:n})};to.fromPrivate=function(e,r,n){return r instanceof to?r:new to(e,{priv:r,privEnc:n})};to.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};to.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};to.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};to.prototype._importPrivate=function(e,r){this.priv=new rze(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};to.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?VP(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&VP(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};to.prototype.derive=function(e){return e.validate()||VP(e.validate(),"public point not validated"),e.mul(this.priv).getX()};to.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};to.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};to.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var xE=cd,rL=Pa,sze=rL.assert;function cT(t,e){if(t instanceof cT)return t;this._importDER(t,e)||(sze(t.r&&t.s,"Signature without r or s"),this.r=new xE(t.r,16),this.s=new xE(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var oze=cT;function aze(){this.place=0}function qR(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function pH(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}cT.prototype._importDER=function(e,r){e=rL.toArray(e,r);var n=new aze;if(e[n.place++]!==48)return!1;var i=qR(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=qR(e,n);if(s===!1||e[n.place]&128)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=qR(e,n);if(a===!1||e.length!==a+n.place||e[n.place]&128)return!1;var u=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(u[0]===0)if(u[1]&128)u=u.slice(1);else return!1;return this.r=new xE(o),this.s=new xE(u),this.recoveryParam=null,!0};function VR(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}cT.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=pH(r),n=pH(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];VR(i,r.length),i=i.concat(r),i.push(2),VR(i,n.length);var s=i.concat(n),o=[48];return VR(o,s.length),o=o.concat(s),rL.encode(o,e)};var GR,gH;function uze(){if(gH)return GR;gH=1;var t=cd,e=tze,r=Pa,n=aT,i=YO(),s=r.assert,o=ize,a=oze;function u(f){if(!(this instanceof u))return new u(f);typeof f=="string"&&(s(Object.prototype.hasOwnProperty.call(n,f),"Unknown curve "+f),f=n[f]),f instanceof n.PresetCurve&&(f={curve:f}),this.curve=f.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=f.curve.g,this.g.precompute(f.curve.n.bitLength()+1),this.hash=f.hash||f.curve.hash}return GR=u,u.prototype.keyPair=function(d){return new o(this,d)},u.prototype.keyFromPrivate=function(d,g){return o.fromPrivate(this,d,g)},u.prototype.keyFromPublic=function(d,g){return o.fromPublic(this,d,g)},u.prototype.genKeyPair=function(d){d||(d={});for(var g=new e({hash:this.hash,pers:d.pers,persEnc:d.persEnc||"utf8",entropy:d.entropy||i(this.hash.hmacStrength),entropyEnc:d.entropy&&d.entropyEnc||"utf8",nonce:this.n.toArray()}),y=this.n.byteLength(),b=this.n.sub(new t(2));;){var A=new t(g.generate(y));if(!(A.cmp(b)>0))return A.iaddn(1),this.keyFromPrivate(A)}},u.prototype._truncateToN=function(d,g,y){var b;if(t.isBN(d)||typeof d=="number")d=new t(d,16),b=d.byteLength();else if(typeof d=="object")b=d.length,d=new t(d,16);else{var A=d.toString();b=A.length+1>>>1,d=new t(A,16)}typeof y!="number"&&(y=b*8);var x=y-this.n.bitLength();return x>0&&(d=d.ushrn(x)),!g&&d.cmp(this.n)>=0?d.sub(this.n):d},u.prototype.sign=function(d,g,y,b){if(typeof y=="object"&&(b=y,y=null),b||(b={}),typeof d!="string"&&typeof d!="number"&&!t.isBN(d)){s(typeof d=="object"&&d&&typeof d.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),s(d.length>>>0===d.length);for(var A=0;A<d.length;A++)s((d[A]&255)===d[A])}g=this.keyFromPrivate(g,y),d=this._truncateToN(d,!1,b.msgBitLength),s(!d.isNeg(),"Can not sign a negative message");var x=this.n.byteLength(),k=g.getPrivate().toArray("be",x),I=d.toArray("be",x);s(new t(I).eq(d),"Can not sign message");for(var R=new e({hash:this.hash,entropy:k,nonce:I,pers:b.pers,persEnc:b.persEnc||"utf8"}),M=this.n.sub(new t(1)),P=0;;P++){var j=b.k?b.k(P):new t(R.generate(this.n.byteLength()));if(j=this._truncateToN(j,!0),!(j.cmpn(1)<=0||j.cmp(M)>=0)){var V=this.g.mul(j);if(!V.isInfinity()){var Z=V.getX(),G=Z.umod(this.n);if(G.cmpn(0)!==0){var q=j.invm(this.n).mul(G.mul(g.getPrivate()).iadd(d));if(q=q.umod(this.n),q.cmpn(0)!==0){var ae=(V.getY().isOdd()?1:0)|(Z.cmp(G)!==0?2:0);return b.canonical&&q.cmp(this.nh)>0&&(q=this.n.sub(q),ae^=1),new a({r:G,s:q,recoveryParam:ae})}}}}}},u.prototype.verify=function(d,g,y,b,A){A||(A={}),d=this._truncateToN(d,!1,A.msgBitLength),y=this.keyFromPublic(y,b),g=new a(g,"hex");var x=g.r,k=g.s;if(x.cmpn(1)<0||x.cmp(this.n)>=0||k.cmpn(1)<0||k.cmp(this.n)>=0)return!1;var I=k.invm(this.n),R=I.mul(d).umod(this.n),M=I.mul(x).umod(this.n),P;return this.curve._maxwellTrick?(P=this.g.jmulAdd(R,y.getPublic(),M),P.isInfinity()?!1:P.eqXToP(x)):(P=this.g.mulAdd(R,y.getPublic(),M),P.isInfinity()?!1:P.getX().umod(this.n).cmp(x)===0)},u.prototype.recoverPubKey=function(f,d,g,y){s((3&g)===g,"The recovery param is more than two bits"),d=new a(d,y);var b=this.n,A=new t(f),x=d.r,k=d.s,I=g&1,R=g>>1;if(x.cmp(this.curve.p.umod(this.curve.n))>=0&&R)throw new Error("Unable to find sencond key candinate");R?x=this.curve.pointFromX(x.add(this.curve.n),I):x=this.curve.pointFromX(x,I);var M=d.r.invm(b),P=b.sub(A).mul(M).umod(b),j=k.mul(M).umod(b);return this.g.mulAdd(P,x,j)},u.prototype.getKeyRecoveryParam=function(f,d,g,y){if(d=new a(d,y),d.recoveryParam!==null)return d.recoveryParam;for(var b=0;b<4;b++){var A;try{A=this.recoverPubKey(f,d,b)}catch{continue}if(A.eq(g))return b}throw new Error("Unable to find valid recovery factor")},GR}var M_=Pa,Cie=M_.assert,mH=M_.parseBytes,B1=M_.cachedProperty;function ms(t,e){this.eddsa=t,this._secret=mH(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=mH(e.pub)}ms.fromPublic=function(e,r){return r instanceof ms?r:new ms(e,{pub:r})};ms.fromSecret=function(e,r){return r instanceof ms?r:new ms(e,{secret:r})};ms.prototype.secret=function(){return this._secret};B1(ms,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});B1(ms,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});B1(ms,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});B1(ms,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});B1(ms,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});B1(ms,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});ms.prototype.sign=function(e){return Cie(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};ms.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};ms.prototype.getSecret=function(e){return Cie(this._secret,"KeyPair is public only"),M_.encode(this.secret(),e)};ms.prototype.getPublic=function(e){return M_.encode(this.pubBytes(),e)};var cze=ms,lze=cd,lT=Pa,yH=lT.assert,fT=lT.cachedProperty,fze=lT.parseBytes;function hg(t,e){this.eddsa=t,typeof e!="object"&&(e=fze(e)),Array.isArray(e)&&(yH(e.length===t.encodingLength*2,"Signature has invalid size"),e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),yH(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof lze&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}fT(hg,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});fT(hg,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});fT(hg,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});fT(hg,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});hg.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};hg.prototype.toHex=function(){return lT.encode(this.toBytes(),"hex").toUpperCase()};var dze=hg,hze=M1,pze=aT,jb=Pa,gze=jb.assert,Pie=jb.parseBytes,Nie=cze,bH=dze;function Xo(t){if(gze(t==="ed25519","only tested with ed25519 so far"),!(this instanceof Xo))return new Xo(t);t=pze[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=hze.sha512}var mze=Xo;Xo.prototype.sign=function(e,r){e=Pie(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),s=this.g.mul(i),o=this.encodePoint(s),a=this.hashInt(o,n.pubBytes(),e).mul(n.priv()),u=i.add(a).umod(this.curve.n);return this.makeSignature({R:s,S:u,Rencoded:o})};Xo.prototype.verify=function(e,r,n){if(e=Pie(e),r=this.makeSignature(r),r.S().gte(r.eddsa.curve.n)||r.S().isNeg())return!1;var i=this.keyFromPublic(n),s=this.hashInt(r.Rencoded(),i.pubBytes(),e),o=this.g.mul(r.S()),a=r.R().add(i.pub().mul(s));return a.eq(o)};Xo.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return jb.intFromLE(e.digest()).umod(this.curve.n)};Xo.prototype.keyFromPublic=function(e){return Nie.fromPublic(this,e)};Xo.prototype.keyFromSecret=function(e){return Nie.fromSecret(this,e)};Xo.prototype.makeSignature=function(e){return e instanceof bH?e:new bH(this,e)};Xo.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};Xo.prototype.decodePoint=function(e){e=jb.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,s=jb.intFromLE(n);return this.curve.pointFromY(s,i)};Xo.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};Xo.prototype.decodeInt=function(e){return jb.intFromLE(e)};Xo.prototype.isPoint=function(e){return e instanceof this.pointClass};var vH;function nL(){return vH||(vH=1,function(t){var e=t;e.version=y$e.version,e.utils=Pa,e.rand=YO(),e.curve=eL,e.curves=aT,e.ec=uze(),e.eddsa=mze}(zR)),zR}var ac={},YR={},iL={exports:{}};iL.exports;(function(t){(function(e,r){function n(T,c){if(!T)throw new Error(c||"Assertion failed")}function i(T,c){T.super_=c;var h=function(){};h.prototype=c.prototype,T.prototype=new h,T.prototype.constructor=T}function s(T,c,h){if(s.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,T!==null&&((c==="le"||c==="be")&&(h=c,c=10),this._init(T||0,c||10,h||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=xe.Buffer}catch{}s.isBN=function(c){return c instanceof s?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===s.wordSize&&Array.isArray(c.words)},s.max=function(c,h){return c.cmp(h)>0?c:h},s.min=function(c,h){return c.cmp(h)<0?c:h},s.prototype._init=function(c,h,p){if(typeof c=="number")return this._initNumber(c,h,p);if(typeof c=="object")return this._initArray(c,h,p);h==="hex"&&(h=16),n(h===(h|0)&&h>=2&&h<=36),c=c.toString().replace(/\s+/g,"");var m=0;c[0]==="-"&&(m++,this.negative=1),m<c.length&&(h===16?this._parseHex(c,m,p):(this._parseBase(c,h,m),p==="le"&&this._initArray(this.toArray(),h,p)))},s.prototype._initNumber=function(c,h,p){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(n(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),h,p)},s.prototype._initArray=function(c,h,p){if(n(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var v,_,E=0;if(p==="be")for(m=c.length-1,v=0;m>=0;m-=3)_=c[m]|c[m-1]<<8|c[m-2]<<16,this.words[v]|=_<<E&67108863,this.words[v+1]=_>>>26-E&67108863,E+=24,E>=26&&(E-=26,v++);else if(p==="le")for(m=0,v=0;m<c.length;m+=3)_=c[m]|c[m+1]<<8|c[m+2]<<16,this.words[v]|=_<<E&67108863,this.words[v+1]=_>>>26-E&67108863,E+=24,E>=26&&(E-=26,v++);return this.strip()};function a(T,c){var h=T.charCodeAt(c);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function u(T,c,h){var p=a(T,h);return h-1>=c&&(p|=a(T,h-1)<<4),p}s.prototype._parseHex=function(c,h,p){this.length=Math.ceil((c.length-h)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var v=0,_=0,E;if(p==="be")for(m=c.length-1;m>=h;m-=2)E=u(c,h,m)<<v,this.words[_]|=E&67108863,v>=18?(v-=18,_+=1,this.words[_]|=E>>>26):v+=8;else{var w=c.length-h;for(m=w%2===0?h+1:h;m<c.length;m+=2)E=u(c,h,m)<<v,this.words[_]|=E&67108863,v>=18?(v-=18,_+=1,this.words[_]|=E>>>26):v+=8}this.strip()};function f(T,c,h,p){for(var m=0,v=Math.min(T.length,h),_=c;_<v;_++){var E=T.charCodeAt(_)-48;m*=p,E>=49?m+=E-49+10:E>=17?m+=E-17+10:m+=E}return m}s.prototype._parseBase=function(c,h,p){this.words=[0],this.length=1;for(var m=0,v=1;v<=67108863;v*=h)m++;m--,v=v/h|0;for(var _=c.length-p,E=_%m,w=Math.min(_,_-E)+p,l=0,S=p;S<w;S+=m)l=f(c,S,S+m,h),this.imuln(v),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(E!==0){var C=1;for(l=f(c,S,c.length,h),S=0;S<E;S++)C*=h;this.imuln(C),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},s.prototype.copy=function(c){c.words=new Array(this.length);for(var h=0;h<this.length;h++)c.words[h]=this.words[h];c.length=this.length,c.negative=this.negative,c.red=this.red},s.prototype.clone=function(){var c=new s(null);return this.copy(c),c},s.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(c,h){c=c||10,h=h|0||1;var p;if(c===16||c==="hex"){p="";for(var m=0,v=0,_=0;_<this.length;_++){var E=this.words[_],w=((E<<m|v)&16777215).toString(16);v=E>>>24-m&16777215,m+=2,m>=26&&(m-=26,_--),v!==0||_!==this.length-1?p=d[6-w.length]+w+p:p=w+p}for(v!==0&&(p=v.toString(16)+p);p.length%h!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(c===(c|0)&&c>=2&&c<=36){var l=g[c],S=y[c];p="";var C=this.clone();for(C.negative=0;!C.isZero();){var D=C.modn(S).toString(c);C=C.idivn(S),C.isZero()?p=D+p:p=d[l-D.length]+D+p}for(this.isZero()&&(p="0"+p);p.length%h!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(c,h){return n(typeof o<"u"),this.toArrayLike(o,c,h)},s.prototype.toArray=function(c,h){return this.toArrayLike(Array,c,h)},s.prototype.toArrayLike=function(c,h,p){var m=this.byteLength(),v=p||Math.max(1,m);n(m<=v,"byte array longer than desired length"),n(v>0,"Requested array length <= 0"),this.strip();var _=h==="le",E=new c(v),w,l,S=this.clone();if(_){for(l=0;!S.isZero();l++)w=S.andln(255),S.iushrn(8),E[l]=w;for(;l<v;l++)E[l]=0}else{for(l=0;l<v-m;l++)E[l]=0;for(l=0;!S.isZero();l++)w=S.andln(255),S.iushrn(8),E[v-l-1]=w}return E},Math.clz32?s.prototype._countBits=function(c){return 32-Math.clz32(c)}:s.prototype._countBits=function(c){var h=c,p=0;return h>=4096&&(p+=13,h>>>=13),h>=64&&(p+=7,h>>>=7),h>=8&&(p+=4,h>>>=4),h>=2&&(p+=2,h>>>=2),p+h},s.prototype._zeroBits=function(c){if(c===0)return 26;var h=c,p=0;return h&8191||(p+=13,h>>>=13),h&127||(p+=7,h>>>=7),h&15||(p+=4,h>>>=4),h&3||(p+=2,h>>>=2),h&1||p++,p},s.prototype.bitLength=function(){var c=this.words[this.length-1],h=this._countBits(c);return(this.length-1)*26+h};function b(T){for(var c=new Array(T.bitLength()),h=0;h<c.length;h++){var p=h/26|0,m=h%26;c[h]=(T.words[p]&1<<m)>>>m}return c}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,h=0;h<this.length;h++){var p=this._zeroBits(this.words[h]);if(c+=p,p!==26)break}return c},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},s.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var h=0;h<c.length;h++)this.words[h]=this.words[h]|c.words[h];return this.strip()},s.prototype.ior=function(c){return n((this.negative|c.negative)===0),this.iuor(c)},s.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},s.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},s.prototype.iuand=function(c){var h;this.length>c.length?h=c:h=this;for(var p=0;p<h.length;p++)this.words[p]=this.words[p]&c.words[p];return this.length=h.length,this.strip()},s.prototype.iand=function(c){return n((this.negative|c.negative)===0),this.iuand(c)},s.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},s.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},s.prototype.iuxor=function(c){var h,p;this.length>c.length?(h=this,p=c):(h=c,p=this);for(var m=0;m<p.length;m++)this.words[m]=h.words[m]^p.words[m];if(this!==h)for(;m<h.length;m++)this.words[m]=h.words[m];return this.length=h.length,this.strip()},s.prototype.ixor=function(c){return n((this.negative|c.negative)===0),this.iuxor(c)},s.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},s.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},s.prototype.inotn=function(c){n(typeof c=="number"&&c>=0);var h=Math.ceil(c/26)|0,p=c%26;this._expand(h),p>0&&h--;for(var m=0;m<h;m++)this.words[m]=~this.words[m]&67108863;return p>0&&(this.words[m]=~this.words[m]&67108863>>26-p),this.strip()},s.prototype.notn=function(c){return this.clone().inotn(c)},s.prototype.setn=function(c,h){n(typeof c=="number"&&c>=0);var p=c/26|0,m=c%26;return this._expand(p+1),h?this.words[p]=this.words[p]|1<<m:this.words[p]=this.words[p]&~(1<<m),this.strip()},s.prototype.iadd=function(c){var h;if(this.negative!==0&&c.negative===0)return this.negative=0,h=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,h=this.isub(c),c.negative=1,h._normSign();var p,m;this.length>c.length?(p=this,m=c):(p=c,m=this);for(var v=0,_=0;_<m.length;_++)h=(p.words[_]|0)+(m.words[_]|0)+v,this.words[_]=h&67108863,v=h>>>26;for(;v!==0&&_<p.length;_++)h=(p.words[_]|0)+v,this.words[_]=h&67108863,v=h>>>26;if(this.length=p.length,v!==0)this.words[this.length]=v,this.length++;else if(p!==this)for(;_<p.length;_++)this.words[_]=p.words[_];return this},s.prototype.add=function(c){var h;return c.negative!==0&&this.negative===0?(c.negative=0,h=this.sub(c),c.negative^=1,h):c.negative===0&&this.negative!==0?(this.negative=0,h=c.sub(this),this.negative=1,h):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},s.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var h=this.iadd(c);return c.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var p=this.cmp(c);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,v;p>0?(m=this,v=c):(m=c,v=this);for(var _=0,E=0;E<v.length;E++)h=(m.words[E]|0)-(v.words[E]|0)+_,_=h>>26,this.words[E]=h&67108863;for(;_!==0&&E<m.length;E++)h=(m.words[E]|0)+_,_=h>>26,this.words[E]=h&67108863;if(_===0&&E<m.length&&m!==this)for(;E<m.length;E++)this.words[E]=m.words[E];return this.length=Math.max(this.length,E),m!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(c){return this.clone().isub(c)};function A(T,c,h){h.negative=c.negative^T.negative;var p=T.length+c.length|0;h.length=p,p=p-1|0;var m=T.words[0]|0,v=c.words[0]|0,_=m*v,E=_&67108863,w=_/67108864|0;h.words[0]=E;for(var l=1;l<p;l++){for(var S=w>>>26,C=w&67108863,D=Math.min(l,c.length-1),U=Math.max(0,l-T.length+1);U<=D;U++){var O=l-U|0;m=T.words[O]|0,v=c.words[U]|0,_=m*v+C,S+=_/67108864|0,C=_&67108863}h.words[l]=C|0,w=S|0}return w!==0?h.words[l]=w|0:h.length--,h.strip()}var x=function(c,h,p){var m=c.words,v=h.words,_=p.words,E=0,w,l,S,C=m[0]|0,D=C&8191,U=C>>>13,O=m[1]|0,$=O&8191,F=O>>>13,H=m[2]|0,Q=H&8191,te=H>>>13,X=m[3]|0,K=X&8191,oe=X>>>13,_e=m[4]|0,Se=_e&8191,W=_e>>>13,re=m[5]|0,ne=re&8191,se=re>>>13,Te=m[6]|0,be=Te&8191,Ee=Te>>>13,ut=m[7]|0,le=ut&8191,de=ut>>>13,Fe=m[8]|0,ee=Fe&8191,z=Fe>>>13,J=m[9]|0,ie=J&8191,fe=J>>>13,ke=v[0]|0,ve=ke&8191,Ne=ke>>>13,kt=v[1]|0,Be=kt&8191,Le=kt>>>13,yt=v[2]|0,$e=yt&8191,Ze=yt>>>13,nr=v[3]|0,Ue=nr&8191,Xe=nr>>>13,ir=v[4]|0,ze=ir&8191,Je=ir>>>13,sr=v[5]|0,We=sr&8191,Qe=sr>>>13,or=v[6]|0,je=or&8191,et=or>>>13,ar=v[7]|0,Ke=ar&8191,tt=ar>>>13,ur=v[8]|0,He=ur&8191,rt=ur>>>13,cr=v[9]|0,qe=cr&8191,nt=cr>>>13;p.negative=c.negative^h.negative,p.length=19,w=Math.imul(D,ve),l=Math.imul(D,Ne),l=l+Math.imul(U,ve)|0,S=Math.imul(U,Ne);var Jt=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,w=Math.imul($,ve),l=Math.imul($,Ne),l=l+Math.imul(F,ve)|0,S=Math.imul(F,Ne),w=w+Math.imul(D,Be)|0,l=l+Math.imul(D,Le)|0,l=l+Math.imul(U,Be)|0,S=S+Math.imul(U,Le)|0;var Qt=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,w=Math.imul(Q,ve),l=Math.imul(Q,Ne),l=l+Math.imul(te,ve)|0,S=Math.imul(te,Ne),w=w+Math.imul($,Be)|0,l=l+Math.imul($,Le)|0,l=l+Math.imul(F,Be)|0,S=S+Math.imul(F,Le)|0,w=w+Math.imul(D,$e)|0,l=l+Math.imul(D,Ze)|0,l=l+Math.imul(U,$e)|0,S=S+Math.imul(U,Ze)|0;var jr=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(jr>>>26)|0,jr&=67108863,w=Math.imul(K,ve),l=Math.imul(K,Ne),l=l+Math.imul(oe,ve)|0,S=Math.imul(oe,Ne),w=w+Math.imul(Q,Be)|0,l=l+Math.imul(Q,Le)|0,l=l+Math.imul(te,Be)|0,S=S+Math.imul(te,Le)|0,w=w+Math.imul($,$e)|0,l=l+Math.imul($,Ze)|0,l=l+Math.imul(F,$e)|0,S=S+Math.imul(F,Ze)|0,w=w+Math.imul(D,Ue)|0,l=l+Math.imul(D,Xe)|0,l=l+Math.imul(U,Ue)|0,S=S+Math.imul(U,Xe)|0;var Kr=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,w=Math.imul(Se,ve),l=Math.imul(Se,Ne),l=l+Math.imul(W,ve)|0,S=Math.imul(W,Ne),w=w+Math.imul(K,Be)|0,l=l+Math.imul(K,Le)|0,l=l+Math.imul(oe,Be)|0,S=S+Math.imul(oe,Le)|0,w=w+Math.imul(Q,$e)|0,l=l+Math.imul(Q,Ze)|0,l=l+Math.imul(te,$e)|0,S=S+Math.imul(te,Ze)|0,w=w+Math.imul($,Ue)|0,l=l+Math.imul($,Xe)|0,l=l+Math.imul(F,Ue)|0,S=S+Math.imul(F,Xe)|0,w=w+Math.imul(D,ze)|0,l=l+Math.imul(D,Je)|0,l=l+Math.imul(U,ze)|0,S=S+Math.imul(U,Je)|0;var Hr=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,w=Math.imul(ne,ve),l=Math.imul(ne,Ne),l=l+Math.imul(se,ve)|0,S=Math.imul(se,Ne),w=w+Math.imul(Se,Be)|0,l=l+Math.imul(Se,Le)|0,l=l+Math.imul(W,Be)|0,S=S+Math.imul(W,Le)|0,w=w+Math.imul(K,$e)|0,l=l+Math.imul(K,Ze)|0,l=l+Math.imul(oe,$e)|0,S=S+Math.imul(oe,Ze)|0,w=w+Math.imul(Q,Ue)|0,l=l+Math.imul(Q,Xe)|0,l=l+Math.imul(te,Ue)|0,S=S+Math.imul(te,Xe)|0,w=w+Math.imul($,ze)|0,l=l+Math.imul($,Je)|0,l=l+Math.imul(F,ze)|0,S=S+Math.imul(F,Je)|0,w=w+Math.imul(D,We)|0,l=l+Math.imul(D,Qe)|0,l=l+Math.imul(U,We)|0,S=S+Math.imul(U,Qe)|0;var qr=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(qr>>>26)|0,qr&=67108863,w=Math.imul(be,ve),l=Math.imul(be,Ne),l=l+Math.imul(Ee,ve)|0,S=Math.imul(Ee,Ne),w=w+Math.imul(ne,Be)|0,l=l+Math.imul(ne,Le)|0,l=l+Math.imul(se,Be)|0,S=S+Math.imul(se,Le)|0,w=w+Math.imul(Se,$e)|0,l=l+Math.imul(Se,Ze)|0,l=l+Math.imul(W,$e)|0,S=S+Math.imul(W,Ze)|0,w=w+Math.imul(K,Ue)|0,l=l+Math.imul(K,Xe)|0,l=l+Math.imul(oe,Ue)|0,S=S+Math.imul(oe,Xe)|0,w=w+Math.imul(Q,ze)|0,l=l+Math.imul(Q,Je)|0,l=l+Math.imul(te,ze)|0,S=S+Math.imul(te,Je)|0,w=w+Math.imul($,We)|0,l=l+Math.imul($,Qe)|0,l=l+Math.imul(F,We)|0,S=S+Math.imul(F,Qe)|0,w=w+Math.imul(D,je)|0,l=l+Math.imul(D,et)|0,l=l+Math.imul(U,je)|0,S=S+Math.imul(U,et)|0;var Vr=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,w=Math.imul(le,ve),l=Math.imul(le,Ne),l=l+Math.imul(de,ve)|0,S=Math.imul(de,Ne),w=w+Math.imul(be,Be)|0,l=l+Math.imul(be,Le)|0,l=l+Math.imul(Ee,Be)|0,S=S+Math.imul(Ee,Le)|0,w=w+Math.imul(ne,$e)|0,l=l+Math.imul(ne,Ze)|0,l=l+Math.imul(se,$e)|0,S=S+Math.imul(se,Ze)|0,w=w+Math.imul(Se,Ue)|0,l=l+Math.imul(Se,Xe)|0,l=l+Math.imul(W,Ue)|0,S=S+Math.imul(W,Xe)|0,w=w+Math.imul(K,ze)|0,l=l+Math.imul(K,Je)|0,l=l+Math.imul(oe,ze)|0,S=S+Math.imul(oe,Je)|0,w=w+Math.imul(Q,We)|0,l=l+Math.imul(Q,Qe)|0,l=l+Math.imul(te,We)|0,S=S+Math.imul(te,Qe)|0,w=w+Math.imul($,je)|0,l=l+Math.imul($,et)|0,l=l+Math.imul(F,je)|0,S=S+Math.imul(F,et)|0,w=w+Math.imul(D,Ke)|0,l=l+Math.imul(D,tt)|0,l=l+Math.imul(U,Ke)|0,S=S+Math.imul(U,tt)|0;var yn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(yn>>>26)|0,yn&=67108863,w=Math.imul(ee,ve),l=Math.imul(ee,Ne),l=l+Math.imul(z,ve)|0,S=Math.imul(z,Ne),w=w+Math.imul(le,Be)|0,l=l+Math.imul(le,Le)|0,l=l+Math.imul(de,Be)|0,S=S+Math.imul(de,Le)|0,w=w+Math.imul(be,$e)|0,l=l+Math.imul(be,Ze)|0,l=l+Math.imul(Ee,$e)|0,S=S+Math.imul(Ee,Ze)|0,w=w+Math.imul(ne,Ue)|0,l=l+Math.imul(ne,Xe)|0,l=l+Math.imul(se,Ue)|0,S=S+Math.imul(se,Xe)|0,w=w+Math.imul(Se,ze)|0,l=l+Math.imul(Se,Je)|0,l=l+Math.imul(W,ze)|0,S=S+Math.imul(W,Je)|0,w=w+Math.imul(K,We)|0,l=l+Math.imul(K,Qe)|0,l=l+Math.imul(oe,We)|0,S=S+Math.imul(oe,Qe)|0,w=w+Math.imul(Q,je)|0,l=l+Math.imul(Q,et)|0,l=l+Math.imul(te,je)|0,S=S+Math.imul(te,et)|0,w=w+Math.imul($,Ke)|0,l=l+Math.imul($,tt)|0,l=l+Math.imul(F,Ke)|0,S=S+Math.imul(F,tt)|0,w=w+Math.imul(D,He)|0,l=l+Math.imul(D,rt)|0,l=l+Math.imul(U,He)|0,S=S+Math.imul(U,rt)|0;var bn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(bn>>>26)|0,bn&=67108863,w=Math.imul(ie,ve),l=Math.imul(ie,Ne),l=l+Math.imul(fe,ve)|0,S=Math.imul(fe,Ne),w=w+Math.imul(ee,Be)|0,l=l+Math.imul(ee,Le)|0,l=l+Math.imul(z,Be)|0,S=S+Math.imul(z,Le)|0,w=w+Math.imul(le,$e)|0,l=l+Math.imul(le,Ze)|0,l=l+Math.imul(de,$e)|0,S=S+Math.imul(de,Ze)|0,w=w+Math.imul(be,Ue)|0,l=l+Math.imul(be,Xe)|0,l=l+Math.imul(Ee,Ue)|0,S=S+Math.imul(Ee,Xe)|0,w=w+Math.imul(ne,ze)|0,l=l+Math.imul(ne,Je)|0,l=l+Math.imul(se,ze)|0,S=S+Math.imul(se,Je)|0,w=w+Math.imul(Se,We)|0,l=l+Math.imul(Se,Qe)|0,l=l+Math.imul(W,We)|0,S=S+Math.imul(W,Qe)|0,w=w+Math.imul(K,je)|0,l=l+Math.imul(K,et)|0,l=l+Math.imul(oe,je)|0,S=S+Math.imul(oe,et)|0,w=w+Math.imul(Q,Ke)|0,l=l+Math.imul(Q,tt)|0,l=l+Math.imul(te,Ke)|0,S=S+Math.imul(te,tt)|0,w=w+Math.imul($,He)|0,l=l+Math.imul($,rt)|0,l=l+Math.imul(F,He)|0,S=S+Math.imul(F,rt)|0,w=w+Math.imul(D,qe)|0,l=l+Math.imul(D,nt)|0,l=l+Math.imul(U,qe)|0,S=S+Math.imul(U,nt)|0;var vn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(vn>>>26)|0,vn&=67108863,w=Math.imul(ie,Be),l=Math.imul(ie,Le),l=l+Math.imul(fe,Be)|0,S=Math.imul(fe,Le),w=w+Math.imul(ee,$e)|0,l=l+Math.imul(ee,Ze)|0,l=l+Math.imul(z,$e)|0,S=S+Math.imul(z,Ze)|0,w=w+Math.imul(le,Ue)|0,l=l+Math.imul(le,Xe)|0,l=l+Math.imul(de,Ue)|0,S=S+Math.imul(de,Xe)|0,w=w+Math.imul(be,ze)|0,l=l+Math.imul(be,Je)|0,l=l+Math.imul(Ee,ze)|0,S=S+Math.imul(Ee,Je)|0,w=w+Math.imul(ne,We)|0,l=l+Math.imul(ne,Qe)|0,l=l+Math.imul(se,We)|0,S=S+Math.imul(se,Qe)|0,w=w+Math.imul(Se,je)|0,l=l+Math.imul(Se,et)|0,l=l+Math.imul(W,je)|0,S=S+Math.imul(W,et)|0,w=w+Math.imul(K,Ke)|0,l=l+Math.imul(K,tt)|0,l=l+Math.imul(oe,Ke)|0,S=S+Math.imul(oe,tt)|0,w=w+Math.imul(Q,He)|0,l=l+Math.imul(Q,rt)|0,l=l+Math.imul(te,He)|0,S=S+Math.imul(te,rt)|0,w=w+Math.imul($,qe)|0,l=l+Math.imul($,nt)|0,l=l+Math.imul(F,qe)|0,S=S+Math.imul(F,nt)|0;var wn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(wn>>>26)|0,wn&=67108863,w=Math.imul(ie,$e),l=Math.imul(ie,Ze),l=l+Math.imul(fe,$e)|0,S=Math.imul(fe,Ze),w=w+Math.imul(ee,Ue)|0,l=l+Math.imul(ee,Xe)|0,l=l+Math.imul(z,Ue)|0,S=S+Math.imul(z,Xe)|0,w=w+Math.imul(le,ze)|0,l=l+Math.imul(le,Je)|0,l=l+Math.imul(de,ze)|0,S=S+Math.imul(de,Je)|0,w=w+Math.imul(be,We)|0,l=l+Math.imul(be,Qe)|0,l=l+Math.imul(Ee,We)|0,S=S+Math.imul(Ee,Qe)|0,w=w+Math.imul(ne,je)|0,l=l+Math.imul(ne,et)|0,l=l+Math.imul(se,je)|0,S=S+Math.imul(se,et)|0,w=w+Math.imul(Se,Ke)|0,l=l+Math.imul(Se,tt)|0,l=l+Math.imul(W,Ke)|0,S=S+Math.imul(W,tt)|0,w=w+Math.imul(K,He)|0,l=l+Math.imul(K,rt)|0,l=l+Math.imul(oe,He)|0,S=S+Math.imul(oe,rt)|0,w=w+Math.imul(Q,qe)|0,l=l+Math.imul(Q,nt)|0,l=l+Math.imul(te,qe)|0,S=S+Math.imul(te,nt)|0;var Sn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,w=Math.imul(ie,Ue),l=Math.imul(ie,Xe),l=l+Math.imul(fe,Ue)|0,S=Math.imul(fe,Xe),w=w+Math.imul(ee,ze)|0,l=l+Math.imul(ee,Je)|0,l=l+Math.imul(z,ze)|0,S=S+Math.imul(z,Je)|0,w=w+Math.imul(le,We)|0,l=l+Math.imul(le,Qe)|0,l=l+Math.imul(de,We)|0,S=S+Math.imul(de,Qe)|0,w=w+Math.imul(be,je)|0,l=l+Math.imul(be,et)|0,l=l+Math.imul(Ee,je)|0,S=S+Math.imul(Ee,et)|0,w=w+Math.imul(ne,Ke)|0,l=l+Math.imul(ne,tt)|0,l=l+Math.imul(se,Ke)|0,S=S+Math.imul(se,tt)|0,w=w+Math.imul(Se,He)|0,l=l+Math.imul(Se,rt)|0,l=l+Math.imul(W,He)|0,S=S+Math.imul(W,rt)|0,w=w+Math.imul(K,qe)|0,l=l+Math.imul(K,nt)|0,l=l+Math.imul(oe,qe)|0,S=S+Math.imul(oe,nt)|0;var _n=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(_n>>>26)|0,_n&=67108863,w=Math.imul(ie,ze),l=Math.imul(ie,Je),l=l+Math.imul(fe,ze)|0,S=Math.imul(fe,Je),w=w+Math.imul(ee,We)|0,l=l+Math.imul(ee,Qe)|0,l=l+Math.imul(z,We)|0,S=S+Math.imul(z,Qe)|0,w=w+Math.imul(le,je)|0,l=l+Math.imul(le,et)|0,l=l+Math.imul(de,je)|0,S=S+Math.imul(de,et)|0,w=w+Math.imul(be,Ke)|0,l=l+Math.imul(be,tt)|0,l=l+Math.imul(Ee,Ke)|0,S=S+Math.imul(Ee,tt)|0,w=w+Math.imul(ne,He)|0,l=l+Math.imul(ne,rt)|0,l=l+Math.imul(se,He)|0,S=S+Math.imul(se,rt)|0,w=w+Math.imul(Se,qe)|0,l=l+Math.imul(Se,nt)|0,l=l+Math.imul(W,qe)|0,S=S+Math.imul(W,nt)|0;var An=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(An>>>26)|0,An&=67108863,w=Math.imul(ie,We),l=Math.imul(ie,Qe),l=l+Math.imul(fe,We)|0,S=Math.imul(fe,Qe),w=w+Math.imul(ee,je)|0,l=l+Math.imul(ee,et)|0,l=l+Math.imul(z,je)|0,S=S+Math.imul(z,et)|0,w=w+Math.imul(le,Ke)|0,l=l+Math.imul(le,tt)|0,l=l+Math.imul(de,Ke)|0,S=S+Math.imul(de,tt)|0,w=w+Math.imul(be,He)|0,l=l+Math.imul(be,rt)|0,l=l+Math.imul(Ee,He)|0,S=S+Math.imul(Ee,rt)|0,w=w+Math.imul(ne,qe)|0,l=l+Math.imul(ne,nt)|0,l=l+Math.imul(se,qe)|0,S=S+Math.imul(se,nt)|0;var xn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(xn>>>26)|0,xn&=67108863,w=Math.imul(ie,je),l=Math.imul(ie,et),l=l+Math.imul(fe,je)|0,S=Math.imul(fe,et),w=w+Math.imul(ee,Ke)|0,l=l+Math.imul(ee,tt)|0,l=l+Math.imul(z,Ke)|0,S=S+Math.imul(z,tt)|0,w=w+Math.imul(le,He)|0,l=l+Math.imul(le,rt)|0,l=l+Math.imul(de,He)|0,S=S+Math.imul(de,rt)|0,w=w+Math.imul(be,qe)|0,l=l+Math.imul(be,nt)|0,l=l+Math.imul(Ee,qe)|0,S=S+Math.imul(Ee,nt)|0;var En=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(En>>>26)|0,En&=67108863,w=Math.imul(ie,Ke),l=Math.imul(ie,tt),l=l+Math.imul(fe,Ke)|0,S=Math.imul(fe,tt),w=w+Math.imul(ee,He)|0,l=l+Math.imul(ee,rt)|0,l=l+Math.imul(z,He)|0,S=S+Math.imul(z,rt)|0,w=w+Math.imul(le,qe)|0,l=l+Math.imul(le,nt)|0,l=l+Math.imul(de,qe)|0,S=S+Math.imul(de,nt)|0;var kn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(kn>>>26)|0,kn&=67108863,w=Math.imul(ie,He),l=Math.imul(ie,rt),l=l+Math.imul(fe,He)|0,S=Math.imul(fe,rt),w=w+Math.imul(ee,qe)|0,l=l+Math.imul(ee,nt)|0,l=l+Math.imul(z,qe)|0,S=S+Math.imul(z,nt)|0;var Tn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,w=Math.imul(ie,qe),l=Math.imul(ie,nt),l=l+Math.imul(fe,qe)|0,S=Math.imul(fe,nt);var In=(E+w|0)+((l&8191)<<13)|0;return E=(S+(l>>>13)|0)+(In>>>26)|0,In&=67108863,_[0]=Jt,_[1]=Qt,_[2]=jr,_[3]=Kr,_[4]=Hr,_[5]=qr,_[6]=Vr,_[7]=yn,_[8]=bn,_[9]=vn,_[10]=wn,_[11]=Sn,_[12]=_n,_[13]=An,_[14]=xn,_[15]=En,_[16]=kn,_[17]=Tn,_[18]=In,E!==0&&(_[19]=E,p.length++),p};Math.imul||(x=A);function k(T,c,h){h.negative=c.negative^T.negative,h.length=T.length+c.length;for(var p=0,m=0,v=0;v<h.length-1;v++){var _=m;m=0;for(var E=p&67108863,w=Math.min(v,c.length-1),l=Math.max(0,v-T.length+1);l<=w;l++){var S=v-l,C=T.words[S]|0,D=c.words[l]|0,U=C*D,O=U&67108863;_=_+(U/67108864|0)|0,O=O+E|0,E=O&67108863,_=_+(O>>>26)|0,m+=_>>>26,_&=67108863}h.words[v]=E,p=_,_=m}return p!==0?h.words[v]=p:h.length--,h.strip()}function I(T,c,h){var p=new R;return p.mulp(T,c,h)}s.prototype.mulTo=function(c,h){var p,m=this.length+c.length;return this.length===10&&c.length===10?p=x(this,c,h):m<63?p=A(this,c,h):m<1024?p=k(this,c,h):p=I(this,c,h),p};function R(T,c){this.x=T,this.y=c}R.prototype.makeRBT=function(c){for(var h=new Array(c),p=s.prototype._countBits(c)-1,m=0;m<c;m++)h[m]=this.revBin(m,p,c);return h},R.prototype.revBin=function(c,h,p){if(c===0||c===p-1)return c;for(var m=0,v=0;v<h;v++)m|=(c&1)<<h-v-1,c>>=1;return m},R.prototype.permute=function(c,h,p,m,v,_){for(var E=0;E<_;E++)m[E]=h[c[E]],v[E]=p[c[E]]},R.prototype.transform=function(c,h,p,m,v,_){this.permute(_,c,h,p,m,v);for(var E=1;E<v;E<<=1)for(var w=E<<1,l=Math.cos(2*Math.PI/w),S=Math.sin(2*Math.PI/w),C=0;C<v;C+=w)for(var D=l,U=S,O=0;O<E;O++){var $=p[C+O],F=m[C+O],H=p[C+O+E],Q=m[C+O+E],te=D*H-U*Q;Q=D*Q+U*H,H=te,p[C+O]=$+H,m[C+O]=F+Q,p[C+O+E]=$-H,m[C+O+E]=F-Q,O!==w&&(te=l*D-S*U,U=l*U+S*D,D=te)}},R.prototype.guessLen13b=function(c,h){var p=Math.max(h,c)|1,m=p&1,v=0;for(p=p/2|0;p;p=p>>>1)v++;return 1<<v+1+m},R.prototype.conjugate=function(c,h,p){if(!(p<=1))for(var m=0;m<p/2;m++){var v=c[m];c[m]=c[p-m-1],c[p-m-1]=v,v=h[m],h[m]=-h[p-m-1],h[p-m-1]=-v}},R.prototype.normalize13b=function(c,h){for(var p=0,m=0;m<h/2;m++){var v=Math.round(c[2*m+1]/h)*8192+Math.round(c[2*m]/h)+p;c[m]=v&67108863,v<67108864?p=0:p=v/67108864|0}return c},R.prototype.convert13b=function(c,h,p,m){for(var v=0,_=0;_<h;_++)v=v+(c[_]|0),p[2*_]=v&8191,v=v>>>13,p[2*_+1]=v&8191,v=v>>>13;for(_=2*h;_<m;++_)p[_]=0;n(v===0),n((v&-8192)===0)},R.prototype.stub=function(c){for(var h=new Array(c),p=0;p<c;p++)h[p]=0;return h},R.prototype.mulp=function(c,h,p){var m=2*this.guessLen13b(c.length,h.length),v=this.makeRBT(m),_=this.stub(m),E=new Array(m),w=new Array(m),l=new Array(m),S=new Array(m),C=new Array(m),D=new Array(m),U=p.words;U.length=m,this.convert13b(c.words,c.length,E,m),this.convert13b(h.words,h.length,S,m),this.transform(E,_,w,l,m,v),this.transform(S,_,C,D,m,v);for(var O=0;O<m;O++){var $=w[O]*C[O]-l[O]*D[O];l[O]=w[O]*D[O]+l[O]*C[O],w[O]=$}return this.conjugate(w,l,m),this.transform(w,l,U,_,m,v),this.conjugate(U,_,m),this.normalize13b(U,m),p.negative=c.negative^h.negative,p.length=c.length+h.length,p.strip()},s.prototype.mul=function(c){var h=new s(null);return h.words=new Array(this.length+c.length),this.mulTo(c,h)},s.prototype.mulf=function(c){var h=new s(null);return h.words=new Array(this.length+c.length),I(this,c,h)},s.prototype.imul=function(c){return this.clone().mulTo(c,this)},s.prototype.imuln=function(c){n(typeof c=="number"),n(c<67108864);for(var h=0,p=0;p<this.length;p++){var m=(this.words[p]|0)*c,v=(m&67108863)+(h&67108863);h>>=26,h+=m/67108864|0,h+=v>>>26,this.words[p]=v&67108863}return h!==0&&(this.words[p]=h,this.length++),this},s.prototype.muln=function(c){return this.clone().imuln(c)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(c){var h=b(c);if(h.length===0)return new s(1);for(var p=this,m=0;m<h.length&&h[m]===0;m++,p=p.sqr());if(++m<h.length)for(var v=p.sqr();m<h.length;m++,v=v.sqr())h[m]!==0&&(p=p.mul(v));return p},s.prototype.iushln=function(c){n(typeof c=="number"&&c>=0);var h=c%26,p=(c-h)/26,m=67108863>>>26-h<<26-h,v;if(h!==0){var _=0;for(v=0;v<this.length;v++){var E=this.words[v]&m,w=(this.words[v]|0)-E<<h;this.words[v]=w|_,_=E>>>26-h}_&&(this.words[v]=_,this.length++)}if(p!==0){for(v=this.length-1;v>=0;v--)this.words[v+p]=this.words[v];for(v=0;v<p;v++)this.words[v]=0;this.length+=p}return this.strip()},s.prototype.ishln=function(c){return n(this.negative===0),this.iushln(c)},s.prototype.iushrn=function(c,h,p){n(typeof c=="number"&&c>=0);var m;h?m=(h-h%26)/26:m=0;var v=c%26,_=Math.min((c-v)/26,this.length),E=67108863^67108863>>>v<<v,w=p;if(m-=_,m=Math.max(0,m),w){for(var l=0;l<_;l++)w.words[l]=this.words[l];w.length=_}if(_!==0)if(this.length>_)for(this.length-=_,l=0;l<this.length;l++)this.words[l]=this.words[l+_];else this.words[0]=0,this.length=1;var S=0;for(l=this.length-1;l>=0&&(S!==0||l>=m);l--){var C=this.words[l]|0;this.words[l]=S<<26-v|C>>>v,S=C&E}return w&&S!==0&&(w.words[w.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(c,h,p){return n(this.negative===0),this.iushrn(c,h,p)},s.prototype.shln=function(c){return this.clone().ishln(c)},s.prototype.ushln=function(c){return this.clone().iushln(c)},s.prototype.shrn=function(c){return this.clone().ishrn(c)},s.prototype.ushrn=function(c){return this.clone().iushrn(c)},s.prototype.testn=function(c){n(typeof c=="number"&&c>=0);var h=c%26,p=(c-h)/26,m=1<<h;if(this.length<=p)return!1;var v=this.words[p];return!!(v&m)},s.prototype.imaskn=function(c){n(typeof c=="number"&&c>=0);var h=c%26,p=(c-h)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(h!==0&&p++,this.length=Math.min(p,this.length),h!==0){var m=67108863^67108863>>>h<<h;this.words[this.length-1]&=m}return this.strip()},s.prototype.maskn=function(c){return this.clone().imaskn(c)},s.prototype.iaddn=function(c){return n(typeof c=="number"),n(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},s.prototype._iaddn=function(c){this.words[0]+=c;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},s.prototype.isubn=function(c){if(n(typeof c=="number"),n(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},s.prototype.addn=function(c){return this.clone().iaddn(c)},s.prototype.subn=function(c){return this.clone().isubn(c)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(c,h,p){var m=c.length+p,v;this._expand(m);var _,E=0;for(v=0;v<c.length;v++){_=(this.words[v+p]|0)+E;var w=(c.words[v]|0)*h;_-=w&67108863,E=(_>>26)-(w/67108864|0),this.words[v+p]=_&67108863}for(;v<this.length-p;v++)_=(this.words[v+p]|0)+E,E=_>>26,this.words[v+p]=_&67108863;if(E===0)return this.strip();for(n(E===-1),E=0,v=0;v<this.length;v++)_=-(this.words[v]|0)+E,E=_>>26,this.words[v]=_&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(c,h){var p=this.length-c.length,m=this.clone(),v=c,_=v.words[v.length-1]|0,E=this._countBits(_);p=26-E,p!==0&&(v=v.ushln(p),m.iushln(p),_=v.words[v.length-1]|0);var w=m.length-v.length,l;if(h!=="mod"){l=new s(null),l.length=w+1,l.words=new Array(l.length);for(var S=0;S<l.length;S++)l.words[S]=0}var C=m.clone()._ishlnsubmul(v,1,w);C.negative===0&&(m=C,l&&(l.words[w]=1));for(var D=w-1;D>=0;D--){var U=(m.words[v.length+D]|0)*67108864+(m.words[v.length+D-1]|0);for(U=Math.min(U/_|0,67108863),m._ishlnsubmul(v,U,D);m.negative!==0;)U--,m.negative=0,m._ishlnsubmul(v,1,D),m.isZero()||(m.negative^=1);l&&(l.words[D]=U)}return l&&l.strip(),m.strip(),h!=="div"&&p!==0&&m.iushrn(p),{div:l||null,mod:m}},s.prototype.divmod=function(c,h,p){if(n(!c.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var m,v,_;return this.negative!==0&&c.negative===0?(_=this.neg().divmod(c,h),h!=="mod"&&(m=_.div.neg()),h!=="div"&&(v=_.mod.neg(),p&&v.negative!==0&&v.iadd(c)),{div:m,mod:v}):this.negative===0&&c.negative!==0?(_=this.divmod(c.neg(),h),h!=="mod"&&(m=_.div.neg()),{div:m,mod:_.mod}):this.negative&c.negative?(_=this.neg().divmod(c.neg(),h),h!=="div"&&(v=_.mod.neg(),p&&v.negative!==0&&v.isub(c)),{div:_.div,mod:v}):c.length>this.length||this.cmp(c)<0?{div:new s(0),mod:this}:c.length===1?h==="div"?{div:this.divn(c.words[0]),mod:null}:h==="mod"?{div:null,mod:new s(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new s(this.modn(c.words[0]))}:this._wordDiv(c,h)},s.prototype.div=function(c){return this.divmod(c,"div",!1).div},s.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},s.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},s.prototype.divRound=function(c){var h=this.divmod(c);if(h.mod.isZero())return h.div;var p=h.div.negative!==0?h.mod.isub(c):h.mod,m=c.ushrn(1),v=c.andln(1),_=p.cmp(m);return _<0||v===1&&_===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},s.prototype.modn=function(c){n(c<=67108863);for(var h=(1<<26)%c,p=0,m=this.length-1;m>=0;m--)p=(h*p+(this.words[m]|0))%c;return p},s.prototype.idivn=function(c){n(c<=67108863);for(var h=0,p=this.length-1;p>=0;p--){var m=(this.words[p]|0)+h*67108864;this.words[p]=m/c|0,h=m%c}return this.strip()},s.prototype.divn=function(c){return this.clone().idivn(c)},s.prototype.egcd=function(c){n(c.negative===0),n(!c.isZero());var h=this,p=c.clone();h.negative!==0?h=h.umod(c):h=h.clone();for(var m=new s(1),v=new s(0),_=new s(0),E=new s(1),w=0;h.isEven()&&p.isEven();)h.iushrn(1),p.iushrn(1),++w;for(var l=p.clone(),S=h.clone();!h.isZero();){for(var C=0,D=1;!(h.words[0]&D)&&C<26;++C,D<<=1);if(C>0)for(h.iushrn(C);C-- >0;)(m.isOdd()||v.isOdd())&&(m.iadd(l),v.isub(S)),m.iushrn(1),v.iushrn(1);for(var U=0,O=1;!(p.words[0]&O)&&U<26;++U,O<<=1);if(U>0)for(p.iushrn(U);U-- >0;)(_.isOdd()||E.isOdd())&&(_.iadd(l),E.isub(S)),_.iushrn(1),E.iushrn(1);h.cmp(p)>=0?(h.isub(p),m.isub(_),v.isub(E)):(p.isub(h),_.isub(m),E.isub(v))}return{a:_,b:E,gcd:p.iushln(w)}},s.prototype._invmp=function(c){n(c.negative===0),n(!c.isZero());var h=this,p=c.clone();h.negative!==0?h=h.umod(c):h=h.clone();for(var m=new s(1),v=new s(0),_=p.clone();h.cmpn(1)>0&&p.cmpn(1)>0;){for(var E=0,w=1;!(h.words[0]&w)&&E<26;++E,w<<=1);if(E>0)for(h.iushrn(E);E-- >0;)m.isOdd()&&m.iadd(_),m.iushrn(1);for(var l=0,S=1;!(p.words[0]&S)&&l<26;++l,S<<=1);if(l>0)for(p.iushrn(l);l-- >0;)v.isOdd()&&v.iadd(_),v.iushrn(1);h.cmp(p)>=0?(h.isub(p),m.isub(v)):(p.isub(h),v.isub(m))}var C;return h.cmpn(1)===0?C=m:C=v,C.cmpn(0)<0&&C.iadd(c),C},s.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var h=this.clone(),p=c.clone();h.negative=0,p.negative=0;for(var m=0;h.isEven()&&p.isEven();m++)h.iushrn(1),p.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;p.isEven();)p.iushrn(1);var v=h.cmp(p);if(v<0){var _=h;h=p,p=_}else if(v===0||p.cmpn(1)===0)break;h.isub(p)}while(!0);return p.iushln(m)},s.prototype.invm=function(c){return this.egcd(c).a.umod(c)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(c){return this.words[0]&c},s.prototype.bincn=function(c){n(typeof c=="number");var h=c%26,p=(c-h)/26,m=1<<h;if(this.length<=p)return this._expand(p+1),this.words[p]|=m,this;for(var v=m,_=p;v!==0&&_<this.length;_++){var E=this.words[_]|0;E+=v,v=E>>>26,E&=67108863,this.words[_]=E}return v!==0&&(this.words[_]=v,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(c){var h=c<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this.strip();var p;if(this.length>1)p=1;else{h&&(c=-c),n(c<=67108863,"Number is too big");var m=this.words[0]|0;p=m===c?0:m<c?-1:1}return this.negative!==0?-p|0:p},s.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var h=this.ucmp(c);return this.negative!==0?-h|0:h},s.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var h=0,p=this.length-1;p>=0;p--){var m=this.words[p]|0,v=c.words[p]|0;if(m!==v){m<v?h=-1:m>v&&(h=1);break}}return h},s.prototype.gtn=function(c){return this.cmpn(c)===1},s.prototype.gt=function(c){return this.cmp(c)===1},s.prototype.gten=function(c){return this.cmpn(c)>=0},s.prototype.gte=function(c){return this.cmp(c)>=0},s.prototype.ltn=function(c){return this.cmpn(c)===-1},s.prototype.lt=function(c){return this.cmp(c)===-1},s.prototype.lten=function(c){return this.cmpn(c)<=0},s.prototype.lte=function(c){return this.cmp(c)<=0},s.prototype.eqn=function(c){return this.cmpn(c)===0},s.prototype.eq=function(c){return this.cmp(c)===0},s.red=function(c){return new q(c)},s.prototype.toRed=function(c){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(c){return this.red=c,this},s.prototype.forceRed=function(c){return n(!this.red,"Already a number in reduction context"),this._forceRed(c)},s.prototype.redAdd=function(c){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},s.prototype.redIAdd=function(c){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},s.prototype.redSub=function(c){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},s.prototype.redISub=function(c){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},s.prototype.redShl=function(c){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},s.prototype.redMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},s.prototype.redIMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(c){return n(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var M={k256:null,p224:null,p192:null,p25519:null};function P(T,c){this.name=T,this.p=new s(c,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var c=new s(null);return c.words=new Array(Math.ceil(this.n/13)),c},P.prototype.ireduce=function(c){var h=c,p;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),p=h.bitLength();while(p>this.n);var m=p<this.n?-1:h.ucmp(this.p);return m===0?(h.words[0]=0,h.length=1):m>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},P.prototype.split=function(c,h){c.iushrn(this.n,0,h)},P.prototype.imulK=function(c){return c.imul(this.k)};function j(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(j,P),j.prototype.split=function(c,h){for(var p=4194303,m=Math.min(c.length,9),v=0;v<m;v++)h.words[v]=c.words[v];if(h.length=m,c.length<=9){c.words[0]=0,c.length=1;return}var _=c.words[9];for(h.words[h.length++]=_&p,v=10;v<c.length;v++){var E=c.words[v]|0;c.words[v-10]=(E&p)<<4|_>>>22,_=E}_>>>=22,c.words[v-10]=_,_===0&&c.length>10?c.length-=10:c.length-=9},j.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var h=0,p=0;p<c.length;p++){var m=c.words[p]|0;h+=m*977,c.words[p]=h&67108863,h=m*64+(h/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function V(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(V,P);function Z(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Z,P);function G(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(G,P),G.prototype.imulK=function(c){for(var h=0,p=0;p<c.length;p++){var m=(c.words[p]|0)*19+h,v=m&67108863;m>>>=26,c.words[p]=v,h=m}return h!==0&&(c.words[c.length++]=h),c},s._prime=function(c){if(M[c])return M[c];var h;if(c==="k256")h=new j;else if(c==="p224")h=new V;else if(c==="p192")h=new Z;else if(c==="p25519")h=new G;else throw new Error("Unknown prime "+c);return M[c]=h,h};function q(T){if(typeof T=="string"){var c=s._prime(T);this.m=c.p,this.prime=c}else n(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}q.prototype._verify1=function(c){n(c.negative===0,"red works only with positives"),n(c.red,"red works only with red numbers")},q.prototype._verify2=function(c,h){n((c.negative|h.negative)===0,"red works only with positives"),n(c.red&&c.red===h.red,"red works only with red numbers")},q.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},q.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},q.prototype.add=function(c,h){this._verify2(c,h);var p=c.add(h);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},q.prototype.iadd=function(c,h){this._verify2(c,h);var p=c.iadd(h);return p.cmp(this.m)>=0&&p.isub(this.m),p},q.prototype.sub=function(c,h){this._verify2(c,h);var p=c.sub(h);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},q.prototype.isub=function(c,h){this._verify2(c,h);var p=c.isub(h);return p.cmpn(0)<0&&p.iadd(this.m),p},q.prototype.shl=function(c,h){return this._verify1(c),this.imod(c.ushln(h))},q.prototype.imul=function(c,h){return this._verify2(c,h),this.imod(c.imul(h))},q.prototype.mul=function(c,h){return this._verify2(c,h),this.imod(c.mul(h))},q.prototype.isqr=function(c){return this.imul(c,c.clone())},q.prototype.sqr=function(c){return this.mul(c,c)},q.prototype.sqrt=function(c){if(c.isZero())return c.clone();var h=this.m.andln(3);if(n(h%2===1),h===3){var p=this.m.add(new s(1)).iushrn(2);return this.pow(c,p)}for(var m=this.m.subn(1),v=0;!m.isZero()&&m.andln(1)===0;)v++,m.iushrn(1);n(!m.isZero());var _=new s(1).toRed(this),E=_.redNeg(),w=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);this.pow(l,w).cmp(E)!==0;)l.redIAdd(E);for(var S=this.pow(l,m),C=this.pow(c,m.addn(1).iushrn(1)),D=this.pow(c,m),U=v;D.cmp(_)!==0;){for(var O=D,$=0;O.cmp(_)!==0;$++)O=O.redSqr();n($<U);var F=this.pow(S,new s(1).iushln(U-$-1));C=C.redMul(F),S=F.redSqr(),D=D.redMul(S),U=$}return C},q.prototype.invm=function(c){var h=c._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},q.prototype.pow=function(c,h){if(h.isZero())return new s(1).toRed(this);if(h.cmpn(1)===0)return c.clone();var p=4,m=new Array(1<<p);m[0]=new s(1).toRed(this),m[1]=c;for(var v=2;v<m.length;v++)m[v]=this.mul(m[v-1],c);var _=m[0],E=0,w=0,l=h.bitLength()%26;for(l===0&&(l=26),v=h.length-1;v>=0;v--){for(var S=h.words[v],C=l-1;C>=0;C--){var D=S>>C&1;if(_!==m[0]&&(_=this.sqr(_)),D===0&&E===0){w=0;continue}E<<=1,E|=D,w++,!(w!==p&&(v!==0||C!==0))&&(_=this.mul(_,m[E]),w=0,E=0)}l=26}return _},q.prototype.convertTo=function(c){var h=c.umod(this.m);return h===c?h.clone():h},q.prototype.convertFrom=function(c){var h=c.clone();return h.red=null,h},s.mont=function(c){return new ae(c)};function ae(T){q.call(this,T),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(ae,q),ae.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},ae.prototype.convertFrom=function(c){var h=this.imod(c.mul(this.rinv));return h.red=null,h},ae.prototype.imul=function(c,h){if(c.isZero()||h.isZero())return c.words[0]=0,c.length=1,c;var p=c.imul(h),m=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(m).iushrn(this.shift),_=v;return v.cmp(this.m)>=0?_=v.isub(this.m):v.cmpn(0)<0&&(_=v.iadd(this.m)),_._forceRed(this)},ae.prototype.mul=function(c,h){if(c.isZero()||h.isZero())return new s(0)._forceRed(this);var p=c.mul(h),m=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(m).iushrn(this.shift),_=v;return v.cmp(this.m)>=0?_=v.isub(this.m):v.cmpn(0)<0&&(_=v.iadd(this.m)),_._forceRed(this)},ae.prototype.invm=function(c){var h=this.imod(c._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(t,St)})(iL);var yze=iL.exports,ZR={},wH;function bze(){return wH||(wH=1,function(t){var e=C_(),r=rr,n=t;n.define=function(o,a){return new i(o,a)};function i(s,o){this.name=s,this.body=o,this.decoders={},this.encoders={}}i.prototype._createNamed=function(o){var a;try{a=E1.runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{a=function(f){this._initNamed(f)}}return r(a,o),a.prototype._initNamed=function(f){o.call(this,f)},new a(this)},i.prototype._getDecoder=function(o){return o=o||"der",this.decoders.hasOwnProperty(o)||(this.decoders[o]=this._createNamed(e.decoders[o])),this.decoders[o]},i.prototype.decode=function(o,a,u){return this._getDecoder(a).decode(o,u)},i.prototype._getEncoder=function(o){return o=o||"der",this.encoders.hasOwnProperty(o)||(this.encoders[o]=this._createNamed(e.encoders[o])),this.encoders[o]},i.prototype.encode=function(o,a,u){return this._getEncoder(a).encode(o,u)}}(ZR)),ZR}var XR={},Bie={},vze=rr;function gu(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}Bie.Reporter=gu;gu.prototype.isError=function(e){return e instanceof Kb};gu.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}};gu.prototype.restore=function(e){var r=this._reporterState;r.obj=e.obj,r.path=r.path.slice(0,e.pathLen)};gu.prototype.enterKey=function(e){return this._reporterState.path.push(e)};gu.prototype.exitKey=function(e){var r=this._reporterState;r.path=r.path.slice(0,e-1)};gu.prototype.leaveKey=function(e,r,n){var i=this._reporterState;this.exitKey(e),i.obj!==null&&(i.obj[r]=n)};gu.prototype.path=function(){return this._reporterState.path.join("/")};gu.prototype.enterObject=function(){var e=this._reporterState,r=e.obj;return e.obj={},r};gu.prototype.leaveObject=function(e){var r=this._reporterState,n=r.obj;return r.obj=e,n};gu.prototype.error=function(e){var r,n=this._reporterState,i=e instanceof Kb;if(i?r=e:r=new Kb(n.path.map(function(s){return"["+JSON.stringify(s)+"]"}).join(""),e.message||e,e.stack),!n.options.partial)throw r;return i||n.errors.push(r),r};gu.prototype.wrapResult=function(e){var r=this._reporterState;return r.options.partial?{result:this.isError(e)?null:e,errors:r.errors}:e};function Kb(t,e){this.path=t,this.rethrow(e)}vze(Kb,Error);Kb.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,Kb),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this};var YA={},SH;function _H(){if(SH)return YA;SH=1;var t=rr,e=xw().Reporter,r=xe.Buffer;function n(s,o){if(e.call(this,o),!r.isBuffer(s)){this.error("Input not Buffer");return}this.base=s,this.offset=0,this.length=s.length}t(n,e),YA.DecoderBuffer=n,n.prototype.save=function(){return{offset:this.offset,reporter:e.prototype.save.call(this)}},n.prototype.restore=function(o){var a=new n(this.base);return a.offset=o.offset,a.length=this.offset,this.offset=o.offset,e.prototype.restore.call(this,o.reporter),a},n.prototype.isEmpty=function(){return this.offset===this.length},n.prototype.readUInt8=function(o){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(o||"DecoderBuffer overrun")},n.prototype.skip=function(o,a){if(!(this.offset+o<=this.length))return this.error(a||"DecoderBuffer overrun");var u=new n(this.base);return u._reporterState=this._reporterState,u.offset=this.offset,u.length=this.offset+o,this.offset+=o,u},n.prototype.raw=function(o){return this.base.slice(o?o.offset:this.offset,this.length)};function i(s,o){if(Array.isArray(s))this.length=0,this.value=s.map(function(a){return a instanceof i||(a=new i(a,o)),this.length+=a.length,a},this);else if(typeof s=="number"){if(!(0<=s&&s<=255))return o.error("non-byte EncoderBuffer value");this.value=s,this.length=1}else if(typeof s=="string")this.value=s,this.length=r.byteLength(s);else if(r.isBuffer(s))this.value=s,this.length=s.length;else return o.error("Unsupported type: "+typeof s)}return YA.EncoderBuffer=i,i.prototype.join=function(o,a){return o||(o=new r(this.length)),a||(a=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(u){u.join(o,a),a+=u.length}):(typeof this.value=="number"?o[a]=this.value:typeof this.value=="string"?o.write(this.value,a):r.isBuffer(this.value)&&this.value.copy(o,a),a+=this.length)),o},YA}var JR,AH;function wze(){if(AH)return JR;AH=1;var t=xw().Reporter,e=xw().EncoderBuffer,r=xw().DecoderBuffer,n=fu,i=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],s=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(i),o=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function a(f,d){var g={};this._baseState=g,g.enc=f,g.parent=d||null,g.children=null,g.tag=null,g.args=null,g.reverseArgs=null,g.choice=null,g.optional=!1,g.any=!1,g.obj=!1,g.use=null,g.useDecoder=null,g.key=null,g.default=null,g.explicit=null,g.implicit=null,g.contains=null,g.parent||(g.children=[],this._wrap())}JR=a;var u=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return a.prototype.clone=function(){var d=this._baseState,g={};u.forEach(function(b){g[b]=d[b]});var y=new this.constructor(g.parent);return y._baseState=g,y},a.prototype._wrap=function(){var d=this._baseState;s.forEach(function(g){this[g]=function(){var b=new this.constructor(this);return d.children.push(b),b[g].apply(b,arguments)}},this)},a.prototype._init=function(d){var g=this._baseState;n(g.parent===null),d.call(this),g.children=g.children.filter(function(y){return y._baseState.parent===this},this),n.equal(g.children.length,1,"Root node can have only one child")},a.prototype._useArgs=function(d){var g=this._baseState,y=d.filter(function(b){return b instanceof this.constructor},this);d=d.filter(function(b){return!(b instanceof this.constructor)},this),y.length!==0&&(n(g.children===null),g.children=y,y.forEach(function(b){b._baseState.parent=this},this)),d.length!==0&&(n(g.args===null),g.args=d,g.reverseArgs=d.map(function(b){if(typeof b!="object"||b.constructor!==Object)return b;var A={};return Object.keys(b).forEach(function(x){x==(x|0)&&(x|=0);var k=b[x];A[k]=x}),A}))},o.forEach(function(f){a.prototype[f]=function(){var g=this._baseState;throw new Error(f+" not implemented for encoding: "+g.enc)}}),i.forEach(function(f){a.prototype[f]=function(){var g=this._baseState,y=Array.prototype.slice.call(arguments);return n(g.tag===null),g.tag=f,this._useArgs(y),this}}),a.prototype.use=function(d){n(d);var g=this._baseState;return n(g.use===null),g.use=d,this},a.prototype.optional=function(){var d=this._baseState;return d.optional=!0,this},a.prototype.def=function(d){var g=this._baseState;return n(g.default===null),g.default=d,g.optional=!0,this},a.prototype.explicit=function(d){var g=this._baseState;return n(g.explicit===null&&g.implicit===null),g.explicit=d,this},a.prototype.implicit=function(d){var g=this._baseState;return n(g.explicit===null&&g.implicit===null),g.implicit=d,this},a.prototype.obj=function(){var d=this._baseState,g=Array.prototype.slice.call(arguments);return d.obj=!0,g.length!==0&&this._useArgs(g),this},a.prototype.key=function(d){var g=this._baseState;return n(g.key===null),g.key=d,this},a.prototype.any=function(){var d=this._baseState;return d.any=!0,this},a.prototype.choice=function(d){var g=this._baseState;return n(g.choice===null),g.choice=d,this._useArgs(Object.keys(d).map(function(y){return d[y]})),this},a.prototype.contains=function(d){var g=this._baseState;return n(g.use===null),g.contains=d,this},a.prototype._decode=function(d,g){var y=this._baseState;if(y.parent===null)return d.wrapResult(y.children[0]._decode(d,g));var b=y.default,A=!0,x=null;if(y.key!==null&&(x=d.enterKey(y.key)),y.optional){var k=null;if(y.explicit!==null?k=y.explicit:y.implicit!==null?k=y.implicit:y.tag!==null&&(k=y.tag),k===null&&!y.any){var I=d.save();try{y.choice===null?this._decodeGeneric(y.tag,d,g):this._decodeChoice(d,g),A=!0}catch{A=!1}d.restore(I)}else if(A=this._peekTag(d,k,y.any),d.isError(A))return A}var R;if(y.obj&&A&&(R=d.enterObject()),A){if(y.explicit!==null){var M=this._decodeTag(d,y.explicit);if(d.isError(M))return M;d=M}var P=d.offset;if(y.use===null&&y.choice===null){if(y.any)var I=d.save();var j=this._decodeTag(d,y.implicit!==null?y.implicit:y.tag,y.any);if(d.isError(j))return j;y.any?b=d.raw(I):d=j}if(g&&g.track&&y.tag!==null&&g.track(d.path(),P,d.length,"tagged"),g&&g.track&&y.tag!==null&&g.track(d.path(),d.offset,d.length,"content"),y.any?b=b:y.choice===null?b=this._decodeGeneric(y.tag,d,g):b=this._decodeChoice(d,g),d.isError(b))return b;if(!y.any&&y.choice===null&&y.children!==null&&y.children.forEach(function(G){G._decode(d,g)}),y.contains&&(y.tag==="octstr"||y.tag==="bitstr")){var V=new r(b);b=this._getUse(y.contains,d._reporterState.obj)._decode(V,g)}}return y.obj&&A&&(b=d.leaveObject(R)),y.key!==null&&(b!==null||A===!0)?d.leaveKey(x,y.key,b):x!==null&&d.exitKey(x),b},a.prototype._decodeGeneric=function(d,g,y){var b=this._baseState;return d==="seq"||d==="set"?null:d==="seqof"||d==="setof"?this._decodeList(g,d,b.args[0],y):/str$/.test(d)?this._decodeStr(g,d,y):d==="objid"&&b.args?this._decodeObjid(g,b.args[0],b.args[1],y):d==="objid"?this._decodeObjid(g,null,null,y):d==="gentime"||d==="utctime"?this._decodeTime(g,d,y):d==="null_"?this._decodeNull(g,y):d==="bool"?this._decodeBool(g,y):d==="objDesc"?this._decodeStr(g,d,y):d==="int"||d==="enum"?this._decodeInt(g,b.args&&b.args[0],y):b.use!==null?this._getUse(b.use,g._reporterState.obj)._decode(g,y):g.error("unknown tag: "+d)},a.prototype._getUse=function(d,g){var y=this._baseState;return y.useDecoder=this._use(d,g),n(y.useDecoder._baseState.parent===null),y.useDecoder=y.useDecoder._baseState.children[0],y.implicit!==y.useDecoder._baseState.implicit&&(y.useDecoder=y.useDecoder.clone(),y.useDecoder._baseState.implicit=y.implicit),y.useDecoder},a.prototype._decodeChoice=function(d,g){var y=this._baseState,b=null,A=!1;return Object.keys(y.choice).some(function(x){var k=d.save(),I=y.choice[x];try{var R=I._decode(d,g);if(d.isError(R))return!1;b={type:x,value:R},A=!0}catch{return d.restore(k),!1}return!0},this),A?b:d.error("Choice not matched")},a.prototype._createEncoderBuffer=function(d){return new e(d,this.reporter)},a.prototype._encode=function(d,g,y){var b=this._baseState;if(!(b.default!==null&&b.default===d)){var A=this._encodeValue(d,g,y);if(A!==void 0&&!this._skipDefault(A,g,y))return A}},a.prototype._encodeValue=function(d,g,y){var b=this._baseState;if(b.parent===null)return b.children[0]._encode(d,g||new t);var I=null;if(this.reporter=g,b.optional&&d===void 0)if(b.default!==null)d=b.default;else return;var A=null,x=!1;if(b.any)I=this._createEncoderBuffer(d);else if(b.choice)I=this._encodeChoice(d,g);else if(b.contains)A=this._getUse(b.contains,y)._encode(d,g),x=!0;else if(b.children)A=b.children.map(function(P){if(P._baseState.tag==="null_")return P._encode(null,g,d);if(P._baseState.key===null)return g.error("Child should have a key");var j=g.enterKey(P._baseState.key);if(typeof d!="object")return g.error("Child expected, but input is not object");var V=P._encode(d[P._baseState.key],g,d);return g.leaveKey(j),V},this).filter(function(P){return P}),A=this._createEncoderBuffer(A);else if(b.tag==="seqof"||b.tag==="setof"){if(!(b.args&&b.args.length===1))return g.error("Too many args for : "+b.tag);if(!Array.isArray(d))return g.error("seqof/setof, but data is not Array");var k=this.clone();k._baseState.implicit=null,A=this._createEncoderBuffer(d.map(function(P){var j=this._baseState;return this._getUse(j.args[0],d)._encode(P,g)},k))}else b.use!==null?I=this._getUse(b.use,y)._encode(d,g):(A=this._encodePrimitive(b.tag,d),x=!0);var I;if(!b.any&&b.choice===null){var R=b.implicit!==null?b.implicit:b.tag,M=b.implicit===null?"universal":"context";R===null?b.use===null&&g.error("Tag could be omitted only for .use()"):b.use===null&&(I=this._encodeComposite(R,x,M,A))}return b.explicit!==null&&(I=this._encodeComposite(b.explicit,!1,"context",I)),I},a.prototype._encodeChoice=function(d,g){var y=this._baseState,b=y.choice[d.type];return b||n(!1,d.type+" not found in "+JSON.stringify(Object.keys(y.choice))),b._encode(d.value,g)},a.prototype._encodePrimitive=function(d,g){var y=this._baseState;if(/str$/.test(d))return this._encodeStr(g,d);if(d==="objid"&&y.args)return this._encodeObjid(g,y.reverseArgs[0],y.args[1]);if(d==="objid")return this._encodeObjid(g,null,null);if(d==="gentime"||d==="utctime")return this._encodeTime(g,d);if(d==="null_")return this._encodeNull();if(d==="int"||d==="enum")return this._encodeInt(g,y.args&&y.reverseArgs[0]);if(d==="bool")return this._encodeBool(g);if(d==="objDesc")return this._encodeStr(g,d);throw new Error("Unsupported tag: "+d)},a.prototype._isNumstr=function(d){return/^[0-9 ]*$/.test(d)},a.prototype._isPrintstr=function(d){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(d)},JR}var xH;function xw(){return xH||(xH=1,function(t){var e=t;e.Reporter=Bie.Reporter,e.DecoderBuffer=_H().DecoderBuffer,e.EncoderBuffer=_H().EncoderBuffer,e.Node=wze()}(XR)),XR}var QR={},eM={},EH;function Sze(){return EH||(EH=1,function(t){var e=Oie();t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=e._reverse(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=e._reverse(t.tag)}(eM)),eM}var kH;function Oie(){return kH||(kH=1,function(t){var e=t;e._reverse=function(n){var i={};return Object.keys(n).forEach(function(s){(s|0)==s&&(s=s|0);var o=n[s];i[o]=s}),i},e.der=Sze()}(QR)),QR}var tM={},rM,TH;function Lie(){if(TH)return rM;TH=1;var t=rr,e=C_(),r=e.base,n=e.bignum,i=e.constants.der;function s(f){this.enc="der",this.name=f.name,this.entity=f,this.tree=new o,this.tree._init(f.body)}rM=s,s.prototype.decode=function(d,g){return d instanceof r.DecoderBuffer||(d=new r.DecoderBuffer(d,g)),this.tree._decode(d,g)};function o(f){r.Node.call(this,"der",f)}t(o,r.Node),o.prototype._peekTag=function(d,g,y){if(d.isEmpty())return!1;var b=d.save(),A=a(d,'Failed to peek tag: "'+g+'"');return d.isError(A)?A:(d.restore(b),A.tag===g||A.tagStr===g||A.tagStr+"of"===g||y)},o.prototype._decodeTag=function(d,g,y){var b=a(d,'Failed to decode tag of "'+g+'"');if(d.isError(b))return b;var A=u(d,b.primitive,'Failed to get length of "'+g+'"');if(d.isError(A))return A;if(!y&&b.tag!==g&&b.tagStr!==g&&b.tagStr+"of"!==g)return d.error('Failed to match tag: "'+g+'"');if(b.primitive||A!==null)return d.skip(A,'Failed to match body of: "'+g+'"');var x=d.save(),k=this._skipUntilEnd(d,'Failed to skip indefinite length body: "'+this.tag+'"');return d.isError(k)?k:(A=d.offset-x.offset,d.restore(x),d.skip(A,'Failed to match body of: "'+g+'"'))},o.prototype._skipUntilEnd=function(d,g){for(;;){var y=a(d,g);if(d.isError(y))return y;var b=u(d,y.primitive,g);if(d.isError(b))return b;var A;if(y.primitive||b!==null?A=d.skip(b):A=this._skipUntilEnd(d,g),d.isError(A))return A;if(y.tagStr==="end")break}},o.prototype._decodeList=function(d,g,y,b){for(var A=[];!d.isEmpty();){var x=this._peekTag(d,"end");if(d.isError(x))return x;var k=y.decode(d,"der",b);if(d.isError(k)&&x)break;A.push(k)}return A},o.prototype._decodeStr=function(d,g){if(g==="bitstr"){var y=d.readUInt8();return d.isError(y)?y:{unused:y,data:d.raw()}}else if(g==="bmpstr"){var b=d.raw();if(b.length%2===1)return d.error("Decoding of string type: bmpstr length mismatch");for(var A="",x=0;x<b.length/2;x++)A+=String.fromCharCode(b.readUInt16BE(x*2));return A}else if(g==="numstr"){var k=d.raw().toString("ascii");return this._isNumstr(k)?k:d.error("Decoding of string type: numstr unsupported characters")}else{if(g==="octstr")return d.raw();if(g==="objDesc")return d.raw();if(g==="printstr"){var I=d.raw().toString("ascii");return this._isPrintstr(I)?I:d.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(g)?d.raw().toString():d.error("Decoding of string type: "+g+" unsupported")}},o.prototype._decodeObjid=function(d,g,y){for(var b,A=[],x=0;!d.isEmpty();){var k=d.readUInt8();x<<=7,x|=k&127,k&128||(A.push(x),x=0)}k&128&&A.push(x);var I=A[0]/40|0,R=A[0]%40;if(y?b=A:b=[I,R].concat(A.slice(1)),g){var M=g[b.join(" ")];M===void 0&&(M=g[b.join(".")]),M!==void 0&&(b=M)}return b},o.prototype._decodeTime=function(d,g){var y=d.raw().toString();if(g==="gentime")var b=y.slice(0,4)|0,A=y.slice(4,6)|0,x=y.slice(6,8)|0,k=y.slice(8,10)|0,I=y.slice(10,12)|0,R=y.slice(12,14)|0;else if(g==="utctime"){var b=y.slice(0,2)|0,A=y.slice(2,4)|0,x=y.slice(4,6)|0,k=y.slice(6,8)|0,I=y.slice(8,10)|0,R=y.slice(10,12)|0;b<70?b=2e3+b:b=1900+b}else return d.error("Decoding "+g+" time is not supported yet");return Date.UTC(b,A-1,x,k,I,R,0)},o.prototype._decodeNull=function(d){return null},o.prototype._decodeBool=function(d){var g=d.readUInt8();return d.isError(g)?g:g!==0},o.prototype._decodeInt=function(d,g){var y=d.raw(),b=new n(y);return g&&(b=g[b.toString(10)]||b),b},o.prototype._use=function(d,g){return typeof d=="function"&&(d=d(g)),d._getDecoder("der").tree};function a(f,d){var g=f.readUInt8(d);if(f.isError(g))return g;var y=i.tagClass[g>>6],b=(g&32)===0;if((g&31)===31){var A=g;for(g=0;(A&128)===128;){if(A=f.readUInt8(d),f.isError(A))return A;g<<=7,g|=A&127}}else g&=31;var x=i.tag[g];return{cls:y,primitive:b,tag:g,tagStr:x}}function u(f,d,g){var y=f.readUInt8(g);if(f.isError(y))return y;if(!d&&y===128)return null;if(!(y&128))return y;var b=y&127;if(b>4)return f.error("length octect is too long");y=0;for(var A=0;A<b;A++){y<<=8;var x=f.readUInt8(g);if(f.isError(x))return x;y|=x}return y}return rM}var nM,IH;function _ze(){if(IH)return nM;IH=1;var t=rr,e=xe.Buffer,r=Lie();function n(i){r.call(this,i),this.enc="pem"}return t(n,r),nM=n,n.prototype.decode=function(s,o){for(var a=s.toString().split(/[\r\n]+/g),u=o.label.toUpperCase(),f=/^-----(BEGIN|END) ([^-]+)-----$/,d=-1,g=-1,y=0;y<a.length;y++){var b=a[y].match(f);if(b!==null&&b[2]===u)if(d===-1){if(b[1]!=="BEGIN")break;d=y}else{if(b[1]!=="END")break;g=y;break}}if(d===-1||g===-1)throw new Error("PEM section not found for: "+u);var A=a.slice(d+1,g).join("");A.replace(/[^a-z0-9\+\/=]+/gi,"");var x=new e(A,"base64");return r.prototype.decode.call(this,x,o)},nM}var RH;function Aze(){return RH||(RH=1,function(t){var e=t;e.der=Lie(),e.pem=_ze()}(tM)),tM}var iM={},sM,MH;function Die(){if(MH)return sM;MH=1;var t=rr,e=xe.Buffer,r=C_(),n=r.base,i=r.constants.der;function s(f){this.enc="der",this.name=f.name,this.entity=f,this.tree=new o,this.tree._init(f.body)}sM=s,s.prototype.encode=function(d,g){return this.tree._encode(d,g).join()};function o(f){n.Node.call(this,"der",f)}t(o,n.Node),o.prototype._encodeComposite=function(d,g,y,b){var A=u(d,g,y,this.reporter);if(b.length<128){var I=new e(2);return I[0]=A,I[1]=b.length,this._createEncoderBuffer([I,b])}for(var x=1,k=b.length;k>=256;k>>=8)x++;var I=new e(2+x);I[0]=A,I[1]=128|x;for(var k=1+x,R=b.length;R>0;k--,R>>=8)I[k]=R&255;return this._createEncoderBuffer([I,b])},o.prototype._encodeStr=function(d,g){if(g==="bitstr")return this._createEncoderBuffer([d.unused|0,d.data]);if(g==="bmpstr"){for(var y=new e(d.length*2),b=0;b<d.length;b++)y.writeUInt16BE(d.charCodeAt(b),b*2);return this._createEncoderBuffer(y)}else return g==="numstr"?this._isNumstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: numstr supports only digits and space"):g==="printstr"?this._isPrintstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(g)?this._createEncoderBuffer(d):g==="objDesc"?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: "+g+" unsupported")},o.prototype._encodeObjid=function(d,g,y){if(typeof d=="string"){if(!g)return this.reporter.error("string objid given, but no values map found");if(!g.hasOwnProperty(d))return this.reporter.error("objid not found in values map");d=g[d].split(/[\s\.]+/g);for(var b=0;b<d.length;b++)d[b]|=0}else if(Array.isArray(d)){d=d.slice();for(var b=0;b<d.length;b++)d[b]|=0}if(!Array.isArray(d))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(d));if(!y){if(d[1]>=40)return this.reporter.error("Second objid identifier OOB");d.splice(0,2,d[0]*40+d[1])}for(var A=0,b=0;b<d.length;b++){var x=d[b];for(A++;x>=128;x>>=7)A++}for(var k=new e(A),I=k.length-1,b=d.length-1;b>=0;b--){var x=d[b];for(k[I--]=x&127;(x>>=7)>0;)k[I--]=128|x&127}return this._createEncoderBuffer(k)};function a(f){return f<10?"0"+f:f}o.prototype._encodeTime=function(d,g){var y,b=new Date(d);return g==="gentime"?y=[a(b.getFullYear()),a(b.getUTCMonth()+1),a(b.getUTCDate()),a(b.getUTCHours()),a(b.getUTCMinutes()),a(b.getUTCSeconds()),"Z"].join(""):g==="utctime"?y=[a(b.getFullYear()%100),a(b.getUTCMonth()+1),a(b.getUTCDate()),a(b.getUTCHours()),a(b.getUTCMinutes()),a(b.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+g+" time is not supported yet"),this._encodeStr(y,"octstr")},o.prototype._encodeNull=function(){return this._createEncoderBuffer("")},o.prototype._encodeInt=function(d,g){if(typeof d=="string"){if(!g)return this.reporter.error("String int or enum given, but no values map");if(!g.hasOwnProperty(d))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(d));d=g[d]}if(typeof d!="number"&&!e.isBuffer(d)){var y=d.toArray();!d.sign&&y[0]&128&&y.unshift(0),d=new e(y)}if(e.isBuffer(d)){var b=d.length;d.length===0&&b++;var x=new e(b);return d.copy(x),d.length===0&&(x[0]=0),this._createEncoderBuffer(x)}if(d<128)return this._createEncoderBuffer(d);if(d<256)return this._createEncoderBuffer([0,d]);for(var b=1,A=d;A>=256;A>>=8)b++;for(var x=new Array(b),A=x.length-1;A>=0;A--)x[A]=d&255,d>>=8;return x[0]&128&&x.unshift(0),this._createEncoderBuffer(new e(x))},o.prototype._encodeBool=function(d){return this._createEncoderBuffer(d?255:0)},o.prototype._use=function(d,g){return typeof d=="function"&&(d=d(g)),d._getEncoder("der").tree},o.prototype._skipDefault=function(d,g,y){var b=this._baseState,A;if(b.default===null)return!1;var x=d.join();if(b.defaultBuffer===void 0&&(b.defaultBuffer=this._encodeValue(b.default,g,y).join()),x.length!==b.defaultBuffer.length)return!1;for(A=0;A<x.length;A++)if(x[A]!==b.defaultBuffer[A])return!1;return!0};function u(f,d,g,y){var b;if(f==="seqof"?f="seq":f==="setof"&&(f="set"),i.tagByName.hasOwnProperty(f))b=i.tagByName[f];else if(typeof f=="number"&&(f|0)===f)b=f;else return y.error("Unknown tag: "+f);return b>=31?y.error("Multi-octet tag encoding unsupported"):(d||(b|=32),b|=i.tagClassByName[g||"universal"]<<6,b)}return sM}var oM,CH;function xze(){if(CH)return oM;CH=1;var t=rr,e=Die();function r(n){e.call(this,n),this.enc="pem"}return t(r,e),oM=r,r.prototype.encode=function(i,s){for(var o=e.prototype.encode.call(this,i),a=o.toString("base64"),u=["-----BEGIN "+s.label+"-----"],f=0;f<a.length;f+=64)u.push(a.slice(f,f+64));return u.push("-----END "+s.label+"-----"),u.join(`
`)},oM}var PH;function Eze(){return PH||(PH=1,function(t){var e=t;e.der=Die(),e.pem=xze()}(iM)),iM}var NH;function C_(){return NH||(NH=1,function(t){var e=t;e.bignum=yze,e.define=bze().define,e.base=xw(),e.constants=Oie(),e.decoders=Aze(),e.encoders=Eze()}(YR)),YR}var uc=C_(),BH=uc.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),kze=uc.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),sL=uc.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),Tze=uc.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(sL),this.key("subjectPublicKey").bitstr())}),Ize=uc.define("RelativeDistinguishedName",function(){this.setof(kze)}),Rze=uc.define("RDNSequence",function(){this.seqof(Ize)}),OH=uc.define("Name",function(){this.choice({rdnSequence:this.use(Rze)})}),Mze=uc.define("Validity",function(){this.seq().obj(this.key("notBefore").use(BH),this.key("notAfter").use(BH))}),Cze=uc.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),Pze=uc.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(sL),this.key("issuer").use(OH),this.key("validity").use(Mze),this.key("subject").use(OH),this.key("subjectPublicKeyInfo").use(Tze),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(Cze).optional())}),Nze=uc.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(Pze),this.key("signatureAlgorithm").use(sL),this.key("signatureValue").bitstr())}),Bze=Nze,cc=C_();ac.certificate=Bze;var Oze=cc.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});ac.RSAPrivateKey=Oze;var Lze=cc.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});ac.RSAPublicKey=Lze;var Fie=cc.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),Dze=cc.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(Fie),this.key("subjectPublicKey").bitstr())});ac.PublicKey=Dze;var Fze=cc.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(Fie),this.key("subjectPrivateKey").octstr())});ac.PrivateKey=Fze;var $ze=cc.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});ac.EncryptedPrivateKey=$ze;var Uze=cc.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});ac.DSAPrivateKey=Uze;ac.DSAparam=cc.define("DSAparam",function(){this.int()});var zze=cc.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),Wze=cc.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(zze),this.key("publicKey").optional().explicit(1).bitstr())});ac.ECPrivateKey=Wze;ac.signature=cc.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())});const jze={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var Kze=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,Hze=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,qze=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,Vze=J3,Gze=_a,ZA=dr.Buffer,Yze=function(t,e){var r=t.toString(),n=r.match(Kze),i;if(n){var o="aes"+n[1],a=ZA.from(n[2],"hex"),u=ZA.from(n[3].replace(/[\r\n]/g,""),"base64"),f=Vze(e,a.slice(0,8),parseInt(n[1],10)).key,d=[],g=Gze.createDecipheriv(o,f,a);d.push(g.update(u)),d.push(g.final()),i=ZA.concat(d)}else{var s=r.match(qze);i=ZA.from(s[2].replace(/[\r\n]/g,""),"base64")}var y=r.match(Hze)[1];return{tag:y,data:i}},To=ac,Zze=jze,Xze=Yze,Jze=_a,Qze=Y3,GP=dr.Buffer;function eWe(t,e){var r=t.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),i=Zze[t.algorithm.decrypt.cipher.algo.join(".")],s=t.algorithm.decrypt.cipher.iv,o=t.subjectPrivateKey,a=parseInt(i.split("-")[1],10)/8,u=Qze.pbkdf2Sync(e,r,n,a,"sha1"),f=Jze.createDecipheriv(i,u,s),d=[];return d.push(f.update(o)),d.push(f.final()),GP.concat(d)}function $ie(t){var e;typeof t=="object"&&!GP.isBuffer(t)&&(e=t.passphrase,t=t.key),typeof t=="string"&&(t=GP.from(t));var r=Xze(t,e),n=r.tag,i=r.data,s,o;switch(n){case"CERTIFICATE":o=To.certificate.decode(i,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(o||(o=To.PublicKey.decode(i,"der")),s=o.algorithm.algorithm.join("."),s){case"1.2.840.113549.1.1.1":return To.RSAPublicKey.decode(o.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return o.subjectPrivateKey=o.subjectPublicKey,{type:"ec",data:o};case"1.2.840.10040.4.1":return o.algorithm.params.pub_key=To.DSAparam.decode(o.subjectPublicKey.data,"der"),{type:"dsa",data:o.algorithm.params};default:throw new Error("unknown key id "+s)}case"ENCRYPTED PRIVATE KEY":i=To.EncryptedPrivateKey.decode(i,"der"),i=eWe(i,e);case"PRIVATE KEY":switch(o=To.PrivateKey.decode(i,"der"),s=o.algorithm.algorithm.join("."),s){case"1.2.840.113549.1.1.1":return To.RSAPrivateKey.decode(o.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:o.algorithm.curve,privateKey:To.ECPrivateKey.decode(o.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return o.algorithm.params.priv_key=To.DSAparam.decode(o.subjectPrivateKey,"der"),{type:"dsa",params:o.algorithm.params};default:throw new Error("unknown key id "+s)}case"RSA PUBLIC KEY":return To.RSAPublicKey.decode(i,"der");case"RSA PRIVATE KEY":return To.RSAPrivateKey.decode(i,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:To.DSAPrivateKey.decode(i,"der")};case"EC PRIVATE KEY":return i=To.ECPrivateKey.decode(i,"der"),{curve:i.parameters.value,privateKey:i.privateKey};default:throw new Error("unknown key type "+n)}}$ie.signature=To.signature;var dT=$ie;const Uie={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var LH;function tWe(){if(LH)return vv.exports;LH=1;var t=dr.Buffer,e=une,r=XO,n=nL().ec,i=Z0,s=dT,o=Uie,a=1;function u(I,R,M,P,j){var V=s(R);if(V.curve){if(P!=="ecdsa"&&P!=="ecdsa/rsa")throw new Error("wrong private key type");return f(I,V)}else if(V.type==="dsa"){if(P!=="dsa")throw new Error("wrong private key type");return d(I,V,M)}if(P!=="rsa"&&P!=="ecdsa/rsa")throw new Error("wrong private key type");if(R.padding!==void 0&&R.padding!==a)throw new Error("illegal or unsupported padding mode");I=t.concat([j,I]);for(var Z=V.modulus.byteLength(),G=[0,1];I.length+G.length+1<Z;)G.push(255);G.push(0);for(var q=-1;++q<I.length;)G.push(I[q]);var ae=r(G,V);return ae}function f(I,R){var M=o[R.curve.join(".")];if(!M)throw new Error("unknown curve "+R.curve.join("."));var P=new n(M),j=P.keyFromPrivate(R.privateKey),V=j.sign(I);return t.from(V.toDER())}function d(I,R,M){for(var P=R.params.priv_key,j=R.params.p,V=R.params.q,Z=R.params.g,G=new i(0),q,ae=b(I,V).mod(V),T=!1,c=y(P,V,I,M);T===!1;)q=x(V,c,M),G=k(Z,q,j,V),T=q.invm(V).imul(ae.add(P.mul(G))).mod(V),T.cmpn(0)===0&&(T=!1,G=new i(0));return g(G,T)}function g(I,R){I=I.toArray(),R=R.toArray(),I[0]&128&&(I=[0].concat(I)),R[0]&128&&(R=[0].concat(R));var M=I.length+R.length+4,P=[48,M,2,I.length];return P=P.concat(I,[2,R.length],R),t.from(P)}function y(I,R,M,P){if(I=t.from(I.toArray()),I.length<R.byteLength()){var j=t.alloc(R.byteLength()-I.length);I=t.concat([j,I])}var V=M.length,Z=A(M,R),G=t.alloc(V);G.fill(1);var q=t.alloc(V);return q=e(P,q).update(G).update(t.from([0])).update(I).update(Z).digest(),G=e(P,q).update(G).digest(),q=e(P,q).update(G).update(t.from([1])).update(I).update(Z).digest(),G=e(P,q).update(G).digest(),{k:q,v:G}}function b(I,R){var M=new i(I),P=(I.length<<3)-R.bitLength();return P>0&&M.ishrn(P),M}function A(I,R){I=b(I,R),I=I.mod(R);var M=t.from(I.toArray());if(M.length<R.byteLength()){var P=t.alloc(R.byteLength()-M.length);M=t.concat([P,M])}return M}function x(I,R,M){var P,j;do{for(P=t.alloc(0);P.length*8<I.bitLength();)R.v=e(M,R.k).update(R.v).digest(),P=t.concat([P,R.v]);j=b(P,I),R.k=e(M,R.k).update(R.v).update(t.from([0])).digest(),R.v=e(M,R.k).update(R.v).digest()}while(j.cmp(I)!==-1);return j}function k(I,R,M,P){return I.toRed(i.mont(M)).redPow(R).fromRed().mod(P)}return vv.exports=u,vv.exports.getKey=y,vv.exports.makeKey=x,vv.exports}var aM,DH;function rWe(){if(DH)return aM;DH=1;var t=dr.Buffer,e=Z0,r=nL().ec,n=dT,i=Uie;function s(f,d,g,y,b){var A=n(g);if(A.type==="ec"){if(y!=="ecdsa"&&y!=="ecdsa/rsa")throw new Error("wrong public key type");return o(f,d,A)}else if(A.type==="dsa"){if(y!=="dsa")throw new Error("wrong public key type");return a(f,d,A)}if(y!=="rsa"&&y!=="ecdsa/rsa")throw new Error("wrong public key type");d=t.concat([b,d]);for(var x=A.modulus.byteLength(),k=[1],I=0;d.length+k.length+2<x;)k.push(255),I+=1;k.push(0);for(var R=-1;++R<d.length;)k.push(d[R]);k=t.from(k);var M=e.mont(A.modulus);f=new e(f).toRed(M),f=f.redPow(new e(A.publicExponent)),f=t.from(f.fromRed().toArray());var P=I<8?1:0;for(x=Math.min(f.length,k.length),f.length!==k.length&&(P=1),R=-1;++R<x;)P|=f[R]^k[R];return P===0}function o(f,d,g){var y=i[g.data.algorithm.curve.join(".")];if(!y)throw new Error("unknown curve "+g.data.algorithm.curve.join("."));var b=new r(y),A=g.data.subjectPrivateKey.data;return b.verify(d,f,A)}function a(f,d,g){var y=g.data.p,b=g.data.q,A=g.data.g,x=g.data.pub_key,k=n.signature.decode(f,"der"),I=k.s,R=k.r;u(I,b),u(R,b);var M=e.mont(y),P=I.invm(b),j=A.toRed(M).redPow(new e(d).mul(P).mod(b)).fromRed().mul(x.toRed(M).redPow(R.mul(P).mod(b)).fromRed()).mod(y).mod(b);return j.cmp(R)===0}function u(f,d){if(f.cmpn(0)<=0)throw new Error("invalid sig");if(f.cmp(d)>=0)throw new Error("invalid sig")}return aM=s,aM}var uM,FH;function nWe(){if(FH)return uM;FH=1;var t=dr.Buffer,e=A_,r=d$e,n=rr,i=tWe(),s=rWe(),o=cne;Object.keys(o).forEach(function(g){o[g].id=t.from(o[g].id,"hex"),o[g.toLowerCase()]=o[g]});function a(g){r.Writable.call(this);var y=o[g];if(!y)throw new Error("Unknown message digest");this._hashType=y.hash,this._hash=e(y.hash),this._tag=y.id,this._signType=y.sign}n(a,r.Writable),a.prototype._write=function(y,b,A){this._hash.update(y),A()},a.prototype.update=function(y,b){return this._hash.update(typeof y=="string"?t.from(y,b):y),this},a.prototype.sign=function(y,b){this.end();var A=this._hash.digest(),x=i(A,y,this._hashType,this._signType,this._tag);return b?x.toString(b):x};function u(g){r.Writable.call(this);var y=o[g];if(!y)throw new Error("Unknown message digest");this._hash=e(y.hash),this._tag=y.id,this._signType=y.sign}n(u,r.Writable),u.prototype._write=function(y,b,A){this._hash.update(y),A()},u.prototype.update=function(y,b){return this._hash.update(typeof y=="string"?t.from(y,b):y),this},u.prototype.verify=function(y,b,A){var x=typeof b=="string"?t.from(b,A):b;this.end();var k=this._hash.digest();return s(x,k,y,this._signType,this._tag)};function f(g){return new a(g)}function d(g){return new u(g)}return uM={Sign:f,Verify:d,createSign:f,createVerify:d},uM}var oL={exports:{}};oL.exports;(function(t){(function(e,r){function n(T,c){if(!T)throw new Error(c||"Assertion failed")}function i(T,c){T.super_=c;var h=function(){};h.prototype=c.prototype,T.prototype=new h,T.prototype.constructor=T}function s(T,c,h){if(s.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,T!==null&&((c==="le"||c==="be")&&(h=c,c=10),this._init(T||0,c||10,h||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=xe.Buffer}catch{}s.isBN=function(c){return c instanceof s?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===s.wordSize&&Array.isArray(c.words)},s.max=function(c,h){return c.cmp(h)>0?c:h},s.min=function(c,h){return c.cmp(h)<0?c:h},s.prototype._init=function(c,h,p){if(typeof c=="number")return this._initNumber(c,h,p);if(typeof c=="object")return this._initArray(c,h,p);h==="hex"&&(h=16),n(h===(h|0)&&h>=2&&h<=36),c=c.toString().replace(/\s+/g,"");var m=0;c[0]==="-"&&(m++,this.negative=1),m<c.length&&(h===16?this._parseHex(c,m,p):(this._parseBase(c,h,m),p==="le"&&this._initArray(this.toArray(),h,p)))},s.prototype._initNumber=function(c,h,p){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(n(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),h,p)},s.prototype._initArray=function(c,h,p){if(n(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var v,_,E=0;if(p==="be")for(m=c.length-1,v=0;m>=0;m-=3)_=c[m]|c[m-1]<<8|c[m-2]<<16,this.words[v]|=_<<E&67108863,this.words[v+1]=_>>>26-E&67108863,E+=24,E>=26&&(E-=26,v++);else if(p==="le")for(m=0,v=0;m<c.length;m+=3)_=c[m]|c[m+1]<<8|c[m+2]<<16,this.words[v]|=_<<E&67108863,this.words[v+1]=_>>>26-E&67108863,E+=24,E>=26&&(E-=26,v++);return this.strip()};function a(T,c){var h=T.charCodeAt(c);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function u(T,c,h){var p=a(T,h);return h-1>=c&&(p|=a(T,h-1)<<4),p}s.prototype._parseHex=function(c,h,p){this.length=Math.ceil((c.length-h)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var v=0,_=0,E;if(p==="be")for(m=c.length-1;m>=h;m-=2)E=u(c,h,m)<<v,this.words[_]|=E&67108863,v>=18?(v-=18,_+=1,this.words[_]|=E>>>26):v+=8;else{var w=c.length-h;for(m=w%2===0?h+1:h;m<c.length;m+=2)E=u(c,h,m)<<v,this.words[_]|=E&67108863,v>=18?(v-=18,_+=1,this.words[_]|=E>>>26):v+=8}this.strip()};function f(T,c,h,p){for(var m=0,v=Math.min(T.length,h),_=c;_<v;_++){var E=T.charCodeAt(_)-48;m*=p,E>=49?m+=E-49+10:E>=17?m+=E-17+10:m+=E}return m}s.prototype._parseBase=function(c,h,p){this.words=[0],this.length=1;for(var m=0,v=1;v<=67108863;v*=h)m++;m--,v=v/h|0;for(var _=c.length-p,E=_%m,w=Math.min(_,_-E)+p,l=0,S=p;S<w;S+=m)l=f(c,S,S+m,h),this.imuln(v),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(E!==0){var C=1;for(l=f(c,S,c.length,h),S=0;S<E;S++)C*=h;this.imuln(C),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},s.prototype.copy=function(c){c.words=new Array(this.length);for(var h=0;h<this.length;h++)c.words[h]=this.words[h];c.length=this.length,c.negative=this.negative,c.red=this.red},s.prototype.clone=function(){var c=new s(null);return this.copy(c),c},s.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(c,h){c=c||10,h=h|0||1;var p;if(c===16||c==="hex"){p="";for(var m=0,v=0,_=0;_<this.length;_++){var E=this.words[_],w=((E<<m|v)&16777215).toString(16);v=E>>>24-m&16777215,m+=2,m>=26&&(m-=26,_--),v!==0||_!==this.length-1?p=d[6-w.length]+w+p:p=w+p}for(v!==0&&(p=v.toString(16)+p);p.length%h!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(c===(c|0)&&c>=2&&c<=36){var l=g[c],S=y[c];p="";var C=this.clone();for(C.negative=0;!C.isZero();){var D=C.modn(S).toString(c);C=C.idivn(S),C.isZero()?p=D+p:p=d[l-D.length]+D+p}for(this.isZero()&&(p="0"+p);p.length%h!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(c,h){return n(typeof o<"u"),this.toArrayLike(o,c,h)},s.prototype.toArray=function(c,h){return this.toArrayLike(Array,c,h)},s.prototype.toArrayLike=function(c,h,p){var m=this.byteLength(),v=p||Math.max(1,m);n(m<=v,"byte array longer than desired length"),n(v>0,"Requested array length <= 0"),this.strip();var _=h==="le",E=new c(v),w,l,S=this.clone();if(_){for(l=0;!S.isZero();l++)w=S.andln(255),S.iushrn(8),E[l]=w;for(;l<v;l++)E[l]=0}else{for(l=0;l<v-m;l++)E[l]=0;for(l=0;!S.isZero();l++)w=S.andln(255),S.iushrn(8),E[v-l-1]=w}return E},Math.clz32?s.prototype._countBits=function(c){return 32-Math.clz32(c)}:s.prototype._countBits=function(c){var h=c,p=0;return h>=4096&&(p+=13,h>>>=13),h>=64&&(p+=7,h>>>=7),h>=8&&(p+=4,h>>>=4),h>=2&&(p+=2,h>>>=2),p+h},s.prototype._zeroBits=function(c){if(c===0)return 26;var h=c,p=0;return h&8191||(p+=13,h>>>=13),h&127||(p+=7,h>>>=7),h&15||(p+=4,h>>>=4),h&3||(p+=2,h>>>=2),h&1||p++,p},s.prototype.bitLength=function(){var c=this.words[this.length-1],h=this._countBits(c);return(this.length-1)*26+h};function b(T){for(var c=new Array(T.bitLength()),h=0;h<c.length;h++){var p=h/26|0,m=h%26;c[h]=(T.words[p]&1<<m)>>>m}return c}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,h=0;h<this.length;h++){var p=this._zeroBits(this.words[h]);if(c+=p,p!==26)break}return c},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},s.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var h=0;h<c.length;h++)this.words[h]=this.words[h]|c.words[h];return this.strip()},s.prototype.ior=function(c){return n((this.negative|c.negative)===0),this.iuor(c)},s.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},s.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},s.prototype.iuand=function(c){var h;this.length>c.length?h=c:h=this;for(var p=0;p<h.length;p++)this.words[p]=this.words[p]&c.words[p];return this.length=h.length,this.strip()},s.prototype.iand=function(c){return n((this.negative|c.negative)===0),this.iuand(c)},s.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},s.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},s.prototype.iuxor=function(c){var h,p;this.length>c.length?(h=this,p=c):(h=c,p=this);for(var m=0;m<p.length;m++)this.words[m]=h.words[m]^p.words[m];if(this!==h)for(;m<h.length;m++)this.words[m]=h.words[m];return this.length=h.length,this.strip()},s.prototype.ixor=function(c){return n((this.negative|c.negative)===0),this.iuxor(c)},s.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},s.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},s.prototype.inotn=function(c){n(typeof c=="number"&&c>=0);var h=Math.ceil(c/26)|0,p=c%26;this._expand(h),p>0&&h--;for(var m=0;m<h;m++)this.words[m]=~this.words[m]&67108863;return p>0&&(this.words[m]=~this.words[m]&67108863>>26-p),this.strip()},s.prototype.notn=function(c){return this.clone().inotn(c)},s.prototype.setn=function(c,h){n(typeof c=="number"&&c>=0);var p=c/26|0,m=c%26;return this._expand(p+1),h?this.words[p]=this.words[p]|1<<m:this.words[p]=this.words[p]&~(1<<m),this.strip()},s.prototype.iadd=function(c){var h;if(this.negative!==0&&c.negative===0)return this.negative=0,h=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,h=this.isub(c),c.negative=1,h._normSign();var p,m;this.length>c.length?(p=this,m=c):(p=c,m=this);for(var v=0,_=0;_<m.length;_++)h=(p.words[_]|0)+(m.words[_]|0)+v,this.words[_]=h&67108863,v=h>>>26;for(;v!==0&&_<p.length;_++)h=(p.words[_]|0)+v,this.words[_]=h&67108863,v=h>>>26;if(this.length=p.length,v!==0)this.words[this.length]=v,this.length++;else if(p!==this)for(;_<p.length;_++)this.words[_]=p.words[_];return this},s.prototype.add=function(c){var h;return c.negative!==0&&this.negative===0?(c.negative=0,h=this.sub(c),c.negative^=1,h):c.negative===0&&this.negative!==0?(this.negative=0,h=c.sub(this),this.negative=1,h):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},s.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var h=this.iadd(c);return c.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var p=this.cmp(c);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,v;p>0?(m=this,v=c):(m=c,v=this);for(var _=0,E=0;E<v.length;E++)h=(m.words[E]|0)-(v.words[E]|0)+_,_=h>>26,this.words[E]=h&67108863;for(;_!==0&&E<m.length;E++)h=(m.words[E]|0)+_,_=h>>26,this.words[E]=h&67108863;if(_===0&&E<m.length&&m!==this)for(;E<m.length;E++)this.words[E]=m.words[E];return this.length=Math.max(this.length,E),m!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(c){return this.clone().isub(c)};function A(T,c,h){h.negative=c.negative^T.negative;var p=T.length+c.length|0;h.length=p,p=p-1|0;var m=T.words[0]|0,v=c.words[0]|0,_=m*v,E=_&67108863,w=_/67108864|0;h.words[0]=E;for(var l=1;l<p;l++){for(var S=w>>>26,C=w&67108863,D=Math.min(l,c.length-1),U=Math.max(0,l-T.length+1);U<=D;U++){var O=l-U|0;m=T.words[O]|0,v=c.words[U]|0,_=m*v+C,S+=_/67108864|0,C=_&67108863}h.words[l]=C|0,w=S|0}return w!==0?h.words[l]=w|0:h.length--,h.strip()}var x=function(c,h,p){var m=c.words,v=h.words,_=p.words,E=0,w,l,S,C=m[0]|0,D=C&8191,U=C>>>13,O=m[1]|0,$=O&8191,F=O>>>13,H=m[2]|0,Q=H&8191,te=H>>>13,X=m[3]|0,K=X&8191,oe=X>>>13,_e=m[4]|0,Se=_e&8191,W=_e>>>13,re=m[5]|0,ne=re&8191,se=re>>>13,Te=m[6]|0,be=Te&8191,Ee=Te>>>13,ut=m[7]|0,le=ut&8191,de=ut>>>13,Fe=m[8]|0,ee=Fe&8191,z=Fe>>>13,J=m[9]|0,ie=J&8191,fe=J>>>13,ke=v[0]|0,ve=ke&8191,Ne=ke>>>13,kt=v[1]|0,Be=kt&8191,Le=kt>>>13,yt=v[2]|0,$e=yt&8191,Ze=yt>>>13,nr=v[3]|0,Ue=nr&8191,Xe=nr>>>13,ir=v[4]|0,ze=ir&8191,Je=ir>>>13,sr=v[5]|0,We=sr&8191,Qe=sr>>>13,or=v[6]|0,je=or&8191,et=or>>>13,ar=v[7]|0,Ke=ar&8191,tt=ar>>>13,ur=v[8]|0,He=ur&8191,rt=ur>>>13,cr=v[9]|0,qe=cr&8191,nt=cr>>>13;p.negative=c.negative^h.negative,p.length=19,w=Math.imul(D,ve),l=Math.imul(D,Ne),l=l+Math.imul(U,ve)|0,S=Math.imul(U,Ne);var Jt=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,w=Math.imul($,ve),l=Math.imul($,Ne),l=l+Math.imul(F,ve)|0,S=Math.imul(F,Ne),w=w+Math.imul(D,Be)|0,l=l+Math.imul(D,Le)|0,l=l+Math.imul(U,Be)|0,S=S+Math.imul(U,Le)|0;var Qt=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,w=Math.imul(Q,ve),l=Math.imul(Q,Ne),l=l+Math.imul(te,ve)|0,S=Math.imul(te,Ne),w=w+Math.imul($,Be)|0,l=l+Math.imul($,Le)|0,l=l+Math.imul(F,Be)|0,S=S+Math.imul(F,Le)|0,w=w+Math.imul(D,$e)|0,l=l+Math.imul(D,Ze)|0,l=l+Math.imul(U,$e)|0,S=S+Math.imul(U,Ze)|0;var jr=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(jr>>>26)|0,jr&=67108863,w=Math.imul(K,ve),l=Math.imul(K,Ne),l=l+Math.imul(oe,ve)|0,S=Math.imul(oe,Ne),w=w+Math.imul(Q,Be)|0,l=l+Math.imul(Q,Le)|0,l=l+Math.imul(te,Be)|0,S=S+Math.imul(te,Le)|0,w=w+Math.imul($,$e)|0,l=l+Math.imul($,Ze)|0,l=l+Math.imul(F,$e)|0,S=S+Math.imul(F,Ze)|0,w=w+Math.imul(D,Ue)|0,l=l+Math.imul(D,Xe)|0,l=l+Math.imul(U,Ue)|0,S=S+Math.imul(U,Xe)|0;var Kr=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,w=Math.imul(Se,ve),l=Math.imul(Se,Ne),l=l+Math.imul(W,ve)|0,S=Math.imul(W,Ne),w=w+Math.imul(K,Be)|0,l=l+Math.imul(K,Le)|0,l=l+Math.imul(oe,Be)|0,S=S+Math.imul(oe,Le)|0,w=w+Math.imul(Q,$e)|0,l=l+Math.imul(Q,Ze)|0,l=l+Math.imul(te,$e)|0,S=S+Math.imul(te,Ze)|0,w=w+Math.imul($,Ue)|0,l=l+Math.imul($,Xe)|0,l=l+Math.imul(F,Ue)|0,S=S+Math.imul(F,Xe)|0,w=w+Math.imul(D,ze)|0,l=l+Math.imul(D,Je)|0,l=l+Math.imul(U,ze)|0,S=S+Math.imul(U,Je)|0;var Hr=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,w=Math.imul(ne,ve),l=Math.imul(ne,Ne),l=l+Math.imul(se,ve)|0,S=Math.imul(se,Ne),w=w+Math.imul(Se,Be)|0,l=l+Math.imul(Se,Le)|0,l=l+Math.imul(W,Be)|0,S=S+Math.imul(W,Le)|0,w=w+Math.imul(K,$e)|0,l=l+Math.imul(K,Ze)|0,l=l+Math.imul(oe,$e)|0,S=S+Math.imul(oe,Ze)|0,w=w+Math.imul(Q,Ue)|0,l=l+Math.imul(Q,Xe)|0,l=l+Math.imul(te,Ue)|0,S=S+Math.imul(te,Xe)|0,w=w+Math.imul($,ze)|0,l=l+Math.imul($,Je)|0,l=l+Math.imul(F,ze)|0,S=S+Math.imul(F,Je)|0,w=w+Math.imul(D,We)|0,l=l+Math.imul(D,Qe)|0,l=l+Math.imul(U,We)|0,S=S+Math.imul(U,Qe)|0;var qr=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(qr>>>26)|0,qr&=67108863,w=Math.imul(be,ve),l=Math.imul(be,Ne),l=l+Math.imul(Ee,ve)|0,S=Math.imul(Ee,Ne),w=w+Math.imul(ne,Be)|0,l=l+Math.imul(ne,Le)|0,l=l+Math.imul(se,Be)|0,S=S+Math.imul(se,Le)|0,w=w+Math.imul(Se,$e)|0,l=l+Math.imul(Se,Ze)|0,l=l+Math.imul(W,$e)|0,S=S+Math.imul(W,Ze)|0,w=w+Math.imul(K,Ue)|0,l=l+Math.imul(K,Xe)|0,l=l+Math.imul(oe,Ue)|0,S=S+Math.imul(oe,Xe)|0,w=w+Math.imul(Q,ze)|0,l=l+Math.imul(Q,Je)|0,l=l+Math.imul(te,ze)|0,S=S+Math.imul(te,Je)|0,w=w+Math.imul($,We)|0,l=l+Math.imul($,Qe)|0,l=l+Math.imul(F,We)|0,S=S+Math.imul(F,Qe)|0,w=w+Math.imul(D,je)|0,l=l+Math.imul(D,et)|0,l=l+Math.imul(U,je)|0,S=S+Math.imul(U,et)|0;var Vr=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,w=Math.imul(le,ve),l=Math.imul(le,Ne),l=l+Math.imul(de,ve)|0,S=Math.imul(de,Ne),w=w+Math.imul(be,Be)|0,l=l+Math.imul(be,Le)|0,l=l+Math.imul(Ee,Be)|0,S=S+Math.imul(Ee,Le)|0,w=w+Math.imul(ne,$e)|0,l=l+Math.imul(ne,Ze)|0,l=l+Math.imul(se,$e)|0,S=S+Math.imul(se,Ze)|0,w=w+Math.imul(Se,Ue)|0,l=l+Math.imul(Se,Xe)|0,l=l+Math.imul(W,Ue)|0,S=S+Math.imul(W,Xe)|0,w=w+Math.imul(K,ze)|0,l=l+Math.imul(K,Je)|0,l=l+Math.imul(oe,ze)|0,S=S+Math.imul(oe,Je)|0,w=w+Math.imul(Q,We)|0,l=l+Math.imul(Q,Qe)|0,l=l+Math.imul(te,We)|0,S=S+Math.imul(te,Qe)|0,w=w+Math.imul($,je)|0,l=l+Math.imul($,et)|0,l=l+Math.imul(F,je)|0,S=S+Math.imul(F,et)|0,w=w+Math.imul(D,Ke)|0,l=l+Math.imul(D,tt)|0,l=l+Math.imul(U,Ke)|0,S=S+Math.imul(U,tt)|0;var yn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(yn>>>26)|0,yn&=67108863,w=Math.imul(ee,ve),l=Math.imul(ee,Ne),l=l+Math.imul(z,ve)|0,S=Math.imul(z,Ne),w=w+Math.imul(le,Be)|0,l=l+Math.imul(le,Le)|0,l=l+Math.imul(de,Be)|0,S=S+Math.imul(de,Le)|0,w=w+Math.imul(be,$e)|0,l=l+Math.imul(be,Ze)|0,l=l+Math.imul(Ee,$e)|0,S=S+Math.imul(Ee,Ze)|0,w=w+Math.imul(ne,Ue)|0,l=l+Math.imul(ne,Xe)|0,l=l+Math.imul(se,Ue)|0,S=S+Math.imul(se,Xe)|0,w=w+Math.imul(Se,ze)|0,l=l+Math.imul(Se,Je)|0,l=l+Math.imul(W,ze)|0,S=S+Math.imul(W,Je)|0,w=w+Math.imul(K,We)|0,l=l+Math.imul(K,Qe)|0,l=l+Math.imul(oe,We)|0,S=S+Math.imul(oe,Qe)|0,w=w+Math.imul(Q,je)|0,l=l+Math.imul(Q,et)|0,l=l+Math.imul(te,je)|0,S=S+Math.imul(te,et)|0,w=w+Math.imul($,Ke)|0,l=l+Math.imul($,tt)|0,l=l+Math.imul(F,Ke)|0,S=S+Math.imul(F,tt)|0,w=w+Math.imul(D,He)|0,l=l+Math.imul(D,rt)|0,l=l+Math.imul(U,He)|0,S=S+Math.imul(U,rt)|0;var bn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(bn>>>26)|0,bn&=67108863,w=Math.imul(ie,ve),l=Math.imul(ie,Ne),l=l+Math.imul(fe,ve)|0,S=Math.imul(fe,Ne),w=w+Math.imul(ee,Be)|0,l=l+Math.imul(ee,Le)|0,l=l+Math.imul(z,Be)|0,S=S+Math.imul(z,Le)|0,w=w+Math.imul(le,$e)|0,l=l+Math.imul(le,Ze)|0,l=l+Math.imul(de,$e)|0,S=S+Math.imul(de,Ze)|0,w=w+Math.imul(be,Ue)|0,l=l+Math.imul(be,Xe)|0,l=l+Math.imul(Ee,Ue)|0,S=S+Math.imul(Ee,Xe)|0,w=w+Math.imul(ne,ze)|0,l=l+Math.imul(ne,Je)|0,l=l+Math.imul(se,ze)|0,S=S+Math.imul(se,Je)|0,w=w+Math.imul(Se,We)|0,l=l+Math.imul(Se,Qe)|0,l=l+Math.imul(W,We)|0,S=S+Math.imul(W,Qe)|0,w=w+Math.imul(K,je)|0,l=l+Math.imul(K,et)|0,l=l+Math.imul(oe,je)|0,S=S+Math.imul(oe,et)|0,w=w+Math.imul(Q,Ke)|0,l=l+Math.imul(Q,tt)|0,l=l+Math.imul(te,Ke)|0,S=S+Math.imul(te,tt)|0,w=w+Math.imul($,He)|0,l=l+Math.imul($,rt)|0,l=l+Math.imul(F,He)|0,S=S+Math.imul(F,rt)|0,w=w+Math.imul(D,qe)|0,l=l+Math.imul(D,nt)|0,l=l+Math.imul(U,qe)|0,S=S+Math.imul(U,nt)|0;var vn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(vn>>>26)|0,vn&=67108863,w=Math.imul(ie,Be),l=Math.imul(ie,Le),l=l+Math.imul(fe,Be)|0,S=Math.imul(fe,Le),w=w+Math.imul(ee,$e)|0,l=l+Math.imul(ee,Ze)|0,l=l+Math.imul(z,$e)|0,S=S+Math.imul(z,Ze)|0,w=w+Math.imul(le,Ue)|0,l=l+Math.imul(le,Xe)|0,l=l+Math.imul(de,Ue)|0,S=S+Math.imul(de,Xe)|0,w=w+Math.imul(be,ze)|0,l=l+Math.imul(be,Je)|0,l=l+Math.imul(Ee,ze)|0,S=S+Math.imul(Ee,Je)|0,w=w+Math.imul(ne,We)|0,l=l+Math.imul(ne,Qe)|0,l=l+Math.imul(se,We)|0,S=S+Math.imul(se,Qe)|0,w=w+Math.imul(Se,je)|0,l=l+Math.imul(Se,et)|0,l=l+Math.imul(W,je)|0,S=S+Math.imul(W,et)|0,w=w+Math.imul(K,Ke)|0,l=l+Math.imul(K,tt)|0,l=l+Math.imul(oe,Ke)|0,S=S+Math.imul(oe,tt)|0,w=w+Math.imul(Q,He)|0,l=l+Math.imul(Q,rt)|0,l=l+Math.imul(te,He)|0,S=S+Math.imul(te,rt)|0,w=w+Math.imul($,qe)|0,l=l+Math.imul($,nt)|0,l=l+Math.imul(F,qe)|0,S=S+Math.imul(F,nt)|0;var wn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(wn>>>26)|0,wn&=67108863,w=Math.imul(ie,$e),l=Math.imul(ie,Ze),l=l+Math.imul(fe,$e)|0,S=Math.imul(fe,Ze),w=w+Math.imul(ee,Ue)|0,l=l+Math.imul(ee,Xe)|0,l=l+Math.imul(z,Ue)|0,S=S+Math.imul(z,Xe)|0,w=w+Math.imul(le,ze)|0,l=l+Math.imul(le,Je)|0,l=l+Math.imul(de,ze)|0,S=S+Math.imul(de,Je)|0,w=w+Math.imul(be,We)|0,l=l+Math.imul(be,Qe)|0,l=l+Math.imul(Ee,We)|0,S=S+Math.imul(Ee,Qe)|0,w=w+Math.imul(ne,je)|0,l=l+Math.imul(ne,et)|0,l=l+Math.imul(se,je)|0,S=S+Math.imul(se,et)|0,w=w+Math.imul(Se,Ke)|0,l=l+Math.imul(Se,tt)|0,l=l+Math.imul(W,Ke)|0,S=S+Math.imul(W,tt)|0,w=w+Math.imul(K,He)|0,l=l+Math.imul(K,rt)|0,l=l+Math.imul(oe,He)|0,S=S+Math.imul(oe,rt)|0,w=w+Math.imul(Q,qe)|0,l=l+Math.imul(Q,nt)|0,l=l+Math.imul(te,qe)|0,S=S+Math.imul(te,nt)|0;var Sn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,w=Math.imul(ie,Ue),l=Math.imul(ie,Xe),l=l+Math.imul(fe,Ue)|0,S=Math.imul(fe,Xe),w=w+Math.imul(ee,ze)|0,l=l+Math.imul(ee,Je)|0,l=l+Math.imul(z,ze)|0,S=S+Math.imul(z,Je)|0,w=w+Math.imul(le,We)|0,l=l+Math.imul(le,Qe)|0,l=l+Math.imul(de,We)|0,S=S+Math.imul(de,Qe)|0,w=w+Math.imul(be,je)|0,l=l+Math.imul(be,et)|0,l=l+Math.imul(Ee,je)|0,S=S+Math.imul(Ee,et)|0,w=w+Math.imul(ne,Ke)|0,l=l+Math.imul(ne,tt)|0,l=l+Math.imul(se,Ke)|0,S=S+Math.imul(se,tt)|0,w=w+Math.imul(Se,He)|0,l=l+Math.imul(Se,rt)|0,l=l+Math.imul(W,He)|0,S=S+Math.imul(W,rt)|0,w=w+Math.imul(K,qe)|0,l=l+Math.imul(K,nt)|0,l=l+Math.imul(oe,qe)|0,S=S+Math.imul(oe,nt)|0;var _n=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(_n>>>26)|0,_n&=67108863,w=Math.imul(ie,ze),l=Math.imul(ie,Je),l=l+Math.imul(fe,ze)|0,S=Math.imul(fe,Je),w=w+Math.imul(ee,We)|0,l=l+Math.imul(ee,Qe)|0,l=l+Math.imul(z,We)|0,S=S+Math.imul(z,Qe)|0,w=w+Math.imul(le,je)|0,l=l+Math.imul(le,et)|0,l=l+Math.imul(de,je)|0,S=S+Math.imul(de,et)|0,w=w+Math.imul(be,Ke)|0,l=l+Math.imul(be,tt)|0,l=l+Math.imul(Ee,Ke)|0,S=S+Math.imul(Ee,tt)|0,w=w+Math.imul(ne,He)|0,l=l+Math.imul(ne,rt)|0,l=l+Math.imul(se,He)|0,S=S+Math.imul(se,rt)|0,w=w+Math.imul(Se,qe)|0,l=l+Math.imul(Se,nt)|0,l=l+Math.imul(W,qe)|0,S=S+Math.imul(W,nt)|0;var An=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(An>>>26)|0,An&=67108863,w=Math.imul(ie,We),l=Math.imul(ie,Qe),l=l+Math.imul(fe,We)|0,S=Math.imul(fe,Qe),w=w+Math.imul(ee,je)|0,l=l+Math.imul(ee,et)|0,l=l+Math.imul(z,je)|0,S=S+Math.imul(z,et)|0,w=w+Math.imul(le,Ke)|0,l=l+Math.imul(le,tt)|0,l=l+Math.imul(de,Ke)|0,S=S+Math.imul(de,tt)|0,w=w+Math.imul(be,He)|0,l=l+Math.imul(be,rt)|0,l=l+Math.imul(Ee,He)|0,S=S+Math.imul(Ee,rt)|0,w=w+Math.imul(ne,qe)|0,l=l+Math.imul(ne,nt)|0,l=l+Math.imul(se,qe)|0,S=S+Math.imul(se,nt)|0;var xn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(xn>>>26)|0,xn&=67108863,w=Math.imul(ie,je),l=Math.imul(ie,et),l=l+Math.imul(fe,je)|0,S=Math.imul(fe,et),w=w+Math.imul(ee,Ke)|0,l=l+Math.imul(ee,tt)|0,l=l+Math.imul(z,Ke)|0,S=S+Math.imul(z,tt)|0,w=w+Math.imul(le,He)|0,l=l+Math.imul(le,rt)|0,l=l+Math.imul(de,He)|0,S=S+Math.imul(de,rt)|0,w=w+Math.imul(be,qe)|0,l=l+Math.imul(be,nt)|0,l=l+Math.imul(Ee,qe)|0,S=S+Math.imul(Ee,nt)|0;var En=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(En>>>26)|0,En&=67108863,w=Math.imul(ie,Ke),l=Math.imul(ie,tt),l=l+Math.imul(fe,Ke)|0,S=Math.imul(fe,tt),w=w+Math.imul(ee,He)|0,l=l+Math.imul(ee,rt)|0,l=l+Math.imul(z,He)|0,S=S+Math.imul(z,rt)|0,w=w+Math.imul(le,qe)|0,l=l+Math.imul(le,nt)|0,l=l+Math.imul(de,qe)|0,S=S+Math.imul(de,nt)|0;var kn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(kn>>>26)|0,kn&=67108863,w=Math.imul(ie,He),l=Math.imul(ie,rt),l=l+Math.imul(fe,He)|0,S=Math.imul(fe,rt),w=w+Math.imul(ee,qe)|0,l=l+Math.imul(ee,nt)|0,l=l+Math.imul(z,qe)|0,S=S+Math.imul(z,nt)|0;var Tn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,w=Math.imul(ie,qe),l=Math.imul(ie,nt),l=l+Math.imul(fe,qe)|0,S=Math.imul(fe,nt);var In=(E+w|0)+((l&8191)<<13)|0;return E=(S+(l>>>13)|0)+(In>>>26)|0,In&=67108863,_[0]=Jt,_[1]=Qt,_[2]=jr,_[3]=Kr,_[4]=Hr,_[5]=qr,_[6]=Vr,_[7]=yn,_[8]=bn,_[9]=vn,_[10]=wn,_[11]=Sn,_[12]=_n,_[13]=An,_[14]=xn,_[15]=En,_[16]=kn,_[17]=Tn,_[18]=In,E!==0&&(_[19]=E,p.length++),p};Math.imul||(x=A);function k(T,c,h){h.negative=c.negative^T.negative,h.length=T.length+c.length;for(var p=0,m=0,v=0;v<h.length-1;v++){var _=m;m=0;for(var E=p&67108863,w=Math.min(v,c.length-1),l=Math.max(0,v-T.length+1);l<=w;l++){var S=v-l,C=T.words[S]|0,D=c.words[l]|0,U=C*D,O=U&67108863;_=_+(U/67108864|0)|0,O=O+E|0,E=O&67108863,_=_+(O>>>26)|0,m+=_>>>26,_&=67108863}h.words[v]=E,p=_,_=m}return p!==0?h.words[v]=p:h.length--,h.strip()}function I(T,c,h){var p=new R;return p.mulp(T,c,h)}s.prototype.mulTo=function(c,h){var p,m=this.length+c.length;return this.length===10&&c.length===10?p=x(this,c,h):m<63?p=A(this,c,h):m<1024?p=k(this,c,h):p=I(this,c,h),p};function R(T,c){this.x=T,this.y=c}R.prototype.makeRBT=function(c){for(var h=new Array(c),p=s.prototype._countBits(c)-1,m=0;m<c;m++)h[m]=this.revBin(m,p,c);return h},R.prototype.revBin=function(c,h,p){if(c===0||c===p-1)return c;for(var m=0,v=0;v<h;v++)m|=(c&1)<<h-v-1,c>>=1;return m},R.prototype.permute=function(c,h,p,m,v,_){for(var E=0;E<_;E++)m[E]=h[c[E]],v[E]=p[c[E]]},R.prototype.transform=function(c,h,p,m,v,_){this.permute(_,c,h,p,m,v);for(var E=1;E<v;E<<=1)for(var w=E<<1,l=Math.cos(2*Math.PI/w),S=Math.sin(2*Math.PI/w),C=0;C<v;C+=w)for(var D=l,U=S,O=0;O<E;O++){var $=p[C+O],F=m[C+O],H=p[C+O+E],Q=m[C+O+E],te=D*H-U*Q;Q=D*Q+U*H,H=te,p[C+O]=$+H,m[C+O]=F+Q,p[C+O+E]=$-H,m[C+O+E]=F-Q,O!==w&&(te=l*D-S*U,U=l*U+S*D,D=te)}},R.prototype.guessLen13b=function(c,h){var p=Math.max(h,c)|1,m=p&1,v=0;for(p=p/2|0;p;p=p>>>1)v++;return 1<<v+1+m},R.prototype.conjugate=function(c,h,p){if(!(p<=1))for(var m=0;m<p/2;m++){var v=c[m];c[m]=c[p-m-1],c[p-m-1]=v,v=h[m],h[m]=-h[p-m-1],h[p-m-1]=-v}},R.prototype.normalize13b=function(c,h){for(var p=0,m=0;m<h/2;m++){var v=Math.round(c[2*m+1]/h)*8192+Math.round(c[2*m]/h)+p;c[m]=v&67108863,v<67108864?p=0:p=v/67108864|0}return c},R.prototype.convert13b=function(c,h,p,m){for(var v=0,_=0;_<h;_++)v=v+(c[_]|0),p[2*_]=v&8191,v=v>>>13,p[2*_+1]=v&8191,v=v>>>13;for(_=2*h;_<m;++_)p[_]=0;n(v===0),n((v&-8192)===0)},R.prototype.stub=function(c){for(var h=new Array(c),p=0;p<c;p++)h[p]=0;return h},R.prototype.mulp=function(c,h,p){var m=2*this.guessLen13b(c.length,h.length),v=this.makeRBT(m),_=this.stub(m),E=new Array(m),w=new Array(m),l=new Array(m),S=new Array(m),C=new Array(m),D=new Array(m),U=p.words;U.length=m,this.convert13b(c.words,c.length,E,m),this.convert13b(h.words,h.length,S,m),this.transform(E,_,w,l,m,v),this.transform(S,_,C,D,m,v);for(var O=0;O<m;O++){var $=w[O]*C[O]-l[O]*D[O];l[O]=w[O]*D[O]+l[O]*C[O],w[O]=$}return this.conjugate(w,l,m),this.transform(w,l,U,_,m,v),this.conjugate(U,_,m),this.normalize13b(U,m),p.negative=c.negative^h.negative,p.length=c.length+h.length,p.strip()},s.prototype.mul=function(c){var h=new s(null);return h.words=new Array(this.length+c.length),this.mulTo(c,h)},s.prototype.mulf=function(c){var h=new s(null);return h.words=new Array(this.length+c.length),I(this,c,h)},s.prototype.imul=function(c){return this.clone().mulTo(c,this)},s.prototype.imuln=function(c){n(typeof c=="number"),n(c<67108864);for(var h=0,p=0;p<this.length;p++){var m=(this.words[p]|0)*c,v=(m&67108863)+(h&67108863);h>>=26,h+=m/67108864|0,h+=v>>>26,this.words[p]=v&67108863}return h!==0&&(this.words[p]=h,this.length++),this},s.prototype.muln=function(c){return this.clone().imuln(c)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(c){var h=b(c);if(h.length===0)return new s(1);for(var p=this,m=0;m<h.length&&h[m]===0;m++,p=p.sqr());if(++m<h.length)for(var v=p.sqr();m<h.length;m++,v=v.sqr())h[m]!==0&&(p=p.mul(v));return p},s.prototype.iushln=function(c){n(typeof c=="number"&&c>=0);var h=c%26,p=(c-h)/26,m=67108863>>>26-h<<26-h,v;if(h!==0){var _=0;for(v=0;v<this.length;v++){var E=this.words[v]&m,w=(this.words[v]|0)-E<<h;this.words[v]=w|_,_=E>>>26-h}_&&(this.words[v]=_,this.length++)}if(p!==0){for(v=this.length-1;v>=0;v--)this.words[v+p]=this.words[v];for(v=0;v<p;v++)this.words[v]=0;this.length+=p}return this.strip()},s.prototype.ishln=function(c){return n(this.negative===0),this.iushln(c)},s.prototype.iushrn=function(c,h,p){n(typeof c=="number"&&c>=0);var m;h?m=(h-h%26)/26:m=0;var v=c%26,_=Math.min((c-v)/26,this.length),E=67108863^67108863>>>v<<v,w=p;if(m-=_,m=Math.max(0,m),w){for(var l=0;l<_;l++)w.words[l]=this.words[l];w.length=_}if(_!==0)if(this.length>_)for(this.length-=_,l=0;l<this.length;l++)this.words[l]=this.words[l+_];else this.words[0]=0,this.length=1;var S=0;for(l=this.length-1;l>=0&&(S!==0||l>=m);l--){var C=this.words[l]|0;this.words[l]=S<<26-v|C>>>v,S=C&E}return w&&S!==0&&(w.words[w.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(c,h,p){return n(this.negative===0),this.iushrn(c,h,p)},s.prototype.shln=function(c){return this.clone().ishln(c)},s.prototype.ushln=function(c){return this.clone().iushln(c)},s.prototype.shrn=function(c){return this.clone().ishrn(c)},s.prototype.ushrn=function(c){return this.clone().iushrn(c)},s.prototype.testn=function(c){n(typeof c=="number"&&c>=0);var h=c%26,p=(c-h)/26,m=1<<h;if(this.length<=p)return!1;var v=this.words[p];return!!(v&m)},s.prototype.imaskn=function(c){n(typeof c=="number"&&c>=0);var h=c%26,p=(c-h)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(h!==0&&p++,this.length=Math.min(p,this.length),h!==0){var m=67108863^67108863>>>h<<h;this.words[this.length-1]&=m}return this.strip()},s.prototype.maskn=function(c){return this.clone().imaskn(c)},s.prototype.iaddn=function(c){return n(typeof c=="number"),n(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},s.prototype._iaddn=function(c){this.words[0]+=c;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},s.prototype.isubn=function(c){if(n(typeof c=="number"),n(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},s.prototype.addn=function(c){return this.clone().iaddn(c)},s.prototype.subn=function(c){return this.clone().isubn(c)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(c,h,p){var m=c.length+p,v;this._expand(m);var _,E=0;for(v=0;v<c.length;v++){_=(this.words[v+p]|0)+E;var w=(c.words[v]|0)*h;_-=w&67108863,E=(_>>26)-(w/67108864|0),this.words[v+p]=_&67108863}for(;v<this.length-p;v++)_=(this.words[v+p]|0)+E,E=_>>26,this.words[v+p]=_&67108863;if(E===0)return this.strip();for(n(E===-1),E=0,v=0;v<this.length;v++)_=-(this.words[v]|0)+E,E=_>>26,this.words[v]=_&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(c,h){var p=this.length-c.length,m=this.clone(),v=c,_=v.words[v.length-1]|0,E=this._countBits(_);p=26-E,p!==0&&(v=v.ushln(p),m.iushln(p),_=v.words[v.length-1]|0);var w=m.length-v.length,l;if(h!=="mod"){l=new s(null),l.length=w+1,l.words=new Array(l.length);for(var S=0;S<l.length;S++)l.words[S]=0}var C=m.clone()._ishlnsubmul(v,1,w);C.negative===0&&(m=C,l&&(l.words[w]=1));for(var D=w-1;D>=0;D--){var U=(m.words[v.length+D]|0)*67108864+(m.words[v.length+D-1]|0);for(U=Math.min(U/_|0,67108863),m._ishlnsubmul(v,U,D);m.negative!==0;)U--,m.negative=0,m._ishlnsubmul(v,1,D),m.isZero()||(m.negative^=1);l&&(l.words[D]=U)}return l&&l.strip(),m.strip(),h!=="div"&&p!==0&&m.iushrn(p),{div:l||null,mod:m}},s.prototype.divmod=function(c,h,p){if(n(!c.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var m,v,_;return this.negative!==0&&c.negative===0?(_=this.neg().divmod(c,h),h!=="mod"&&(m=_.div.neg()),h!=="div"&&(v=_.mod.neg(),p&&v.negative!==0&&v.iadd(c)),{div:m,mod:v}):this.negative===0&&c.negative!==0?(_=this.divmod(c.neg(),h),h!=="mod"&&(m=_.div.neg()),{div:m,mod:_.mod}):this.negative&c.negative?(_=this.neg().divmod(c.neg(),h),h!=="div"&&(v=_.mod.neg(),p&&v.negative!==0&&v.isub(c)),{div:_.div,mod:v}):c.length>this.length||this.cmp(c)<0?{div:new s(0),mod:this}:c.length===1?h==="div"?{div:this.divn(c.words[0]),mod:null}:h==="mod"?{div:null,mod:new s(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new s(this.modn(c.words[0]))}:this._wordDiv(c,h)},s.prototype.div=function(c){return this.divmod(c,"div",!1).div},s.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},s.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},s.prototype.divRound=function(c){var h=this.divmod(c);if(h.mod.isZero())return h.div;var p=h.div.negative!==0?h.mod.isub(c):h.mod,m=c.ushrn(1),v=c.andln(1),_=p.cmp(m);return _<0||v===1&&_===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},s.prototype.modn=function(c){n(c<=67108863);for(var h=(1<<26)%c,p=0,m=this.length-1;m>=0;m--)p=(h*p+(this.words[m]|0))%c;return p},s.prototype.idivn=function(c){n(c<=67108863);for(var h=0,p=this.length-1;p>=0;p--){var m=(this.words[p]|0)+h*67108864;this.words[p]=m/c|0,h=m%c}return this.strip()},s.prototype.divn=function(c){return this.clone().idivn(c)},s.prototype.egcd=function(c){n(c.negative===0),n(!c.isZero());var h=this,p=c.clone();h.negative!==0?h=h.umod(c):h=h.clone();for(var m=new s(1),v=new s(0),_=new s(0),E=new s(1),w=0;h.isEven()&&p.isEven();)h.iushrn(1),p.iushrn(1),++w;for(var l=p.clone(),S=h.clone();!h.isZero();){for(var C=0,D=1;!(h.words[0]&D)&&C<26;++C,D<<=1);if(C>0)for(h.iushrn(C);C-- >0;)(m.isOdd()||v.isOdd())&&(m.iadd(l),v.isub(S)),m.iushrn(1),v.iushrn(1);for(var U=0,O=1;!(p.words[0]&O)&&U<26;++U,O<<=1);if(U>0)for(p.iushrn(U);U-- >0;)(_.isOdd()||E.isOdd())&&(_.iadd(l),E.isub(S)),_.iushrn(1),E.iushrn(1);h.cmp(p)>=0?(h.isub(p),m.isub(_),v.isub(E)):(p.isub(h),_.isub(m),E.isub(v))}return{a:_,b:E,gcd:p.iushln(w)}},s.prototype._invmp=function(c){n(c.negative===0),n(!c.isZero());var h=this,p=c.clone();h.negative!==0?h=h.umod(c):h=h.clone();for(var m=new s(1),v=new s(0),_=p.clone();h.cmpn(1)>0&&p.cmpn(1)>0;){for(var E=0,w=1;!(h.words[0]&w)&&E<26;++E,w<<=1);if(E>0)for(h.iushrn(E);E-- >0;)m.isOdd()&&m.iadd(_),m.iushrn(1);for(var l=0,S=1;!(p.words[0]&S)&&l<26;++l,S<<=1);if(l>0)for(p.iushrn(l);l-- >0;)v.isOdd()&&v.iadd(_),v.iushrn(1);h.cmp(p)>=0?(h.isub(p),m.isub(v)):(p.isub(h),v.isub(m))}var C;return h.cmpn(1)===0?C=m:C=v,C.cmpn(0)<0&&C.iadd(c),C},s.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var h=this.clone(),p=c.clone();h.negative=0,p.negative=0;for(var m=0;h.isEven()&&p.isEven();m++)h.iushrn(1),p.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;p.isEven();)p.iushrn(1);var v=h.cmp(p);if(v<0){var _=h;h=p,p=_}else if(v===0||p.cmpn(1)===0)break;h.isub(p)}while(!0);return p.iushln(m)},s.prototype.invm=function(c){return this.egcd(c).a.umod(c)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(c){return this.words[0]&c},s.prototype.bincn=function(c){n(typeof c=="number");var h=c%26,p=(c-h)/26,m=1<<h;if(this.length<=p)return this._expand(p+1),this.words[p]|=m,this;for(var v=m,_=p;v!==0&&_<this.length;_++){var E=this.words[_]|0;E+=v,v=E>>>26,E&=67108863,this.words[_]=E}return v!==0&&(this.words[_]=v,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(c){var h=c<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this.strip();var p;if(this.length>1)p=1;else{h&&(c=-c),n(c<=67108863,"Number is too big");var m=this.words[0]|0;p=m===c?0:m<c?-1:1}return this.negative!==0?-p|0:p},s.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var h=this.ucmp(c);return this.negative!==0?-h|0:h},s.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var h=0,p=this.length-1;p>=0;p--){var m=this.words[p]|0,v=c.words[p]|0;if(m!==v){m<v?h=-1:m>v&&(h=1);break}}return h},s.prototype.gtn=function(c){return this.cmpn(c)===1},s.prototype.gt=function(c){return this.cmp(c)===1},s.prototype.gten=function(c){return this.cmpn(c)>=0},s.prototype.gte=function(c){return this.cmp(c)>=0},s.prototype.ltn=function(c){return this.cmpn(c)===-1},s.prototype.lt=function(c){return this.cmp(c)===-1},s.prototype.lten=function(c){return this.cmpn(c)<=0},s.prototype.lte=function(c){return this.cmp(c)<=0},s.prototype.eqn=function(c){return this.cmpn(c)===0},s.prototype.eq=function(c){return this.cmp(c)===0},s.red=function(c){return new q(c)},s.prototype.toRed=function(c){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(c){return this.red=c,this},s.prototype.forceRed=function(c){return n(!this.red,"Already a number in reduction context"),this._forceRed(c)},s.prototype.redAdd=function(c){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},s.prototype.redIAdd=function(c){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},s.prototype.redSub=function(c){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},s.prototype.redISub=function(c){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},s.prototype.redShl=function(c){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},s.prototype.redMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},s.prototype.redIMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(c){return n(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var M={k256:null,p224:null,p192:null,p25519:null};function P(T,c){this.name=T,this.p=new s(c,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var c=new s(null);return c.words=new Array(Math.ceil(this.n/13)),c},P.prototype.ireduce=function(c){var h=c,p;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),p=h.bitLength();while(p>this.n);var m=p<this.n?-1:h.ucmp(this.p);return m===0?(h.words[0]=0,h.length=1):m>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},P.prototype.split=function(c,h){c.iushrn(this.n,0,h)},P.prototype.imulK=function(c){return c.imul(this.k)};function j(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(j,P),j.prototype.split=function(c,h){for(var p=4194303,m=Math.min(c.length,9),v=0;v<m;v++)h.words[v]=c.words[v];if(h.length=m,c.length<=9){c.words[0]=0,c.length=1;return}var _=c.words[9];for(h.words[h.length++]=_&p,v=10;v<c.length;v++){var E=c.words[v]|0;c.words[v-10]=(E&p)<<4|_>>>22,_=E}_>>>=22,c.words[v-10]=_,_===0&&c.length>10?c.length-=10:c.length-=9},j.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var h=0,p=0;p<c.length;p++){var m=c.words[p]|0;h+=m*977,c.words[p]=h&67108863,h=m*64+(h/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function V(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(V,P);function Z(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Z,P);function G(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(G,P),G.prototype.imulK=function(c){for(var h=0,p=0;p<c.length;p++){var m=(c.words[p]|0)*19+h,v=m&67108863;m>>>=26,c.words[p]=v,h=m}return h!==0&&(c.words[c.length++]=h),c},s._prime=function(c){if(M[c])return M[c];var h;if(c==="k256")h=new j;else if(c==="p224")h=new V;else if(c==="p192")h=new Z;else if(c==="p25519")h=new G;else throw new Error("Unknown prime "+c);return M[c]=h,h};function q(T){if(typeof T=="string"){var c=s._prime(T);this.m=c.p,this.prime=c}else n(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}q.prototype._verify1=function(c){n(c.negative===0,"red works only with positives"),n(c.red,"red works only with red numbers")},q.prototype._verify2=function(c,h){n((c.negative|h.negative)===0,"red works only with positives"),n(c.red&&c.red===h.red,"red works only with red numbers")},q.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},q.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},q.prototype.add=function(c,h){this._verify2(c,h);var p=c.add(h);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},q.prototype.iadd=function(c,h){this._verify2(c,h);var p=c.iadd(h);return p.cmp(this.m)>=0&&p.isub(this.m),p},q.prototype.sub=function(c,h){this._verify2(c,h);var p=c.sub(h);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},q.prototype.isub=function(c,h){this._verify2(c,h);var p=c.isub(h);return p.cmpn(0)<0&&p.iadd(this.m),p},q.prototype.shl=function(c,h){return this._verify1(c),this.imod(c.ushln(h))},q.prototype.imul=function(c,h){return this._verify2(c,h),this.imod(c.imul(h))},q.prototype.mul=function(c,h){return this._verify2(c,h),this.imod(c.mul(h))},q.prototype.isqr=function(c){return this.imul(c,c.clone())},q.prototype.sqr=function(c){return this.mul(c,c)},q.prototype.sqrt=function(c){if(c.isZero())return c.clone();var h=this.m.andln(3);if(n(h%2===1),h===3){var p=this.m.add(new s(1)).iushrn(2);return this.pow(c,p)}for(var m=this.m.subn(1),v=0;!m.isZero()&&m.andln(1)===0;)v++,m.iushrn(1);n(!m.isZero());var _=new s(1).toRed(this),E=_.redNeg(),w=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);this.pow(l,w).cmp(E)!==0;)l.redIAdd(E);for(var S=this.pow(l,m),C=this.pow(c,m.addn(1).iushrn(1)),D=this.pow(c,m),U=v;D.cmp(_)!==0;){for(var O=D,$=0;O.cmp(_)!==0;$++)O=O.redSqr();n($<U);var F=this.pow(S,new s(1).iushln(U-$-1));C=C.redMul(F),S=F.redSqr(),D=D.redMul(S),U=$}return C},q.prototype.invm=function(c){var h=c._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},q.prototype.pow=function(c,h){if(h.isZero())return new s(1).toRed(this);if(h.cmpn(1)===0)return c.clone();var p=4,m=new Array(1<<p);m[0]=new s(1).toRed(this),m[1]=c;for(var v=2;v<m.length;v++)m[v]=this.mul(m[v-1],c);var _=m[0],E=0,w=0,l=h.bitLength()%26;for(l===0&&(l=26),v=h.length-1;v>=0;v--){for(var S=h.words[v],C=l-1;C>=0;C--){var D=S>>C&1;if(_!==m[0]&&(_=this.sqr(_)),D===0&&E===0){w=0;continue}E<<=1,E|=D,w++,!(w!==p&&(v!==0||C!==0))&&(_=this.mul(_,m[E]),w=0,E=0)}l=26}return _},q.prototype.convertTo=function(c){var h=c.umod(this.m);return h===c?h.clone():h},q.prototype.convertFrom=function(c){var h=c.clone();return h.red=null,h},s.mont=function(c){return new ae(c)};function ae(T){q.call(this,T),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(ae,q),ae.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},ae.prototype.convertFrom=function(c){var h=this.imod(c.mul(this.rinv));return h.red=null,h},ae.prototype.imul=function(c,h){if(c.isZero()||h.isZero())return c.words[0]=0,c.length=1,c;var p=c.imul(h),m=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(m).iushrn(this.shift),_=v;return v.cmp(this.m)>=0?_=v.isub(this.m):v.cmpn(0)<0&&(_=v.iadd(this.m)),_._forceRed(this)},ae.prototype.mul=function(c,h){if(c.isZero()||h.isZero())return new s(0)._forceRed(this);var p=c.mul(h),m=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(m).iushrn(this.shift),_=v;return v.cmp(this.m)>=0?_=v.isub(this.m):v.cmpn(0)<0&&(_=v.iadd(this.m)),_._forceRed(this)},ae.prototype.invm=function(c){var h=this.imod(c._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(t,St)})(oL);var iWe=oL.exports,cM,$H;function sWe(){if($H)return cM;$H=1;var t=nL(),e=iWe;cM=function(o){return new n(o)};var r={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};r.p224=r.secp224r1,r.p256=r.secp256r1=r.prime256v1,r.p192=r.secp192r1=r.prime192v1,r.p384=r.secp384r1,r.p521=r.secp521r1;function n(s){this.curveType=r[s],this.curveType||(this.curveType={name:s}),this.curve=new t.ec(this.curveType.name),this.keys=void 0}n.prototype.generateKeys=function(s,o){return this.keys=this.curve.genKeyPair(),this.getPublicKey(s,o)},n.prototype.computeSecret=function(s,o,a){o=o||"utf8",we.Buffer.isBuffer(s)||(s=new we.Buffer(s,o));var u=this.curve.keyFromPublic(s).getPublic(),f=u.mul(this.keys.getPrivate()).getX();return i(f,a,this.curveType.byteLength)},n.prototype.getPublicKey=function(s,o){var a=this.keys.getPublic(o==="compressed",!0);return o==="hybrid"&&(a[a.length-1]%2?a[0]=7:a[0]=6),i(a,s)},n.prototype.getPrivateKey=function(s){return i(this.keys.getPrivate(),s)},n.prototype.setPublicKey=function(s,o){return o=o||"utf8",we.Buffer.isBuffer(s)||(s=new we.Buffer(s,o)),this.keys._importPublic(s),this},n.prototype.setPrivateKey=function(s,o){o=o||"utf8",we.Buffer.isBuffer(s)||(s=new we.Buffer(s,o));var a=new e(s);return a=a.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(a),this};function i(s,o,a){Array.isArray(s)||(s=s.toArray());var u=new we.Buffer(s);if(a&&u.length<a){var f=new we.Buffer(a-u.length);f.fill(0),u=we.Buffer.concat([f,u])}return o?u.toString(o):u}return cM}var zie={},oWe=A_,YP=dr.Buffer,Wie=function(t,e){for(var r=YP.alloc(0),n=0,i;r.length<e;)i=aWe(n++),r=YP.concat([r,oWe("sha1").update(t).update(i).digest()]);return r.slice(0,e)};function aWe(t){var e=YP.allocUnsafe(4);return e.writeUInt32BE(t,0),e}var jie=function(e,r){for(var n=e.length,i=-1;++i<n;)e[i]^=r[i];return e},aL={exports:{}};aL.exports;(function(t){(function(e,r){function n(T,c){if(!T)throw new Error(c||"Assertion failed")}function i(T,c){T.super_=c;var h=function(){};h.prototype=c.prototype,T.prototype=new h,T.prototype.constructor=T}function s(T,c,h){if(s.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,T!==null&&((c==="le"||c==="be")&&(h=c,c=10),this._init(T||0,c||10,h||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=xe.Buffer}catch{}s.isBN=function(c){return c instanceof s?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===s.wordSize&&Array.isArray(c.words)},s.max=function(c,h){return c.cmp(h)>0?c:h},s.min=function(c,h){return c.cmp(h)<0?c:h},s.prototype._init=function(c,h,p){if(typeof c=="number")return this._initNumber(c,h,p);if(typeof c=="object")return this._initArray(c,h,p);h==="hex"&&(h=16),n(h===(h|0)&&h>=2&&h<=36),c=c.toString().replace(/\s+/g,"");var m=0;c[0]==="-"&&(m++,this.negative=1),m<c.length&&(h===16?this._parseHex(c,m,p):(this._parseBase(c,h,m),p==="le"&&this._initArray(this.toArray(),h,p)))},s.prototype._initNumber=function(c,h,p){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(n(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),h,p)},s.prototype._initArray=function(c,h,p){if(n(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var v,_,E=0;if(p==="be")for(m=c.length-1,v=0;m>=0;m-=3)_=c[m]|c[m-1]<<8|c[m-2]<<16,this.words[v]|=_<<E&67108863,this.words[v+1]=_>>>26-E&67108863,E+=24,E>=26&&(E-=26,v++);else if(p==="le")for(m=0,v=0;m<c.length;m+=3)_=c[m]|c[m+1]<<8|c[m+2]<<16,this.words[v]|=_<<E&67108863,this.words[v+1]=_>>>26-E&67108863,E+=24,E>=26&&(E-=26,v++);return this.strip()};function a(T,c){var h=T.charCodeAt(c);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function u(T,c,h){var p=a(T,h);return h-1>=c&&(p|=a(T,h-1)<<4),p}s.prototype._parseHex=function(c,h,p){this.length=Math.ceil((c.length-h)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var v=0,_=0,E;if(p==="be")for(m=c.length-1;m>=h;m-=2)E=u(c,h,m)<<v,this.words[_]|=E&67108863,v>=18?(v-=18,_+=1,this.words[_]|=E>>>26):v+=8;else{var w=c.length-h;for(m=w%2===0?h+1:h;m<c.length;m+=2)E=u(c,h,m)<<v,this.words[_]|=E&67108863,v>=18?(v-=18,_+=1,this.words[_]|=E>>>26):v+=8}this.strip()};function f(T,c,h,p){for(var m=0,v=Math.min(T.length,h),_=c;_<v;_++){var E=T.charCodeAt(_)-48;m*=p,E>=49?m+=E-49+10:E>=17?m+=E-17+10:m+=E}return m}s.prototype._parseBase=function(c,h,p){this.words=[0],this.length=1;for(var m=0,v=1;v<=67108863;v*=h)m++;m--,v=v/h|0;for(var _=c.length-p,E=_%m,w=Math.min(_,_-E)+p,l=0,S=p;S<w;S+=m)l=f(c,S,S+m,h),this.imuln(v),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(E!==0){var C=1;for(l=f(c,S,c.length,h),S=0;S<E;S++)C*=h;this.imuln(C),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},s.prototype.copy=function(c){c.words=new Array(this.length);for(var h=0;h<this.length;h++)c.words[h]=this.words[h];c.length=this.length,c.negative=this.negative,c.red=this.red},s.prototype.clone=function(){var c=new s(null);return this.copy(c),c},s.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(c,h){c=c||10,h=h|0||1;var p;if(c===16||c==="hex"){p="";for(var m=0,v=0,_=0;_<this.length;_++){var E=this.words[_],w=((E<<m|v)&16777215).toString(16);v=E>>>24-m&16777215,m+=2,m>=26&&(m-=26,_--),v!==0||_!==this.length-1?p=d[6-w.length]+w+p:p=w+p}for(v!==0&&(p=v.toString(16)+p);p.length%h!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(c===(c|0)&&c>=2&&c<=36){var l=g[c],S=y[c];p="";var C=this.clone();for(C.negative=0;!C.isZero();){var D=C.modn(S).toString(c);C=C.idivn(S),C.isZero()?p=D+p:p=d[l-D.length]+D+p}for(this.isZero()&&(p="0"+p);p.length%h!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(c,h){return n(typeof o<"u"),this.toArrayLike(o,c,h)},s.prototype.toArray=function(c,h){return this.toArrayLike(Array,c,h)},s.prototype.toArrayLike=function(c,h,p){var m=this.byteLength(),v=p||Math.max(1,m);n(m<=v,"byte array longer than desired length"),n(v>0,"Requested array length <= 0"),this.strip();var _=h==="le",E=new c(v),w,l,S=this.clone();if(_){for(l=0;!S.isZero();l++)w=S.andln(255),S.iushrn(8),E[l]=w;for(;l<v;l++)E[l]=0}else{for(l=0;l<v-m;l++)E[l]=0;for(l=0;!S.isZero();l++)w=S.andln(255),S.iushrn(8),E[v-l-1]=w}return E},Math.clz32?s.prototype._countBits=function(c){return 32-Math.clz32(c)}:s.prototype._countBits=function(c){var h=c,p=0;return h>=4096&&(p+=13,h>>>=13),h>=64&&(p+=7,h>>>=7),h>=8&&(p+=4,h>>>=4),h>=2&&(p+=2,h>>>=2),p+h},s.prototype._zeroBits=function(c){if(c===0)return 26;var h=c,p=0;return h&8191||(p+=13,h>>>=13),h&127||(p+=7,h>>>=7),h&15||(p+=4,h>>>=4),h&3||(p+=2,h>>>=2),h&1||p++,p},s.prototype.bitLength=function(){var c=this.words[this.length-1],h=this._countBits(c);return(this.length-1)*26+h};function b(T){for(var c=new Array(T.bitLength()),h=0;h<c.length;h++){var p=h/26|0,m=h%26;c[h]=(T.words[p]&1<<m)>>>m}return c}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,h=0;h<this.length;h++){var p=this._zeroBits(this.words[h]);if(c+=p,p!==26)break}return c},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},s.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var h=0;h<c.length;h++)this.words[h]=this.words[h]|c.words[h];return this.strip()},s.prototype.ior=function(c){return n((this.negative|c.negative)===0),this.iuor(c)},s.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},s.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},s.prototype.iuand=function(c){var h;this.length>c.length?h=c:h=this;for(var p=0;p<h.length;p++)this.words[p]=this.words[p]&c.words[p];return this.length=h.length,this.strip()},s.prototype.iand=function(c){return n((this.negative|c.negative)===0),this.iuand(c)},s.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},s.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},s.prototype.iuxor=function(c){var h,p;this.length>c.length?(h=this,p=c):(h=c,p=this);for(var m=0;m<p.length;m++)this.words[m]=h.words[m]^p.words[m];if(this!==h)for(;m<h.length;m++)this.words[m]=h.words[m];return this.length=h.length,this.strip()},s.prototype.ixor=function(c){return n((this.negative|c.negative)===0),this.iuxor(c)},s.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},s.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},s.prototype.inotn=function(c){n(typeof c=="number"&&c>=0);var h=Math.ceil(c/26)|0,p=c%26;this._expand(h),p>0&&h--;for(var m=0;m<h;m++)this.words[m]=~this.words[m]&67108863;return p>0&&(this.words[m]=~this.words[m]&67108863>>26-p),this.strip()},s.prototype.notn=function(c){return this.clone().inotn(c)},s.prototype.setn=function(c,h){n(typeof c=="number"&&c>=0);var p=c/26|0,m=c%26;return this._expand(p+1),h?this.words[p]=this.words[p]|1<<m:this.words[p]=this.words[p]&~(1<<m),this.strip()},s.prototype.iadd=function(c){var h;if(this.negative!==0&&c.negative===0)return this.negative=0,h=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,h=this.isub(c),c.negative=1,h._normSign();var p,m;this.length>c.length?(p=this,m=c):(p=c,m=this);for(var v=0,_=0;_<m.length;_++)h=(p.words[_]|0)+(m.words[_]|0)+v,this.words[_]=h&67108863,v=h>>>26;for(;v!==0&&_<p.length;_++)h=(p.words[_]|0)+v,this.words[_]=h&67108863,v=h>>>26;if(this.length=p.length,v!==0)this.words[this.length]=v,this.length++;else if(p!==this)for(;_<p.length;_++)this.words[_]=p.words[_];return this},s.prototype.add=function(c){var h;return c.negative!==0&&this.negative===0?(c.negative=0,h=this.sub(c),c.negative^=1,h):c.negative===0&&this.negative!==0?(this.negative=0,h=c.sub(this),this.negative=1,h):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},s.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var h=this.iadd(c);return c.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var p=this.cmp(c);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,v;p>0?(m=this,v=c):(m=c,v=this);for(var _=0,E=0;E<v.length;E++)h=(m.words[E]|0)-(v.words[E]|0)+_,_=h>>26,this.words[E]=h&67108863;for(;_!==0&&E<m.length;E++)h=(m.words[E]|0)+_,_=h>>26,this.words[E]=h&67108863;if(_===0&&E<m.length&&m!==this)for(;E<m.length;E++)this.words[E]=m.words[E];return this.length=Math.max(this.length,E),m!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(c){return this.clone().isub(c)};function A(T,c,h){h.negative=c.negative^T.negative;var p=T.length+c.length|0;h.length=p,p=p-1|0;var m=T.words[0]|0,v=c.words[0]|0,_=m*v,E=_&67108863,w=_/67108864|0;h.words[0]=E;for(var l=1;l<p;l++){for(var S=w>>>26,C=w&67108863,D=Math.min(l,c.length-1),U=Math.max(0,l-T.length+1);U<=D;U++){var O=l-U|0;m=T.words[O]|0,v=c.words[U]|0,_=m*v+C,S+=_/67108864|0,C=_&67108863}h.words[l]=C|0,w=S|0}return w!==0?h.words[l]=w|0:h.length--,h.strip()}var x=function(c,h,p){var m=c.words,v=h.words,_=p.words,E=0,w,l,S,C=m[0]|0,D=C&8191,U=C>>>13,O=m[1]|0,$=O&8191,F=O>>>13,H=m[2]|0,Q=H&8191,te=H>>>13,X=m[3]|0,K=X&8191,oe=X>>>13,_e=m[4]|0,Se=_e&8191,W=_e>>>13,re=m[5]|0,ne=re&8191,se=re>>>13,Te=m[6]|0,be=Te&8191,Ee=Te>>>13,ut=m[7]|0,le=ut&8191,de=ut>>>13,Fe=m[8]|0,ee=Fe&8191,z=Fe>>>13,J=m[9]|0,ie=J&8191,fe=J>>>13,ke=v[0]|0,ve=ke&8191,Ne=ke>>>13,kt=v[1]|0,Be=kt&8191,Le=kt>>>13,yt=v[2]|0,$e=yt&8191,Ze=yt>>>13,nr=v[3]|0,Ue=nr&8191,Xe=nr>>>13,ir=v[4]|0,ze=ir&8191,Je=ir>>>13,sr=v[5]|0,We=sr&8191,Qe=sr>>>13,or=v[6]|0,je=or&8191,et=or>>>13,ar=v[7]|0,Ke=ar&8191,tt=ar>>>13,ur=v[8]|0,He=ur&8191,rt=ur>>>13,cr=v[9]|0,qe=cr&8191,nt=cr>>>13;p.negative=c.negative^h.negative,p.length=19,w=Math.imul(D,ve),l=Math.imul(D,Ne),l=l+Math.imul(U,ve)|0,S=Math.imul(U,Ne);var Jt=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,w=Math.imul($,ve),l=Math.imul($,Ne),l=l+Math.imul(F,ve)|0,S=Math.imul(F,Ne),w=w+Math.imul(D,Be)|0,l=l+Math.imul(D,Le)|0,l=l+Math.imul(U,Be)|0,S=S+Math.imul(U,Le)|0;var Qt=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,w=Math.imul(Q,ve),l=Math.imul(Q,Ne),l=l+Math.imul(te,ve)|0,S=Math.imul(te,Ne),w=w+Math.imul($,Be)|0,l=l+Math.imul($,Le)|0,l=l+Math.imul(F,Be)|0,S=S+Math.imul(F,Le)|0,w=w+Math.imul(D,$e)|0,l=l+Math.imul(D,Ze)|0,l=l+Math.imul(U,$e)|0,S=S+Math.imul(U,Ze)|0;var jr=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(jr>>>26)|0,jr&=67108863,w=Math.imul(K,ve),l=Math.imul(K,Ne),l=l+Math.imul(oe,ve)|0,S=Math.imul(oe,Ne),w=w+Math.imul(Q,Be)|0,l=l+Math.imul(Q,Le)|0,l=l+Math.imul(te,Be)|0,S=S+Math.imul(te,Le)|0,w=w+Math.imul($,$e)|0,l=l+Math.imul($,Ze)|0,l=l+Math.imul(F,$e)|0,S=S+Math.imul(F,Ze)|0,w=w+Math.imul(D,Ue)|0,l=l+Math.imul(D,Xe)|0,l=l+Math.imul(U,Ue)|0,S=S+Math.imul(U,Xe)|0;var Kr=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,w=Math.imul(Se,ve),l=Math.imul(Se,Ne),l=l+Math.imul(W,ve)|0,S=Math.imul(W,Ne),w=w+Math.imul(K,Be)|0,l=l+Math.imul(K,Le)|0,l=l+Math.imul(oe,Be)|0,S=S+Math.imul(oe,Le)|0,w=w+Math.imul(Q,$e)|0,l=l+Math.imul(Q,Ze)|0,l=l+Math.imul(te,$e)|0,S=S+Math.imul(te,Ze)|0,w=w+Math.imul($,Ue)|0,l=l+Math.imul($,Xe)|0,l=l+Math.imul(F,Ue)|0,S=S+Math.imul(F,Xe)|0,w=w+Math.imul(D,ze)|0,l=l+Math.imul(D,Je)|0,l=l+Math.imul(U,ze)|0,S=S+Math.imul(U,Je)|0;var Hr=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,w=Math.imul(ne,ve),l=Math.imul(ne,Ne),l=l+Math.imul(se,ve)|0,S=Math.imul(se,Ne),w=w+Math.imul(Se,Be)|0,l=l+Math.imul(Se,Le)|0,l=l+Math.imul(W,Be)|0,S=S+Math.imul(W,Le)|0,w=w+Math.imul(K,$e)|0,l=l+Math.imul(K,Ze)|0,l=l+Math.imul(oe,$e)|0,S=S+Math.imul(oe,Ze)|0,w=w+Math.imul(Q,Ue)|0,l=l+Math.imul(Q,Xe)|0,l=l+Math.imul(te,Ue)|0,S=S+Math.imul(te,Xe)|0,w=w+Math.imul($,ze)|0,l=l+Math.imul($,Je)|0,l=l+Math.imul(F,ze)|0,S=S+Math.imul(F,Je)|0,w=w+Math.imul(D,We)|0,l=l+Math.imul(D,Qe)|0,l=l+Math.imul(U,We)|0,S=S+Math.imul(U,Qe)|0;var qr=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(qr>>>26)|0,qr&=67108863,w=Math.imul(be,ve),l=Math.imul(be,Ne),l=l+Math.imul(Ee,ve)|0,S=Math.imul(Ee,Ne),w=w+Math.imul(ne,Be)|0,l=l+Math.imul(ne,Le)|0,l=l+Math.imul(se,Be)|0,S=S+Math.imul(se,Le)|0,w=w+Math.imul(Se,$e)|0,l=l+Math.imul(Se,Ze)|0,l=l+Math.imul(W,$e)|0,S=S+Math.imul(W,Ze)|0,w=w+Math.imul(K,Ue)|0,l=l+Math.imul(K,Xe)|0,l=l+Math.imul(oe,Ue)|0,S=S+Math.imul(oe,Xe)|0,w=w+Math.imul(Q,ze)|0,l=l+Math.imul(Q,Je)|0,l=l+Math.imul(te,ze)|0,S=S+Math.imul(te,Je)|0,w=w+Math.imul($,We)|0,l=l+Math.imul($,Qe)|0,l=l+Math.imul(F,We)|0,S=S+Math.imul(F,Qe)|0,w=w+Math.imul(D,je)|0,l=l+Math.imul(D,et)|0,l=l+Math.imul(U,je)|0,S=S+Math.imul(U,et)|0;var Vr=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,w=Math.imul(le,ve),l=Math.imul(le,Ne),l=l+Math.imul(de,ve)|0,S=Math.imul(de,Ne),w=w+Math.imul(be,Be)|0,l=l+Math.imul(be,Le)|0,l=l+Math.imul(Ee,Be)|0,S=S+Math.imul(Ee,Le)|0,w=w+Math.imul(ne,$e)|0,l=l+Math.imul(ne,Ze)|0,l=l+Math.imul(se,$e)|0,S=S+Math.imul(se,Ze)|0,w=w+Math.imul(Se,Ue)|0,l=l+Math.imul(Se,Xe)|0,l=l+Math.imul(W,Ue)|0,S=S+Math.imul(W,Xe)|0,w=w+Math.imul(K,ze)|0,l=l+Math.imul(K,Je)|0,l=l+Math.imul(oe,ze)|0,S=S+Math.imul(oe,Je)|0,w=w+Math.imul(Q,We)|0,l=l+Math.imul(Q,Qe)|0,l=l+Math.imul(te,We)|0,S=S+Math.imul(te,Qe)|0,w=w+Math.imul($,je)|0,l=l+Math.imul($,et)|0,l=l+Math.imul(F,je)|0,S=S+Math.imul(F,et)|0,w=w+Math.imul(D,Ke)|0,l=l+Math.imul(D,tt)|0,l=l+Math.imul(U,Ke)|0,S=S+Math.imul(U,tt)|0;var yn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(yn>>>26)|0,yn&=67108863,w=Math.imul(ee,ve),l=Math.imul(ee,Ne),l=l+Math.imul(z,ve)|0,S=Math.imul(z,Ne),w=w+Math.imul(le,Be)|0,l=l+Math.imul(le,Le)|0,l=l+Math.imul(de,Be)|0,S=S+Math.imul(de,Le)|0,w=w+Math.imul(be,$e)|0,l=l+Math.imul(be,Ze)|0,l=l+Math.imul(Ee,$e)|0,S=S+Math.imul(Ee,Ze)|0,w=w+Math.imul(ne,Ue)|0,l=l+Math.imul(ne,Xe)|0,l=l+Math.imul(se,Ue)|0,S=S+Math.imul(se,Xe)|0,w=w+Math.imul(Se,ze)|0,l=l+Math.imul(Se,Je)|0,l=l+Math.imul(W,ze)|0,S=S+Math.imul(W,Je)|0,w=w+Math.imul(K,We)|0,l=l+Math.imul(K,Qe)|0,l=l+Math.imul(oe,We)|0,S=S+Math.imul(oe,Qe)|0,w=w+Math.imul(Q,je)|0,l=l+Math.imul(Q,et)|0,l=l+Math.imul(te,je)|0,S=S+Math.imul(te,et)|0,w=w+Math.imul($,Ke)|0,l=l+Math.imul($,tt)|0,l=l+Math.imul(F,Ke)|0,S=S+Math.imul(F,tt)|0,w=w+Math.imul(D,He)|0,l=l+Math.imul(D,rt)|0,l=l+Math.imul(U,He)|0,S=S+Math.imul(U,rt)|0;var bn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(bn>>>26)|0,bn&=67108863,w=Math.imul(ie,ve),l=Math.imul(ie,Ne),l=l+Math.imul(fe,ve)|0,S=Math.imul(fe,Ne),w=w+Math.imul(ee,Be)|0,l=l+Math.imul(ee,Le)|0,l=l+Math.imul(z,Be)|0,S=S+Math.imul(z,Le)|0,w=w+Math.imul(le,$e)|0,l=l+Math.imul(le,Ze)|0,l=l+Math.imul(de,$e)|0,S=S+Math.imul(de,Ze)|0,w=w+Math.imul(be,Ue)|0,l=l+Math.imul(be,Xe)|0,l=l+Math.imul(Ee,Ue)|0,S=S+Math.imul(Ee,Xe)|0,w=w+Math.imul(ne,ze)|0,l=l+Math.imul(ne,Je)|0,l=l+Math.imul(se,ze)|0,S=S+Math.imul(se,Je)|0,w=w+Math.imul(Se,We)|0,l=l+Math.imul(Se,Qe)|0,l=l+Math.imul(W,We)|0,S=S+Math.imul(W,Qe)|0,w=w+Math.imul(K,je)|0,l=l+Math.imul(K,et)|0,l=l+Math.imul(oe,je)|0,S=S+Math.imul(oe,et)|0,w=w+Math.imul(Q,Ke)|0,l=l+Math.imul(Q,tt)|0,l=l+Math.imul(te,Ke)|0,S=S+Math.imul(te,tt)|0,w=w+Math.imul($,He)|0,l=l+Math.imul($,rt)|0,l=l+Math.imul(F,He)|0,S=S+Math.imul(F,rt)|0,w=w+Math.imul(D,qe)|0,l=l+Math.imul(D,nt)|0,l=l+Math.imul(U,qe)|0,S=S+Math.imul(U,nt)|0;var vn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(vn>>>26)|0,vn&=67108863,w=Math.imul(ie,Be),l=Math.imul(ie,Le),l=l+Math.imul(fe,Be)|0,S=Math.imul(fe,Le),w=w+Math.imul(ee,$e)|0,l=l+Math.imul(ee,Ze)|0,l=l+Math.imul(z,$e)|0,S=S+Math.imul(z,Ze)|0,w=w+Math.imul(le,Ue)|0,l=l+Math.imul(le,Xe)|0,l=l+Math.imul(de,Ue)|0,S=S+Math.imul(de,Xe)|0,w=w+Math.imul(be,ze)|0,l=l+Math.imul(be,Je)|0,l=l+Math.imul(Ee,ze)|0,S=S+Math.imul(Ee,Je)|0,w=w+Math.imul(ne,We)|0,l=l+Math.imul(ne,Qe)|0,l=l+Math.imul(se,We)|0,S=S+Math.imul(se,Qe)|0,w=w+Math.imul(Se,je)|0,l=l+Math.imul(Se,et)|0,l=l+Math.imul(W,je)|0,S=S+Math.imul(W,et)|0,w=w+Math.imul(K,Ke)|0,l=l+Math.imul(K,tt)|0,l=l+Math.imul(oe,Ke)|0,S=S+Math.imul(oe,tt)|0,w=w+Math.imul(Q,He)|0,l=l+Math.imul(Q,rt)|0,l=l+Math.imul(te,He)|0,S=S+Math.imul(te,rt)|0,w=w+Math.imul($,qe)|0,l=l+Math.imul($,nt)|0,l=l+Math.imul(F,qe)|0,S=S+Math.imul(F,nt)|0;var wn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(wn>>>26)|0,wn&=67108863,w=Math.imul(ie,$e),l=Math.imul(ie,Ze),l=l+Math.imul(fe,$e)|0,S=Math.imul(fe,Ze),w=w+Math.imul(ee,Ue)|0,l=l+Math.imul(ee,Xe)|0,l=l+Math.imul(z,Ue)|0,S=S+Math.imul(z,Xe)|0,w=w+Math.imul(le,ze)|0,l=l+Math.imul(le,Je)|0,l=l+Math.imul(de,ze)|0,S=S+Math.imul(de,Je)|0,w=w+Math.imul(be,We)|0,l=l+Math.imul(be,Qe)|0,l=l+Math.imul(Ee,We)|0,S=S+Math.imul(Ee,Qe)|0,w=w+Math.imul(ne,je)|0,l=l+Math.imul(ne,et)|0,l=l+Math.imul(se,je)|0,S=S+Math.imul(se,et)|0,w=w+Math.imul(Se,Ke)|0,l=l+Math.imul(Se,tt)|0,l=l+Math.imul(W,Ke)|0,S=S+Math.imul(W,tt)|0,w=w+Math.imul(K,He)|0,l=l+Math.imul(K,rt)|0,l=l+Math.imul(oe,He)|0,S=S+Math.imul(oe,rt)|0,w=w+Math.imul(Q,qe)|0,l=l+Math.imul(Q,nt)|0,l=l+Math.imul(te,qe)|0,S=S+Math.imul(te,nt)|0;var Sn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,w=Math.imul(ie,Ue),l=Math.imul(ie,Xe),l=l+Math.imul(fe,Ue)|0,S=Math.imul(fe,Xe),w=w+Math.imul(ee,ze)|0,l=l+Math.imul(ee,Je)|0,l=l+Math.imul(z,ze)|0,S=S+Math.imul(z,Je)|0,w=w+Math.imul(le,We)|0,l=l+Math.imul(le,Qe)|0,l=l+Math.imul(de,We)|0,S=S+Math.imul(de,Qe)|0,w=w+Math.imul(be,je)|0,l=l+Math.imul(be,et)|0,l=l+Math.imul(Ee,je)|0,S=S+Math.imul(Ee,et)|0,w=w+Math.imul(ne,Ke)|0,l=l+Math.imul(ne,tt)|0,l=l+Math.imul(se,Ke)|0,S=S+Math.imul(se,tt)|0,w=w+Math.imul(Se,He)|0,l=l+Math.imul(Se,rt)|0,l=l+Math.imul(W,He)|0,S=S+Math.imul(W,rt)|0,w=w+Math.imul(K,qe)|0,l=l+Math.imul(K,nt)|0,l=l+Math.imul(oe,qe)|0,S=S+Math.imul(oe,nt)|0;var _n=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(_n>>>26)|0,_n&=67108863,w=Math.imul(ie,ze),l=Math.imul(ie,Je),l=l+Math.imul(fe,ze)|0,S=Math.imul(fe,Je),w=w+Math.imul(ee,We)|0,l=l+Math.imul(ee,Qe)|0,l=l+Math.imul(z,We)|0,S=S+Math.imul(z,Qe)|0,w=w+Math.imul(le,je)|0,l=l+Math.imul(le,et)|0,l=l+Math.imul(de,je)|0,S=S+Math.imul(de,et)|0,w=w+Math.imul(be,Ke)|0,l=l+Math.imul(be,tt)|0,l=l+Math.imul(Ee,Ke)|0,S=S+Math.imul(Ee,tt)|0,w=w+Math.imul(ne,He)|0,l=l+Math.imul(ne,rt)|0,l=l+Math.imul(se,He)|0,S=S+Math.imul(se,rt)|0,w=w+Math.imul(Se,qe)|0,l=l+Math.imul(Se,nt)|0,l=l+Math.imul(W,qe)|0,S=S+Math.imul(W,nt)|0;var An=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(An>>>26)|0,An&=67108863,w=Math.imul(ie,We),l=Math.imul(ie,Qe),l=l+Math.imul(fe,We)|0,S=Math.imul(fe,Qe),w=w+Math.imul(ee,je)|0,l=l+Math.imul(ee,et)|0,l=l+Math.imul(z,je)|0,S=S+Math.imul(z,et)|0,w=w+Math.imul(le,Ke)|0,l=l+Math.imul(le,tt)|0,l=l+Math.imul(de,Ke)|0,S=S+Math.imul(de,tt)|0,w=w+Math.imul(be,He)|0,l=l+Math.imul(be,rt)|0,l=l+Math.imul(Ee,He)|0,S=S+Math.imul(Ee,rt)|0,w=w+Math.imul(ne,qe)|0,l=l+Math.imul(ne,nt)|0,l=l+Math.imul(se,qe)|0,S=S+Math.imul(se,nt)|0;var xn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(xn>>>26)|0,xn&=67108863,w=Math.imul(ie,je),l=Math.imul(ie,et),l=l+Math.imul(fe,je)|0,S=Math.imul(fe,et),w=w+Math.imul(ee,Ke)|0,l=l+Math.imul(ee,tt)|0,l=l+Math.imul(z,Ke)|0,S=S+Math.imul(z,tt)|0,w=w+Math.imul(le,He)|0,l=l+Math.imul(le,rt)|0,l=l+Math.imul(de,He)|0,S=S+Math.imul(de,rt)|0,w=w+Math.imul(be,qe)|0,l=l+Math.imul(be,nt)|0,l=l+Math.imul(Ee,qe)|0,S=S+Math.imul(Ee,nt)|0;var En=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(En>>>26)|0,En&=67108863,w=Math.imul(ie,Ke),l=Math.imul(ie,tt),l=l+Math.imul(fe,Ke)|0,S=Math.imul(fe,tt),w=w+Math.imul(ee,He)|0,l=l+Math.imul(ee,rt)|0,l=l+Math.imul(z,He)|0,S=S+Math.imul(z,rt)|0,w=w+Math.imul(le,qe)|0,l=l+Math.imul(le,nt)|0,l=l+Math.imul(de,qe)|0,S=S+Math.imul(de,nt)|0;var kn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(kn>>>26)|0,kn&=67108863,w=Math.imul(ie,He),l=Math.imul(ie,rt),l=l+Math.imul(fe,He)|0,S=Math.imul(fe,rt),w=w+Math.imul(ee,qe)|0,l=l+Math.imul(ee,nt)|0,l=l+Math.imul(z,qe)|0,S=S+Math.imul(z,nt)|0;var Tn=(E+w|0)+((l&8191)<<13)|0;E=(S+(l>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,w=Math.imul(ie,qe),l=Math.imul(ie,nt),l=l+Math.imul(fe,qe)|0,S=Math.imul(fe,nt);var In=(E+w|0)+((l&8191)<<13)|0;return E=(S+(l>>>13)|0)+(In>>>26)|0,In&=67108863,_[0]=Jt,_[1]=Qt,_[2]=jr,_[3]=Kr,_[4]=Hr,_[5]=qr,_[6]=Vr,_[7]=yn,_[8]=bn,_[9]=vn,_[10]=wn,_[11]=Sn,_[12]=_n,_[13]=An,_[14]=xn,_[15]=En,_[16]=kn,_[17]=Tn,_[18]=In,E!==0&&(_[19]=E,p.length++),p};Math.imul||(x=A);function k(T,c,h){h.negative=c.negative^T.negative,h.length=T.length+c.length;for(var p=0,m=0,v=0;v<h.length-1;v++){var _=m;m=0;for(var E=p&67108863,w=Math.min(v,c.length-1),l=Math.max(0,v-T.length+1);l<=w;l++){var S=v-l,C=T.words[S]|0,D=c.words[l]|0,U=C*D,O=U&67108863;_=_+(U/67108864|0)|0,O=O+E|0,E=O&67108863,_=_+(O>>>26)|0,m+=_>>>26,_&=67108863}h.words[v]=E,p=_,_=m}return p!==0?h.words[v]=p:h.length--,h.strip()}function I(T,c,h){var p=new R;return p.mulp(T,c,h)}s.prototype.mulTo=function(c,h){var p,m=this.length+c.length;return this.length===10&&c.length===10?p=x(this,c,h):m<63?p=A(this,c,h):m<1024?p=k(this,c,h):p=I(this,c,h),p};function R(T,c){this.x=T,this.y=c}R.prototype.makeRBT=function(c){for(var h=new Array(c),p=s.prototype._countBits(c)-1,m=0;m<c;m++)h[m]=this.revBin(m,p,c);return h},R.prototype.revBin=function(c,h,p){if(c===0||c===p-1)return c;for(var m=0,v=0;v<h;v++)m|=(c&1)<<h-v-1,c>>=1;return m},R.prototype.permute=function(c,h,p,m,v,_){for(var E=0;E<_;E++)m[E]=h[c[E]],v[E]=p[c[E]]},R.prototype.transform=function(c,h,p,m,v,_){this.permute(_,c,h,p,m,v);for(var E=1;E<v;E<<=1)for(var w=E<<1,l=Math.cos(2*Math.PI/w),S=Math.sin(2*Math.PI/w),C=0;C<v;C+=w)for(var D=l,U=S,O=0;O<E;O++){var $=p[C+O],F=m[C+O],H=p[C+O+E],Q=m[C+O+E],te=D*H-U*Q;Q=D*Q+U*H,H=te,p[C+O]=$+H,m[C+O]=F+Q,p[C+O+E]=$-H,m[C+O+E]=F-Q,O!==w&&(te=l*D-S*U,U=l*U+S*D,D=te)}},R.prototype.guessLen13b=function(c,h){var p=Math.max(h,c)|1,m=p&1,v=0;for(p=p/2|0;p;p=p>>>1)v++;return 1<<v+1+m},R.prototype.conjugate=function(c,h,p){if(!(p<=1))for(var m=0;m<p/2;m++){var v=c[m];c[m]=c[p-m-1],c[p-m-1]=v,v=h[m],h[m]=-h[p-m-1],h[p-m-1]=-v}},R.prototype.normalize13b=function(c,h){for(var p=0,m=0;m<h/2;m++){var v=Math.round(c[2*m+1]/h)*8192+Math.round(c[2*m]/h)+p;c[m]=v&67108863,v<67108864?p=0:p=v/67108864|0}return c},R.prototype.convert13b=function(c,h,p,m){for(var v=0,_=0;_<h;_++)v=v+(c[_]|0),p[2*_]=v&8191,v=v>>>13,p[2*_+1]=v&8191,v=v>>>13;for(_=2*h;_<m;++_)p[_]=0;n(v===0),n((v&-8192)===0)},R.prototype.stub=function(c){for(var h=new Array(c),p=0;p<c;p++)h[p]=0;return h},R.prototype.mulp=function(c,h,p){var m=2*this.guessLen13b(c.length,h.length),v=this.makeRBT(m),_=this.stub(m),E=new Array(m),w=new Array(m),l=new Array(m),S=new Array(m),C=new Array(m),D=new Array(m),U=p.words;U.length=m,this.convert13b(c.words,c.length,E,m),this.convert13b(h.words,h.length,S,m),this.transform(E,_,w,l,m,v),this.transform(S,_,C,D,m,v);for(var O=0;O<m;O++){var $=w[O]*C[O]-l[O]*D[O];l[O]=w[O]*D[O]+l[O]*C[O],w[O]=$}return this.conjugate(w,l,m),this.transform(w,l,U,_,m,v),this.conjugate(U,_,m),this.normalize13b(U,m),p.negative=c.negative^h.negative,p.length=c.length+h.length,p.strip()},s.prototype.mul=function(c){var h=new s(null);return h.words=new Array(this.length+c.length),this.mulTo(c,h)},s.prototype.mulf=function(c){var h=new s(null);return h.words=new Array(this.length+c.length),I(this,c,h)},s.prototype.imul=function(c){return this.clone().mulTo(c,this)},s.prototype.imuln=function(c){n(typeof c=="number"),n(c<67108864);for(var h=0,p=0;p<this.length;p++){var m=(this.words[p]|0)*c,v=(m&67108863)+(h&67108863);h>>=26,h+=m/67108864|0,h+=v>>>26,this.words[p]=v&67108863}return h!==0&&(this.words[p]=h,this.length++),this},s.prototype.muln=function(c){return this.clone().imuln(c)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(c){var h=b(c);if(h.length===0)return new s(1);for(var p=this,m=0;m<h.length&&h[m]===0;m++,p=p.sqr());if(++m<h.length)for(var v=p.sqr();m<h.length;m++,v=v.sqr())h[m]!==0&&(p=p.mul(v));return p},s.prototype.iushln=function(c){n(typeof c=="number"&&c>=0);var h=c%26,p=(c-h)/26,m=67108863>>>26-h<<26-h,v;if(h!==0){var _=0;for(v=0;v<this.length;v++){var E=this.words[v]&m,w=(this.words[v]|0)-E<<h;this.words[v]=w|_,_=E>>>26-h}_&&(this.words[v]=_,this.length++)}if(p!==0){for(v=this.length-1;v>=0;v--)this.words[v+p]=this.words[v];for(v=0;v<p;v++)this.words[v]=0;this.length+=p}return this.strip()},s.prototype.ishln=function(c){return n(this.negative===0),this.iushln(c)},s.prototype.iushrn=function(c,h,p){n(typeof c=="number"&&c>=0);var m;h?m=(h-h%26)/26:m=0;var v=c%26,_=Math.min((c-v)/26,this.length),E=67108863^67108863>>>v<<v,w=p;if(m-=_,m=Math.max(0,m),w){for(var l=0;l<_;l++)w.words[l]=this.words[l];w.length=_}if(_!==0)if(this.length>_)for(this.length-=_,l=0;l<this.length;l++)this.words[l]=this.words[l+_];else this.words[0]=0,this.length=1;var S=0;for(l=this.length-1;l>=0&&(S!==0||l>=m);l--){var C=this.words[l]|0;this.words[l]=S<<26-v|C>>>v,S=C&E}return w&&S!==0&&(w.words[w.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(c,h,p){return n(this.negative===0),this.iushrn(c,h,p)},s.prototype.shln=function(c){return this.clone().ishln(c)},s.prototype.ushln=function(c){return this.clone().iushln(c)},s.prototype.shrn=function(c){return this.clone().ishrn(c)},s.prototype.ushrn=function(c){return this.clone().iushrn(c)},s.prototype.testn=function(c){n(typeof c=="number"&&c>=0);var h=c%26,p=(c-h)/26,m=1<<h;if(this.length<=p)return!1;var v=this.words[p];return!!(v&m)},s.prototype.imaskn=function(c){n(typeof c=="number"&&c>=0);var h=c%26,p=(c-h)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(h!==0&&p++,this.length=Math.min(p,this.length),h!==0){var m=67108863^67108863>>>h<<h;this.words[this.length-1]&=m}return this.strip()},s.prototype.maskn=function(c){return this.clone().imaskn(c)},s.prototype.iaddn=function(c){return n(typeof c=="number"),n(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},s.prototype._iaddn=function(c){this.words[0]+=c;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},s.prototype.isubn=function(c){if(n(typeof c=="number"),n(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},s.prototype.addn=function(c){return this.clone().iaddn(c)},s.prototype.subn=function(c){return this.clone().isubn(c)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(c,h,p){var m=c.length+p,v;this._expand(m);var _,E=0;for(v=0;v<c.length;v++){_=(this.words[v+p]|0)+E;var w=(c.words[v]|0)*h;_-=w&67108863,E=(_>>26)-(w/67108864|0),this.words[v+p]=_&67108863}for(;v<this.length-p;v++)_=(this.words[v+p]|0)+E,E=_>>26,this.words[v+p]=_&67108863;if(E===0)return this.strip();for(n(E===-1),E=0,v=0;v<this.length;v++)_=-(this.words[v]|0)+E,E=_>>26,this.words[v]=_&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(c,h){var p=this.length-c.length,m=this.clone(),v=c,_=v.words[v.length-1]|0,E=this._countBits(_);p=26-E,p!==0&&(v=v.ushln(p),m.iushln(p),_=v.words[v.length-1]|0);var w=m.length-v.length,l;if(h!=="mod"){l=new s(null),l.length=w+1,l.words=new Array(l.length);for(var S=0;S<l.length;S++)l.words[S]=0}var C=m.clone()._ishlnsubmul(v,1,w);C.negative===0&&(m=C,l&&(l.words[w]=1));for(var D=w-1;D>=0;D--){var U=(m.words[v.length+D]|0)*67108864+(m.words[v.length+D-1]|0);for(U=Math.min(U/_|0,67108863),m._ishlnsubmul(v,U,D);m.negative!==0;)U--,m.negative=0,m._ishlnsubmul(v,1,D),m.isZero()||(m.negative^=1);l&&(l.words[D]=U)}return l&&l.strip(),m.strip(),h!=="div"&&p!==0&&m.iushrn(p),{div:l||null,mod:m}},s.prototype.divmod=function(c,h,p){if(n(!c.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var m,v,_;return this.negative!==0&&c.negative===0?(_=this.neg().divmod(c,h),h!=="mod"&&(m=_.div.neg()),h!=="div"&&(v=_.mod.neg(),p&&v.negative!==0&&v.iadd(c)),{div:m,mod:v}):this.negative===0&&c.negative!==0?(_=this.divmod(c.neg(),h),h!=="mod"&&(m=_.div.neg()),{div:m,mod:_.mod}):this.negative&c.negative?(_=this.neg().divmod(c.neg(),h),h!=="div"&&(v=_.mod.neg(),p&&v.negative!==0&&v.isub(c)),{div:_.div,mod:v}):c.length>this.length||this.cmp(c)<0?{div:new s(0),mod:this}:c.length===1?h==="div"?{div:this.divn(c.words[0]),mod:null}:h==="mod"?{div:null,mod:new s(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new s(this.modn(c.words[0]))}:this._wordDiv(c,h)},s.prototype.div=function(c){return this.divmod(c,"div",!1).div},s.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},s.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},s.prototype.divRound=function(c){var h=this.divmod(c);if(h.mod.isZero())return h.div;var p=h.div.negative!==0?h.mod.isub(c):h.mod,m=c.ushrn(1),v=c.andln(1),_=p.cmp(m);return _<0||v===1&&_===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},s.prototype.modn=function(c){n(c<=67108863);for(var h=(1<<26)%c,p=0,m=this.length-1;m>=0;m--)p=(h*p+(this.words[m]|0))%c;return p},s.prototype.idivn=function(c){n(c<=67108863);for(var h=0,p=this.length-1;p>=0;p--){var m=(this.words[p]|0)+h*67108864;this.words[p]=m/c|0,h=m%c}return this.strip()},s.prototype.divn=function(c){return this.clone().idivn(c)},s.prototype.egcd=function(c){n(c.negative===0),n(!c.isZero());var h=this,p=c.clone();h.negative!==0?h=h.umod(c):h=h.clone();for(var m=new s(1),v=new s(0),_=new s(0),E=new s(1),w=0;h.isEven()&&p.isEven();)h.iushrn(1),p.iushrn(1),++w;for(var l=p.clone(),S=h.clone();!h.isZero();){for(var C=0,D=1;!(h.words[0]&D)&&C<26;++C,D<<=1);if(C>0)for(h.iushrn(C);C-- >0;)(m.isOdd()||v.isOdd())&&(m.iadd(l),v.isub(S)),m.iushrn(1),v.iushrn(1);for(var U=0,O=1;!(p.words[0]&O)&&U<26;++U,O<<=1);if(U>0)for(p.iushrn(U);U-- >0;)(_.isOdd()||E.isOdd())&&(_.iadd(l),E.isub(S)),_.iushrn(1),E.iushrn(1);h.cmp(p)>=0?(h.isub(p),m.isub(_),v.isub(E)):(p.isub(h),_.isub(m),E.isub(v))}return{a:_,b:E,gcd:p.iushln(w)}},s.prototype._invmp=function(c){n(c.negative===0),n(!c.isZero());var h=this,p=c.clone();h.negative!==0?h=h.umod(c):h=h.clone();for(var m=new s(1),v=new s(0),_=p.clone();h.cmpn(1)>0&&p.cmpn(1)>0;){for(var E=0,w=1;!(h.words[0]&w)&&E<26;++E,w<<=1);if(E>0)for(h.iushrn(E);E-- >0;)m.isOdd()&&m.iadd(_),m.iushrn(1);for(var l=0,S=1;!(p.words[0]&S)&&l<26;++l,S<<=1);if(l>0)for(p.iushrn(l);l-- >0;)v.isOdd()&&v.iadd(_),v.iushrn(1);h.cmp(p)>=0?(h.isub(p),m.isub(v)):(p.isub(h),v.isub(m))}var C;return h.cmpn(1)===0?C=m:C=v,C.cmpn(0)<0&&C.iadd(c),C},s.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var h=this.clone(),p=c.clone();h.negative=0,p.negative=0;for(var m=0;h.isEven()&&p.isEven();m++)h.iushrn(1),p.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;p.isEven();)p.iushrn(1);var v=h.cmp(p);if(v<0){var _=h;h=p,p=_}else if(v===0||p.cmpn(1)===0)break;h.isub(p)}while(!0);return p.iushln(m)},s.prototype.invm=function(c){return this.egcd(c).a.umod(c)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(c){return this.words[0]&c},s.prototype.bincn=function(c){n(typeof c=="number");var h=c%26,p=(c-h)/26,m=1<<h;if(this.length<=p)return this._expand(p+1),this.words[p]|=m,this;for(var v=m,_=p;v!==0&&_<this.length;_++){var E=this.words[_]|0;E+=v,v=E>>>26,E&=67108863,this.words[_]=E}return v!==0&&(this.words[_]=v,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(c){var h=c<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this.strip();var p;if(this.length>1)p=1;else{h&&(c=-c),n(c<=67108863,"Number is too big");var m=this.words[0]|0;p=m===c?0:m<c?-1:1}return this.negative!==0?-p|0:p},s.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var h=this.ucmp(c);return this.negative!==0?-h|0:h},s.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var h=0,p=this.length-1;p>=0;p--){var m=this.words[p]|0,v=c.words[p]|0;if(m!==v){m<v?h=-1:m>v&&(h=1);break}}return h},s.prototype.gtn=function(c){return this.cmpn(c)===1},s.prototype.gt=function(c){return this.cmp(c)===1},s.prototype.gten=function(c){return this.cmpn(c)>=0},s.prototype.gte=function(c){return this.cmp(c)>=0},s.prototype.ltn=function(c){return this.cmpn(c)===-1},s.prototype.lt=function(c){return this.cmp(c)===-1},s.prototype.lten=function(c){return this.cmpn(c)<=0},s.prototype.lte=function(c){return this.cmp(c)<=0},s.prototype.eqn=function(c){return this.cmpn(c)===0},s.prototype.eq=function(c){return this.cmp(c)===0},s.red=function(c){return new q(c)},s.prototype.toRed=function(c){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(c){return this.red=c,this},s.prototype.forceRed=function(c){return n(!this.red,"Already a number in reduction context"),this._forceRed(c)},s.prototype.redAdd=function(c){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},s.prototype.redIAdd=function(c){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},s.prototype.redSub=function(c){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},s.prototype.redISub=function(c){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},s.prototype.redShl=function(c){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},s.prototype.redMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},s.prototype.redIMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(c){return n(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var M={k256:null,p224:null,p192:null,p25519:null};function P(T,c){this.name=T,this.p=new s(c,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var c=new s(null);return c.words=new Array(Math.ceil(this.n/13)),c},P.prototype.ireduce=function(c){var h=c,p;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),p=h.bitLength();while(p>this.n);var m=p<this.n?-1:h.ucmp(this.p);return m===0?(h.words[0]=0,h.length=1):m>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},P.prototype.split=function(c,h){c.iushrn(this.n,0,h)},P.prototype.imulK=function(c){return c.imul(this.k)};function j(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(j,P),j.prototype.split=function(c,h){for(var p=4194303,m=Math.min(c.length,9),v=0;v<m;v++)h.words[v]=c.words[v];if(h.length=m,c.length<=9){c.words[0]=0,c.length=1;return}var _=c.words[9];for(h.words[h.length++]=_&p,v=10;v<c.length;v++){var E=c.words[v]|0;c.words[v-10]=(E&p)<<4|_>>>22,_=E}_>>>=22,c.words[v-10]=_,_===0&&c.length>10?c.length-=10:c.length-=9},j.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var h=0,p=0;p<c.length;p++){var m=c.words[p]|0;h+=m*977,c.words[p]=h&67108863,h=m*64+(h/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function V(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(V,P);function Z(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Z,P);function G(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(G,P),G.prototype.imulK=function(c){for(var h=0,p=0;p<c.length;p++){var m=(c.words[p]|0)*19+h,v=m&67108863;m>>>=26,c.words[p]=v,h=m}return h!==0&&(c.words[c.length++]=h),c},s._prime=function(c){if(M[c])return M[c];var h;if(c==="k256")h=new j;else if(c==="p224")h=new V;else if(c==="p192")h=new Z;else if(c==="p25519")h=new G;else throw new Error("Unknown prime "+c);return M[c]=h,h};function q(T){if(typeof T=="string"){var c=s._prime(T);this.m=c.p,this.prime=c}else n(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}q.prototype._verify1=function(c){n(c.negative===0,"red works only with positives"),n(c.red,"red works only with red numbers")},q.prototype._verify2=function(c,h){n((c.negative|h.negative)===0,"red works only with positives"),n(c.red&&c.red===h.red,"red works only with red numbers")},q.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},q.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},q.prototype.add=function(c,h){this._verify2(c,h);var p=c.add(h);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},q.prototype.iadd=function(c,h){this._verify2(c,h);var p=c.iadd(h);return p.cmp(this.m)>=0&&p.isub(this.m),p},q.prototype.sub=function(c,h){this._verify2(c,h);var p=c.sub(h);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},q.prototype.isub=function(c,h){this._verify2(c,h);var p=c.isub(h);return p.cmpn(0)<0&&p.iadd(this.m),p},q.prototype.shl=function(c,h){return this._verify1(c),this.imod(c.ushln(h))},q.prototype.imul=function(c,h){return this._verify2(c,h),this.imod(c.imul(h))},q.prototype.mul=function(c,h){return this._verify2(c,h),this.imod(c.mul(h))},q.prototype.isqr=function(c){return this.imul(c,c.clone())},q.prototype.sqr=function(c){return this.mul(c,c)},q.prototype.sqrt=function(c){if(c.isZero())return c.clone();var h=this.m.andln(3);if(n(h%2===1),h===3){var p=this.m.add(new s(1)).iushrn(2);return this.pow(c,p)}for(var m=this.m.subn(1),v=0;!m.isZero()&&m.andln(1)===0;)v++,m.iushrn(1);n(!m.isZero());var _=new s(1).toRed(this),E=_.redNeg(),w=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);this.pow(l,w).cmp(E)!==0;)l.redIAdd(E);for(var S=this.pow(l,m),C=this.pow(c,m.addn(1).iushrn(1)),D=this.pow(c,m),U=v;D.cmp(_)!==0;){for(var O=D,$=0;O.cmp(_)!==0;$++)O=O.redSqr();n($<U);var F=this.pow(S,new s(1).iushln(U-$-1));C=C.redMul(F),S=F.redSqr(),D=D.redMul(S),U=$}return C},q.prototype.invm=function(c){var h=c._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},q.prototype.pow=function(c,h){if(h.isZero())return new s(1).toRed(this);if(h.cmpn(1)===0)return c.clone();var p=4,m=new Array(1<<p);m[0]=new s(1).toRed(this),m[1]=c;for(var v=2;v<m.length;v++)m[v]=this.mul(m[v-1],c);var _=m[0],E=0,w=0,l=h.bitLength()%26;for(l===0&&(l=26),v=h.length-1;v>=0;v--){for(var S=h.words[v],C=l-1;C>=0;C--){var D=S>>C&1;if(_!==m[0]&&(_=this.sqr(_)),D===0&&E===0){w=0;continue}E<<=1,E|=D,w++,!(w!==p&&(v!==0||C!==0))&&(_=this.mul(_,m[E]),w=0,E=0)}l=26}return _},q.prototype.convertTo=function(c){var h=c.umod(this.m);return h===c?h.clone():h},q.prototype.convertFrom=function(c){var h=c.clone();return h.red=null,h},s.mont=function(c){return new ae(c)};function ae(T){q.call(this,T),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(ae,q),ae.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},ae.prototype.convertFrom=function(c){var h=this.imod(c.mul(this.rinv));return h.red=null,h},ae.prototype.imul=function(c,h){if(c.isZero()||h.isZero())return c.words[0]=0,c.length=1,c;var p=c.imul(h),m=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(m).iushrn(this.shift),_=v;return v.cmp(this.m)>=0?_=v.isub(this.m):v.cmpn(0)<0&&(_=v.iadd(this.m)),_._forceRed(this)},ae.prototype.mul=function(c,h){if(c.isZero()||h.isZero())return new s(0)._forceRed(this);var p=c.mul(h),m=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(m).iushrn(this.shift),_=v;return v.cmp(this.m)>=0?_=v.isub(this.m):v.cmpn(0)<0&&(_=v.iadd(this.m)),_._forceRed(this)},ae.prototype.invm=function(c){var h=this.imod(c._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(t,St)})(aL);var uL=aL.exports,UH=uL,uWe=dr.Buffer;function cWe(t,e){return uWe.from(t.toRed(UH.mont(e.modulus)).redPow(new UH(e.publicExponent)).fromRed().toArray())}var Kie=cWe,lWe=dT,ZP=x1,fWe=A_,zH=Wie,WH=jie,cL=uL,dWe=Kie,hWe=XO,Pu=dr.Buffer,pWe=function(e,r,n){var i;e.padding?i=e.padding:n?i=1:i=4;var s=lWe(e),o;if(i===4)o=gWe(s,r);else if(i===1)o=mWe(s,r,n);else if(i===3){if(o=new cL(r),o.cmp(s.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return n?hWe(o,s):dWe(o,s)};function gWe(t,e){var r=t.modulus.byteLength(),n=e.length,i=fWe("sha1").update(Pu.alloc(0)).digest(),s=i.length,o=2*s;if(n>r-o-2)throw new Error("message too long");var a=Pu.alloc(r-n-o-2),u=r-s-1,f=ZP(s),d=WH(Pu.concat([i,a,Pu.alloc(1,1),e],u),zH(f,u)),g=WH(f,zH(d,s));return new cL(Pu.concat([Pu.alloc(1),g,d],r))}function mWe(t,e,r){var n=e.length,i=t.modulus.byteLength();if(n>i-11)throw new Error("message too long");var s;return r?s=Pu.alloc(i-n-3,255):s=yWe(i-n-3),new cL(Pu.concat([Pu.from([0,r?1:2]),s,Pu.alloc(1),e],i))}function yWe(t){for(var e=Pu.allocUnsafe(t),r=0,n=ZP(t*2),i=0,s;r<t;)i===n.length&&(n=ZP(t*2),i=0),s=n[i++],s&&(e[r++]=s);return e}var bWe=dT,jH=Wie,KH=jie,HH=uL,vWe=XO,wWe=A_,SWe=Kie,hS=dr.Buffer,_We=function(e,r,n){var i;e.padding?i=e.padding:n?i=1:i=4;var s=bWe(e),o=s.modulus.byteLength();if(r.length>o||new HH(r).cmp(s.modulus)>=0)throw new Error("decryption error");var a;n?a=SWe(new HH(r),s):a=vWe(r,s);var u=hS.alloc(o-a.length);if(a=hS.concat([u,a],o),i===4)return AWe(s,a);if(i===1)return xWe(s,a,n);if(i===3)return a;throw new Error("unknown padding")};function AWe(t,e){var r=t.modulus.byteLength(),n=wWe("sha1").update(hS.alloc(0)).digest(),i=n.length;if(e[0]!==0)throw new Error("decryption error");var s=e.slice(1,i+1),o=e.slice(i+1),a=KH(s,jH(o,i)),u=KH(o,jH(a,r-i-1));if(EWe(n,u.slice(0,i)))throw new Error("decryption error");for(var f=i;u[f]===0;)f++;if(u[f++]!==1)throw new Error("decryption error");return u.slice(f)}function xWe(t,e,r){for(var n=e.slice(0,2),i=2,s=0;e[i++]!==0;)if(i>=e.length){s++;break}var o=e.slice(2,i-1);if((n.toString("hex")!=="0002"&&!r||n.toString("hex")!=="0001"&&r)&&s++,o.length<8&&s++,s)throw new Error("decryption error");return e.slice(i)}function EWe(t,e){t=hS.from(t),e=hS.from(e);var r=0,n=t.length;t.length!==e.length&&(r++,n=Math.min(t.length,e.length));for(var i=-1;++i<n;)r+=t[i]^e[i];return r}(function(t){t.publicEncrypt=pWe,t.privateDecrypt=_We,t.privateEncrypt=function(r,n){return t.publicEncrypt(r,n,!0)},t.publicDecrypt=function(r,n){return t.privateDecrypt(r,n,!0)}})(zie);var qv={};function qH(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var Hie=dr,VH=x1,qie=Hie.Buffer,Vie=Hie.kMaxLength,XP=St.crypto||St.msCrypto,Gie=Math.pow(2,32)-1;function Yie(t,e){if(typeof t!="number"||t!==t)throw new TypeError("offset must be a number");if(t>Gie||t<0)throw new TypeError("offset must be a uint32");if(t>Vie||t>e)throw new RangeError("offset out of range")}function Zie(t,e,r){if(typeof t!="number"||t!==t)throw new TypeError("size must be a number");if(t>Gie||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>Vie)throw new RangeError("buffer too small")}XP&&XP.getRandomValues||!we.process.browser?(qv.randomFill=kWe,qv.randomFillSync=TWe):(qv.randomFill=qH,qv.randomFillSync=qH);function kWe(t,e,r,n){if(!qie.isBuffer(t)&&!(t instanceof St.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof e=="function")n=e,e=0,r=t.length;else if(typeof r=="function")n=r,r=t.length-e;else if(typeof n!="function")throw new TypeError('"cb" argument must be a function');return Yie(e,t.length),Zie(r,e,t.length),Xie(t,e,r,n)}function Xie(t,e,r,n){if(we.process.browser){var i=t.buffer,s=new Uint8Array(i,e,r);if(XP.getRandomValues(s),n){we.process.nextTick(function(){n(null,t)});return}return t}if(n){VH(r,function(a,u){if(a)return n(a);u.copy(t,e),n(null,t)});return}var o=VH(r);return o.copy(t,e),t}function TWe(t,e,r){if(typeof e>"u"&&(e=0),!qie.isBuffer(t)&&!(t instanceof St.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return Yie(e,t.length),r===void 0&&(r=t.length-e),Zie(r,e,t.length),Xie(t,e,r)}var GH;function Jie(){if(GH)return hr;GH=1,hr.randomBytes=hr.rng=hr.pseudoRandomBytes=hr.prng=x1,hr.createHash=hr.Hash=A_,hr.createHmac=hr.Hmac=une;var t=uDe,e=Object.keys(t),r=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(e);hr.getHashes=function(){return r};var n=Y3;hr.pbkdf2=n.pbkdf2,hr.pbkdf2Sync=n.pbkdf2Sync;var i=Yu;hr.Cipher=i.Cipher,hr.createCipher=i.createCipher,hr.Cipheriv=i.Cipheriv,hr.createCipheriv=i.createCipheriv,hr.Decipher=i.Decipher,hr.createDecipher=i.createDecipher,hr.Decipheriv=i.Decipheriv,hr.createDecipheriv=i.createDecipheriv,hr.getCiphers=i.getCiphers,hr.listCiphers=i.listCiphers;var s=zFe();hr.DiffieHellmanGroup=s.DiffieHellmanGroup,hr.createDiffieHellmanGroup=s.createDiffieHellmanGroup,hr.getDiffieHellman=s.getDiffieHellman,hr.createDiffieHellman=s.createDiffieHellman,hr.DiffieHellman=s.DiffieHellman;var o=nWe();hr.createSign=o.createSign,hr.Sign=o.Sign,hr.createVerify=o.createVerify,hr.Verify=o.Verify,hr.createECDH=sWe();var a=zie;hr.publicEncrypt=a.publicEncrypt,hr.privateEncrypt=a.privateEncrypt,hr.publicDecrypt=a.publicDecrypt,hr.privateDecrypt=a.privateDecrypt;var u=qv;return hr.randomFill=u.randomFill,hr.randomFillSync=u.randomFillSync,hr.createCredentials=function(){throw new Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},hr.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},hr}var Qie=Jie();const IWe=ro(Qie),gSt=mY({__proto__:null,default:IWe},[Qie]),RWe="logger/5.7.0";let YH=!1,ZH=!1;const Q2={debug:1,default:2,info:2,warning:3,error:4,off:5};let XH=Q2.default,lM=null;function MWe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const JH=MWe();var JP;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(JP||(JP={}));var xu;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(xu||(xu={}));const QH="0123456789abcdef";let Gc=class Ki{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Q2[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(XH>Q2[n])&&console.log.apply(console,r)}debug(...e){this._log(Ki.levels.DEBUG,e)}info(...e){this._log(Ki.levels.INFO,e)}warn(...e){this._log(Ki.levels.WARNING,e)}makeError(e,r,n){if(ZH)return this.makeError("censored error",r,{});r||(r=Ki.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(u=>{const f=n[u];try{if(f instanceof Uint8Array){let d="";for(let g=0;g<f.length;g++)d+=QH[f[g]>>4],d+=QH[f[g]&15];i.push(u+"=Uint8Array(0x"+d+")")}else i.push(u+"="+JSON.stringify(f))}catch{i.push(u+"="+JSON.stringify(n[u].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case xu.NUMERIC_FAULT:{o="NUMERIC_FAULT";const u=e;switch(u){case"overflow":case"underflow":case"division-by-zero":o+="-"+u;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case xu.CALL_EXCEPTION:case xu.INSUFFICIENT_FUNDS:case xu.MISSING_NEW:case xu.NONCE_EXPIRED:case xu.REPLACEMENT_UNDERPRICED:case xu.TRANSACTION_REPLACED:case xu.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(u){a[u]=n[u]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Ki.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){JH&&this.throwError("platform missing String.prototype.normalize",Ki.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:JH})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Ki.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Ki.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Ki.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Ki.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Ki.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Ki.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Ki.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return lM||(lM=new Ki(RWe)),lM}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Ki.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),YH){if(!e)return;this.globalLogger().throwError("error censorship permanent",Ki.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}ZH=!!e,YH=!!r}static setLogLevel(e){const r=Q2[e.toLowerCase()];if(r==null){Ki.globalLogger().warn("invalid log level - "+e);return}XH=r}static from(e){return new Ki(e)}};Gc.errors=xu;Gc.levels=JP;const CWe="bytes/5.7.0",Wf=new Gc(CWe);function ese(t){return!!t.toHexString}function Ew(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Ew(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function eq(t){return typeof t=="number"&&t==t&&t%1===0}function lL(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!eq(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!eq(r)||r<0||r>=256)return!1}return!0}function Li(t,e){if(e||(e={}),typeof t=="number"){Wf.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Ew(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),ese(t)&&(t=t.toHexString()),O0(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Wf.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Ew(new Uint8Array(n))}return lL(t)?Ew(new Uint8Array(t)):Wf.throwArgumentError("invalid arrayify value","value",t)}function mSt(t){const e=t.map(i=>Li(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),Ew(n)}function O0(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const fM="0123456789abcdef";function P_(t,e){if(e||(e={}),typeof t=="number"){Wf.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=fM[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),ese(t))return t.toHexString();if(O0(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Wf.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(lL(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=fM[(i&240)>>4]+fM[i&15]}return r}return Wf.throwArgumentError("invalid hexlify value","value",t)}function ySt(t,e,r){return typeof t!="string"?t=P_(t):(!O0(t)||t.length%2)&&Wf.throwArgumentError("invalid hexData","value",t),e=2+2*e,"0x"+t.substring(e,2+2*r)}function bSt(t){let e="0x";return t.forEach(r=>{e+=P_(r).substring(2)}),e}function tse(t,e){for(typeof t!="string"?t=P_(t):O0(t)||Wf.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Wf.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}const PWe="bignumber/5.7.0";var EE=Mr.BN;const Ql=new Gc(PWe),dM={},NWe=9007199254740991;let tq=!1;class ao{constructor(e,r){e!==dM&&Ql.throwError("cannot call constructor directly; use BigNumber.from",Gc.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return ko(Cr(this).fromTwos(e))}toTwos(e){return ko(Cr(this).toTwos(e))}abs(){return this._hex[0]==="-"?ao.from(this._hex.substring(1)):this}add(e){return ko(Cr(this).add(Cr(e)))}sub(e){return ko(Cr(this).sub(Cr(e)))}div(e){return ao.from(e).isZero()&&Da("division-by-zero","div"),ko(Cr(this).div(Cr(e)))}mul(e){return ko(Cr(this).mul(Cr(e)))}mod(e){const r=Cr(e);return r.isNeg()&&Da("division-by-zero","mod"),ko(Cr(this).umod(r))}pow(e){const r=Cr(e);return r.isNeg()&&Da("negative-power","pow"),ko(Cr(this).pow(r))}and(e){const r=Cr(e);return(this.isNegative()||r.isNeg())&&Da("unbound-bitwise-result","and"),ko(Cr(this).and(r))}or(e){const r=Cr(e);return(this.isNegative()||r.isNeg())&&Da("unbound-bitwise-result","or"),ko(Cr(this).or(r))}xor(e){const r=Cr(e);return(this.isNegative()||r.isNeg())&&Da("unbound-bitwise-result","xor"),ko(Cr(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&Da("negative-width","mask"),ko(Cr(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Da("negative-width","shl"),ko(Cr(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Da("negative-width","shr"),ko(Cr(this).shrn(e))}eq(e){return Cr(this).eq(Cr(e))}lt(e){return Cr(this).lt(Cr(e))}lte(e){return Cr(this).lte(Cr(e))}gt(e){return Cr(this).gt(Cr(e))}gte(e){return Cr(this).gte(Cr(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Cr(this).isZero()}toNumber(){try{return Cr(this).toNumber()}catch{Da("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Ql.throwError("this platform does not support BigInt",Gc.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?tq||(tq=!0,Ql.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Ql.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Gc.errors.UNEXPECTED_ARGUMENT,{}):Ql.throwError("BigNumber.toString does not accept parameters",Gc.errors.UNEXPECTED_ARGUMENT,{})),Cr(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof ao)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new ao(dM,pS(e)):e.match(/^-?[0-9]+$/)?new ao(dM,pS(new EE(e))):Ql.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Da("underflow","BigNumber.from",e),(e>=NWe||e<=-9007199254740991)&&Da("overflow","BigNumber.from",e),ao.from(String(e));const r=e;if(typeof r=="bigint")return ao.from(r.toString());if(lL(r))return ao.from(P_(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return ao.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(O0(n)||n[0]==="-"&&O0(n.substring(1))))return ao.from(n)}return Ql.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function pS(t){if(typeof t!="string")return pS(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Ql.throwArgumentError("invalid hex","value",t),t=pS(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function ko(t){return ao.from(pS(t))}function Cr(t){const e=ao.from(t).toHexString();return e[0]==="-"?new EE("-"+e.substring(3),16):new EE(e.substring(2),16)}function Da(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),Ql.throwError(t,Gc.errors.NUMERIC_FAULT,n)}function BWe(t){return new EE(t,36).toString(16)}var rse={exports:{}};(function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof we.process=="object"&&we.process.versions&&we.process.versions.node;o?i=St:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,u=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",f="0123456789abcdef".split(""),d=[31,7936,2031616,520093696],g=[4,1024,262144,67108864],y=[1,256,65536,16777216],b=[6,1536,393216,100663296],A=[0,8,16,24],x=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],k=[224,256,384,512],I=[128,256],R=["hex","buffer","arrayBuffer","array","digest"],M={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(O){return Object.prototype.toString.call(O)==="[object Array]"}),u&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(O){return typeof O=="object"&&O.buffer&&O.buffer.constructor===ArrayBuffer});for(var P=function(O,$,F){return function(H){return new C(O,$,O).update(H)[F]()}},j=function(O,$,F){return function(H,Q){return new C(O,$,Q).update(H)[F]()}},V=function(O,$,F){return function(H,Q,te,X){return p["cshake"+O].update(H,Q,te,X)[F]()}},Z=function(O,$,F){return function(H,Q,te,X){return p["kmac"+O].update(H,Q,te,X)[F]()}},G=function(O,$,F,H){for(var Q=0;Q<R.length;++Q){var te=R[Q];O[te]=$(F,H,te)}return O},q=function(O,$){var F=P(O,$,"hex");return F.create=function(){return new C(O,$,O)},F.update=function(H){return F.create().update(H)},G(F,P,O,$)},ae=function(O,$){var F=j(O,$,"hex");return F.create=function(H){return new C(O,$,H)},F.update=function(H,Q){return F.create(Q).update(H)},G(F,j,O,$)},T=function(O,$){var F=M[O],H=V(O,$,"hex");return H.create=function(Q,te,X){return!te&&!X?p["shake"+O].create(Q):new C(O,$,Q).bytepad([te,X],F)},H.update=function(Q,te,X,K){return H.create(te,X,K).update(Q)},G(H,V,O,$)},c=function(O,$){var F=M[O],H=Z(O,$,"hex");return H.create=function(Q,te,X){return new D(O,$,te).bytepad(["KMAC",X],F).bytepad([Q],F)},H.update=function(Q,te,X,K){return H.create(Q,X,K).update(te)},G(H,Z,O,$)},h=[{name:"keccak",padding:y,bits:k,createMethod:q},{name:"sha3",padding:b,bits:k,createMethod:q},{name:"shake",padding:d,bits:I,createMethod:ae},{name:"cshake",padding:g,bits:I,createMethod:T},{name:"kmac",padding:g,bits:I,createMethod:c}],p={},m=[],v=0;v<h.length;++v)for(var _=h[v],E=_.bits,w=0;w<E.length;++w){var l=_.name+"_"+E[w];if(m.push(l),p[l]=_.createMethod(E[w],_.padding),_.name!=="sha3"){var S=_.name+E[w];m.push(S),p[S]=p[l]}}function C(O,$,F){this.blocks=[],this.s=[],this.padding=$,this.outputBits=F,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(O<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=F>>5,this.extraBytes=(F&31)>>3;for(var H=0;H<50;++H)this.s[H]=0}C.prototype.update=function(O){if(this.finalized)throw new Error(r);var $,F=typeof O;if(F!=="string"){if(F==="object"){if(O===null)throw new Error(e);if(u&&O.constructor===ArrayBuffer)O=new Uint8Array(O);else if(!Array.isArray(O)&&(!u||!ArrayBuffer.isView(O)))throw new Error(e)}else throw new Error(e);$=!0}for(var H=this.blocks,Q=this.byteCount,te=O.length,X=this.blockCount,K=0,oe=this.s,_e,Se;K<te;){if(this.reset)for(this.reset=!1,H[0]=this.block,_e=1;_e<X+1;++_e)H[_e]=0;if($)for(_e=this.start;K<te&&_e<Q;++K)H[_e>>2]|=O[K]<<A[_e++&3];else for(_e=this.start;K<te&&_e<Q;++K)Se=O.charCodeAt(K),Se<128?H[_e>>2]|=Se<<A[_e++&3]:Se<2048?(H[_e>>2]|=(192|Se>>6)<<A[_e++&3],H[_e>>2]|=(128|Se&63)<<A[_e++&3]):Se<55296||Se>=57344?(H[_e>>2]|=(224|Se>>12)<<A[_e++&3],H[_e>>2]|=(128|Se>>6&63)<<A[_e++&3],H[_e>>2]|=(128|Se&63)<<A[_e++&3]):(Se=65536+((Se&1023)<<10|O.charCodeAt(++K)&1023),H[_e>>2]|=(240|Se>>18)<<A[_e++&3],H[_e>>2]|=(128|Se>>12&63)<<A[_e++&3],H[_e>>2]|=(128|Se>>6&63)<<A[_e++&3],H[_e>>2]|=(128|Se&63)<<A[_e++&3]);if(this.lastByteIndex=_e,_e>=Q){for(this.start=_e-Q,this.block=H[X],_e=0;_e<X;++_e)oe[_e]^=H[_e];U(oe),this.reset=!0}else this.start=_e}return this},C.prototype.encode=function(O,$){var F=O&255,H=1,Q=[F];for(O=O>>8,F=O&255;F>0;)Q.unshift(F),O=O>>8,F=O&255,++H;return $?Q.push(H):Q.unshift(H),this.update(Q),Q.length},C.prototype.encodeString=function(O){var $,F=typeof O;if(F!=="string"){if(F==="object"){if(O===null)throw new Error(e);if(u&&O.constructor===ArrayBuffer)O=new Uint8Array(O);else if(!Array.isArray(O)&&(!u||!ArrayBuffer.isView(O)))throw new Error(e)}else throw new Error(e);$=!0}var H=0,Q=O.length;if($)H=Q;else for(var te=0;te<O.length;++te){var X=O.charCodeAt(te);X<128?H+=1:X<2048?H+=2:X<55296||X>=57344?H+=3:(X=65536+((X&1023)<<10|O.charCodeAt(++te)&1023),H+=4)}return H+=this.encode(H*8),this.update(O),H},C.prototype.bytepad=function(O,$){for(var F=this.encode($),H=0;H<O.length;++H)F+=this.encodeString(O[H]);var Q=$-F%$,te=[];return te.length=Q,this.update(te),this},C.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var O=this.blocks,$=this.lastByteIndex,F=this.blockCount,H=this.s;if(O[$>>2]|=this.padding[$&3],this.lastByteIndex===this.byteCount)for(O[0]=O[F],$=1;$<F+1;++$)O[$]=0;for(O[F-1]|=2147483648,$=0;$<F;++$)H[$]^=O[$];U(H)}},C.prototype.toString=C.prototype.hex=function(){this.finalize();for(var O=this.blockCount,$=this.s,F=this.outputBlocks,H=this.extraBytes,Q=0,te=0,X="",K;te<F;){for(Q=0;Q<O&&te<F;++Q,++te)K=$[Q],X+=f[K>>4&15]+f[K&15]+f[K>>12&15]+f[K>>8&15]+f[K>>20&15]+f[K>>16&15]+f[K>>28&15]+f[K>>24&15];te%O===0&&(U($),Q=0)}return H&&(K=$[Q],X+=f[K>>4&15]+f[K&15],H>1&&(X+=f[K>>12&15]+f[K>>8&15]),H>2&&(X+=f[K>>20&15]+f[K>>16&15])),X},C.prototype.arrayBuffer=function(){this.finalize();var O=this.blockCount,$=this.s,F=this.outputBlocks,H=this.extraBytes,Q=0,te=0,X=this.outputBits>>3,K;H?K=new ArrayBuffer(F+1<<2):K=new ArrayBuffer(X);for(var oe=new Uint32Array(K);te<F;){for(Q=0;Q<O&&te<F;++Q,++te)oe[te]=$[Q];te%O===0&&U($)}return H&&(oe[Q]=$[Q],K=K.slice(0,X)),K},C.prototype.buffer=C.prototype.arrayBuffer,C.prototype.digest=C.prototype.array=function(){this.finalize();for(var O=this.blockCount,$=this.s,F=this.outputBlocks,H=this.extraBytes,Q=0,te=0,X=[],K,oe;te<F;){for(Q=0;Q<O&&te<F;++Q,++te)K=te<<2,oe=$[Q],X[K]=oe&255,X[K+1]=oe>>8&255,X[K+2]=oe>>16&255,X[K+3]=oe>>24&255;te%O===0&&U($)}return H&&(K=te<<2,oe=$[Q],X[K]=oe&255,H>1&&(X[K+1]=oe>>8&255),H>2&&(X[K+2]=oe>>16&255)),X};function D(O,$,F){C.call(this,O,$,F)}D.prototype=new C,D.prototype.finalize=function(){return this.encode(this.outputBits,!0),C.prototype.finalize.call(this)};var U=function(O){var $,F,H,Q,te,X,K,oe,_e,Se,W,re,ne,se,Te,be,Ee,ut,le,de,Fe,ee,z,J,ie,fe,ke,ve,Ne,kt,Be,Le,yt,$e,Ze,nr,Ue,Xe,ir,ze,Je,sr,We,Qe,or,je,et,ar,Ke,tt,ur,He,rt,cr,qe,nt,Jt,Qt,jr,Kr,Hr,qr,Vr;for(H=0;H<48;H+=2)Q=O[0]^O[10]^O[20]^O[30]^O[40],te=O[1]^O[11]^O[21]^O[31]^O[41],X=O[2]^O[12]^O[22]^O[32]^O[42],K=O[3]^O[13]^O[23]^O[33]^O[43],oe=O[4]^O[14]^O[24]^O[34]^O[44],_e=O[5]^O[15]^O[25]^O[35]^O[45],Se=O[6]^O[16]^O[26]^O[36]^O[46],W=O[7]^O[17]^O[27]^O[37]^O[47],re=O[8]^O[18]^O[28]^O[38]^O[48],ne=O[9]^O[19]^O[29]^O[39]^O[49],$=re^(X<<1|K>>>31),F=ne^(K<<1|X>>>31),O[0]^=$,O[1]^=F,O[10]^=$,O[11]^=F,O[20]^=$,O[21]^=F,O[30]^=$,O[31]^=F,O[40]^=$,O[41]^=F,$=Q^(oe<<1|_e>>>31),F=te^(_e<<1|oe>>>31),O[2]^=$,O[3]^=F,O[12]^=$,O[13]^=F,O[22]^=$,O[23]^=F,O[32]^=$,O[33]^=F,O[42]^=$,O[43]^=F,$=X^(Se<<1|W>>>31),F=K^(W<<1|Se>>>31),O[4]^=$,O[5]^=F,O[14]^=$,O[15]^=F,O[24]^=$,O[25]^=F,O[34]^=$,O[35]^=F,O[44]^=$,O[45]^=F,$=oe^(re<<1|ne>>>31),F=_e^(ne<<1|re>>>31),O[6]^=$,O[7]^=F,O[16]^=$,O[17]^=F,O[26]^=$,O[27]^=F,O[36]^=$,O[37]^=F,O[46]^=$,O[47]^=F,$=Se^(Q<<1|te>>>31),F=W^(te<<1|Q>>>31),O[8]^=$,O[9]^=F,O[18]^=$,O[19]^=F,O[28]^=$,O[29]^=F,O[38]^=$,O[39]^=F,O[48]^=$,O[49]^=F,se=O[0],Te=O[1],je=O[11]<<4|O[10]>>>28,et=O[10]<<4|O[11]>>>28,ve=O[20]<<3|O[21]>>>29,Ne=O[21]<<3|O[20]>>>29,Kr=O[31]<<9|O[30]>>>23,Hr=O[30]<<9|O[31]>>>23,sr=O[40]<<18|O[41]>>>14,We=O[41]<<18|O[40]>>>14,$e=O[2]<<1|O[3]>>>31,Ze=O[3]<<1|O[2]>>>31,be=O[13]<<12|O[12]>>>20,Ee=O[12]<<12|O[13]>>>20,ar=O[22]<<10|O[23]>>>22,Ke=O[23]<<10|O[22]>>>22,kt=O[33]<<13|O[32]>>>19,Be=O[32]<<13|O[33]>>>19,qr=O[42]<<2|O[43]>>>30,Vr=O[43]<<2|O[42]>>>30,cr=O[5]<<30|O[4]>>>2,qe=O[4]<<30|O[5]>>>2,nr=O[14]<<6|O[15]>>>26,Ue=O[15]<<6|O[14]>>>26,ut=O[25]<<11|O[24]>>>21,le=O[24]<<11|O[25]>>>21,tt=O[34]<<15|O[35]>>>17,ur=O[35]<<15|O[34]>>>17,Le=O[45]<<29|O[44]>>>3,yt=O[44]<<29|O[45]>>>3,J=O[6]<<28|O[7]>>>4,ie=O[7]<<28|O[6]>>>4,nt=O[17]<<23|O[16]>>>9,Jt=O[16]<<23|O[17]>>>9,Xe=O[26]<<25|O[27]>>>7,ir=O[27]<<25|O[26]>>>7,de=O[36]<<21|O[37]>>>11,Fe=O[37]<<21|O[36]>>>11,He=O[47]<<24|O[46]>>>8,rt=O[46]<<24|O[47]>>>8,Qe=O[8]<<27|O[9]>>>5,or=O[9]<<27|O[8]>>>5,fe=O[18]<<20|O[19]>>>12,ke=O[19]<<20|O[18]>>>12,Qt=O[29]<<7|O[28]>>>25,jr=O[28]<<7|O[29]>>>25,ze=O[38]<<8|O[39]>>>24,Je=O[39]<<8|O[38]>>>24,ee=O[48]<<14|O[49]>>>18,z=O[49]<<14|O[48]>>>18,O[0]=se^~be&ut,O[1]=Te^~Ee&le,O[10]=J^~fe&ve,O[11]=ie^~ke&Ne,O[20]=$e^~nr&Xe,O[21]=Ze^~Ue&ir,O[30]=Qe^~je&ar,O[31]=or^~et&Ke,O[40]=cr^~nt&Qt,O[41]=qe^~Jt&jr,O[2]=be^~ut&de,O[3]=Ee^~le&Fe,O[12]=fe^~ve&kt,O[13]=ke^~Ne&Be,O[22]=nr^~Xe&ze,O[23]=Ue^~ir&Je,O[32]=je^~ar&tt,O[33]=et^~Ke&ur,O[42]=nt^~Qt&Kr,O[43]=Jt^~jr&Hr,O[4]=ut^~de&ee,O[5]=le^~Fe&z,O[14]=ve^~kt&Le,O[15]=Ne^~Be&yt,O[24]=Xe^~ze&sr,O[25]=ir^~Je&We,O[34]=ar^~tt&He,O[35]=Ke^~ur&rt,O[44]=Qt^~Kr&qr,O[45]=jr^~Hr&Vr,O[6]=de^~ee&se,O[7]=Fe^~z&Te,O[16]=kt^~Le&J,O[17]=Be^~yt&ie,O[26]=ze^~sr&$e,O[27]=Je^~We&Ze,O[36]=tt^~He&Qe,O[37]=ur^~rt&or,O[46]=Kr^~qr&cr,O[47]=Hr^~Vr&qe,O[8]=ee^~se&be,O[9]=z^~Te&Ee,O[18]=Le^~J&fe,O[19]=yt^~ie&ke,O[28]=sr^~$e&nr,O[29]=We^~Ze&Ue,O[38]=He^~Qe&je,O[39]=rt^~or&et,O[48]=qr^~cr&nt,O[49]=Vr^~qe&Jt,O[0]^=x[H],O[1]^=x[H+1]};if(a)t.exports=p;else for(v=0;v<m.length;++v)i[m[v]]=p[m[v]]})()})(rse);var OWe=rse.exports;const LWe=ro(OWe);function gS(t){return"0x"+LWe.keccak_256(Li(t))}const DWe="address/5.7.0",Vv=new Gc(DWe);function rq(t){O0(t,20)||Vv.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=Li(gS(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const FWe=9007199254740991;function $We(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const fL={};for(let t=0;t<10;t++)fL[String(t)]=String(t);for(let t=0;t<26;t++)fL[String.fromCharCode(65+t)]=String(10+t);const nq=Math.floor($We(FWe));function UWe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>fL[n]).join("");for(;e.length>=nq;){let n=e.substring(0,nq);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function zWe(t){let e=null;if(typeof t!="string"&&Vv.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=rq(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Vv.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==UWe(t)&&Vv.throwArgumentError("bad icap checksum","address",t),e=BWe(t.substring(4));e.length<40;)e="0"+e;e=rq("0x"+e)}else Vv.throwArgumentError("invalid address","address",t);return e}function WWe(t){return"0x"+Rie.sha256().update(Li(t)).digest("hex")}var jWe="Invariant failed";function Gv(t,e){if(!t)throw new Error(jWe)}function KWe(t){return tse(t,32)}function hT(t){if(qWe(t))return sX.decode(t);if(t.startsWith("0x")&&t.length<=66)return Li(KWe(t));throw new Error("Invalid address")}var HWe=/^([1-9A-HJ-NP-Za-km-z]{32,44})$/;function qWe(t){return HWe.test(t)}ao.from("0xffffffffffffffffffffffffffffffff");var VWe=s1,GWe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",YWe=VWe(GWe);const ho=ro(YWe);function iq(t){try{return Yi.ExtendedPoint.fromHex(t),!0}catch{return!1}}const nse=(t,e)=>Yi.sign(t,e.slice(0,32)),ZWe=Yi.verify,oo=t=>xe.Buffer.isBuffer(t)?t:t instanceof Uint8Array?xe.Buffer.from(t.buffer,t.byteOffset,t.byteLength):xe.Buffer.from(t);let XWe=class{constructor(e){Object.assign(this,e)}encode(){return xe.Buffer.from(a1(ex,this))}static decode(e){return u1(ex,this,e)}static decodeUnchecked(e){return o1(ex,this,e)}};const ex=new Map;var ise;const JWe=32,bh=32;function QWe(t){return t._bn!==void 0}let sq=1,it=class rm extends XWe{constructor(e){if(super({}),this._bn=void 0,QWe(e))this._bn=e._bn;else{if(typeof e=="string"){const r=ho.decode(e);if(r.length!=bh)throw new Error("Invalid public key input");this._bn=new Mr(r)}else this._bn=new Mr(e);if(this._bn.byteLength()>bh)throw new Error("Invalid public key input")}}static unique(){const e=new rm(sq);return sq+=1,new rm(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return ho.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(xe.Buffer);if(e.length===bh)return e;const r=xe.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){const i=xe.Buffer.concat([e.toBuffer(),xe.Buffer.from(r),n.toBuffer()]),s=Vo(i);return new rm(s)}static createProgramAddressSync(e,r){let n=xe.Buffer.alloc(0);e.forEach(function(s){if(s.length>JWe)throw new TypeError("Max seed length exceeded");n=xe.Buffer.concat([n,oo(s)])}),n=xe.Buffer.concat([n,r.toBuffer(),xe.Buffer.from("ProgramDerivedAddress")]);const i=Vo(n);if(iq(i))throw new Error("Invalid seeds, address must fall off the curve");return new rm(i)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,i;for(;n!=0;){try{const s=e.concat(xe.Buffer.from([n]));i=this.createProgramAddressSync(s,r)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){const r=new rm(e);return iq(r.toBytes())}};ise=it;it.default=new ise("11111111111111111111111111111111");ex.set(it,{kind:"struct",fields:[["_bn","u256"]]});new it("BPFLoader1111111111111111111111111111111111");const hy=1232,dL=127,kE=64;let TE=class{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((s,o)=>{n.set(s.toBase58(),o)});const i=s=>{const o=n.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}};const Pr=(t="publicKey")=>at(32,t),eje=(t="signature")=>at(64,t),Fm=(t="string")=>{const e=pe([ge("length"),ge("lengthPadding"),at(zr(ge(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(s,o)=>r(s,o).chars.toString(),i.encode=(s,o,a)=>{const u={chars:xe.Buffer.from(s,"utf8")};return n(u,o,a)},i.alloc=s=>ge().span+ge().span+xe.Buffer.from(s,"utf8").length,i},tje=(t="authorized")=>pe([Pr("staker"),Pr("withdrawer")],t),rje=(t="lockup")=>pe([Lt("unixTimestamp"),Lt("epoch"),Pr("custodian")],t),nje=(t="voteInit")=>pe([Pr("nodePubkey"),Pr("authorizedVoter"),Pr("authorizedWithdrawer"),Ge("commission")],t),ije=(t="voteAuthorizeWithSeedArgs")=>pe([ge("voteAuthorizationType"),Pr("currentAuthorityDerivedKeyOwnerPubkey"),Fm("currentAuthorityDerivedKeySeed"),Pr("newAuthorized")],t);function sse(t,e){const r=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const s=e[i.property];if(Array.isArray(s))return s.length*r(i.elementLayout)}else if("fields"in i)return sse({layout:i},e[i.property]);return 0};let n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}function fa(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,!(n&128))break}return e}function da(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}function xi(t,e){if(!t)throw new Error(e||"Assertion failed")}let ose=class ase{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){const n=new Map,i=o=>{const a=o.toBase58();let u=n.get(a);return u===void 0&&(u={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(a,u)),u},s=i(r);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const u=i(a.pubkey);u.isSigner||(u.isSigner=a.isSigner),u.isWritable||(u.isWritable=a.isWritable)}}return new ase(r,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];xi(e.length<=256,"Max static account keys length exceeded");const r=e.filter(([,u])=>u.isSigner&&u.isWritable),n=e.filter(([,u])=>u.isSigner&&!u.isWritable),i=e.filter(([,u])=>!u.isSigner&&u.isWritable),s=e.filter(([,u])=>!u.isSigner&&!u.isWritable),o={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{xi(r.length>0,"Expected at least one writable signer key");const[u]=r[0];xi(u===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...r.map(([u])=>new it(u)),...n.map(([u])=>new it(u)),...i.map(([u])=>new it(u)),...s.map(([u])=>new it(u))];return[o,a]}extractTableLookup(e){const[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(e,r){const n=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(r(o)){const a=new it(s),u=e.findIndex(f=>f.equals(a));u>=0&&(xi(u<256,"Max lookup table index exceeded"),n.push(u),i.push(a),this.keyMetaMap.delete(s))}return[n,i]}};const use="Reached end of buffer unexpectedly";function If(t){if(t.length===0)throw new Error(use);return t.shift()}function ha(t,...e){const[r]=e;if(e.length===2?r+(e[1]??0)>t.length:r>=t.length)throw new Error(use);return t.splice(...e)}let IE=class QP{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new it(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:ho.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new TE(this.staticAccountKeys)}static compile(e){const r=ose.compile(e.instructions,e.payerKey),[n,i]=r.getMessageComponents(),o=new TE(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:ho.encode(a.data)}));return new QP({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const n=e-r,s=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<s}else{const n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){const e=this.accountKeys.length;let r=[];da(r,e);const n=this.instructions.map(g=>{const{accounts:y,programIdIndex:b}=g,A=Array.from(ho.decode(g.data));let x=[];da(x,y.length);let k=[];return da(k,A.length),{programIdIndex:b,keyIndicesCount:xe.Buffer.from(x),keyIndices:y,dataLength:xe.Buffer.from(k),data:A}});let i=[];da(i,n.length);let s=xe.Buffer.alloc(hy);xe.Buffer.from(i).copy(s);let o=i.length;n.forEach(g=>{const b=pe([Ge("programIdIndex"),at(g.keyIndicesCount.length,"keyIndicesCount"),Mt(Ge("keyIndex"),g.keyIndices.length,"keyIndices"),at(g.dataLength.length,"dataLength"),Mt(Ge("userdatum"),g.data.length,"data")]).encode(g,s,o);o+=b}),s=s.slice(0,o);const a=pe([at(1,"numRequiredSignatures"),at(1,"numReadonlySignedAccounts"),at(1,"numReadonlyUnsignedAccounts"),at(r.length,"keyCount"),Mt(Pr("key"),e,"keys"),Pr("recentBlockhash")]),u={numRequiredSignatures:xe.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:xe.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:xe.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:xe.Buffer.from(r),keys:this.accountKeys.map(g=>oo(g.toBytes())),recentBlockhash:ho.decode(this.recentBlockhash)};let f=xe.Buffer.alloc(2048);const d=a.encode(u,f);return s.copy(f,d),f.slice(0,d+s.length)}static from(e){let r=[...e];const n=If(r);if(n!==(n&dL))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=If(r),s=If(r),o=fa(r);let a=[];for(let y=0;y<o;y++){const b=ha(r,0,bh);a.push(new it(xe.Buffer.from(b)))}const u=ha(r,0,bh),f=fa(r);let d=[];for(let y=0;y<f;y++){const b=If(r),A=fa(r),x=ha(r,0,A),k=fa(r),I=ha(r,0,k),R=ho.encode(xe.Buffer.from(I));d.push({programIdIndex:b,accounts:x,data:R})}const g={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:ho.encode(xe.Buffer.from(u)),accountKeys:a,instructions:d};return new QP(g)}},cse=class e5{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new TE(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){const i=e-n,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-r,o=n-r-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=r-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const r={writable:[],readonly:[]};for(const n of this.addressTableLookups){const i=e.find(s=>s.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const s of n.writableIndexes)if(s<i.state.addresses.length)r.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`);for(const s of n.readonlyIndexes)if(s<i.state.addresses.length)r.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){const r=ose.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const d of s){const g=r.extractTableLookup(d);if(g!==void 0){const[y,{writable:b,readonly:A}]=g;n.push(y),i.writable.push(...b),i.readonly.push(...A)}}const[o,a]=r.getMessageComponents(),f=new TE(a,i).compileInstructions(e.instructions);return new e5({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:f,addressTableLookups:n})}serialize(){const e=Array();da(e,this.staticAccountKeys.length);const r=this.serializeInstructions(),n=Array();da(n,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();da(s,this.addressTableLookups.length);const o=pe([Ge("prefix"),pe([Ge("numRequiredSignatures"),Ge("numReadonlySignedAccounts"),Ge("numReadonlyUnsignedAccounts")],"header"),at(e.length,"staticAccountKeysLength"),Mt(Pr(),this.staticAccountKeys.length,"staticAccountKeys"),Pr("recentBlockhash"),at(n.length,"instructionsLength"),at(r.length,"serializedInstructions"),at(s.length,"addressTableLookupsLength"),at(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(hy),f=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(d=>d.toBytes()),recentBlockhash:ho.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,f)}serializeInstructions(){let e=0;const r=new Uint8Array(hy);for(const n of this.compiledInstructions){const i=Array();da(i,n.accountKeyIndexes.length);const s=Array();da(s,n.data.length);const o=pe([Ge("programIdIndex"),at(i.length,"encodedAccountKeyIndexesLength"),Mt(Ge(),n.accountKeyIndexes.length,"accountKeyIndexes"),at(s.length,"encodedDataLength"),at(n.data.length,"data")]);e+=o.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0;const r=new Uint8Array(hy);for(const n of this.addressTableLookups){const i=Array();da(i,n.writableIndexes.length);const s=Array();da(s,n.readonlyIndexes.length);const o=pe([Pr("accountKey"),at(i.length,"encodedWritableIndexesLength"),Mt(Ge(),n.writableIndexes.length,"writableIndexes"),at(s.length,"encodedReadonlyIndexesLength"),Mt(Ge(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e];const n=If(r),i=n&dL;xi(n!==i,"Expected versioned message but received legacy message");const s=i;xi(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:If(r),numReadonlySignedAccounts:If(r),numReadonlyUnsignedAccounts:If(r)},a=[],u=fa(r);for(let A=0;A<u;A++)a.push(new it(ha(r,0,bh)));const f=ho.encode(ha(r,0,bh)),d=fa(r),g=[];for(let A=0;A<d;A++){const x=If(r),k=fa(r),I=ha(r,0,k),R=fa(r),M=new Uint8Array(ha(r,0,R));g.push({programIdIndex:x,accountKeyIndexes:I,data:M})}const y=fa(r),b=[];for(let A=0;A<y;A++){const x=new it(ha(r,0,bh)),k=fa(r),I=ha(r,0,k),R=fa(r),M=ha(r,0,R);b.push({accountKey:x,writableIndexes:I,readonlyIndexes:M})}return new e5({header:o,staticAccountKeys:a,recentBlockhash:f,compiledInstructions:g,addressTableLookups:b})}};const lse={deserializeMessageVersion(t){const e=t[0],r=e&dL;return r===e?"legacy":r},deserialize:t=>{const e=lse.deserializeMessageVersion(t);if(e==="legacy")return IE.from(t);if(e===0)return cse.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}},sje=xe.Buffer.alloc(kE).fill(0);let ot=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=xe.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},oje=class t5{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{const{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new ot(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let x=0;x<r.length;x++)if(r[x].programId===void 0)throw new Error(`Transaction instruction index ${x} has undefined program id`);const i=[],s=[];r.forEach(x=>{x.keys.forEach(I=>{s.push({...I})});const k=x.programId.toString();i.includes(k)||i.push(k)}),i.forEach(x=>{s.push({pubkey:new it(x),isSigner:!1,isWritable:!1})});const o=[];s.forEach(x=>{const k=x.pubkey.toString(),I=o.findIndex(R=>R.pubkey.toString()===k);I>-1?(o[I].isWritable=o[I].isWritable||x.isWritable,o[I].isSigner=o[I].isSigner||x.isSigner):o.push(x)}),o.sort(function(x,k){if(x.isSigner!==k.isSigner)return x.isSigner?-1:1;if(x.isWritable!==k.isWritable)return x.isWritable?-1:1;const I={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return x.pubkey.toBase58().localeCompare(k.pubkey.toBase58(),"en",I)});const a=o.findIndex(x=>x.pubkey.equals(n));if(a>-1){const[x]=o.splice(a,1);x.isSigner=!0,x.isWritable=!0,o.unshift(x)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const x of this.signatures){const k=o.findIndex(I=>I.pubkey.equals(x.publicKey));if(k>-1)o[k].isSigner||(o[k].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${x.publicKey.toString()}`)}let u=0,f=0,d=0;const g=[],y=[];o.forEach(({pubkey:x,isSigner:k,isWritable:I})=>{k?(g.push(x.toString()),u+=1,I||(f+=1)):(y.push(x.toString()),I||(d+=1))});const b=g.concat(y),A=r.map(x=>{const{data:k,programId:I}=x;return{programIdIndex:b.indexOf(I.toString()),accounts:x.keys.map(R=>b.indexOf(R.pubkey.toString())),data:ho.encode(k)}});return A.forEach(x=>{xi(x.programIdIndex>=0),x.accounts.forEach(k=>xi(k>=0))}),new IE({header:{numRequiredSignatures:u,numReadonlySignedAccounts:f,numReadonlyUnsignedAccounts:d},accountKeys:b,recentBlockhash:e,instructions:A})}_compile(){const e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,s)=>r[s].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const r=new Set;this.signatures=e.filter(n=>{const i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const s of e){const o=s.publicKey.toString();r.has(o)||(r.add(o),n.push(s))}this.signatures=n.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const s of e){const o=s.publicKey.toString();r.has(o)||(r.add(o),n.push(s))}const i=this._compile();this._partialSign(i,...n)}_partialSign(e,...r){const n=e.serialize();r.forEach(i=>{const s=nse(n,i.secretKey);this._addSignature(i.publicKey,oo(s))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){xi(r.length===64);const n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=xe.Buffer.from(r)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,r){const n={};for(const{signature:i,publicKey:s}of this.signatures)i===null?r&&(n.missing||(n.missing=[])).push(s):ZWe(i,e,s.toBytes())||(n.invalid||(n.invalid=[])).push(s);return n.invalid||n.missing?n:void 0}serialize(e){const{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n){const s=this._getMessageSignednessErrors(i,r);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(e){const{signatures:r}=this,n=[];da(n,r.length);const i=n.length+r.length*64+e.length,s=xe.Buffer.alloc(i);return xi(r.length<256),xe.Buffer.from(n).copy(s,0),r.forEach(({signature:o},a)=>{o!==null&&(xi(o.length===64,"signature has invalid length"),xe.Buffer.from(o).copy(s,n.length+a*64))}),e.copy(s,n.length+r.length*64),xi(s.length<=hy,`Transaction too large: ${s.length} > ${hy}`),s}get keys(){return xi(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return xi(this.instructions.length===1),this.instructions[0].programId}get data(){return xi(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e];const n=fa(r);let i=[];for(let s=0;s<n;s++){const o=ha(r,0,kE);i.push(ho.encode(xe.Buffer.from(o)))}return t5.populate(IE.from(r),i)}static populate(e,r=[]){const n=new t5;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((i,s)=>{const o={signature:i==ho.encode(sje)?null:ho.decode(i),publicKey:e.accountKeys[s]};n.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:n.signatures.some(u=>u.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});n.instructions.push(new ot({keys:s,programId:e.accountKeys[i.programIdIndex],data:ho.decode(i.data)}))}),n._message=e,n._json=n.toJSON(),n}},aje=class fse{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){const{header:n,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:u}=n,f=o-a;xi(f>0,"Message header is invalid");const d=e.staticAccountKeys.length-o-u;xi(d>=0,"Message header is invalid");const g=e.getAccountKeys(r),y=g.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const b=[];for(const A of i){const x=[];for(const I of A.accountKeyIndexes){const R=g.get(I);if(R===void 0)throw new Error(`Failed to find key for account key index ${I}`);const M=I<o;let P;M?P=I<f:I<g.staticAccountKeys.length?P=I-o<d:P=I-g.staticAccountKeys.length<g.accountKeysFromLookups.writable.length,x.push({pubkey:R,isSigner:I<n.numRequiredSignatures,isWritable:P})}const k=g.get(A.programIdIndex);if(k===void 0)throw new Error(`Failed to find program id for program id index ${A.programIdIndex}`);b.push(new ot({programId:k,data:oo(A.data),keys:x}))}return new fse({payerKey:y,instructions:b,recentBlockhash:s})}compileToLegacyMessage(){return IE.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return cse.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}},uje=class dse{get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)xi(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{const n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(kE));this.signatures=n}this.message=e}serialize(){const e=this.message.serialize(),r=Array();da(r,this.signatures.length);const n=pe([at(r.length,"encodedSignaturesLength"),Mt(eje(),this.signatures.length,"signatures"),at(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let r=[...e];const n=[],i=fa(r);for(let o=0;o<i;o++)n.push(new Uint8Array(ha(r,0,kE)));const s=lse.deserialize(new Uint8Array(r));return new dse(s,n)}sign(e){const r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=n.findIndex(o=>o.equals(i.publicKey));xi(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=nse(r,i.secretKey)}}addSignature(e,r){xi(r.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));xi(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}};new it("SysvarC1ock11111111111111111111111111111111");new it("SysvarEpochSchedu1e111111111111111111111111");new it("Sysvar1nstructions1111111111111111111111111");const hM=new it("SysvarRecentB1ockHashes11111111111111111111"),oq=new it("SysvarRent111111111111111111111111111111111");new it("SysvarRewards111111111111111111111111111111");new it("SysvarS1otHashes111111111111111111111111111");new it("SysvarS1otHistory11111111111111111111111111");new it("SysvarStakeHistory1111111111111111111111111");function Fa(t,e){const r=t.layout.span>=0?t.layout.span:sse(t,e),n=xe.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}const cje=bt("lamportsPerSignature"),lje=pe([ge("version"),ge("state"),Pr("authorizedPubkey"),Pr("nonce"),pe([cje],"feeCalculator")]),aq=lje.span,fje=t=>{const e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},dje=t=>e=>{const r=at(t,e),{encode:n,decode:i}=fje(r),s=r;return s.decode=(o,a)=>{const u=i(o,a);return f1(xe.Buffer.from(u))},s.encode=(o,a,u)=>{const f=Uh(o,t);return n(f,a,u)},s},Hb=dje(8),$a=Object.freeze({Create:{index:0,layout:pe([ge("instruction"),Lt("lamports"),Lt("space"),Pr("programId")])},Assign:{index:1,layout:pe([ge("instruction"),Pr("programId")])},Transfer:{index:2,layout:pe([ge("instruction"),Hb("lamports")])},CreateWithSeed:{index:3,layout:pe([ge("instruction"),Pr("base"),Fm("seed"),Lt("lamports"),Lt("space"),Pr("programId")])},AdvanceNonceAccount:{index:4,layout:pe([ge("instruction")])},WithdrawNonceAccount:{index:5,layout:pe([ge("instruction"),Lt("lamports")])},InitializeNonceAccount:{index:6,layout:pe([ge("instruction"),Pr("authorized")])},AuthorizeNonceAccount:{index:7,layout:pe([ge("instruction"),Pr("authorized")])},Allocate:{index:8,layout:pe([ge("instruction"),Lt("space")])},AllocateWithSeed:{index:9,layout:pe([ge("instruction"),Pr("base"),Fm("seed"),Lt("space"),Pr("programId")])},AssignWithSeed:{index:10,layout:pe([ge("instruction"),Pr("base"),Fm("seed"),Pr("programId")])},TransferWithSeed:{index:11,layout:pe([ge("instruction"),Hb("lamports"),Fm("seed"),Pr("programId")])},UpgradeNonceAccount:{index:12,layout:pe([ge("instruction")])}});let Kt=class r5{constructor(){}static createAccount(e){const r=$a.Create,n=Fa(r,{lamports:e.lamports,space:e.space,programId:oo(e.programId.toBuffer())});return new ot({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){const i=$a.TransferWithSeed;r=Fa(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:oo(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=$a.Transfer;r=Fa(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new ot({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){const i=$a.AssignWithSeed;r=Fa(i,{base:oo(e.basePubkey.toBuffer()),seed:e.seed,programId:oo(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=$a.Assign;r=Fa(i,{programId:oo(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ot({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){const r=$a.CreateWithSeed,n=Fa(r,{base:oo(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:oo(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new ot({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){const r=new oje;"basePubkey"in e&&"seed"in e?r.add(r5.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:aq,programId:this.programId})):r.add(r5.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:aq,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){const r=$a.InitializeNonceAccount,n=Fa(r,{authorized:oo(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:hM,isSigner:!1,isWritable:!1},{pubkey:oq,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new ot(i)}static nonceAdvance(e){const r=$a.AdvanceNonceAccount,n=Fa(r),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:hM,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new ot(i)}static nonceWithdraw(e){const r=$a.WithdrawNonceAccount,n=Fa(r,{lamports:e.lamports});return new ot({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:hM,isSigner:!1,isWritable:!1},{pubkey:oq,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){const r=$a.AuthorizeNonceAccount,n=Fa(r,{authorized:oo(e.newAuthorizedPubkey.toBuffer())});return new ot({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){const i=$a.AllocateWithSeed;r=Fa(i,{base:oo(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:oo(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=$a.Allocate;r=Fa(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ot({keys:n,programId:this.programId,data:r})}};Kt.programId=new it("11111111111111111111111111111111");new it("BPFLoader2111111111111111111111111111111111");pe([ge("typeIndex"),Hb("deactivationSlot"),bt("lastExtendedSlot"),Ge("lastExtendedStartIndex"),Ge(),Mt(Pr(),zr(Ge(),-1),"authority")]);const wi=zi(uu(it),he(),t=>new it(t)),hse=cu([he(),ht("base64")]),hL=zi(uu(xe.Buffer),hse,t=>xe.Buffer.from(t[0],"base64"));function pse(t){return Dt([ce({jsonrpc:ht("2.0"),id:he(),result:t}),ce({jsonrpc:ht("2.0"),id:he(),error:ce({code:ri(),message:he(),data:Ie(Nk())})})])}const hje=pse(ri());function Kn(t){return zi(pse(t),hje,e=>"error"in e?e:{...e,result:Oe(e.result,t)})}function lc(t){return Kn(ce({context:ce({slot:Y()}),value:t}))}function pT(t){return ce({context:ce({slot:Y()}),value:t})}const pje=ce({foundation:Y(),foundationTerm:Y(),initial:Y(),taper:Y(),terminal:Y()});Kn(me(ye(ce({epoch:Y(),effectiveSlot:Y(),amount:Y(),postBalance:Y(),commission:Ie(ye(Y()))}))));const gje=me(ce({slot:Y(),prioritizationFee:Y()})),mje=ce({total:Y(),validator:Y(),foundation:Y(),epoch:Y()}),yje=ce({epoch:Y(),slotIndex:Y(),slotsInEpoch:Y(),absoluteSlot:Y(),blockHeight:Ie(Y()),transactionCount:Ie(Y())}),bje=ce({slotsPerEpoch:Y(),leaderScheduleSlotOffset:Y(),warmup:xr(),firstNormalEpoch:Y(),firstNormalSlot:Y()}),vje=zh(he(),me(Y())),pg=ye(Dt([ce({}),he()])),wje=ce({err:pg}),Sje=ht("receivedSignature");ce({"solana-core":he(),"feature-set":Ie(Y())});const _je=ce({program:he(),programId:wi,parsed:ri()}),Aje=ce({programId:wi,accounts:me(wi),data:he()});lc(ce({err:ye(Dt([ce({}),he()])),logs:ye(me(he())),accounts:Ie(ye(me(ye(ce({executable:xr(),owner:he(),lamports:Y(),data:me(he()),rentEpoch:Ie(Y())}))))),unitsConsumed:Ie(Y()),returnData:Ie(ye(ce({programId:he(),data:cu([he(),ht("base64")])}))),innerInstructions:Ie(ye(me(ce({index:Y(),instructions:me(Dt([_je,Aje]))}))))}));lc(ce({byIdentity:zh(he(),me(Y())),range:ce({firstSlot:Y(),lastSlot:Y()})}));Kn(pje);Kn(mje);Kn(gje);Kn(yje);Kn(bje);Kn(vje);Kn(Y());lc(ce({total:Y(),circulating:Y(),nonCirculating:Y(),nonCirculatingAccounts:me(wi)}));const xje=ce({amount:he(),uiAmount:ye(Y()),decimals:Y(),uiAmountString:Ie(he())});lc(me(ce({address:wi,amount:he(),uiAmount:ye(Y()),decimals:Y(),uiAmountString:Ie(he())})));lc(me(ce({pubkey:wi,account:ce({executable:xr(),owner:wi,lamports:Y(),data:hL,rentEpoch:Y()})})));const n5=ce({program:he(),parsed:ri(),space:Y()});lc(me(ce({pubkey:wi,account:ce({executable:xr(),owner:wi,lamports:Y(),data:n5,rentEpoch:Y()})})));lc(me(ce({lamports:Y(),address:wi})));const pL=ce({executable:xr(),owner:wi,lamports:Y(),data:hL,rentEpoch:Y()});ce({pubkey:wi,account:pL});const Eje=zi(Dt([uu(xe.Buffer),n5]),Dt([hse,n5]),t=>Array.isArray(t)?Oe(t,hL):t),kje=ce({executable:xr(),owner:wi,lamports:Y(),data:Eje,rentEpoch:Y()});ce({pubkey:wi,account:kje});ce({state:Dt([ht("active"),ht("inactive"),ht("activating"),ht("deactivating")]),active:Y(),inactive:Y()});Kn(me(ce({signature:he(),slot:Y(),err:pg,memo:ye(he()),blockTime:Ie(ye(Y()))})));Kn(me(ce({signature:he(),slot:Y(),err:pg,memo:ye(he()),blockTime:Ie(ye(Y()))})));ce({subscription:Y(),result:pT(pL)});const Tje=ce({pubkey:wi,account:pL});ce({subscription:Y(),result:pT(Tje)});const Ije=ce({parent:Y(),slot:Y(),root:Y()});ce({subscription:Y(),result:Ije});const Rje=Dt([ce({type:Dt([ht("firstShredReceived"),ht("completed"),ht("optimisticConfirmation"),ht("root")]),slot:Y(),timestamp:Y()}),ce({type:ht("createdBank"),parent:Y(),slot:Y(),timestamp:Y()}),ce({type:ht("frozen"),slot:Y(),timestamp:Y(),stats:ce({numTransactionEntries:Y(),numSuccessfulTransactions:Y(),numFailedTransactions:Y(),maxTransactionsPerEntry:Y()})}),ce({type:ht("dead"),slot:Y(),timestamp:Y(),err:he()})]);ce({subscription:Y(),result:Rje});ce({subscription:Y(),result:pT(Dt([wje,Sje]))});ce({subscription:Y(),result:Y()});ce({pubkey:he(),gossip:ye(he()),tpu:ye(he()),rpc:ye(he()),version:ye(he())});const uq=ce({votePubkey:he(),nodePubkey:he(),activatedStake:Y(),epochVoteAccount:xr(),epochCredits:me(cu([Y(),Y(),Y()])),commission:Y(),lastVote:Y(),rootSlot:ye(Y())});Kn(ce({current:me(uq),delinquent:me(uq)}));const Mje=Dt([ht("processed"),ht("confirmed"),ht("finalized")]),Cje=ce({slot:Y(),confirmations:ye(Y()),err:pg,confirmationStatus:Ie(Mje)});lc(me(ye(Cje)));Kn(Y());const gse=ce({accountKey:wi,writableIndexes:me(Y()),readonlyIndexes:me(Y())}),gL=ce({signatures:me(he()),message:ce({accountKeys:me(he()),header:ce({numRequiredSignatures:Y(),numReadonlySignedAccounts:Y(),numReadonlyUnsignedAccounts:Y()}),instructions:me(ce({accounts:me(Y()),data:he(),programIdIndex:Y()})),recentBlockhash:he(),addressTableLookups:Ie(me(gse))})}),mse=ce({pubkey:wi,signer:xr(),writable:xr(),source:Ie(Dt([ht("transaction"),ht("lookupTable")]))}),yse=ce({accountKeys:me(mse),signatures:me(he())}),bse=ce({parsed:ri(),program:he(),programId:wi}),vse=ce({accounts:me(wi),data:he(),programId:wi}),Pje=Dt([vse,bse]),Nje=Dt([ce({parsed:ri(),program:he(),programId:he()}),ce({accounts:me(he()),data:he(),programId:he()})]),wse=zi(Pje,Nje,t=>"accounts"in t?Oe(t,vse):Oe(t,bse)),Sse=ce({signatures:me(he()),message:ce({accountKeys:me(mse),instructions:me(wse),recentBlockhash:he(),addressTableLookups:Ie(ye(me(gse)))})}),RE=ce({accountIndex:Y(),mint:he(),owner:Ie(he()),programId:Ie(he()),uiTokenAmount:xje}),_se=ce({writable:me(wi),readonly:me(wi)}),gT=ce({err:pg,fee:Y(),innerInstructions:Ie(ye(me(ce({index:Y(),instructions:me(ce({accounts:me(Y()),data:he(),programIdIndex:Y()}))})))),preBalances:me(Y()),postBalances:me(Y()),logMessages:Ie(ye(me(he()))),preTokenBalances:Ie(ye(me(RE))),postTokenBalances:Ie(ye(me(RE))),loadedAddresses:Ie(_se),computeUnitsConsumed:Ie(Y())}),mL=ce({err:pg,fee:Y(),innerInstructions:Ie(ye(me(ce({index:Y(),instructions:me(wse)})))),preBalances:me(Y()),postBalances:me(Y()),logMessages:Ie(ye(me(he()))),preTokenBalances:Ie(ye(me(RE))),postTokenBalances:Ie(ye(me(RE))),loadedAddresses:Ie(_se),computeUnitsConsumed:Ie(Y())}),O1=Dt([ht(0),ht("legacy")]),gg=ce({pubkey:he(),lamports:Y(),postBalance:ye(Y()),rewardType:ye(he()),commission:Ie(ye(Y()))});Kn(ye(ce({blockhash:he(),previousBlockhash:he(),parentSlot:Y(),transactions:me(ce({transaction:gL,meta:ye(gT),version:Ie(O1)})),rewards:Ie(me(gg)),blockTime:ye(Y()),blockHeight:ye(Y())})));Kn(ye(ce({blockhash:he(),previousBlockhash:he(),parentSlot:Y(),rewards:Ie(me(gg)),blockTime:ye(Y()),blockHeight:ye(Y())})));Kn(ye(ce({blockhash:he(),previousBlockhash:he(),parentSlot:Y(),transactions:me(ce({transaction:yse,meta:ye(gT),version:Ie(O1)})),rewards:Ie(me(gg)),blockTime:ye(Y()),blockHeight:ye(Y())})));Kn(ye(ce({blockhash:he(),previousBlockhash:he(),parentSlot:Y(),transactions:me(ce({transaction:Sse,meta:ye(mL),version:Ie(O1)})),rewards:Ie(me(gg)),blockTime:ye(Y()),blockHeight:ye(Y())})));Kn(ye(ce({blockhash:he(),previousBlockhash:he(),parentSlot:Y(),transactions:me(ce({transaction:yse,meta:ye(mL),version:Ie(O1)})),rewards:Ie(me(gg)),blockTime:ye(Y()),blockHeight:ye(Y())})));Kn(ye(ce({blockhash:he(),previousBlockhash:he(),parentSlot:Y(),rewards:Ie(me(gg)),blockTime:ye(Y()),blockHeight:ye(Y())})));Kn(ye(ce({blockhash:he(),previousBlockhash:he(),parentSlot:Y(),transactions:me(ce({transaction:gL,meta:ye(gT)})),rewards:Ie(me(gg)),blockTime:ye(Y())})));Kn(ye(ce({blockhash:he(),previousBlockhash:he(),parentSlot:Y(),signatures:me(he()),blockTime:ye(Y())})));Kn(ye(ce({slot:Y(),meta:ye(gT),blockTime:Ie(ye(Y())),transaction:gL,version:Ie(O1)})));Kn(ye(ce({slot:Y(),transaction:Sse,meta:ye(mL),blockTime:Ie(ye(Y())),version:Ie(O1)})));lc(ce({blockhash:he(),lastValidBlockHeight:Y()}));lc(xr());const Bje=ce({slot:Y(),numTransactions:Y(),numSlots:Y(),samplePeriodSecs:Y()});Kn(me(Bje));lc(ye(ce({feeCalculator:ce({lamportsPerSignature:Y()})})));Kn(he());Kn(he());const Oje=ce({err:pg,logs:me(he()),signature:he()});ce({result:pT(Oje),subscription:Y()});Object.freeze({CreateLookupTable:{index:0,layout:pe([ge("instruction"),Hb("recentSlot"),Ge("bumpSeed")])},FreezeLookupTable:{index:1,layout:pe([ge("instruction")])},ExtendLookupTable:{index:2,layout:pe([ge("instruction"),Hb(),Mt(Pr(),zr(ge(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:pe([ge("instruction")])},CloseLookupTable:{index:4,layout:pe([ge("instruction")])}});new it("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:pe([Ge("instruction"),ge("units"),ge("additionalFee")])},RequestHeapFrame:{index:1,layout:pe([Ge("instruction"),ge("bytes")])},SetComputeUnitLimit:{index:2,layout:pe([Ge("instruction"),ge("units")])},SetComputeUnitPrice:{index:3,layout:pe([Ge("instruction"),Hb("microLamports")])}});new it("ComputeBudget111111111111111111111111111111");pe([Ge("numSignatures"),Ge("padding"),jt("signatureOffset"),jt("signatureInstructionIndex"),jt("publicKeyOffset"),jt("publicKeyInstructionIndex"),jt("messageDataOffset"),jt("messageDataSize"),jt("messageInstructionIndex")]);new it("Ed25519SigVerify111111111111111111111111111");Ra.utils.isValidPrivateKey;Ra.getPublicKey;pe([Ge("numSignatures"),jt("signatureOffset"),Ge("signatureInstructionIndex"),jt("ethAddressOffset"),Ge("ethAddressInstructionIndex"),jt("messageDataOffset"),jt("messageDataSize"),Ge("messageInstructionIndex"),at(20,"ethAddress"),at(64,"signature"),Ge("recoveryId")]);new it("KeccakSecp256k11111111111111111111111111111");var Ase;new it("StakeConfig11111111111111111111111111111111");let xse=class{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}};Ase=xse;xse.default=new Ase(0,0,it.default);Object.freeze({Initialize:{index:0,layout:pe([ge("instruction"),tje(),rje()])},Authorize:{index:1,layout:pe([ge("instruction"),Pr("newAuthorized"),ge("stakeAuthorizationType")])},Delegate:{index:2,layout:pe([ge("instruction")])},Split:{index:3,layout:pe([ge("instruction"),Lt("lamports")])},Withdraw:{index:4,layout:pe([ge("instruction"),Lt("lamports")])},Deactivate:{index:5,layout:pe([ge("instruction")])},Merge:{index:7,layout:pe([ge("instruction")])},AuthorizeWithSeed:{index:8,layout:pe([ge("instruction"),Pr("newAuthorized"),ge("stakeAuthorizationType"),Fm("authoritySeed"),Pr("authorityOwner")])}});new it("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:pe([ge("instruction"),nje()])},Authorize:{index:1,layout:pe([ge("instruction"),Pr("newAuthorized"),ge("voteAuthorizationType")])},Withdraw:{index:3,layout:pe([ge("instruction"),Lt("lamports")])},UpdateValidatorIdentity:{index:4,layout:pe([ge("instruction")])},AuthorizeWithSeed:{index:10,layout:pe([ge("instruction"),ije()])}});new it("Vote111111111111111111111111111111111111111");new it("Va1idator1nfo111111111111111111111111111111");ce({name:he(),website:Ie(he()),details:Ie(he()),iconUrl:Ie(he()),keybaseUsername:Ie(he())});new it("Vote111111111111111111111111111111111111111");pe([Pr("nodePubkey"),Pr("authorizedWithdrawer"),Ge("commission"),bt(),Mt(pe([bt("slot"),ge("confirmationCount")]),zr(ge(),-8),"votes"),Ge("rootSlotValid"),bt("rootSlot"),bt(),Mt(pe([bt("epoch"),Pr("authorizedVoter")]),zr(ge(),-8),"authorizedVoters"),pe([Mt(pe([Pr("authorizedPubkey"),bt("epochOfLastAuthorizedSwitch"),bt("targetEpoch")]),32,"buf"),bt("idx"),Ge("isEmpty")],"priorVoters"),bt(),Mt(pe([bt("epoch"),bt("credits"),bt("prevCredits")]),zr(ge(),-8),"epochCredits"),pe([bt("slot"),bt("timestamp")],"lastTimestamp")]);var B={},ls={},on={},pM={exports:{}},gM={},qb={},Ese={},yL=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,r);if(a.value!==i||a.enumerable!==!0)return!1}return!0},Lje=yL,mT=function(){return Lje()&&!!Symbol.toStringTag},bL=Object,Dje=Error,Fje=EvalError,$je=RangeError,Uje=ReferenceError,kse=SyntaxError,N_=TypeError,zje=URIError,Wje=Math.abs,jje=Math.floor,Kje=Math.max,Hje=Math.min,qje=Math.pow,Vje=Math.round,Gje=Number.isNaN||function(e){return e!==e},Yje=Gje,Zje=function(e){return Yje(e)||e===0?e:e<0?-1:1},Xje=Object.getOwnPropertyDescriptor,tx=Xje;if(tx)try{tx([],"length")}catch{tx=null}var L1=tx,rx=Object.defineProperty||!1;if(rx)try{rx({},"a",{value:1})}catch{rx=!1}var yT=rx,mM,cq;function Jje(){if(cq)return mM;cq=1;var t=typeof Symbol<"u"&&Symbol,e=yL;return mM=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},mM}var yM,lq;function Tse(){return lq||(lq=1,yM=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),yM}var bM,fq;function Ise(){if(fq)return bM;fq=1;var t=bL;return bM=t.getPrototypeOf||null,bM}var Qje="Function.prototype.bind called on incompatible ",eKe=Object.prototype.toString,tKe=Math.max,rKe="[object Function]",dq=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},nKe=function(e,r){for(var n=[],i=r,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},iKe=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},sKe=function(e){var r=this;if(typeof r!="function"||eKe.apply(r)!==rKe)throw new TypeError(Qje+r);for(var n=nKe(arguments,1),i,s=function(){if(this instanceof i){var d=r.apply(this,dq(n,arguments));return Object(d)===d?d:this}return r.apply(e,dq(n,arguments))},o=tKe(0,r.length-n.length),a=[],u=0;u<o;u++)a[u]="$"+u;if(i=Function("binder","return function ("+iKe(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var f=function(){};f.prototype=r.prototype,i.prototype=new f,f.prototype=null}return i},oKe=sKe,B_=Function.prototype.bind||oKe,vL=Function.prototype.call,wL=Function.prototype.apply,aKe=typeof Reflect<"u"&&Reflect&&Reflect.apply,uKe=B_,cKe=wL,lKe=vL,fKe=aKe,Rse=fKe||uKe.call(lKe,cKe),dKe=B_,hKe=N_,pKe=vL,gKe=Rse,SL=function(e){if(e.length<1||typeof e[0]!="function")throw new hKe("a function is required");return gKe(dKe,pKe,e)},vM,hq;function mKe(){if(hq)return vM;hq=1;var t=SL,e=L1,r;try{r=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var n=!!r&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return vM=n&&typeof n.get=="function"?t([n.get]):typeof s=="function"?function(a){return s(a==null?a:i(a))}:!1,vM}var wM,pq;function Mse(){if(pq)return wM;pq=1;var t=Tse(),e=Ise(),r=mKe();return wM=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:r?function(i){return r(i)}:null,wM}var SM,gq;function Cse(){if(gq)return SM;gq=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=B_;return SM=r.call(t,e),SM}var Br,yKe=bL,bKe=Dje,vKe=Fje,wKe=$je,SKe=Uje,Vb=kse,py=N_,_Ke=zje,AKe=Wje,xKe=jje,EKe=Kje,kKe=Hje,TKe=qje,IKe=Vje,RKe=Zje,Pse=Function,_M=function(t){try{return Pse('"use strict"; return ('+t+").constructor;")()}catch{}},mS=L1,MKe=yT,AM=function(){throw new py},CKe=mS?function(){try{return arguments.callee,AM}catch{try{return mS(arguments,"callee").get}catch{return AM}}}():AM,Bg=Jje()(),ss=Mse(),PKe=Ise(),NKe=Tse(),Nse=wL,O_=vL,nm={},BKe=typeof Uint8Array>"u"||!ss?Br:ss(Uint8Array),h0={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Br:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Br:ArrayBuffer,"%ArrayIteratorPrototype%":Bg&&ss?ss([][Symbol.iterator]()):Br,"%AsyncFromSyncIteratorPrototype%":Br,"%AsyncFunction%":nm,"%AsyncGenerator%":nm,"%AsyncGeneratorFunction%":nm,"%AsyncIteratorPrototype%":nm,"%Atomics%":typeof Atomics>"u"?Br:Atomics,"%BigInt%":typeof BigInt>"u"?Br:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Br:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Br:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Br:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":bKe,"%eval%":eval,"%EvalError%":vKe,"%Float32Array%":typeof Float32Array>"u"?Br:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Br:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Br:FinalizationRegistry,"%Function%":Pse,"%GeneratorFunction%":nm,"%Int8Array%":typeof Int8Array>"u"?Br:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Br:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Br:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Bg&&ss?ss(ss([][Symbol.iterator]())):Br,"%JSON%":typeof JSON=="object"?JSON:Br,"%Map%":typeof Map>"u"?Br:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Bg||!ss?Br:ss(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":yKe,"%Object.getOwnPropertyDescriptor%":mS,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Br:Promise,"%Proxy%":typeof Proxy>"u"?Br:Proxy,"%RangeError%":wKe,"%ReferenceError%":SKe,"%Reflect%":typeof Reflect>"u"?Br:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Br:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Bg||!ss?Br:ss(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Br:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Bg&&ss?ss(""[Symbol.iterator]()):Br,"%Symbol%":Bg?Symbol:Br,"%SyntaxError%":Vb,"%ThrowTypeError%":CKe,"%TypedArray%":BKe,"%TypeError%":py,"%Uint8Array%":typeof Uint8Array>"u"?Br:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Br:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Br:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Br:Uint32Array,"%URIError%":_Ke,"%WeakMap%":typeof WeakMap>"u"?Br:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Br:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Br:WeakSet,"%Function.prototype.call%":O_,"%Function.prototype.apply%":Nse,"%Object.defineProperty%":MKe,"%Object.getPrototypeOf%":PKe,"%Math.abs%":AKe,"%Math.floor%":xKe,"%Math.max%":EKe,"%Math.min%":kKe,"%Math.pow%":TKe,"%Math.round%":IKe,"%Math.sign%":RKe,"%Reflect.getPrototypeOf%":NKe};if(ss)try{null.error}catch(t){var OKe=ss(ss(t));h0["%Error.prototype%"]=OKe}var LKe=function t(e){var r;if(e==="%AsyncFunction%")r=_M("async function () {}");else if(e==="%GeneratorFunction%")r=_M("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=_M("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&ss&&(r=ss(i.prototype))}return h0[e]=r,r},mq={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},L_=B_,ME=Cse(),DKe=L_.call(O_,Array.prototype.concat),FKe=L_.call(Nse,Array.prototype.splice),yq=L_.call(O_,String.prototype.replace),CE=L_.call(O_,String.prototype.slice),$Ke=L_.call(O_,RegExp.prototype.exec),UKe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,zKe=/\\(\\)?/g,WKe=function(e){var r=CE(e,0,1),n=CE(e,-1);if(r==="%"&&n!=="%")throw new Vb("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Vb("invalid intrinsic syntax, expected opening `%`");var i=[];return yq(e,UKe,function(s,o,a,u){i[i.length]=a?yq(u,zKe,"$1"):o||s}),i},jKe=function(e,r){var n=e,i;if(ME(mq,n)&&(i=mq[n],n="%"+i[0]+"%"),ME(h0,n)){var s=h0[n];if(s===nm&&(s=LKe(n)),typeof s>"u"&&!r)throw new py("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Vb("intrinsic "+e+" does not exist!")},_L=function(e,r){if(typeof e!="string"||e.length===0)throw new py("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new py('"allowMissing" argument must be a boolean');if($Ke(/^%?[^%]*%?$/,e)===null)throw new Vb("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=WKe(e),i=n.length>0?n[0]:"",s=jKe("%"+i+"%",r),o=s.name,a=s.value,u=!1,f=s.alias;f&&(i=f[0],FKe(n,DKe([0,1],f)));for(var d=1,g=!0;d<n.length;d+=1){var y=n[d],b=CE(y,0,1),A=CE(y,-1);if((b==='"'||b==="'"||b==="`"||A==='"'||A==="'"||A==="`")&&b!==A)throw new Vb("property names with quotes must have matching quotes");if((y==="constructor"||!g)&&(u=!0),i+="."+y,o="%"+i+"%",ME(h0,o))a=h0[o];else if(a!=null){if(!(y in a)){if(!r)throw new py("base intrinsic for "+e+" exists, but the property is not available.");return}if(mS&&d+1>=n.length){var x=mS(a,y);g=!!x,g&&"get"in x&&!("originalValue"in x.get)?a=x.get:a=a[y]}else g=ME(a,y),a=a[y];g&&!u&&(h0[o]=a)}}return a},Bse=_L,Ose=SL,KKe=Ose([Bse("%String.prototype.indexOf%")]),D1=function(e,r){var n=Bse(e,!!r);return typeof n=="function"&&KKe(e,".prototype.")>-1?Ose([n]):n},HKe=mT(),qKe=D1,i5=qKe("Object.prototype.toString"),bT=function(e){return HKe&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:i5(e)==="[object Arguments]"},Lse=function(e){return bT(e)?!0:e!==null&&typeof e=="object"&&"length"in e&&typeof e.length=="number"&&e.length>=0&&i5(e)!=="[object Array]"&&"callee"in e&&i5(e.callee)==="[object Function]"},VKe=function(){return bT(arguments)}();bT.isLegacyArguments=Lse;var GKe=VKe?bT:Lse,bq=D1,YKe=mT(),ZKe=Cse(),XKe=L1,s5;if(YKe){var JKe=bq("RegExp.prototype.exec"),vq={},xM=function(){throw vq},wq={toString:xM,valueOf:xM};typeof Symbol.toPrimitive=="symbol"&&(wq[Symbol.toPrimitive]=xM),s5=function(e){if(!e||typeof e!="object")return!1;var r=XKe(e,"lastIndex"),n=r&&ZKe(r,"value");if(!n)return!1;try{JKe(e,wq)}catch(i){return i===vq}}}else{var QKe=bq("Object.prototype.toString"),eHe="[object RegExp]";s5=function(e){return!e||typeof e!="object"&&typeof e!="function"?!1:QKe(e)===eHe}}var tHe=s5,rHe=D1,nHe=tHe,iHe=rHe("RegExp.prototype.exec"),sHe=N_,oHe=function(e){if(!nHe(e))throw new sHe("`regex` must be a RegExp");return function(n){return iHe(e,n)!==null}},Dse=D1,aHe=oHe,uHe=aHe(/^\s*(?:function)?\*/),Fse=mT(),EM=Mse(),cHe=Dse("Object.prototype.toString"),lHe=Dse("Function.prototype.toString"),fHe=function(){if(!Fse)return!1;try{return Function("return function*() {}")()}catch{}},kM,dHe=function(e){if(typeof e!="function")return!1;if(uHe(lHe(e)))return!0;if(!Fse){var r=cHe(e);return r==="[object GeneratorFunction]"}if(!EM)return!1;if(typeof kM>"u"){var n=fHe();kM=n?EM(n):!1}return EM(e)===kM},$se=Function.prototype.toString,$m=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,o5,nx;if(typeof $m=="function"&&typeof Object.defineProperty=="function")try{o5=Object.defineProperty({},"length",{get:function(){throw nx}}),nx={},$m(function(){throw 42},null,o5)}catch(t){t!==nx&&($m=null)}else $m=null;var hHe=/^\s*class\b/,a5=function(e){try{var r=$se.call(e);return hHe.test(r)}catch{return!1}},TM=function(e){try{return a5(e)?!1:($se.call(e),!0)}catch{return!1}},ix=Object.prototype.toString,pHe="[object Object]",gHe="[object Function]",mHe="[object GeneratorFunction]",yHe="[object HTMLAllCollection]",bHe="[object HTML document.all class]",vHe="[object HTMLCollection]",wHe=typeof Symbol=="function"&&!!Symbol.toStringTag,SHe=!(0 in[,]),u5=function(){return!1};if(typeof document=="object"){var _He=document.all;ix.call(_He)===ix.call(document.all)&&(u5=function(e){if((SHe||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=ix.call(e);return(r===yHe||r===bHe||r===vHe||r===pHe)&&e("")==null}catch{}return!1})}var AHe=$m?function(e){if(u5(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{$m(e,null,o5)}catch(r){if(r!==nx)return!1}return!a5(e)&&TM(e)}:function(e){if(u5(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(wHe)return TM(e);if(a5(e))return!1;var r=ix.call(e);return r!==gHe&&r!==mHe&&!/^\[object HTML/.test(r)?!1:TM(e)},xHe=AHe,EHe=Object.prototype.toString,Use=Object.prototype.hasOwnProperty,kHe=function(e,r,n){for(var i=0,s=e.length;i<s;i++)Use.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},THe=function(e,r,n){for(var i=0,s=e.length;i<s;i++)n==null?r(e.charAt(i),i,e):r.call(n,e.charAt(i),i,e)},IHe=function(e,r,n){for(var i in e)Use.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},RHe=function(e,r,n){if(!xHe(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),EHe.call(e)==="[object Array]"?kHe(e,r,i):typeof e=="string"?THe(e,r,i):IHe(e,r,i)},MHe=RHe,CHe=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],IM=CHe,PHe=typeof globalThis>"u"?St:globalThis,NHe=function(){for(var e=[],r=0;r<IM.length;r++)typeof PHe[IM[r]]=="function"&&(e[e.length]=IM[r]);return e},zse={exports:{}},Sq=yT,BHe=kse,Og=N_,_q=L1,Wse=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Og("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Og("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Og("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Og("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Og("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Og("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,u=!!_q&&_q(e,r);if(Sq)Sq(e,r,{configurable:o===null&&u?u.configurable:!o,enumerable:i===null&&u?u.enumerable:!i,value:n,writable:s===null&&u?u.writable:!s});else if(a||!i&&!s&&!o)e[r]=n;else throw new BHe("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},c5=yT,jse=function(){return!!c5};jse.hasArrayLengthDefineBug=function(){if(!c5)return null;try{return c5([],"length",{value:1}).length!==1}catch{return!0}};var Kse=jse,OHe=_L,Aq=Wse,LHe=Kse(),xq=L1,Eq=N_,DHe=OHe("%Math.floor%"),FHe=function(e,r){if(typeof e!="function")throw new Eq("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||DHe(r)!==r)throw new Eq("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&xq){var o=xq(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!n)&&(LHe?Aq(e,"length",r,!0,!0):Aq(e,"length",r)),e},$He=B_,UHe=wL,zHe=Rse,WHe=function(){return zHe($He,UHe,arguments)};(function(t){var e=FHe,r=yT,n=SL,i=WHe;t.exports=function(o){var a=n(arguments),u=o.length-(arguments.length-1);return e(a,1+(u>0?u:0),!0)},r?r(t.exports,"apply",{value:i}):t.exports.apply=i})(zse);var vT=zse.exports,PE=MHe,jHe=NHe,kq=vT,AL=D1,sx=L1,KHe=AL("Object.prototype.toString"),Hse=mT(),Tq=typeof globalThis>"u"?St:globalThis,l5=jHe(),xL=AL("String.prototype.slice"),RM=Object.getPrototypeOf,HHe=AL("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},NE={__proto__:null};Hse&&sx&&RM?PE(l5,function(t){var e=new Tq[t];if(Symbol.toStringTag in e){var r=RM(e),n=sx(r,Symbol.toStringTag);if(!n){var i=RM(r);n=sx(i,Symbol.toStringTag)}NE["$"+t]=kq(n.get)}}):PE(l5,function(t){var e=new Tq[t],r=e.slice||e.set;r&&(NE["$"+t]=kq(r))});var qHe=function(e){var r=!1;return PE(NE,function(n,i){if(!r)try{"$"+n(e)===i&&(r=xL(i,1))}catch{}}),r},VHe=function(e){var r=!1;return PE(NE,function(n,i){if(!r)try{n(e),r=xL(i,1)}catch{}}),r},qse=function(e){if(!e||typeof e!="object")return!1;if(!Hse){var r=xL(KHe(e),8,-1);return HHe(l5,r)>-1?r:r!=="Object"?!1:VHe(e)}return sx?qHe(e):null},GHe=qse,YHe=function(e){return!!GHe(e)};(function(t){var e=GKe,r=dHe,n=qse,i=YHe;function s(se){return se.call.bind(se)}var o=typeof BigInt<"u",a=typeof Symbol<"u",u=s(Object.prototype.toString),f=s(Number.prototype.valueOf),d=s(String.prototype.valueOf),g=s(Boolean.prototype.valueOf);if(o)var y=s(BigInt.prototype.valueOf);if(a)var b=s(Symbol.prototype.valueOf);function A(se,Te){if(typeof se!="object")return!1;try{return Te(se),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=i;function x(se){return typeof Promise<"u"&&se instanceof Promise||se!==null&&typeof se=="object"&&typeof se.then=="function"&&typeof se.catch=="function"}t.isPromise=x;function k(se){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(se):i(se)||D(se)}t.isArrayBufferView=k;function I(se){return n(se)==="Uint8Array"}t.isUint8Array=I;function R(se){return n(se)==="Uint8ClampedArray"}t.isUint8ClampedArray=R;function M(se){return n(se)==="Uint16Array"}t.isUint16Array=M;function P(se){return n(se)==="Uint32Array"}t.isUint32Array=P;function j(se){return n(se)==="Int8Array"}t.isInt8Array=j;function V(se){return n(se)==="Int16Array"}t.isInt16Array=V;function Z(se){return n(se)==="Int32Array"}t.isInt32Array=Z;function G(se){return n(se)==="Float32Array"}t.isFloat32Array=G;function q(se){return n(se)==="Float64Array"}t.isFloat64Array=q;function ae(se){return n(se)==="BigInt64Array"}t.isBigInt64Array=ae;function T(se){return n(se)==="BigUint64Array"}t.isBigUint64Array=T;function c(se){return u(se)==="[object Map]"}c.working=typeof Map<"u"&&c(new Map);function h(se){return typeof Map>"u"?!1:c.working?c(se):se instanceof Map}t.isMap=h;function p(se){return u(se)==="[object Set]"}p.working=typeof Set<"u"&&p(new Set);function m(se){return typeof Set>"u"?!1:p.working?p(se):se instanceof Set}t.isSet=m;function v(se){return u(se)==="[object WeakMap]"}v.working=typeof WeakMap<"u"&&v(new WeakMap);function _(se){return typeof WeakMap>"u"?!1:v.working?v(se):se instanceof WeakMap}t.isWeakMap=_;function E(se){return u(se)==="[object WeakSet]"}E.working=typeof WeakSet<"u"&&E(new WeakSet);function w(se){return E(se)}t.isWeakSet=w;function l(se){return u(se)==="[object ArrayBuffer]"}l.working=typeof ArrayBuffer<"u"&&l(new ArrayBuffer);function S(se){return typeof ArrayBuffer>"u"?!1:l.working?l(se):se instanceof ArrayBuffer}t.isArrayBuffer=S;function C(se){return u(se)==="[object DataView]"}C.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&C(new DataView(new ArrayBuffer(1),0,1));function D(se){return typeof DataView>"u"?!1:C.working?C(se):se instanceof DataView}t.isDataView=D;var U=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function O(se){return u(se)==="[object SharedArrayBuffer]"}function $(se){return typeof U>"u"?!1:(typeof O.working>"u"&&(O.working=O(new U)),O.working?O(se):se instanceof U)}t.isSharedArrayBuffer=$;function F(se){return u(se)==="[object AsyncFunction]"}t.isAsyncFunction=F;function H(se){return u(se)==="[object Map Iterator]"}t.isMapIterator=H;function Q(se){return u(se)==="[object Set Iterator]"}t.isSetIterator=Q;function te(se){return u(se)==="[object Generator]"}t.isGeneratorObject=te;function X(se){return u(se)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=X;function K(se){return A(se,f)}t.isNumberObject=K;function oe(se){return A(se,d)}t.isStringObject=oe;function _e(se){return A(se,g)}t.isBooleanObject=_e;function Se(se){return o&&A(se,y)}t.isBigIntObject=Se;function W(se){return a&&A(se,b)}t.isSymbolObject=W;function re(se){return K(se)||oe(se)||_e(se)||Se(se)||W(se)}t.isBoxedPrimitive=re;function ne(se){return typeof Uint8Array<"u"&&(S(se)||$(se))}t.isAnyArrayBuffer=ne,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(se){Object.defineProperty(t,se,{enumerable:!1,value:function(){throw new Error(se+" is not supported in userland")}})})})(Ese);var ZHe=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"};(function(t){var e={},r=Object.getOwnPropertyDescriptors||function(U){for(var O=Object.keys(U),$={},F=0;F<O.length;F++)$[O[F]]=Object.getOwnPropertyDescriptor(U,O[F]);return $},n=/%[sdj%]/g;t.format=function(D){if(!V(D)){for(var U=[],O=0;O<arguments.length;O++)U.push(a(arguments[O]));return U.join(" ")}for(var O=1,$=arguments,F=$.length,H=String(D).replace(n,function(te){if(te==="%%")return"%";if(O>=F)return te;switch(te){case"%s":return String($[O++]);case"%d":return Number($[O++]);case"%j":try{return JSON.stringify($[O++])}catch{return"[Circular]"}default:return te}}),Q=$[O];O<F;Q=$[++O])M(Q)||!ae(Q)?H+=" "+Q:H+=" "+a(Q);return H},t.deprecate=function(D,U){if(typeof we.process<"u"&&we.process.noDeprecation===!0)return D;if(typeof we.process>"u")return function(){return t.deprecate(D,U).apply(this,arguments)};var O=!1;function $(){if(!O){if(we.process.throwDeprecation)throw new Error(U);we.process.traceDeprecation?console.trace(U):console.error(U),O=!0}return D.apply(this,arguments)}return $};var i={},s=/^$/;if(e.NODE_DEBUG){var o=e.NODE_DEBUG;o=o.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),s=new RegExp("^"+o+"$","i")}t.debuglog=function(D){if(D=D.toUpperCase(),!i[D])if(s.test(D)){var U=we.process.pid;i[D]=function(){var O=t.format.apply(t,arguments);console.error("%s %d: %s",D,U,O)}}else i[D]=function(){};return i[D]};function a(D,U){var O={seen:[],stylize:f};return arguments.length>=3&&(O.depth=arguments[2]),arguments.length>=4&&(O.colors=arguments[3]),R(U)?O.showHidden=U:U&&t._extend(O,U),G(O.showHidden)&&(O.showHidden=!1),G(O.depth)&&(O.depth=2),G(O.colors)&&(O.colors=!1),G(O.customInspect)&&(O.customInspect=!0),O.colors&&(O.stylize=u),g(O,D,O.depth)}t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function u(D,U){var O=a.styles[U];return O?"\x1B["+a.colors[O][0]+"m"+D+"\x1B["+a.colors[O][1]+"m":D}function f(D,U){return D}function d(D){var U={};return D.forEach(function(O,$){U[O]=!0}),U}function g(D,U,O){if(D.customInspect&&U&&h(U.inspect)&&U.inspect!==t.inspect&&!(U.constructor&&U.constructor.prototype===U)){var $=U.inspect(O,D);return V($)||($=g(D,$,O)),$}var F=y(D,U);if(F)return F;var H=Object.keys(U),Q=d(H);if(D.showHidden&&(H=Object.getOwnPropertyNames(U)),c(U)&&(H.indexOf("message")>=0||H.indexOf("description")>=0))return b(U);if(H.length===0){if(h(U)){var te=U.name?": "+U.name:"";return D.stylize("[Function"+te+"]","special")}if(q(U))return D.stylize(RegExp.prototype.toString.call(U),"regexp");if(T(U))return D.stylize(Date.prototype.toString.call(U),"date");if(c(U))return b(U)}var X="",K=!1,oe=["{","}"];if(I(U)&&(K=!0,oe=["[","]"]),h(U)){var _e=U.name?": "+U.name:"";X=" [Function"+_e+"]"}if(q(U)&&(X=" "+RegExp.prototype.toString.call(U)),T(U)&&(X=" "+Date.prototype.toUTCString.call(U)),c(U)&&(X=" "+b(U)),H.length===0&&(!K||U.length==0))return oe[0]+X+oe[1];if(O<0)return q(U)?D.stylize(RegExp.prototype.toString.call(U),"regexp"):D.stylize("[Object]","special");D.seen.push(U);var Se;return K?Se=A(D,U,O,Q,H):Se=H.map(function(W){return x(D,U,O,Q,W,K)}),D.seen.pop(),k(Se,X,oe)}function y(D,U){if(G(U))return D.stylize("undefined","undefined");if(V(U)){var O="'"+JSON.stringify(U).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return D.stylize(O,"string")}if(j(U))return D.stylize(""+U,"number");if(R(U))return D.stylize(""+U,"boolean");if(M(U))return D.stylize("null","null")}function b(D){return"["+Error.prototype.toString.call(D)+"]"}function A(D,U,O,$,F){for(var H=[],Q=0,te=U.length;Q<te;++Q)w(U,String(Q))?H.push(x(D,U,O,$,String(Q),!0)):H.push("");return F.forEach(function(X){X.match(/^\d+$/)||H.push(x(D,U,O,$,X,!0))}),H}function x(D,U,O,$,F,H){var Q,te,X;if(X=Object.getOwnPropertyDescriptor(U,F)||{value:U[F]},X.get?X.set?te=D.stylize("[Getter/Setter]","special"):te=D.stylize("[Getter]","special"):X.set&&(te=D.stylize("[Setter]","special")),w($,F)||(Q="["+F+"]"),te||(D.seen.indexOf(X.value)<0?(M(O)?te=g(D,X.value,null):te=g(D,X.value,O-1),te.indexOf(`
`)>-1&&(H?te=te.split(`
`).map(function(K){return"  "+K}).join(`
`).slice(2):te=`
`+te.split(`
`).map(function(K){return"   "+K}).join(`
`))):te=D.stylize("[Circular]","special")),G(Q)){if(H&&F.match(/^\d+$/))return te;Q=JSON.stringify(""+F),Q.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Q=Q.slice(1,-1),Q=D.stylize(Q,"name")):(Q=Q.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Q=D.stylize(Q,"string"))}return Q+": "+te}function k(D,U,O){var $=D.reduce(function(F,H){return H.indexOf(`
`)>=0,F+H.replace(/\u001b\[\d\d?m/g,"").length+1},0);return $>60?O[0]+(U===""?"":U+`
 `)+" "+D.join(`,
  `)+" "+O[1]:O[0]+U+" "+D.join(", ")+" "+O[1]}t.types=Ese;function I(D){return Array.isArray(D)}t.isArray=I;function R(D){return typeof D=="boolean"}t.isBoolean=R;function M(D){return D===null}t.isNull=M;function P(D){return D==null}t.isNullOrUndefined=P;function j(D){return typeof D=="number"}t.isNumber=j;function V(D){return typeof D=="string"}t.isString=V;function Z(D){return typeof D=="symbol"}t.isSymbol=Z;function G(D){return D===void 0}t.isUndefined=G;function q(D){return ae(D)&&m(D)==="[object RegExp]"}t.isRegExp=q,t.types.isRegExp=q;function ae(D){return typeof D=="object"&&D!==null}t.isObject=ae;function T(D){return ae(D)&&m(D)==="[object Date]"}t.isDate=T,t.types.isDate=T;function c(D){return ae(D)&&(m(D)==="[object Error]"||D instanceof Error)}t.isError=c,t.types.isNativeError=c;function h(D){return typeof D=="function"}t.isFunction=h;function p(D){return D===null||typeof D=="boolean"||typeof D=="number"||typeof D=="string"||typeof D=="symbol"||typeof D>"u"}t.isPrimitive=p,t.isBuffer=ZHe;function m(D){return Object.prototype.toString.call(D)}function v(D){return D<10?"0"+D.toString(10):D.toString(10)}var _=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(){var D=new Date,U=[v(D.getHours()),v(D.getMinutes()),v(D.getSeconds())].join(":");return[D.getDate(),_[D.getMonth()],U].join(" ")}t.log=function(){console.log("%s - %s",E(),t.format.apply(t,arguments))},t.inherits=rr,t._extend=function(D,U){if(!U||!ae(U))return D;for(var O=Object.keys(U),$=O.length;$--;)D[O[$]]=U[O[$]];return D};function w(D,U){return Object.prototype.hasOwnProperty.call(D,U)}var l=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(U){if(typeof U!="function")throw new TypeError('The "original" argument must be of type Function');if(l&&U[l]){var O=U[l];if(typeof O!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(O,l,{value:O,enumerable:!1,writable:!1,configurable:!0}),O}function O(){for(var $,F,H=new Promise(function(X,K){$=X,F=K}),Q=[],te=0;te<arguments.length;te++)Q.push(arguments[te]);Q.push(function(X,K){X?F(X):$(K)});try{U.apply(this,Q)}catch(X){F(X)}return H}return Object.setPrototypeOf(O,Object.getPrototypeOf(U)),l&&Object.defineProperty(O,l,{value:O,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(O,r(U))},t.promisify.custom=l;function S(D,U){if(!D){var O=new Error("Promise was rejected with a falsy value");O.reason=D,D=O}return U(D)}function C(D){if(typeof D!="function")throw new TypeError('The "original" argument must be of type Function');function U(){for(var O=[],$=0;$<arguments.length;$++)O.push(arguments[$]);var F=O.pop();if(typeof F!="function")throw new TypeError("The last argument must be of type Function");var H=this,Q=function(){return F.apply(H,arguments)};D.apply(this,O).then(function(te){we.process.nextTick(Q.bind(null,null,te))},function(te){we.process.nextTick(S.bind(null,te,Q))})}return Object.setPrototypeOf(U,Object.getPrototypeOf(D)),Object.defineProperties(U,r(D)),U}t.callbackify=C})(qb);var Iq;function Vse(){if(Iq)return gM;Iq=1;function t(R){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},t(R)}function e(R,M,P){return Object.defineProperty(R,"prototype",{writable:!1}),R}function r(R,M){if(!(R instanceof M))throw new TypeError("Cannot call a class as a function")}function n(R,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(M&&M.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),M&&i(R,M)}function i(R,M){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,V){return j.__proto__=V,j},i(R,M)}function s(R){var M=u();return function(){var j=f(R),V;if(M){var Z=f(this).constructor;V=Reflect.construct(j,arguments,Z)}else V=j.apply(this,arguments);return o(this,V)}}function o(R,M){if(M&&(t(M)==="object"||typeof M=="function"))return M;if(M!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a(R)}function a(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function u(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function f(R){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)},f(R)}var d={},g,y;function b(R,M,P){P||(P=Error);function j(Z,G,q){return typeof M=="string"?M:M(Z,G,q)}var V=function(Z){n(q,Z);var G=s(q);function q(ae,T,c){var h;return r(this,q),h=G.call(this,j(ae,T,c)),h.code=R,h}return e(q)}(P);d[R]=V}function A(R,M){if(Array.isArray(R)){var P=R.length;return R=R.map(function(j){return String(j)}),P>2?"one of ".concat(M," ").concat(R.slice(0,P-1).join(", "),", or ")+R[P-1]:P===2?"one of ".concat(M," ").concat(R[0]," or ").concat(R[1]):"of ".concat(M," ").concat(R[0])}else return"of ".concat(M," ").concat(String(R))}function x(R,M,P){return R.substr(0,M.length)===M}function k(R,M,P){return(P===void 0||P>R.length)&&(P=R.length),R.substring(P-M.length,P)===M}function I(R,M,P){return typeof P!="number"&&(P=0),P+M.length>R.length?!1:R.indexOf(M,P)!==-1}return b("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),b("ERR_INVALID_ARG_TYPE",function(R,M,P){g===void 0&&(g=Aa()),g(typeof R=="string","'name' must be a string");var j;typeof M=="string"&&x(M,"not ")?(j="must not be",M=M.replace(/^not /,"")):j="must be";var V;if(k(R," argument"))V="The ".concat(R," ").concat(j," ").concat(A(M,"type"));else{var Z=I(R,".")?"property":"argument";V='The "'.concat(R,'" ').concat(Z," ").concat(j," ").concat(A(M,"type"))}return V+=". Received type ".concat(t(P)),V},TypeError),b("ERR_INVALID_ARG_VALUE",function(R,M){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";y===void 0&&(y=qb);var j=y.inspect(M);return j.length>128&&(j="".concat(j.slice(0,128),"...")),"The argument '".concat(R,"' ").concat(P,". Received ").concat(j)},TypeError),b("ERR_INVALID_RETURN_VALUE",function(R,M,P){var j;return P&&P.constructor&&P.constructor.name?j="instance of ".concat(P.constructor.name):j="type ".concat(t(P)),"Expected ".concat(R,' to be returned from the "').concat(M,'"')+" function but got ".concat(j,".")},TypeError),b("ERR_MISSING_ARGS",function(){for(var R=arguments.length,M=new Array(R),P=0;P<R;P++)M[P]=arguments[P];g===void 0&&(g=Aa()),g(M.length>0,"At least one arg needs to be specified");var j="The ",V=M.length;switch(M=M.map(function(Z){return'"'.concat(Z,'"')}),V){case 1:j+="".concat(M[0]," argument");break;case 2:j+="".concat(M[0]," and ").concat(M[1]," arguments");break;default:j+=M.slice(0,V-1).join(", "),j+=", and ".concat(M[V-1]," arguments");break}return"".concat(j," must be specified")},TypeError),gM.codes=d,gM}var MM,Rq;function XHe(){if(Rq)return MM;Rq=1;function t(w,l){var S=Object.keys(w);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(w);l&&(C=C.filter(function(D){return Object.getOwnPropertyDescriptor(w,D).enumerable})),S.push.apply(S,C)}return S}function e(w){for(var l=1;l<arguments.length;l++){var S=arguments[l]!=null?arguments[l]:{};l%2?t(Object(S),!0).forEach(function(C){r(w,C,S[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(S)):t(Object(S)).forEach(function(C){Object.defineProperty(w,C,Object.getOwnPropertyDescriptor(S,C))})}return w}function r(w,l,S){return l=o(l),l in w?Object.defineProperty(w,l,{value:S,enumerable:!0,configurable:!0,writable:!0}):w[l]=S,w}function n(w,l){if(!(w instanceof l))throw new TypeError("Cannot call a class as a function")}function i(w,l){for(var S=0;S<l.length;S++){var C=l[S];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,o(C.key),C)}}function s(w,l,S){return l&&i(w.prototype,l),Object.defineProperty(w,"prototype",{writable:!1}),w}function o(w){var l=a(w,"string");return R(l)==="symbol"?l:String(l)}function a(w,l){if(R(w)!=="object"||w===null)return w;var S=w[Symbol.toPrimitive];if(S!==void 0){var C=S.call(w,l);if(R(C)!=="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(w)}function u(w,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(l&&l.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),Object.defineProperty(w,"prototype",{writable:!1}),l&&k(w,l)}function f(w){var l=A();return function(){var C=I(w),D;if(l){var U=I(this).constructor;D=Reflect.construct(C,arguments,U)}else D=C.apply(this,arguments);return d(this,D)}}function d(w,l){if(l&&(R(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g(w)}function g(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}function y(w){var l=typeof Map=="function"?new Map:void 0;return y=function(C){if(C===null||!x(C))return C;if(typeof C!="function")throw new TypeError("Super expression must either be null or a function");if(typeof l<"u"){if(l.has(C))return l.get(C);l.set(C,D)}function D(){return b(C,arguments,I(this).constructor)}return D.prototype=Object.create(C.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),k(D,C)},y(w)}function b(w,l,S){return A()?b=Reflect.construct.bind():b=function(D,U,O){var $=[null];$.push.apply($,U);var F=Function.bind.apply(D,$),H=new F;return O&&k(H,O.prototype),H},b.apply(null,arguments)}function A(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function x(w){return Function.toString.call(w).indexOf("[native code]")!==-1}function k(w,l){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,D){return C.__proto__=D,C},k(w,l)}function I(w){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)},I(w)}function R(w){"@babel/helpers - typeof";return R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},R(w)}var M=qb,P=M.inspect,j=Vse(),V=j.codes.ERR_INVALID_ARG_TYPE;function Z(w,l,S){return(S===void 0||S>w.length)&&(S=w.length),w.substring(S-l.length,S)===l}function G(w,l){if(l=Math.floor(l),w.length==0||l==0)return"";var S=w.length*l;for(l=Math.floor(Math.log(l)/Math.log(2));l;)w+=w,l--;return w+=w.substring(0,S-w.length),w}var q="",ae="",T="",c="",h={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},p=10;function m(w){var l=Object.keys(w),S=Object.create(Object.getPrototypeOf(w));return l.forEach(function(C){S[C]=w[C]}),Object.defineProperty(S,"message",{value:w.message}),S}function v(w){return P(w,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function _(w,l,S){var C="",D="",U=0,O="",$=!1,F=v(w),H=F.split(`
`),Q=v(l).split(`
`),te=0,X="";if(S==="strictEqual"&&R(w)==="object"&&R(l)==="object"&&w!==null&&l!==null&&(S="strictEqualObject"),H.length===1&&Q.length===1&&H[0]!==Q[0]){var K=H[0].length+Q[0].length;if(K<=p){if((R(w)!=="object"||w===null)&&(R(l)!=="object"||l===null)&&(w!==0||l!==0))return"".concat(h[S],`

`)+"".concat(H[0]," !== ").concat(Q[0],`
`)}else if(S!=="strictEqualObject"){var oe=we.process.stderr&&we.process.stderr.isTTY?we.process.stderr.columns:80;if(K<oe){for(;H[0][te]===Q[0][te];)te++;te>2&&(X=`
  `.concat(G(" ",te),"^"),te=0)}}}for(var _e=H[H.length-1],Se=Q[Q.length-1];_e===Se&&(te++<2?O=`
  `.concat(_e).concat(O):C=_e,H.pop(),Q.pop(),!(H.length===0||Q.length===0));)_e=H[H.length-1],Se=Q[Q.length-1];var W=Math.max(H.length,Q.length);if(W===0){var re=F.split(`
`);if(re.length>30)for(re[26]="".concat(q,"...").concat(c);re.length>27;)re.pop();return"".concat(h.notIdentical,`

`).concat(re.join(`
`),`
`)}te>3&&(O=`
`.concat(q,"...").concat(c).concat(O),$=!0),C!==""&&(O=`
  `.concat(C).concat(O),C="");var ne=0,se=h[S]+`
`.concat(ae,"+ actual").concat(c," ").concat(T,"- expected").concat(c),Te=" ".concat(q,"...").concat(c," Lines skipped");for(te=0;te<W;te++){var be=te-U;if(H.length<te+1)be>1&&te>2&&(be>4?(D+=`
`.concat(q,"...").concat(c),$=!0):be>3&&(D+=`
  `.concat(Q[te-2]),ne++),D+=`
  `.concat(Q[te-1]),ne++),U=te,C+=`
`.concat(T,"-").concat(c," ").concat(Q[te]),ne++;else if(Q.length<te+1)be>1&&te>2&&(be>4?(D+=`
`.concat(q,"...").concat(c),$=!0):be>3&&(D+=`
  `.concat(H[te-2]),ne++),D+=`
  `.concat(H[te-1]),ne++),U=te,D+=`
`.concat(ae,"+").concat(c," ").concat(H[te]),ne++;else{var Ee=Q[te],ut=H[te],le=ut!==Ee&&(!Z(ut,",")||ut.slice(0,-1)!==Ee);le&&Z(Ee,",")&&Ee.slice(0,-1)===ut&&(le=!1,ut+=","),le?(be>1&&te>2&&(be>4?(D+=`
`.concat(q,"...").concat(c),$=!0):be>3&&(D+=`
  `.concat(H[te-2]),ne++),D+=`
  `.concat(H[te-1]),ne++),U=te,D+=`
`.concat(ae,"+").concat(c," ").concat(ut),C+=`
`.concat(T,"-").concat(c," ").concat(Ee),ne+=2):(D+=C,C="",(be===1||te===0)&&(D+=`
  `.concat(ut),ne++))}if(ne>20&&te<W-2)return"".concat(se).concat(Te,`
`).concat(D,`
`).concat(q,"...").concat(c).concat(C,`
`)+"".concat(q,"...").concat(c)}return"".concat(se).concat($?Te:"",`
`).concat(D).concat(C).concat(O).concat(X)}var E=function(w,l){u(C,w);var S=f(C);function C(D){var U;if(n(this,C),R(D)!=="object"||D===null)throw new V("options","Object",D);var O=D.message,$=D.operator,F=D.stackStartFn,H=D.actual,Q=D.expected,te=Error.stackTraceLimit;if(Error.stackTraceLimit=0,O!=null)U=S.call(this,String(O));else if(we.process.stderr&&we.process.stderr.isTTY&&(we.process.stderr&&we.process.stderr.getColorDepth&&we.process.stderr.getColorDepth()!==1?(q="\x1B[34m",ae="\x1B[32m",c="\x1B[39m",T="\x1B[31m"):(q="",ae="",c="",T="")),R(H)==="object"&&H!==null&&R(Q)==="object"&&Q!==null&&"stack"in H&&H instanceof Error&&"stack"in Q&&Q instanceof Error&&(H=m(H),Q=m(Q)),$==="deepStrictEqual"||$==="strictEqual")U=S.call(this,_(H,Q,$));else if($==="notDeepStrictEqual"||$==="notStrictEqual"){var X=h[$],K=v(H).split(`
`);if($==="notStrictEqual"&&R(H)==="object"&&H!==null&&(X=h.notStrictEqualObject),K.length>30)for(K[26]="".concat(q,"...").concat(c);K.length>27;)K.pop();K.length===1?U=S.call(this,"".concat(X," ").concat(K[0])):U=S.call(this,"".concat(X,`

`).concat(K.join(`
`),`
`))}else{var oe=v(H),_e="",Se=h[$];$==="notDeepEqual"||$==="notEqual"?(oe="".concat(h[$],`

`).concat(oe),oe.length>1024&&(oe="".concat(oe.slice(0,1021),"..."))):(_e="".concat(v(Q)),oe.length>512&&(oe="".concat(oe.slice(0,509),"...")),_e.length>512&&(_e="".concat(_e.slice(0,509),"...")),$==="deepEqual"||$==="equal"?oe="".concat(Se,`

`).concat(oe,`

should equal

`):_e=" ".concat($," ").concat(_e)),U=S.call(this,"".concat(oe).concat(_e))}return Error.stackTraceLimit=te,U.generatedMessage=!O,Object.defineProperty(g(U),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),U.code="ERR_ASSERTION",U.actual=H,U.expected=Q,U.operator=$,Error.captureStackTrace&&Error.captureStackTrace(g(U),F),U.stack,U.name="AssertionError",d(U)}return s(C,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:l,value:function(U,O){return P(this,e(e({},O),{},{customInspect:!1,depth:0}))}}]),C}(y(Error),P.custom);return MM=E,MM}var Mq=Object.prototype.toString,Gse=function(e){var r=Mq.call(e),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Mq.call(e.callee)==="[object Function]"),n},CM,Cq;function JHe(){if(Cq)return CM;Cq=1;var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=Gse,i=Object.prototype.propertyIsEnumerable,s=!i.call({toString:null},"toString"),o=i.call(function(){},"prototype"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(y){var b=y.constructor;return b&&b.prototype===y},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if(typeof window>"u")return!1;for(var y in window)try{if(!f["$"+y]&&e.call(window,y)&&window[y]!==null&&typeof window[y]=="object")try{u(window[y])}catch{return!0}}catch{return!0}return!1}(),g=function(y){if(typeof window>"u"||!d)return u(y);try{return u(y)}catch{return!1}};t=function(b){var A=b!==null&&typeof b=="object",x=r.call(b)==="[object Function]",k=n(b),I=A&&r.call(b)==="[object String]",R=[];if(!A&&!x&&!k)throw new TypeError("Object.keys called on a non-object");var M=o&&x;if(I&&b.length>0&&!e.call(b,0))for(var P=0;P<b.length;++P)R.push(String(P));if(k&&b.length>0)for(var j=0;j<b.length;++j)R.push(String(j));else for(var V in b)!(M&&V==="prototype")&&e.call(b,V)&&R.push(String(V));if(s)for(var Z=g(b),G=0;G<a.length;++G)!(Z&&a[G]==="constructor")&&e.call(b,a[G])&&R.push(a[G]);return R}}return CM=t,CM}var QHe=Array.prototype.slice,eqe=Gse,Pq=Object.keys,ox=Pq?function(e){return Pq(e)}:JHe(),Nq=Object.keys;ox.shim=function(){if(Object.keys){var e=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);e||(Object.keys=function(n){return eqe(n)?Nq(QHe.call(n)):Nq(n)})}else Object.keys=ox;return Object.keys||ox};var Yse=ox,tqe=Yse,Zse=yL(),Xse=D1,ax=bL,rqe=Xse("Array.prototype.push"),Bq=Xse("Object.prototype.propertyIsEnumerable"),nqe=Zse?ax.getOwnPropertySymbols:null,iqe=function(e,r){if(e==null)throw new TypeError("target must be an object");var n=ax(e);if(arguments.length===1)return n;for(var i=1;i<arguments.length;++i){var s=ax(arguments[i]),o=tqe(s),a=Zse&&(ax.getOwnPropertySymbols||nqe);if(a)for(var u=a(s),f=0;f<u.length;++f){var d=u[f];Bq(s,d)&&rqe(o,d)}for(var g=0;g<o.length;++g){var y=o[g];if(Bq(s,y)){var b=s[y];n[y]=b}}}return n},PM=iqe,sqe=function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),r={},n=0;n<e.length;++n)r[e[n]]=e[n];var i=Object.assign({},r),s="";for(var o in i)s+=o;return t!==s},oqe=function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch{return t[1]==="y"}return!1},aqe=function(){return!Object.assign||sqe()||oqe()?PM:Object.assign},Oq=function(t){return t!==t},Jse=function(e,r){return e===0&&r===0?1/e===1/r:!!(e===r||Oq(e)&&Oq(r))},uqe=Jse,EL=function(){return typeof Object.is=="function"?Object.is:uqe},Qse=_L,eoe=vT,cqe=eoe(Qse("String.prototype.indexOf")),lqe=function(e,r){var n=Qse(e,!!r);return typeof n=="function"&&cqe(e,".prototype.")>-1?eoe(n):n},NM,Lq;function wT(){if(Lq)return NM;Lq=1;var t=Yse,e=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",r=Object.prototype.toString,n=Array.prototype.concat,i=Wse,s=function(f){return typeof f=="function"&&r.call(f)==="[object Function]"},o=Kse(),a=function(f,d,g,y){if(d in f){if(y===!0){if(f[d]===g)return}else if(!s(y)||!y())return}o?i(f,d,g,!0):i(f,d,g)},u=function(f,d){var g=arguments.length>2?arguments[2]:{},y=t(d);e&&(y=n.call(y,Object.getOwnPropertySymbols(d)));for(var b=0;b<y.length;b+=1)a(f,y[b],d[y[b]],g[y[b]])};return u.supportsDescriptors=!!o,NM=u,NM}var BM,Dq;function fqe(){if(Dq)return BM;Dq=1;var t=EL,e=wT();return BM=function(){var n=t();return e(Object,{is:n},{is:function(){return Object.is!==n}}),n},BM}var OM,Fq;function dqe(){if(Fq)return OM;Fq=1;var t=wT(),e=vT,r=Jse,n=EL,i=fqe(),s=e(n(),Object);return t(s,{getPolyfill:n,implementation:r,shim:i}),OM=s,OM}var LM,$q;function toe(){return $q||($q=1,LM=function(e){return e!==e}),LM}var DM,Uq;function roe(){if(Uq)return DM;Uq=1;var t=toe();return DM=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:t},DM}var FM,zq;function hqe(){if(zq)return FM;zq=1;var t=wT(),e=roe();return FM=function(){var n=e();return t(Number,{isNaN:n},{isNaN:function(){return Number.isNaN!==n}}),n},FM}var $M,Wq;function pqe(){if(Wq)return $M;Wq=1;var t=vT,e=wT(),r=toe(),n=roe(),i=hqe(),s=t(n(),Number);return e(s,{getPolyfill:n,implementation:r,shim:i}),$M=s,$M}var UM,jq;function gqe(){if(jq)return UM;jq=1;function t(le,de){return s(le)||i(le,de)||r(le,de)||e()}function e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r(le,de){if(le){if(typeof le=="string")return n(le,de);var Fe=Object.prototype.toString.call(le).slice(8,-1);if(Fe==="Object"&&le.constructor&&(Fe=le.constructor.name),Fe==="Map"||Fe==="Set")return Array.from(le);if(Fe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Fe))return n(le,de)}}function n(le,de){(de==null||de>le.length)&&(de=le.length);for(var Fe=0,ee=new Array(de);Fe<de;Fe++)ee[Fe]=le[Fe];return ee}function i(le,de){var Fe=le==null?null:typeof Symbol<"u"&&le[Symbol.iterator]||le["@@iterator"];if(Fe!=null){var ee,z,J,ie,fe=[],ke=!0,ve=!1;try{if(J=(Fe=Fe.call(le)).next,de!==0)for(;!(ke=(ee=J.call(Fe)).done)&&(fe.push(ee.value),fe.length!==de);ke=!0);}catch(Ne){ve=!0,z=Ne}finally{try{if(!ke&&Fe.return!=null&&(ie=Fe.return(),Object(ie)!==ie))return}finally{if(ve)throw z}}return fe}}function s(le){if(Array.isArray(le))return le}function o(le){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(de){return typeof de}:function(de){return de&&typeof Symbol=="function"&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de},o(le)}var a=/a/g.flags!==void 0,u=function(de){var Fe=[];return de.forEach(function(ee){return Fe.push(ee)}),Fe},f=function(de){var Fe=[];return de.forEach(function(ee,z){return Fe.push([z,ee])}),Fe},d=Object.is?Object.is:dqe(),g=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},y=Number.isNaN?Number.isNaN:pqe();function b(le){return le.call.bind(le)}var A=b(Object.prototype.hasOwnProperty),x=b(Object.prototype.propertyIsEnumerable),k=b(Object.prototype.toString),I=qb.types,R=I.isAnyArrayBuffer,M=I.isArrayBufferView,P=I.isDate,j=I.isMap,V=I.isRegExp,Z=I.isSet,G=I.isNativeError,q=I.isBoxedPrimitive,ae=I.isNumberObject,T=I.isStringObject,c=I.isBooleanObject,h=I.isBigIntObject,p=I.isSymbolObject,m=I.isFloat32Array,v=I.isFloat64Array;function _(le){if(le.length===0||le.length>10)return!0;for(var de=0;de<le.length;de++){var Fe=le.charCodeAt(de);if(Fe<48||Fe>57)return!0}return le.length===10&&le>=Math.pow(2,32)}function E(le){return Object.keys(le).filter(_).concat(g(le).filter(Object.prototype.propertyIsEnumerable.bind(le)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function w(le,de){if(le===de)return 0;for(var Fe=le.length,ee=de.length,z=0,J=Math.min(Fe,ee);z<J;++z)if(le[z]!==de[z]){Fe=le[z],ee=de[z];break}return Fe<ee?-1:ee<Fe?1:0}var l=!0,S=!1,C=0,D=1,U=2,O=3;function $(le,de){return a?le.source===de.source&&le.flags===de.flags:RegExp.prototype.toString.call(le)===RegExp.prototype.toString.call(de)}function F(le,de){if(le.byteLength!==de.byteLength)return!1;for(var Fe=0;Fe<le.byteLength;Fe++)if(le[Fe]!==de[Fe])return!1;return!0}function H(le,de){return le.byteLength!==de.byteLength?!1:w(new Uint8Array(le.buffer,le.byteOffset,le.byteLength),new Uint8Array(de.buffer,de.byteOffset,de.byteLength))===0}function Q(le,de){return le.byteLength===de.byteLength&&w(new Uint8Array(le),new Uint8Array(de))===0}function te(le,de){return ae(le)?ae(de)&&d(Number.prototype.valueOf.call(le),Number.prototype.valueOf.call(de)):T(le)?T(de)&&String.prototype.valueOf.call(le)===String.prototype.valueOf.call(de):c(le)?c(de)&&Boolean.prototype.valueOf.call(le)===Boolean.prototype.valueOf.call(de):h(le)?h(de)&&BigInt.prototype.valueOf.call(le)===BigInt.prototype.valueOf.call(de):p(de)&&Symbol.prototype.valueOf.call(le)===Symbol.prototype.valueOf.call(de)}function X(le,de,Fe,ee){if(le===de)return le!==0?!0:Fe?d(le,de):!0;if(Fe){if(o(le)!=="object")return typeof le=="number"&&y(le)&&y(de);if(o(de)!=="object"||le===null||de===null||Object.getPrototypeOf(le)!==Object.getPrototypeOf(de))return!1}else{if(le===null||o(le)!=="object")return de===null||o(de)!=="object"?le==de:!1;if(de===null||o(de)!=="object")return!1}var z=k(le),J=k(de);if(z!==J)return!1;if(Array.isArray(le)){if(le.length!==de.length)return!1;var ie=E(le),fe=E(de);return ie.length!==fe.length?!1:oe(le,de,Fe,ee,D,ie)}if(z==="[object Object]"&&(!j(le)&&j(de)||!Z(le)&&Z(de)))return!1;if(P(le)){if(!P(de)||Date.prototype.getTime.call(le)!==Date.prototype.getTime.call(de))return!1}else if(V(le)){if(!V(de)||!$(le,de))return!1}else if(G(le)||le instanceof Error){if(le.message!==de.message||le.name!==de.name)return!1}else if(M(le)){if(!Fe&&(m(le)||v(le))){if(!F(le,de))return!1}else if(!H(le,de))return!1;var ke=E(le),ve=E(de);return ke.length!==ve.length?!1:oe(le,de,Fe,ee,C,ke)}else{if(Z(le))return!Z(de)||le.size!==de.size?!1:oe(le,de,Fe,ee,U);if(j(le))return!j(de)||le.size!==de.size?!1:oe(le,de,Fe,ee,O);if(R(le)){if(!Q(le,de))return!1}else if(q(le)&&!te(le,de))return!1}return oe(le,de,Fe,ee,C)}function K(le,de){return de.filter(function(Fe){return x(le,Fe)})}function oe(le,de,Fe,ee,z,J){if(arguments.length===5){J=Object.keys(le);var ie=Object.keys(de);if(J.length!==ie.length)return!1}for(var fe=0;fe<J.length;fe++)if(!A(de,J[fe]))return!1;if(Fe&&arguments.length===5){var ke=g(le);if(ke.length!==0){var ve=0;for(fe=0;fe<ke.length;fe++){var Ne=ke[fe];if(x(le,Ne)){if(!x(de,Ne))return!1;J.push(Ne),ve++}else if(x(de,Ne))return!1}var kt=g(de);if(ke.length!==kt.length&&K(de,kt).length!==ve)return!1}else{var Be=g(de);if(Be.length!==0&&K(de,Be).length!==0)return!1}}if(J.length===0&&(z===C||z===D&&le.length===0||le.size===0))return!0;if(ee===void 0)ee={val1:new Map,val2:new Map,position:0};else{var Le=ee.val1.get(le);if(Le!==void 0){var yt=ee.val2.get(de);if(yt!==void 0)return Le===yt}ee.position++}ee.val1.set(le,ee.position),ee.val2.set(de,ee.position);var $e=be(le,de,Fe,J,ee,z);return ee.val1.delete(le),ee.val2.delete(de),$e}function _e(le,de,Fe,ee){for(var z=u(le),J=0;J<z.length;J++){var ie=z[J];if(X(de,ie,Fe,ee))return le.delete(ie),!0}return!1}function Se(le){switch(o(le)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":le=+le;case"number":if(y(le))return!1}return!0}function W(le,de,Fe){var ee=Se(Fe);return ee??(de.has(ee)&&!le.has(ee))}function re(le,de,Fe,ee,z){var J=Se(Fe);if(J!=null)return J;var ie=de.get(J);return ie===void 0&&!de.has(J)||!X(ee,ie,!1,z)?!1:!le.has(J)&&X(ee,ie,!1,z)}function ne(le,de,Fe,ee){for(var z=null,J=u(le),ie=0;ie<J.length;ie++){var fe=J[ie];if(o(fe)==="object"&&fe!==null)z===null&&(z=new Set),z.add(fe);else if(!de.has(fe)){if(Fe||!W(le,de,fe))return!1;z===null&&(z=new Set),z.add(fe)}}if(z!==null){for(var ke=u(de),ve=0;ve<ke.length;ve++){var Ne=ke[ve];if(o(Ne)==="object"&&Ne!==null){if(!_e(z,Ne,Fe,ee))return!1}else if(!Fe&&!le.has(Ne)&&!_e(z,Ne,Fe,ee))return!1}return z.size===0}return!0}function se(le,de,Fe,ee,z,J){for(var ie=u(le),fe=0;fe<ie.length;fe++){var ke=ie[fe];if(X(Fe,ke,z,J)&&X(ee,de.get(ke),z,J))return le.delete(ke),!0}return!1}function Te(le,de,Fe,ee){for(var z=null,J=f(le),ie=0;ie<J.length;ie++){var fe=t(J[ie],2),ke=fe[0],ve=fe[1];if(o(ke)==="object"&&ke!==null)z===null&&(z=new Set),z.add(ke);else{var Ne=de.get(ke);if(Ne===void 0&&!de.has(ke)||!X(ve,Ne,Fe,ee)){if(Fe||!re(le,de,ke,ve,ee))return!1;z===null&&(z=new Set),z.add(ke)}}}if(z!==null){for(var kt=f(de),Be=0;Be<kt.length;Be++){var Le=t(kt[Be],2),yt=Le[0],$e=Le[1];if(o(yt)==="object"&&yt!==null){if(!se(z,le,yt,$e,Fe,ee))return!1}else if(!Fe&&(!le.has(yt)||!X(le.get(yt),$e,!1,ee))&&!se(z,le,yt,$e,!1,ee))return!1}return z.size===0}return!0}function be(le,de,Fe,ee,z,J){var ie=0;if(J===U){if(!ne(le,de,Fe,z))return!1}else if(J===O){if(!Te(le,de,Fe,z))return!1}else if(J===D)for(;ie<le.length;ie++)if(A(le,ie)){if(!A(de,ie)||!X(le[ie],de[ie],Fe,z))return!1}else{if(A(de,ie))return!1;for(var fe=Object.keys(le);ie<fe.length;ie++){var ke=fe[ie];if(!A(de,ke)||!X(le[ke],de[ke],Fe,z))return!1}return fe.length===Object.keys(de).length}for(ie=0;ie<ee.length;ie++){var ve=ee[ie];if(!X(le[ve],de[ve],Fe,z))return!1}return!0}function Ee(le,de){return X(le,de,S)}function ut(le,de){return X(le,de,l)}return UM={isDeepEqual:Ee,isDeepStrictEqual:ut},UM}var Kq;function Aa(){if(Kq)return pM.exports;Kq=1;function t(U){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},t(U)}function e(U,O,$){return Object.defineProperty(U,"prototype",{writable:!1}),U}function r(U,O){if(!(U instanceof O))throw new TypeError("Cannot call a class as a function")}var n=Vse(),i=n.codes,s=i.ERR_AMBIGUOUS_ARGUMENT,o=i.ERR_INVALID_ARG_TYPE,a=i.ERR_INVALID_ARG_VALUE,u=i.ERR_INVALID_RETURN_VALUE,f=i.ERR_MISSING_ARGS,d=XHe(),g=qb,y=g.inspect,b=qb.types,A=b.isPromise,x=b.isRegExp,k=aqe(),I=EL(),R=lqe("RegExp.prototype.test"),M,P;function j(){var U=gqe();M=U.isDeepEqual,P=U.isDeepStrictEqual}var V=!1,Z=pM.exports=c,G={};function q(U){throw U.message instanceof Error?U.message:new d(U)}function ae(U,O,$,F,H){var Q=arguments.length,te;if(Q===0)te="Failed";else if(Q===1)$=U,U=void 0;else{if(V===!1){V=!0;var X=we.process.emitWarning?we.process.emitWarning:console.warn.bind(console);X("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}Q===2&&(F="!=")}if($ instanceof Error)throw $;var K={actual:U,expected:O,operator:F===void 0?"fail":F,stackStartFn:H||ae};$!==void 0&&(K.message=$);var oe=new d(K);throw te&&(oe.message=te,oe.generatedMessage=!0),oe}Z.fail=ae,Z.AssertionError=d;function T(U,O,$,F){if(!$){var H=!1;if(O===0)H=!0,F="No value argument passed to `assert.ok()`";else if(F instanceof Error)throw F;var Q=new d({actual:$,expected:!0,message:F,operator:"==",stackStartFn:U});throw Q.generatedMessage=H,Q}}function c(){for(var U=arguments.length,O=new Array(U),$=0;$<U;$++)O[$]=arguments[$];T.apply(void 0,[c,O.length].concat(O))}Z.ok=c,Z.equal=function U(O,$,F){if(arguments.length<2)throw new f("actual","expected");O!=$&&q({actual:O,expected:$,message:F,operator:"==",stackStartFn:U})},Z.notEqual=function U(O,$,F){if(arguments.length<2)throw new f("actual","expected");O==$&&q({actual:O,expected:$,message:F,operator:"!=",stackStartFn:U})},Z.deepEqual=function U(O,$,F){if(arguments.length<2)throw new f("actual","expected");M===void 0&&j(),M(O,$)||q({actual:O,expected:$,message:F,operator:"deepEqual",stackStartFn:U})},Z.notDeepEqual=function U(O,$,F){if(arguments.length<2)throw new f("actual","expected");M===void 0&&j(),M(O,$)&&q({actual:O,expected:$,message:F,operator:"notDeepEqual",stackStartFn:U})},Z.deepStrictEqual=function U(O,$,F){if(arguments.length<2)throw new f("actual","expected");M===void 0&&j(),P(O,$)||q({actual:O,expected:$,message:F,operator:"deepStrictEqual",stackStartFn:U})},Z.notDeepStrictEqual=h;function h(U,O,$){if(arguments.length<2)throw new f("actual","expected");M===void 0&&j(),P(U,O)&&q({actual:U,expected:O,message:$,operator:"notDeepStrictEqual",stackStartFn:h})}Z.strictEqual=function U(O,$,F){if(arguments.length<2)throw new f("actual","expected");I(O,$)||q({actual:O,expected:$,message:F,operator:"strictEqual",stackStartFn:U})},Z.notStrictEqual=function U(O,$,F){if(arguments.length<2)throw new f("actual","expected");I(O,$)&&q({actual:O,expected:$,message:F,operator:"notStrictEqual",stackStartFn:U})};var p=e(function U(O,$,F){var H=this;r(this,U),$.forEach(function(Q){Q in O&&(F!==void 0&&typeof F[Q]=="string"&&x(O[Q])&&R(O[Q],F[Q])?H[Q]=F[Q]:H[Q]=O[Q])})});function m(U,O,$,F,H,Q){if(!($ in U)||!P(U[$],O[$])){if(!F){var te=new p(U,H),X=new p(O,H,U),K=new d({actual:te,expected:X,operator:"deepStrictEqual",stackStartFn:Q});throw K.actual=U,K.expected=O,K.operator=Q.name,K}q({actual:U,expected:O,message:F,operator:Q.name,stackStartFn:Q})}}function v(U,O,$,F){if(typeof O!="function"){if(x(O))return R(O,U);if(arguments.length===2)throw new o("expected",["Function","RegExp"],O);if(t(U)!=="object"||U===null){var H=new d({actual:U,expected:O,message:$,operator:"deepStrictEqual",stackStartFn:F});throw H.operator=F.name,H}var Q=Object.keys(O);if(O instanceof Error)Q.push("name","message");else if(Q.length===0)throw new a("error",O,"may not be an empty object");return M===void 0&&j(),Q.forEach(function(te){typeof U[te]=="string"&&x(O[te])&&R(O[te],U[te])||m(U,O,te,$,Q,F)}),!0}return O.prototype!==void 0&&U instanceof O?!0:Error.isPrototypeOf(O)?!1:O.call({},U)===!0}function _(U){if(typeof U!="function")throw new o("fn","Function",U);try{U()}catch(O){return O}return G}function E(U){return A(U)||U!==null&&t(U)==="object"&&typeof U.then=="function"&&typeof U.catch=="function"}function w(U){return Promise.resolve().then(function(){var O;if(typeof U=="function"){if(O=U(),!E(O))throw new u("instance of Promise","promiseFn",O)}else if(E(U))O=U;else throw new o("promiseFn",["Function","Promise"],U);return Promise.resolve().then(function(){return O}).then(function(){return G}).catch(function($){return $})})}function l(U,O,$,F){if(typeof $=="string"){if(arguments.length===4)throw new o("error",["Object","Error","Function","RegExp"],$);if(t(O)==="object"&&O!==null){if(O.message===$)throw new s("error/message",'The error message "'.concat(O.message,'" is identical to the message.'))}else if(O===$)throw new s("error/message",'The error "'.concat(O,'" is identical to the message.'));F=$,$=void 0}else if($!=null&&t($)!=="object"&&typeof $!="function")throw new o("error",["Object","Error","Function","RegExp"],$);if(O===G){var H="";$&&$.name&&(H+=" (".concat($.name,")")),H+=F?": ".concat(F):".";var Q=U.name==="rejects"?"rejection":"exception";q({actual:void 0,expected:$,operator:U.name,message:"Missing expected ".concat(Q).concat(H),stackStartFn:U})}if($&&!v(O,$,F,U))throw O}function S(U,O,$,F){if(O!==G){if(typeof $=="string"&&(F=$,$=void 0),!$||v(O,$)){var H=F?": ".concat(F):".",Q=U.name==="doesNotReject"?"rejection":"exception";q({actual:O,expected:$,operator:U.name,message:"Got unwanted ".concat(Q).concat(H,`
`)+'Actual message: "'.concat(O&&O.message,'"'),stackStartFn:U})}throw O}}Z.throws=function U(O){for(var $=arguments.length,F=new Array($>1?$-1:0),H=1;H<$;H++)F[H-1]=arguments[H];l.apply(void 0,[U,_(O)].concat(F))},Z.rejects=function U(O){for(var $=arguments.length,F=new Array($>1?$-1:0),H=1;H<$;H++)F[H-1]=arguments[H];return w(O).then(function(Q){return l.apply(void 0,[U,Q].concat(F))})},Z.doesNotThrow=function U(O){for(var $=arguments.length,F=new Array($>1?$-1:0),H=1;H<$;H++)F[H-1]=arguments[H];S.apply(void 0,[U,_(O)].concat(F))},Z.doesNotReject=function U(O){for(var $=arguments.length,F=new Array($>1?$-1:0),H=1;H<$;H++)F[H-1]=arguments[H];return w(O).then(function(Q){return S.apply(void 0,[U,Q].concat(F))})},Z.ifError=function U(O){if(O!=null){var $="ifError got unwanted exception: ";t(O)==="object"&&typeof O.message=="string"?O.message.length===0&&O.constructor?$+=O.constructor.name:$+=O.message:$+=y(O);var F=new d({actual:O,expected:null,operator:"ifError",message:$,stackStartFn:U}),H=O.stack;if(typeof H=="string"){var Q=H.split(`
`);Q.shift();for(var te=F.stack.split(`
`),X=0;X<Q.length;X++){var K=te.indexOf(Q[X]);if(K!==-1){te=te.slice(0,K);break}}F.stack="".concat(te.join(`
`),`
`).concat(Q.join(`
`))}throw F}};function C(U,O,$,F,H){if(!x(O))throw new o("regexp","RegExp",O);var Q=H==="match";if(typeof U!="string"||R(O,U)!==Q){if($ instanceof Error)throw $;var te=!$;$=$||(typeof U!="string"?'The "string" argument must be of type string. Received type '+"".concat(t(U)," (").concat(y(U),")"):(Q?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(y(O),`. Input:

`).concat(y(U),`
`));var X=new d({actual:U,expected:O,message:$,operator:H,stackStartFn:F});throw X.generatedMessage=te,X}}Z.match=function U(O,$,F){C(O,$,F,U,"match")},Z.doesNotMatch=function U(O,$,F){C(O,$,F,U,"doesNotMatch")};function D(){for(var U=arguments.length,O=new Array(U),$=0;$<U;$++)O[$]=arguments[$];T.apply(void 0,[D,O.length].concat(O))}return Z.strict=k(D,Z,{equal:Z.strictEqual,deepEqual:Z.deepStrictEqual,notEqual:Z.notStrictEqual,notDeepEqual:Z.notDeepStrictEqual}),Z.strict.strict=Z.strict,pM.exports}Object.defineProperty(on,"__esModule",{value:!0});on.isElementCollectionFixedSizeBeet=on.isFixableBeet=on.assertFixedSizeBeet=on.isFixedSizeBeet=on.BEET_TYPE_ARG_INNER=on.BEET_TYPE_ARG_LEN=on.BEET_PACKAGE=void 0;const mqe=Aa();on.BEET_PACKAGE="@metaplex-foundation/beet";on.BEET_TYPE_ARG_LEN="len";on.BEET_TYPE_ARG_INNER="Beet<{innner}>";function noe(t){return Object.keys(t).includes("byteSize")}on.isFixedSizeBeet=noe;function yqe(t,e=`${t} should have been a fixed beet`){(0,mqe.strict)(noe(t),e)}on.assertFixedSizeBeet=yqe;function bqe(t){return typeof t.toFixedFromData=="function"&&typeof t.toFixedFromValue=="function"}on.isFixableBeet=bqe;function vqe(t){const e=Object.keys(t);return e.includes("length")&&e.includes("elementByteSize")&&e.includes("lenPrefixByteSize")}on.isElementCollectionFixedSizeBeet=vqe;var Rh={};(function(t){var e=St&&St.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(t,"__esModule",{value:!0}),t.numbersTypeMap=t.bool=t.i512=t.i256=t.i128=t.i64=t.i32=t.i16=t.i8=t.u512=t.u256=t.u128=t.u64=t.u32=t.u16=t.u8=void 0;const r=e(Z0),n=on;t.u8={write:function(o,a,u){o.writeUInt8(u,a)},read:function(o,a){return o.readUInt8(a)},byteSize:1,description:"u8"},t.u16={write:function(o,a,u){o.writeUInt16LE(u,a)},read:function(o,a){return o.readUInt16LE(a)},byteSize:2,description:"u16"},t.u32={write:function(o,a,u){o.writeUInt32LE(u,a)},read:function(o,a){return o.readUInt32LE(a)},byteSize:4,description:"u32"};function i(o,a){return{write:function(u,f,d){const y=(r.default.isBN(d)?d:new r.default(d)).toArray("le",this.byteSize);we.Buffer.from(y).copy(u,f,0,this.byteSize)},read:function(u,f){const d=u.slice(f,f+this.byteSize);return new r.default(d,"le")},byteSize:o,description:a}}t.u64=i(8,"u64"),t.u128=i(16,"u128"),t.u256=i(32,"u256"),t.u512=i(64,"u512"),t.i8={write:function(o,a,u){o.writeInt8(u,a)},read:function(o,a){return o.readInt8(a)},byteSize:1,description:"i8"},t.i16={write:function(o,a,u){o.writeInt16LE(u,a)},read:function(o,a){return o.readInt16LE(a)},byteSize:2,description:"i16"},t.i32={write:function(o,a,u){o.writeInt32LE(u,a)},read:function(o,a){return o.readInt32LE(a)},byteSize:4,description:"i32"};function s(o,a){const u=o*8;return{write:function(f,d,g){const b=(r.default.isBN(g)?g:new r.default(g)).toTwos(u).toArray("le",this.byteSize);we.Buffer.from(b).copy(f,d,0,this.byteSize)},read:function(f,d){const g=f.slice(d,d+this.byteSize);return new r.default(g,"le").fromTwos(u)},byteSize:o,description:a}}t.i64=s(8,"i64"),t.i128=s(16,"i128"),t.i256=s(32,"i256"),t.i512=s(64,"i512"),t.bool={write:function(o,a,u){const f=u?1:0;t.u8.write(o,a,f)},read:function(o,a){return t.u8.read(o,a)===1},byteSize:1,description:"bool"},t.numbersTypeMap={u8:{beet:"u8",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"number"},u16:{beet:"u16",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"number"},u32:{beet:"u32",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"number"},i8:{beet:"i8",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"number"},i16:{beet:"i16",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"number"},i32:{beet:"i32",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"number"},bool:{beet:"bool",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"boolean"},u64:{beet:"u64",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"bignum",pack:n.BEET_PACKAGE},u128:{beet:"u128",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"bignum",pack:n.BEET_PACKAGE},u256:{beet:"u256",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"bignum",pack:n.BEET_PACKAGE},u512:{beet:"u512",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"bignum",pack:n.BEET_PACKAGE},i64:{beet:"i64",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"bignum",pack:n.BEET_PACKAGE},i128:{beet:"i128",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"bignum",pack:n.BEET_PACKAGE},i256:{beet:"i256",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"bignum",pack:n.BEET_PACKAGE},i512:{beet:"i512",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"bignum",pack:n.BEET_PACKAGE}}})(Rh);var Zn={},f5={exports:{}},zM,Hq;function wqe(){if(Hq)return zM;Hq=1;var t=1e3,e=t*60,r=e*60,n=r*24,i=n*7,s=n*365.25;zM=function(d,g){g=g||{};var y=typeof d;if(y==="string"&&d.length>0)return o(d);if(y==="number"&&isFinite(d))return g.long?u(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function o(d){if(d=String(d),!(d.length>100)){var g=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(g){var y=parseFloat(g[1]),b=(g[2]||"ms").toLowerCase();switch(b){case"years":case"year":case"yrs":case"yr":case"y":return y*s;case"weeks":case"week":case"w":return y*i;case"days":case"day":case"d":return y*n;case"hours":case"hour":case"hrs":case"hr":case"h":return y*r;case"minutes":case"minute":case"mins":case"min":case"m":return y*e;case"seconds":case"second":case"secs":case"sec":case"s":return y*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return y;default:return}}}}function a(d){var g=Math.abs(d);return g>=n?Math.round(d/n)+"d":g>=r?Math.round(d/r)+"h":g>=e?Math.round(d/e)+"m":g>=t?Math.round(d/t)+"s":d+"ms"}function u(d){var g=Math.abs(d);return g>=n?f(d,g,n,"day"):g>=r?f(d,g,r,"hour"):g>=e?f(d,g,e,"minute"):g>=t?f(d,g,t,"second"):d+" ms"}function f(d,g,y,b){var A=g>=y*1.5;return Math.round(d/y)+" "+b+(A?"s":"")}return zM}function Sqe(t){r.debug=r,r.default=r,r.coerce=u,r.disable=o,r.enable=i,r.enabled=a,r.humanize=wqe(),r.destroy=f,Object.keys(t).forEach(d=>{r[d]=t[d]}),r.names=[],r.skips=[],r.formatters={};function e(d){let g=0;for(let y=0;y<d.length;y++)g=(g<<5)-g+d.charCodeAt(y),g|=0;return r.colors[Math.abs(g)%r.colors.length]}r.selectColor=e;function r(d){let g,y=null,b,A;function x(...k){if(!x.enabled)return;const I=x,R=Number(new Date),M=R-(g||R);I.diff=M,I.prev=g,I.curr=R,g=R,k[0]=r.coerce(k[0]),typeof k[0]!="string"&&k.unshift("%O");let P=0;k[0]=k[0].replace(/%([a-zA-Z%])/g,(V,Z)=>{if(V==="%%")return"%";P++;const G=r.formatters[Z];if(typeof G=="function"){const q=k[P];V=G.call(I,q),k.splice(P,1),P--}return V}),r.formatArgs.call(I,k),(I.log||r.log).apply(I,k)}return x.namespace=d,x.useColors=r.useColors(),x.color=r.selectColor(d),x.extend=n,x.destroy=r.destroy,Object.defineProperty(x,"enabled",{enumerable:!0,configurable:!1,get:()=>y!==null?y:(b!==r.namespaces&&(b=r.namespaces,A=r.enabled(d)),A),set:k=>{y=k}}),typeof r.init=="function"&&r.init(x),x}function n(d,g){const y=r(this.namespace+(typeof g>"u"?":":g)+d);return y.log=this.log,y}function i(d){r.save(d),r.namespaces=d,r.names=[],r.skips=[];const g=(typeof d=="string"?d:"").trim().replace(" ",",").split(",").filter(Boolean);for(const y of g)y[0]==="-"?r.skips.push(y.slice(1)):r.names.push(y)}function s(d,g){let y=0,b=0,A=-1,x=0;for(;y<d.length;)if(b<g.length&&(g[b]===d[y]||g[b]==="*"))g[b]==="*"?(A=b,x=y,b++):(y++,b++);else if(A!==-1)b=A+1,x++,y=x;else return!1;for(;b<g.length&&g[b]==="*";)b++;return b===g.length}function o(){const d=[...r.names,...r.skips.map(g=>"-"+g)].join(",");return r.enable(""),d}function a(d){for(const g of r.skips)if(s(d,g))return!1;for(const g of r.names)if(s(d,g))return!0;return!1}function u(d){return d instanceof Error?d.stack||d.message:d}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var _qe=Sqe;(function(t,e){var r={};e.formatArgs=i,e.save=s,e.load=o,e.useColors=n,e.storage=a(),e.destroy=(()=>{let f=!1;return()=>{f||(f=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let f;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(f=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(f[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(f){if(f[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+f[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const d="color: "+this.color;f.splice(1,0,d,"color: inherit");let g=0,y=0;f[0].replace(/%[a-zA-Z%]/g,b=>{b!=="%%"&&(g++,b==="%c"&&(y=g))}),f.splice(y,0,d)}e.log=console.debug||console.log||(()=>{});function s(f){try{f?e.storage.setItem("debug",f):e.storage.removeItem("debug")}catch{}}function o(){let f;try{f=e.storage.getItem("debug")}catch{}return!f&&typeof we.process<"u"&&"env"in we.process&&(f=r.DEBUG),f}function a(){try{return localStorage}catch{}}t.exports=_qe(e);const{formatters:u}=t.exports;u.j=function(f){try{return JSON.stringify(f)}catch(d){return"[UnexpectedJSONParseError]: "+d.message}}})(f5,f5.exports);var ioe=f5.exports,qq={white:37,black:30,blue:34,cyan:36,green:32,magenta:35,red:31,yellow:33,brightBlack:90,brightRed:91,brightGreen:92,brightYellow:93,brightBlue:94,brightMagenta:95,brightCyan:96,brightWhite:97},Vq={bgBlack:40,bgRed:41,bgGreen:42,bgYellow:43,bgBlue:44,bgMagenta:45,bgCyan:46,bgWhite:47,bgBrightBlack:100,bgBrightRed:101,bgBrightGreen:102,bgBrightYellow:103,bgBrightBlue:104,bgBrightMagenta:105,bgBrightCyan:106,bgBrightWhite:107},kL={},TL={},D_={};Object.keys(qq).forEach(function(t){var e=kL[t]="\x1B["+qq[t]+"m",r=TL[t]="\x1B[39m";D_[t]=function(n){return e+n+r}});Object.keys(Vq).forEach(function(t){var e=kL[t]="\x1B["+Vq[t]+"m",r=TL[t]="\x1B[49m";D_[t]=function(n){return e+n+r}});var soe=D_;D_.open=kL;D_.close=TL;var ooe=St&&St.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zn,"__esModule",{value:!0});Zn.UnreachableCaseError=Zn.stringify=Zn.bytes=Zn.beetBytes=Zn.logTrace=Zn.logDebug=Zn.logInfo=Zn.logError=void 0;const ST=ooe(ioe),Aqe=ooe(soe),Gq=on,{brightBlack:aoe}=Aqe.default;Zn.logError=(0,ST.default)("beet:error");Zn.logInfo=(0,ST.default)("beet:info");Zn.logDebug=(0,ST.default)("beet:debug");Zn.logTrace=(0,ST.default)("beet:trace");function xqe(t,e=!1){let r;if((0,Gq.isFixableBeet)(t))r="? B";else if((0,Gq.isElementCollectionFixedSizeBeet)(t)){const n=e?"length":t.length,i=t.lenPrefixByteSize;r=i>0?`${i} + (${t.elementByteSize} * ${n}) B  (${t.byteSize} B)`:`(${t.elementByteSize} * ${n}) B (${t.byteSize} B)`}else r=`${t.byteSize} B`;return aoe(r)}Zn.beetBytes=xqe;function Eqe(t){return aoe(`${t} B`)}Zn.bytes=Eqe;function kqe(t){return t.toString==="function"?t.toString():t}Zn.stringify=kqe;class Tqe extends Error{constructor(e){super(`Unreachable case: ${e}`)}}Zn.UnreachableCaseError=Tqe;var yl={};Object.defineProperty(yl,"__esModule",{value:!0});yl.fixBeetFromValue=yl.fixBeetFromData=void 0;const BE=on,uoe=Zn;function Iqe(t,e,r){if((0,BE.isFixedSizeBeet)(t))return t;if((0,BE.isFixableBeet)(t))return t.toFixedFromData(e,r);throw new uoe.UnreachableCaseError(t)}yl.fixBeetFromData=Iqe;function Rqe(t,e){if((0,BE.isFixedSizeBeet)(t))return t;if((0,BE.isFixableBeet)(t))return t.toFixedFromValue(e);throw new uoe.UnreachableCaseError(t)}yl.fixBeetFromValue=Rqe;Object.defineProperty(ls,"__esModule",{value:!0});ls.collectionsTypeMap=ls.uint8Array=ls.fixedSizeUint8Array=ls.fixedSizeBuffer=ls.array=ls.fixedSizeArray=ls.uniformFixedSizeArray=void 0;const Lg=on,L0=Aa(),Mh=Rh,Dg=on,coe=Zn,Yq=yl;function Mqe(t,e,r=!1){const n=t.byteSize*e,i=r?4+n:n;return{write:function(s,o,a){L0.strict.equal(a.length,e,`array length ${a.length} should match len ${e}`),r&&(Mh.u32.write(s,o,e),o+=4);for(let u=0;u<e;u++)t.write(s,o+u*t.byteSize,a[u])},read:function(s,o){if(r){const u=Mh.u32.read(s,o);L0.strict.equal(u,e,"invalid byte size"),o+=4}const a=new Array(e);for(let u=0;u<e;u++)a[u]=t.read(s,o+u*t.byteSize);return a},byteSize:i,length:e,elementByteSize:t.byteSize,lenPrefixByteSize:4,description:`Array<${t.description}>(${e})`}}ls.uniformFixedSizeArray=Mqe;function d5(t,e){const r=t.length,n=r===0?"<EMPTY>":t[0].description;return{write:function(i,s,o){L0.strict.equal(o.length,r,`array length ${o.length} should match len ${r}`),Mh.u32.write(i,s,r);let a=s+4;for(let u=0;u<r;u++){const f=t[u];f.write(i,a,o[u]),a+=f.byteSize}},read:function(i,s){const o=Mh.u32.read(i,s);L0.strict.equal(o,r,"invalid byte size");let a=s+4;const u=new Array(r);for(let f=0;f<r;f++){const d=t[f];u[f]=d.read(i,a),a+=d.byteSize}return u},byteSize:4+e,length:r,description:`Array<${n}>(${r})[ 4 + ${e} ]`}}ls.fixedSizeArray=d5;function Cqe(t){return{toFixedFromData(e,r){const n=Mh.u32.read(e,r);(0,coe.logTrace)(`${this.description}[${n}]`);const i=r+4;let s=i;const o=new Array(n);for(let a=0;a<n;a++){const u=(0,Yq.fixBeetFromData)(t,e,s);o[a]=u,s+=u.byteSize}return d5(o,s-i)},toFixedFromValue(e){(0,L0.strict)(Array.isArray(e),`${e} should be an array`);let r=0;const n=new Array(e.length);for(let i=0;i<e.length;i++){const s=(0,Yq.fixBeetFromValue)(t,e[i]);n[i]=s,r+=s.byteSize}return d5(n,r)},description:"array"}}ls.array=Cqe;function loe(t){return{write:function(e,r,n){n.copy(e,r,0,t)},read:function(e,r){return e.slice(r,r+t)},byteSize:t,description:`Buffer(${t})`}}ls.fixedSizeBuffer=loe;function h5(t,e=!1){const r=loe(t),n=e?t+4:t;return{write:function(i,s,o){L0.strict.equal(o.byteLength,t,`Uint8Array length ${o.byteLength} should match len ${t}`),e&&(Mh.u32.write(i,s,t),s+=4);const a=we.Buffer.from(o);r.write(i,s,a)},read:function(i,s){if(e){const a=Mh.u32.read(i,s);L0.strict.equal(a,t,"invalid byte size"),s+=4}const o=r.read(i,s);return Uint8Array.from(o)},byteSize:n,description:`Uint8Array(${t})`}}ls.fixedSizeUint8Array=h5;ls.uint8Array={toFixedFromData(t,e){const r=Mh.u32.read(t,e);return(0,coe.logTrace)(`${this.description}[${r}]`),h5(r,!0)},toFixedFromValue(t){const e=t.byteLength;return h5(e,!0)},description:"Uint8Array"};ls.collectionsTypeMap={Array:{beet:"array",isFixable:!0,sourcePack:Dg.BEET_PACKAGE,ts:"Array",arg:Lg.BEET_TYPE_ARG_LEN},FixedSizeArray:{beet:"fixedSizeArray",isFixable:!1,sourcePack:Dg.BEET_PACKAGE,ts:"Array",arg:Lg.BEET_TYPE_ARG_LEN},UniformFixedSizeArray:{beet:"uniformFixedSizeArray",isFixable:!1,sourcePack:Dg.BEET_PACKAGE,ts:"Array",arg:Lg.BEET_TYPE_ARG_LEN},Buffer:{beet:"fixedSizeBuffer",isFixable:!1,sourcePack:Dg.BEET_PACKAGE,ts:"Buffer",arg:Lg.BEET_TYPE_ARG_LEN},FixedSizeUint8Array:{beet:"fixedSizeUint8Array",isFixable:!1,sourcePack:Dg.BEET_PACKAGE,ts:"Uint8Array",arg:Lg.BEET_TYPE_ARG_LEN},Uint8Array:{beet:"uint8Array",isFixable:!0,sourcePack:Dg.BEET_PACKAGE,ts:"Uint8Array",arg:Lg.BEET_TYPE_ARG_LEN}};var po={};Object.defineProperty(po,"__esModule",{value:!0});po.compositesTypeMap=po.coption=po.coptionSome=po.coptionNone=po.isNoneBuffer=po.isSomeBuffer=void 0;const yS=Aa(),p5=on,Zq=on,foe=Zn,Xq=yl,doe=0,hoe=1;function IL(t,e){return t[e]===hoe}po.isSomeBuffer=IL;function RL(t,e){return t[e]===doe}po.isNoneBuffer=RL;function g5(t){return(0,foe.logTrace)(`coptionNone(${t})`),{write:function(e,r,n){(0,yS.strict)(n==null,"coptionNone can only handle `null` values"),e[r]=doe},read:function(e,r){return(0,yS.strict)(RL(e,r),"coptionNone can only handle `NONE` data"),null},byteSize:1,description:`COption<None(${t})>`}}po.coptionNone=g5;function m5(t){const e=1+t.byteSize,r={write:function(n,i,s){(0,p5.assertFixedSizeBeet)(t,`coption inner type ${t.description} needs to be fixed before calling write`),(0,yS.strict)(s!=null,"coptionSome cannot handle `null` values"),n[i]=hoe,t.write(n,i+1,s)},read:function(n,i){return(0,p5.assertFixedSizeBeet)(t,`coption inner type ${t.description} needs to be fixed before calling read`),(0,yS.strict)(IL(n,i),"coptionSome can only handle `SOME` data"),t.read(n,i+1)},description:`COption<${t.description}>[1 + ${t.byteSize}]`,byteSize:e,inner:t};return(0,foe.logTrace)(r.description),r}po.coptionSome=m5;function Pqe(t){return{toFixedFromData(e,r){if(IL(e,r)){const n=(0,Xq.fixBeetFromData)(t,e,r+1);return m5(n)}else return(0,yS.strict)(RL(e,r),`Expected ${e} to hold a COption`),g5(t.description)},toFixedFromValue(e){return e==null?g5(t.description):m5((0,Xq.fixBeetFromValue)(t,e))},description:`COption<${t.description}>`}}po.coption=Pqe;po.compositesTypeMap={option:{beet:"coption",isFixable:!0,sourcePack:Zq.BEET_PACKAGE,ts:"COption<Inner>",arg:p5.BEET_TYPE_ARG_INNER,pack:Zq.BEET_PACKAGE}};var y5={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.stringTypeMap=t.utf8String=t.fixedSizeUtf8String=void 0;const e=on,r=Aa(),n=Rh,i=Zn,s=o=>({write:function(a,u,f){const d=we.Buffer.from(f,"utf8");r.strict.equal(d.byteLength,o,`${f} has invalid byte size`),n.u32.write(a,u,o),d.copy(a,u+4,0,o)},read:function(a,u){const f=n.u32.read(a,u);return r.strict.equal(f,o,"invalid byte size"),a.slice(u+4,u+4+o).toString("utf8")},elementByteSize:1,length:o,lenPrefixByteSize:4,byteSize:4+o,description:`Utf8String(4 + ${o})`});t.fixedSizeUtf8String=s,t.utf8String={toFixedFromData(o,a){const u=n.u32.read(o,a);return(0,i.logTrace)(`${this.description}[${u}]`),(0,t.fixedSizeUtf8String)(u)},toFixedFromValue(o){const a=we.Buffer.from(o).byteLength;return(0,t.fixedSizeUtf8String)(a)},description:"Utf8String"},t.stringTypeMap={fixedSizeString:{beet:"fixedSizeUtf8String",isFixable:!1,sourcePack:e.BEET_PACKAGE,ts:"string",arg:e.BEET_TYPE_ARG_LEN},string:{beet:"utf8String",isFixable:!0,sourcePack:e.BEET_PACKAGE,ts:"string"}}})(y5);var Fu={},ol={},D0={};Object.defineProperty(D0,"__esModule",{value:!0});D0.BeetReader=D0.BeetWriter=void 0;const Nqe=Aa();class Bqe{constructor(e){this.buf=we.Buffer.alloc(e),this._offset=0}get buffer(){return this.buf}get offset(){return this._offset}maybeResize(e){this._offset+e>this.buf.length&&Nqe.strict.fail(`We shouldn't ever need to resize, but ${this._offset+e} > ${this.buf.length}`)}write(e,r){this.maybeResize(e.byteSize),e.write(this.buf,this._offset,r),this._offset+=e.byteSize}writeStruct(e,r){for(const[n,i]of r){const s=e[n];this.write(i,s)}}}D0.BeetWriter=Bqe;class Oqe{constructor(e,r=0){this.buffer=e,this._offset=r}get offset(){return this._offset}read(e){const r=e.read(this.buffer,this._offset);return this._offset+=e.byteSize,r}readStruct(e){const r={};for(const[n,i]of e)r[n]=this.read(i);return r}}D0.BeetReader=Oqe;Object.defineProperty(ol,"__esModule",{value:!0});ol.BeetArgsStruct=ol.isBeetStruct=ol.BeetStruct=void 0;const Jq=D0,zl=Zn;class Ch{constructor(e,r,n=Ch.description){if(this.fields=e,this.construct=r,this.description=n,this.byteSize=this.getByteSize(),zl.logDebug.enabled){const i=e.map(([s,o])=>`${String(s)}: ${o.description} ${(0,zl.beetBytes)(o)}`).join(`
  `);(0,zl.logDebug)(`struct ${n} {
  ${i}
} ${(0,zl.beetBytes)(this)}`)}}read(e,r){const[n]=this.deserialize(e,r);return n}write(e,r,n){const[i,s]=this.serialize(n);i.copy(e,r,0,s)}deserialize(e,r=0){zl.logTrace.enabled&&((0,zl.logTrace)("deserializing [%s] from %d bytes buffer",this.description,e.byteLength),(0,zl.logTrace)(e),(0,zl.logTrace)(e.toJSON().data));const n=new Jq.BeetReader(e,r),i=n.readStruct(this.fields);return[this.construct(i),n.offset]}serialize(e,r=this.byteSize){(0,zl.logTrace)("serializing [%s] %o to %d bytes buffer",this.description,e,r);const n=new Jq.BeetWriter(r);return n.writeStruct(e,this.fields),[n.buffer,n.offset]}getByteSize(){return this.fields.reduce((e,[r,n])=>e+n.byteSize,0)}get type(){return Ch.TYPE}}ol.BeetStruct=Ch;Ch.description="BeetStruct";Ch.TYPE="BeetStruct";function Lqe(t){return t.type===Ch.TYPE}ol.isBeetStruct=Lqe;class _T extends Ch{constructor(e,r=_T.description){super(e,n=>n,r)}}ol.BeetArgsStruct=_T;_T.description="BeetArgsStruct";var jf={},Dqe=St&&St.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(jf,"__esModule",{value:!0});jf.FixableBeetArgsStruct=jf.isFixableBeetStruct=jf.FixableBeetStruct=void 0;const Qq=yl,XA=ol,Fqe=on,$qe=Aa(),WM=Zn,Uqe=Dqe(soe),{brightBlack:zqe}=Uqe.default;class Yc{constructor(e,r,n=Yc.description){this.fields=e,this.construct=r,this.description=n;let i=0;if(WM.logDebug.enabled){const s=e.map(([a,u])=>((0,Fqe.isFixedSizeBeet)(u)&&(i+=u.byteSize),`${a}: ${u.description} ${(0,WM.beetBytes)(u)}`)).join(`
  `),o=`> ${i} B`;(0,WM.logDebug)(`struct ${n} {
  ${s}
} ${zqe(o)}`)}}deserialize(e,r=0){return this.toFixedFromData(e,r).deserialize(e,r)}serialize(e,r){return this.toFixedFromValue(e).serialize(e,r)}toFixedFromData(e,r){let n=r;const i=new Array(this.fields.length);for(let s=0;s<this.fields.length;s++){const[o,a]=this.fields[s],u=(0,Qq.fixBeetFromData)(a,e,n);i[s]=[o,u],n+=u.byteSize}return this.description!==Yc.description?new XA.BeetStruct(i,this.construct,this.description):new XA.BeetStruct(i,this.construct)}toFixedFromValue(e){const r=Object.keys(e),n=new Array(this.fields.length);for(let i=0;i<this.fields.length;i++){const[s,o]=this.fields[i];(0,$qe.strict)(r.includes(s),`Value with keys [ ${r} ] should include struct key '${s}' but doesn't.`);const a=e[s],u=(0,Qq.fixBeetFromValue)(o,a);n[i]=[s,u]}return this.description!==Yc.description?new XA.BeetStruct(n,this.construct,this.description):new XA.BeetStruct(n,this.construct)}get type(){return Yc.TYPE}}jf.FixableBeetStruct=Yc;Yc.description="FixableBeetStruct";Yc.TYPE="FixableBeetStruct";function Wqe(t){return t.type===Yc.TYPE}jf.isFixableBeetStruct=Wqe;class AT extends Yc{constructor(e,r=AT.description){super(e,n=>n,r)}}jf.FixableBeetArgsStruct=AT;AT.description="FixableBeetArgsStruct";var Ph={};Object.defineProperty(Ph,"__esModule",{value:!0});Ph.unitTypeMap=Ph.unit=void 0;const jqe=on;Ph.unit={write:function(t,e,r){},read:function(t,e){},byteSize:0,description:"unit"};Ph.unitTypeMap={unit:{beet:"unit",isFixable:!1,sourcePack:jqe.BEET_PACKAGE,ts:"void"}};Object.defineProperty(Fu,"__esModule",{value:!0});Fu.enumsTypeMap=Fu.dataEnum=Fu.uniformDataEnum=Fu.fixedScalarEnum=void 0;const Ld=on,$u=Rh,Um=Aa(),Kqe=ol,Hqe=jf,qqe=Ph;function eV(t,e){return e?`${t}`:t}function Vqe(t){const e=Object.keys(t);return{write(r,n,i){const s=typeof i=="number",o=eV(i,s);if(e.includes(o)||Um.strict.fail(`${i} should be a variant of the provided enum type, i.e. [ ${Object.values(t).join(", ")} ], but isn't`),s)$u.u8.write(r,n,i);else{const a=t[o];$u.u8.write(r,n,a)}},read(r,n){const i=$u.u8.read(r,n),s=typeof i=="number",o=eV(i,s);return e.includes(o)||Um.strict.fail(`${i} should be a of a variant of the provided enum type, i.e. [ ${Object.values(t).join(", ")} ], but isn't`),s?i:t[o]},byteSize:$u.u8.byteSize,description:"Enum"}}Fu.fixedScalarEnum=Vqe;function Gqe(t){return{write:function(e,r,n){$u.u8.write(e,r,n.kind),t.write(e,r+1,n.data)},read:function(e,r){const n=$u.u8.read(e,r),i=t.read(e,r+1);return{kind:n,data:i}},byteSize:1+t.byteSize,description:`UniformDataEnum<${t.description}>`}}Fu.uniformDataEnum=Gqe;function tV(t,e,r){return{write(n,i,s){$u.u8.write(n,i,e),t.write(n,i+$u.u8.byteSize,s)},read(n,i){const s=t.read(n,i+$u.u8.byteSize);return{__kind:r,...s}},byteSize:t.byteSize+$u.u8.byteSize,description:`EnumData<${t.description}>`}}function Yqe(t){for(const[e,r]of t)(0,Um.strict)((0,Kqe.isBeetStruct)(r)||(0,Hqe.isFixableBeetStruct)(r)||r===qqe.unit,"dataEnum: variants must be a data beet struct or a scalar unit");return{toFixedFromData(e,r){const n=$u.u8.read(e,r),i=t[n];(0,Um.strict)(i!=null,`Discriminant ${n} out of range for ${t.length} variants`);const[s,o]=i,a=(0,Ld.isFixedSizeBeet)(o)?o:o.toFixedFromData(e,r+1);return tV(a,n,s)},toFixedFromValue(e){if(e.__kind==null){const f=Object.keys(e).join(", "),d=t.map(([g])=>g).join(", ");Um.strict.fail(`Value with fields [ ${f} ] is missing __kind, which needs to be set to one of [ ${d} ]`)}const r=t.findIndex(([f])=>f===e.__kind);if(r<0){const f=t.map(([d])=>d).join(", ");Um.strict.fail(`${e.__kind} is not a valid kind, needs to be one of [ ${f} ]`)}const n=t[r],{__kind:i,...s}=e,[o,a]=n,u=(0,Ld.isFixedSizeBeet)(a)?a:a.toFixedFromValue(s);return tV(u,r,o)},description:`DataEnum<${t.length} variants>`}}Fu.dataEnum=Yqe;Fu.enumsTypeMap={fixedScalarEnum:{beet:"fixedScalarEnum",isFixable:!1,sourcePack:Ld.BEET_PACKAGE,ts:"<TypeName>",arg:Ld.BEET_TYPE_ARG_INNER,pack:Ld.BEET_PACKAGE},dataEnum:{beet:"dataEnum",isFixable:!1,sourcePack:Ld.BEET_PACKAGE,ts:"DataEnum<Kind, Inner>",arg:Ld.BEET_TYPE_ARG_INNER,pack:Ld.BEET_PACKAGE}};var F0={};Object.defineProperty(F0,"__esModule",{value:!0});F0.aliasesTypeMap=F0.bytes=void 0;const poe=ls;F0.bytes=poe.uint8Array;F0.aliasesTypeMap={bytes:poe.collectionsTypeMap.Uint8Array};var Kf={};Object.defineProperty(Kf,"__esModule",{value:!0});Kf.tuplesTypeMap=Kf.tuple=Kf.fixedSizeTuple=void 0;const rV=on,b5=Aa(),nV=yl;function v5(t){const e=t.length,r=t.map(s=>s.description),n=t.map(s=>s.byteSize),i=n.reduce((s,o)=>s+o,0);return{write:function(s,o,a){b5.strict.equal(a.length,e,`tuple value element size ${a.length} should match len ${e}`);let u=o;for(let f=0;f<e;f++){const d=a[f],g=t[f];g.write(s,u,d),u+=g.byteSize}},read:function(s,o){const a=[];let u=o;for(let f=0;f<e;f++){const d=t[f];a[f]=d.read(s,u),u+=d.byteSize}return a},byteSize:i,length:e,description:`FixedSizeTuple<${r.join(",")}>[ ${n.join(", ")} ]`}}Kf.fixedSizeTuple=v5;function Zqe(t){const e=t.length,r=t.map(n=>n.description);return{toFixedFromData(n,i){let s=i;const o=new Array(e);for(let a=0;a<e;a++){const u=(0,nV.fixBeetFromData)(t[a],n,s);o[a]=u,s+=u.byteSize}return v5(o)},toFixedFromValue(n){(0,b5.strict)(Array.isArray(n),`${n} should be an array of tuple values`),b5.strict.equal(n.length,e,`There should be ${e} tuple values, but there are ${n.length}`);const i=new Array(e);for(let s=0;s<n.length;s++){const o=(0,nV.fixBeetFromValue)(t[s],n[s]);i[s]=o}return v5(i)},description:`Tuple<${r.join(",")}>`}}Kf.tuple=Zqe;Kf.tuplesTypeMap={Tuple:{beet:"tuple",isFixable:!0,sourcePack:rV.BEET_PACKAGE,ts:"[__tuple_elements__]"},FixedSizeTuple:{beet:"fixedSizeTuple",isFixable:!1,sourcePack:rV.BEET_PACKAGE,ts:"[__tuple_elements__]"}};var $0={};Object.defineProperty($0,"__esModule",{value:!0});$0.mapsTypeMap=$0.map=void 0;const bS=on,w5=Rh,Xqe=Zn,jM=Aa();function JA(t,e,r,n){const i=(0,bS.isFixedSizeBeet)(t),s=(0,bS.isFixedSizeBeet)(e);function o(){if(i&&s){const f=t.byteSize+e.byteSize;return{elementByteSize:f,byteSize:4+n*f}}else if(i){let f=0;for(const[g,y]of r.values())f+=y.byteSize;return{elementByteSize:t.byteSize+Math.ceil(f/n),byteSize:4+t.byteSize*n+f}}else if(s){let f=0;for(const[g,y]of r.values())f+=g.byteSize;return{elementByteSize:Math.ceil(f/n)+e.byteSize,byteSize:4+f+e.byteSize*n}}else{let f=0,d=0;for(const[y,b]of r.values())f+=y.byteSize,d+=b.byteSize;return{elementByteSize:Math.ceil(f/n+d/n),byteSize:4+f+d}}}const{elementByteSize:a,byteSize:u}=o();return{write:function(f,d,g){let y=d+4,b=0;for(const[A,x]of g.entries()){let k=i?t:null,I=s?e:null;if(k==null||I==null){const R=r.get(A);(0,jM.strict)(R!=null,`Should be able to find beet els for ${(0,Xqe.stringify)(A)}, but could not`),k??(k=R[0]),I??(I=R[1])}k.write(f,y,A),y+=k.byteSize,I.write(f,y,x),y+=I.byteSize,b++}w5.u32.write(f,d,b),jM.strict.equal(b,n,`Expected map to have size ${n}, but has ${b}.`)},read:function(f,d){const g=w5.u32.read(f,d);jM.strict.equal(g,n,`Expected map to have size ${n}, but has ${g}.`);let y=d+4;const b=new Map;for(let A=0;A<g;A++){const x=i?t:t.toFixedFromData(f,y),k=x.read(f,y);y+=x.byteSize;const I=s?e:e.toFixedFromData(f,y),R=I.read(f,y);y+=I.byteSize,b.set(k,R)}return b},elementByteSize:a,byteSize:u,length:n,lenPrefixByteSize:4,description:`Map<${t.description}, ${e.description}>`}}function Jqe(t,e){const r=(0,bS.isFixedSizeBeet)(t),n=(0,bS.isFixedSizeBeet)(e);return{toFixedFromData(i,s){const o=w5.u32.read(i,s);let a=s+4;if(r&&n)return JA(t,e,new Map,o);const u=new Map;for(let f=0;f<o;f++){const d=r?t:t.toFixedFromData(i,a),g=d.read(i,a);a+=d.byteSize;const y=n?e:e.toFixedFromData(i,a);a+=y.byteSize,u.set(g,[d,y])}return JA(t,e,u,o)},toFixedFromValue(i){const s=i.size;if(r&&n)return JA(t,e,new Map,s);const o=new Map;for(const[a,u]of i){const f=r?t:t.toFixedFromValue(a),d=n?e:e.toFixedFromValue(u);o.set(a,[f,d])}return JA(t,e,o,s)},description:`FixableMap<${t.description}, ${e.description}>`}}$0.map=Jqe;$0.mapsTypeMap={Map:{beet:"map",isFixable:!0,sourcePack:bS.BEET_PACKAGE,ts:"Map"}};var U0={};Object.defineProperty(U0,"__esModule",{value:!0});U0.setsTypeMap=U0.set=void 0;const ML=on,S5=Rh,Qqe=Zn,KM=Aa();function QA(t,e,r){const n=(0,ML.isFixedSizeBeet)(t);function i(){if(n){const a=t.byteSize;return{elementByteSize:a,byteSize:4+r*a}}else{let a=0;for(const f of e.values())a+=f.byteSize;return{elementByteSize:Math.ceil(a/r),byteSize:4+a}}}const{elementByteSize:s,byteSize:o}=i();return{write:function(a,u,f){let d=u+4,g=0;for(const y of f.keys()){let b=n?t:null;if(b==null){const A=e.get(y);(0,KM.strict)(A!=null,`Should be able to find beet el for ${(0,Qqe.stringify)(y)}, but could not`),b??(b=A)}b.write(a,d,y),d+=b.byteSize,g++}S5.u32.write(a,u,g),KM.strict.equal(g,r,`Expected set to have size ${r}, but has ${g}.`)},read:function(a,u){const f=S5.u32.read(a,u);KM.strict.equal(f,r,`Expected set to have size ${r}, but has ${f}.`);let d=u+4;const g=new Set;for(let y=0;y<f;y++){const b=n?t:t.toFixedFromData(a,d),A=b.read(a,d);d+=b.byteSize,g.add(A)}return g},elementByteSize:s,byteSize:o,length:r,lenPrefixByteSize:4,description:`Set<${t.description}>`}}function eVe(t){const e=(0,ML.isFixedSizeBeet)(t);return{toFixedFromData(r,n){const i=S5.u32.read(r,n);let s=n+4;if(e)return QA(t,new Map,i);const o=new Map;for(let a=0;a<i;a++){const u=e?t:t.toFixedFromData(r,s),f=u.read(r,s);s+=u.byteSize,o.set(f,u)}return QA(t,o,i)},toFixedFromValue(r){const n=r.size;if(e)return QA(t,new Map,n);const i=new Map;for(const s of r){const o=e?t:t.toFixedFromValue(s);i.set(s,o)}return QA(t,i,n)},description:`FixableSet<${t.description}>`}}U0.set=eVe;U0.setsTypeMap={Set:{beet:"set",isFixable:!0,sourcePack:ML.BEET_PACKAGE,ts:"Set"}};(function(t){var e=St&&St.__createBinding||(Object.create?function(b,A,x,k){k===void 0&&(k=x);var I=Object.getOwnPropertyDescriptor(A,x);(!I||("get"in I?!A.__esModule:I.writable||I.configurable))&&(I={enumerable:!0,get:function(){return A[x]}}),Object.defineProperty(b,k,I)}:function(b,A,x,k){k===void 0&&(k=x),b[k]=A[x]}),r=St&&St.__exportStar||function(b,A){for(var x in b)x!=="default"&&!Object.prototype.hasOwnProperty.call(A,x)&&e(A,b,x)};Object.defineProperty(t,"__esModule",{value:!0}),t.supportedTypeMap=void 0;const n=ls,i=po,s=Rh,o=y5,a=Fu,u=F0,f=Kf,d=$0,g=Ph,y=U0;r(F0,t),r(ls,t),r(po,t),r(Fu,t),r($0,t),r(Rh,t),r(U0,t),r(y5,t),r(Kf,t),r(Ph,t),r(yl,t),r(D0,t),r(ol,t),r(jf,t),r(on,t),t.supportedTypeMap={...n.collectionsTypeMap,...o.stringTypeMap,...i.compositesTypeMap,...a.enumsTypeMap,...s.numbersTypeMap,...u.aliasesTypeMap,...f.tuplesTypeMap,...d.mapsTypeMap,...y.setsTypeMap,...g.unitTypeMap}})(B);var Pe={},z0={},tVe=s1,rVe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",nVe=tVe(rVe);const Ms=ro(nVe),iVe=Yi.utils.randomPrivateKey,iV=()=>{const t=Yi.utils.randomPrivateKey(),e=OE(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},OE=Yi.getPublicKey;function sV(t){try{return Yi.ExtendedPoint.fromHex(t),!0}catch{return!1}}const CL=(t,e)=>Yi.sign(t,e.slice(0,32)),sVe=Yi.verify,_r=t=>xe.Buffer.isBuffer(t)?t:t instanceof Uint8Array?xe.Buffer.from(t.buffer,t.byteOffset,t.byteLength):xe.Buffer.from(t);class PL{constructor(e){Object.assign(this,e)}encode(){return xe.Buffer.from(a1(kw,this))}static decode(e){return u1(kw,this,e)}static decodeUnchecked(e){return o1(kw,this,e)}}class oVe extends PL{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(r=>{this.enum=r})}}const kw=new Map;var goe;const moe=32,al=32;function aVe(t){return t._bn!==void 0}let oV=1;class vt extends PL{constructor(e){if(super({}),this._bn=void 0,aVe(e))this._bn=e._bn;else{if(typeof e=="string"){const r=Ms.decode(e);if(r.length!=al)throw new Error("Invalid public key input");this._bn=new Mr(r)}else this._bn=new Mr(e);if(this._bn.byteLength()>al)throw new Error("Invalid public key input")}}static unique(){const e=new vt(oV);return oV+=1,new vt(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ms.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(xe.Buffer);if(e.length===al)return e;const r=xe.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){const i=xe.Buffer.concat([e.toBuffer(),xe.Buffer.from(r),n.toBuffer()]),s=Vo(i);return new vt(s)}static createProgramAddressSync(e,r){let n=xe.Buffer.alloc(0);e.forEach(function(s){if(s.length>moe)throw new TypeError("Max seed length exceeded");n=xe.Buffer.concat([n,_r(s)])}),n=xe.Buffer.concat([n,r.toBuffer(),xe.Buffer.from("ProgramDerivedAddress")]);const i=Vo(n);if(sV(i))throw new Error("Invalid seeds, address must fall off the curve");return new vt(i)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,i;for(;n!=0;){try{const s=e.concat(xe.Buffer.from([n]));i=this.createProgramAddressSync(s,r)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){const r=new vt(e);return sV(r.toBytes())}}goe=vt;vt.default=new goe("11111111111111111111111111111111");kw.set(vt,{kind:"struct",fields:[["_bn","u256"]]});class uVe{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const r=_r(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=r.slice(32,64),this._secretKey=r.slice(0,32)}else this._secretKey=_r(iVe()),this._publicKey=_r(OE(this._secretKey))}get publicKey(){return new vt(this._publicKey)}get secretKey(){return xe.Buffer.concat([this._secretKey,this._publicKey],64)}}const cVe=new vt("BPFLoader1111111111111111111111111111111111"),vh=1232,xT=127,vS=64;class NL extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(NL.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class BL extends Error{constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(BL.prototype,"name",{value:"TransactionExpiredTimeoutError"});class zm extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(zm.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class wS{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((s,o)=>{n.set(s.toBase58(),o)});const i=s=>{const o=n.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}}const Rr=(t="publicKey")=>at(32,t),lVe=(t="signature")=>at(64,t),Op=(t="string")=>{const e=pe([ge("length"),ge("lengthPadding"),at(zr(ge(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(s,o)=>r(s,o).chars.toString(),i.encode=(s,o,a)=>{const u={chars:xe.Buffer.from(s,"utf8")};return n(u,o,a)},i.alloc=s=>ge().span+ge().span+xe.Buffer.from(s,"utf8").length,i},fVe=(t="authorized")=>pe([Rr("staker"),Rr("withdrawer")],t),dVe=(t="lockup")=>pe([Lt("unixTimestamp"),Lt("epoch"),Rr("custodian")],t),hVe=(t="voteInit")=>pe([Rr("nodePubkey"),Rr("authorizedVoter"),Rr("authorizedWithdrawer"),Ge("commission")],t),pVe=(t="voteAuthorizeWithSeedArgs")=>pe([ge("voteAuthorizationType"),Rr("currentAuthorityDerivedKeyOwnerPubkey"),Op("currentAuthorityDerivedKeySeed"),Rr("newAuthorized")],t);function yoe(t,e){const r=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const s=e[i.property];if(Array.isArray(s))return s.length*r(i.elementLayout)}else if("fields"in i)return yoe({layout:i},e[i.property]);return 0};let n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}function Fo(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,!(n&128))break}return e}function pa(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}function Zr(t,e){if(!t)throw new Error(e||"Assertion failed")}class ET{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){const n=new Map,i=o=>{const a=o.toBase58();let u=n.get(a);return u===void 0&&(u={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(a,u)),u},s=i(r);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const u=i(a.pubkey);u.isSigner||(u.isSigner=a.isSigner),u.isWritable||(u.isWritable=a.isWritable)}}return new ET(r,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Zr(e.length<=256,"Max static account keys length exceeded");const r=e.filter(([,u])=>u.isSigner&&u.isWritable),n=e.filter(([,u])=>u.isSigner&&!u.isWritable),i=e.filter(([,u])=>!u.isSigner&&u.isWritable),s=e.filter(([,u])=>!u.isSigner&&!u.isWritable),o={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{Zr(r.length>0,"Expected at least one writable signer key");const[u]=r[0];Zr(u===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...r.map(([u])=>new vt(u)),...n.map(([u])=>new vt(u)),...i.map(([u])=>new vt(u)),...s.map(([u])=>new vt(u))];return[o,a]}extractTableLookup(e){const[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(e,r){const n=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(r(o)){const a=new vt(s),u=e.findIndex(f=>f.equals(a));u>=0&&(Zr(u<256,"Max lookup table index exceeded"),n.push(u),i.push(a),this.keyMetaMap.delete(s))}return[n,i]}}const boe="Reached end of buffer unexpectedly";function Wc(t){if(t.length===0)throw new Error(boe);return t.shift()}function $o(t,...e){const[r]=e;if(e.length===2?r+(e[1]??0)>t.length:r>=t.length)throw new Error(boe);return t.splice(...e)}class Xu{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new vt(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ms.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new wS(this.staticAccountKeys)}static compile(e){const r=ET.compile(e.instructions,e.payerKey),[n,i]=r.getMessageComponents(),o=new wS(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ms.encode(a.data)}));return new Xu({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const n=e-r,s=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<s}else{const n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){const e=this.accountKeys.length;let r=[];pa(r,e);const n=this.instructions.map(g=>{const{accounts:y,programIdIndex:b}=g,A=Array.from(Ms.decode(g.data));let x=[];pa(x,y.length);let k=[];return pa(k,A.length),{programIdIndex:b,keyIndicesCount:xe.Buffer.from(x),keyIndices:y,dataLength:xe.Buffer.from(k),data:A}});let i=[];pa(i,n.length);let s=xe.Buffer.alloc(vh);xe.Buffer.from(i).copy(s);let o=i.length;n.forEach(g=>{const b=pe([Ge("programIdIndex"),at(g.keyIndicesCount.length,"keyIndicesCount"),Mt(Ge("keyIndex"),g.keyIndices.length,"keyIndices"),at(g.dataLength.length,"dataLength"),Mt(Ge("userdatum"),g.data.length,"data")]).encode(g,s,o);o+=b}),s=s.slice(0,o);const a=pe([at(1,"numRequiredSignatures"),at(1,"numReadonlySignedAccounts"),at(1,"numReadonlyUnsignedAccounts"),at(r.length,"keyCount"),Mt(Rr("key"),e,"keys"),Rr("recentBlockhash")]),u={numRequiredSignatures:xe.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:xe.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:xe.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:xe.Buffer.from(r),keys:this.accountKeys.map(g=>_r(g.toBytes())),recentBlockhash:Ms.decode(this.recentBlockhash)};let f=xe.Buffer.alloc(2048);const d=a.encode(u,f);return s.copy(f,d),f.slice(0,d+s.length)}static from(e){let r=[...e];const n=Wc(r);if(n!==(n&xT))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=Wc(r),s=Wc(r),o=Fo(r);let a=[];for(let y=0;y<o;y++){const b=$o(r,0,al);a.push(new vt(xe.Buffer.from(b)))}const u=$o(r,0,al),f=Fo(r);let d=[];for(let y=0;y<f;y++){const b=Wc(r),A=Fo(r),x=$o(r,0,A),k=Fo(r),I=$o(r,0,k),R=Ms.encode(xe.Buffer.from(I));d.push({programIdIndex:b,accounts:x,data:R})}const g={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:Ms.encode(xe.Buffer.from(u)),accountKeys:a,instructions:d};return new Xu(g)}}class W0{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new wS(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){const i=e-n,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-r,o=n-r-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=r-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const r={writable:[],readonly:[]};for(const n of this.addressTableLookups){const i=e.find(s=>s.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const s of n.writableIndexes)if(s<i.state.addresses.length)r.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`);for(const s of n.readonlyIndexes)if(s<i.state.addresses.length)r.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){const r=ET.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const d of s){const g=r.extractTableLookup(d);if(g!==void 0){const[y,{writable:b,readonly:A}]=g;n.push(y),i.writable.push(...b),i.readonly.push(...A)}}const[o,a]=r.getMessageComponents(),f=new wS(a,i).compileInstructions(e.instructions);return new W0({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:f,addressTableLookups:n})}serialize(){const e=Array();pa(e,this.staticAccountKeys.length);const r=this.serializeInstructions(),n=Array();pa(n,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();pa(s,this.addressTableLookups.length);const o=pe([Ge("prefix"),pe([Ge("numRequiredSignatures"),Ge("numReadonlySignedAccounts"),Ge("numReadonlyUnsignedAccounts")],"header"),at(e.length,"staticAccountKeysLength"),Mt(Rr(),this.staticAccountKeys.length,"staticAccountKeys"),Rr("recentBlockhash"),at(n.length,"instructionsLength"),at(r.length,"serializedInstructions"),at(s.length,"addressTableLookupsLength"),at(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(vh),f=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(d=>d.toBytes()),recentBlockhash:Ms.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,f)}serializeInstructions(){let e=0;const r=new Uint8Array(vh);for(const n of this.compiledInstructions){const i=Array();pa(i,n.accountKeyIndexes.length);const s=Array();pa(s,n.data.length);const o=pe([Ge("programIdIndex"),at(i.length,"encodedAccountKeyIndexesLength"),Mt(Ge(),n.accountKeyIndexes.length,"accountKeyIndexes"),at(s.length,"encodedDataLength"),at(n.data.length,"data")]);e+=o.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0;const r=new Uint8Array(vh);for(const n of this.addressTableLookups){const i=Array();pa(i,n.writableIndexes.length);const s=Array();pa(s,n.readonlyIndexes.length);const o=pe([Rr("accountKey"),at(i.length,"encodedWritableIndexesLength"),Mt(Ge(),n.writableIndexes.length,"writableIndexes"),at(s.length,"encodedReadonlyIndexesLength"),Mt(Ge(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e];const n=Wc(r),i=n&xT;Zr(n!==i,"Expected versioned message but received legacy message");const s=i;Zr(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:Wc(r),numReadonlySignedAccounts:Wc(r),numReadonlyUnsignedAccounts:Wc(r)},a=[],u=Fo(r);for(let A=0;A<u;A++)a.push(new vt($o(r,0,al)));const f=Ms.encode($o(r,0,al)),d=Fo(r),g=[];for(let A=0;A<d;A++){const x=Wc(r),k=Fo(r),I=$o(r,0,k),R=Fo(r),M=new Uint8Array($o(r,0,R));g.push({programIdIndex:x,accountKeyIndexes:I,data:M})}const y=Fo(r),b=[];for(let A=0;A<y;A++){const x=new vt($o(r,0,al)),k=Fo(r),I=$o(r,0,k),R=Fo(r),M=$o(r,0,R);b.push({accountKey:x,writableIndexes:I,readonlyIndexes:M})}return new W0({header:o,staticAccountKeys:a,recentBlockhash:f,compiledInstructions:g,addressTableLookups:b})}}const OL={deserializeMessageVersion(t){const e=t[0],r=e&xT;return r===e?"legacy":r},deserialize:t=>{const e=OL.deserializeMessageVersion(t);if(e==="legacy")return Xu.from(t);if(e===0)return W0.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let Yl=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const gVe=xe.Buffer.alloc(vS).fill(0);class Rn{constructor(e){this.keys=void 0,this.programId=void 0,this.data=xe.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class tn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{const{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new Rn(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let x=0;x<r.length;x++)if(r[x].programId===void 0)throw new Error(`Transaction instruction index ${x} has undefined program id`);const i=[],s=[];r.forEach(x=>{x.keys.forEach(I=>{s.push({...I})});const k=x.programId.toString();i.includes(k)||i.push(k)}),i.forEach(x=>{s.push({pubkey:new vt(x),isSigner:!1,isWritable:!1})});const o=[];s.forEach(x=>{const k=x.pubkey.toString(),I=o.findIndex(R=>R.pubkey.toString()===k);I>-1?(o[I].isWritable=o[I].isWritable||x.isWritable,o[I].isSigner=o[I].isSigner||x.isSigner):o.push(x)}),o.sort(function(x,k){if(x.isSigner!==k.isSigner)return x.isSigner?-1:1;if(x.isWritable!==k.isWritable)return x.isWritable?-1:1;const I={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return x.pubkey.toBase58().localeCompare(k.pubkey.toBase58(),"en",I)});const a=o.findIndex(x=>x.pubkey.equals(n));if(a>-1){const[x]=o.splice(a,1);x.isSigner=!0,x.isWritable=!0,o.unshift(x)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const x of this.signatures){const k=o.findIndex(I=>I.pubkey.equals(x.publicKey));if(k>-1)o[k].isSigner||(o[k].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${x.publicKey.toString()}`)}let u=0,f=0,d=0;const g=[],y=[];o.forEach(({pubkey:x,isSigner:k,isWritable:I})=>{k?(g.push(x.toString()),u+=1,I||(f+=1)):(y.push(x.toString()),I||(d+=1))});const b=g.concat(y),A=r.map(x=>{const{data:k,programId:I}=x;return{programIdIndex:b.indexOf(I.toString()),accounts:x.keys.map(R=>b.indexOf(R.pubkey.toString())),data:Ms.encode(k)}});return A.forEach(x=>{Zr(x.programIdIndex>=0),x.accounts.forEach(k=>Zr(k>=0))}),new Xu({header:{numRequiredSignatures:u,numReadonlySignedAccounts:f,numReadonlyUnsignedAccounts:d},accountKeys:b,recentBlockhash:e,instructions:A})}_compile(){const e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,s)=>r[s].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const r=new Set;this.signatures=e.filter(n=>{const i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const s of e){const o=s.publicKey.toString();r.has(o)||(r.add(o),n.push(s))}this.signatures=n.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const s of e){const o=s.publicKey.toString();r.has(o)||(r.add(o),n.push(s))}const i=this._compile();this._partialSign(i,...n)}_partialSign(e,...r){const n=e.serialize();r.forEach(i=>{const s=CL(n,i.secretKey);this._addSignature(i.publicKey,_r(s))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){Zr(r.length===64);const n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=xe.Buffer.from(r)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,r){const n={};for(const{signature:i,publicKey:s}of this.signatures)i===null?r&&(n.missing||(n.missing=[])).push(s):sVe(i,e,s.toBytes())||(n.invalid||(n.invalid=[])).push(s);return n.invalid||n.missing?n:void 0}serialize(e){const{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n){const s=this._getMessageSignednessErrors(i,r);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(e){const{signatures:r}=this,n=[];pa(n,r.length);const i=n.length+r.length*64+e.length,s=xe.Buffer.alloc(i);return Zr(r.length<256),xe.Buffer.from(n).copy(s,0),r.forEach(({signature:o},a)=>{o!==null&&(Zr(o.length===64,"signature has invalid length"),xe.Buffer.from(o).copy(s,n.length+a*64))}),e.copy(s,n.length+r.length*64),Zr(s.length<=vh,`Transaction too large: ${s.length} > ${vh}`),s}get keys(){return Zr(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Zr(this.instructions.length===1),this.instructions[0].programId}get data(){return Zr(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e];const n=Fo(r);let i=[];for(let s=0;s<n;s++){const o=$o(r,0,vS);i.push(Ms.encode(xe.Buffer.from(o)))}return tn.populate(Xu.from(r),i)}static populate(e,r=[]){const n=new tn;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((i,s)=>{const o={signature:i==Ms.encode(gVe)?null:Ms.decode(i),publicKey:e.accountKeys[s]};n.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:n.signatures.some(u=>u.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});n.instructions.push(new Rn({keys:s,programId:e.accountKeys[i.programIdIndex],data:Ms.decode(i.data)}))}),n._message=e,n._json=n.toJSON(),n}}class LL{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){const{header:n,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:u}=n,f=o-a;Zr(f>0,"Message header is invalid");const d=e.staticAccountKeys.length-o-u;Zr(d>=0,"Message header is invalid");const g=e.getAccountKeys(r),y=g.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const b=[];for(const A of i){const x=[];for(const I of A.accountKeyIndexes){const R=g.get(I);if(R===void 0)throw new Error(`Failed to find key for account key index ${I}`);const M=I<o;let P;M?P=I<f:I<g.staticAccountKeys.length?P=I-o<d:P=I-g.staticAccountKeys.length<g.accountKeysFromLookups.writable.length,x.push({pubkey:R,isSigner:I<n.numRequiredSignatures,isWritable:P})}const k=g.get(A.programIdIndex);if(k===void 0)throw new Error(`Failed to find program id for program id index ${A.programIdIndex}`);b.push(new Rn({programId:k,data:_r(A.data),keys:x}))}return new LL({payerKey:y,instructions:b,recentBlockhash:s})}compileToLegacyMessage(){return Xu.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return W0.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class DL{get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)Zr(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{const n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(vS));this.signatures=n}this.message=e}serialize(){const e=this.message.serialize(),r=Array();pa(r,this.signatures.length);const n=pe([at(r.length,"encodedSignaturesLength"),Mt(lVe(),this.signatures.length,"signatures"),at(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let r=[...e];const n=[],i=Fo(r);for(let o=0;o<i;o++)n.push(new Uint8Array($o(r,0,vS)));const s=OL.deserialize(new Uint8Array(r));return new DL(s,n)}sign(e){const r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=n.findIndex(o=>o.equals(i.publicKey));Zr(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=CL(r,i.secretKey)}}addSignature(e,r){Zr(r.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));Zr(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}}const mVe=160,yVe=64,bVe=mVe/yVe,voe=1e3/bVe,Bc=new vt("SysvarC1ock11111111111111111111111111111111"),vVe=new vt("SysvarEpochSchedu1e111111111111111111111111"),wVe=new vt("Sysvar1nstructions1111111111111111111111111"),ux=new vt("SysvarRecentB1ockHashes11111111111111111111"),Gb=new vt("SysvarRent111111111111111111111111111111111"),SVe=new vt("SysvarRewards111111111111111111111111111111"),_Ve=new vt("SysvarS1otHashes111111111111111111111111111"),AVe=new vt("SysvarS1otHistory11111111111111111111111111"),cx=new vt("SysvarStakeHistory1111111111111111111111111");class SS extends Error{constructor({action:e,signature:r,transactionMessage:n,logs:i}){const s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${r} resulted in an error. 
${n}. `+s+o;break;case"simulate":a=`Simulation failed. 
Message: ${n}. 
`+s+o;break;default:a=`Unknown action '${(u=>u)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=r,this.transactionMessage=n,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((r,n)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const s=i.meta.logMessages;this.transactionLogs=s,r(s)}else n(new Error("Log messages not found"))}).catch(n)})),await this.transactionLogs}}const xVe={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class Ut extends Error{constructor({code:e,message:r,data:n},i){super(i!=null?`${i}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}}async function _5(t,e,r,n){const i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},s=await t.sendTransaction(e,r,i);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await t.confirmTransaction({abortSignal:n==null?void 0:n.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,u=a.keys[0].pubkey;o=(await t.confirmTransaction({abortSignal:n==null?void 0:n.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:u,nonceValue:e.nonceInfo.nonce,signature:s},n&&n.commitment)).value}else(n==null?void 0:n.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await t.confirmTransaction(s,n&&n.commitment)).value;if(o.err)throw s!=null?new SS({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${s} failed (${JSON.stringify(o)})`);return s}function vp(t){return new Promise(e=>setTimeout(e,t))}function Dr(t,e){const r=t.layout.span>=0?t.layout.span:yoe(t,e),n=xe.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}function nn(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${t.index}`);return r}const woe=bt("lamportsPerSignature"),Soe=pe([ge("version"),ge("state"),Rr("authorizedPubkey"),Rr("nonce"),pe([woe],"feeCalculator")]),A5=Soe.span;class kT{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const r=Soe.decode(_r(e),0);return new kT({authorizedPubkey:new vt(r.authorizedPubkey),nonce:new vt(r.nonce).toString(),feeCalculator:r.feeCalculator})}}const EVe=t=>{const e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},kVe=t=>e=>{const r=at(t,e),{encode:n,decode:i}=EVe(r),s=r;return s.decode=(o,a)=>{const u=i(o,a);return f1(xe.Buffer.from(u))},s.encode=(o,a,u)=>{const f=Uh(o,t);return n(f,a,u)},s},Yb=kVe(8);class TVe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=ge("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Dn))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r,space:n,programId:i}=nn(Dn.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:n,programId:new vt(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r}=nn(Dn.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r,seed:n,programId:i}=nn(Dn.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:n,programId:new vt(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:r}=nn(Dn.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:n,space:i,programId:s}=nn(Dn.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new vt(r),seed:n,space:i,programId:new vt(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:r}=nn(Dn.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new vt(r)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:n,programId:i}=nn(Dn.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new vt(r),seed:n,programId:new vt(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:r,seed:n,lamports:i,space:s,programId:o}=nn(Dn.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new vt(r),seed:n,lamports:i,space:s,programId:new vt(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:r}=nn(Dn.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new vt(r)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),nn(Dn.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=nn(Dn.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r}=nn(Dn.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new vt(r)}}static checkProgramId(e){if(!e.equals(ds.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const Dn=Object.freeze({Create:{index:0,layout:pe([ge("instruction"),Lt("lamports"),Lt("space"),Rr("programId")])},Assign:{index:1,layout:pe([ge("instruction"),Rr("programId")])},Transfer:{index:2,layout:pe([ge("instruction"),Yb("lamports")])},CreateWithSeed:{index:3,layout:pe([ge("instruction"),Rr("base"),Op("seed"),Lt("lamports"),Lt("space"),Rr("programId")])},AdvanceNonceAccount:{index:4,layout:pe([ge("instruction")])},WithdrawNonceAccount:{index:5,layout:pe([ge("instruction"),Lt("lamports")])},InitializeNonceAccount:{index:6,layout:pe([ge("instruction"),Rr("authorized")])},AuthorizeNonceAccount:{index:7,layout:pe([ge("instruction"),Rr("authorized")])},Allocate:{index:8,layout:pe([ge("instruction"),Lt("space")])},AllocateWithSeed:{index:9,layout:pe([ge("instruction"),Rr("base"),Op("seed"),Lt("space"),Rr("programId")])},AssignWithSeed:{index:10,layout:pe([ge("instruction"),Rr("base"),Op("seed"),Rr("programId")])},TransferWithSeed:{index:11,layout:pe([ge("instruction"),Yb("lamports"),Op("seed"),Rr("programId")])},UpgradeNonceAccount:{index:12,layout:pe([ge("instruction")])}});class ds{constructor(){}static createAccount(e){const r=Dn.Create,n=Dr(r,{lamports:e.lamports,space:e.space,programId:_r(e.programId.toBuffer())});return new Rn({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){const i=Dn.TransferWithSeed;r=Dr(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:_r(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=Dn.Transfer;r=Dr(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Rn({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){const i=Dn.AssignWithSeed;r=Dr(i,{base:_r(e.basePubkey.toBuffer()),seed:e.seed,programId:_r(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Dn.Assign;r=Dr(i,{programId:_r(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Rn({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){const r=Dn.CreateWithSeed,n=Dr(r,{base:_r(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:_r(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Rn({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){const r=new tn;"basePubkey"in e&&"seed"in e?r.add(ds.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:A5,programId:this.programId})):r.add(ds.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:A5,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){const r=Dn.InitializeNonceAccount,n=Dr(r,{authorized:_r(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ux,isSigner:!1,isWritable:!1},{pubkey:Gb,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new Rn(i)}static nonceAdvance(e){const r=Dn.AdvanceNonceAccount,n=Dr(r),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ux,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new Rn(i)}static nonceWithdraw(e){const r=Dn.WithdrawNonceAccount,n=Dr(r,{lamports:e.lamports});return new Rn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:ux,isSigner:!1,isWritable:!1},{pubkey:Gb,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){const r=Dn.AuthorizeNonceAccount,n=Dr(r,{authorized:_r(e.newAuthorizedPubkey.toBuffer())});return new Rn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){const i=Dn.AllocateWithSeed;r=Dr(i,{base:_r(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:_r(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Dn.Allocate;r=Dr(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Rn({keys:n,programId:this.programId,data:r})}}ds.programId=new vt("11111111111111111111111111111111");const IVe=vh-300;class j0{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/j0.chunkSize)+1+1)}static async load(e,r,n,i,s){{const g=await e.getMinimumBalanceForRentExemption(s.length),y=await e.getAccountInfo(n.publicKey,"confirmed");let b=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==s.length&&(b=b||new tn,b.add(ds.allocate({accountPubkey:n.publicKey,space:s.length}))),y.owner.equals(i)||(b=b||new tn,b.add(ds.assign({accountPubkey:n.publicKey,programId:i}))),y.lamports<g&&(b=b||new tn,b.add(ds.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:g-y.lamports})))}else b=new tn().add(ds.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:g>0?g:1,space:s.length,programId:i}));b!==null&&await _5(e,b,[r,n],{commitment:"confirmed"})}const o=pe([ge("instruction"),ge("offset"),ge("bytesLength"),ge("bytesLengthPadding"),Mt(Ge("byte"),zr(ge(),-8),"bytes")]),a=j0.chunkSize;let u=0,f=s,d=[];for(;f.length>0;){const g=f.slice(0,a),y=xe.Buffer.alloc(a+16);o.encode({instruction:0,offset:u,bytes:g,bytesLength:0,bytesLengthPadding:0},y);const b=new tn().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:y});d.push(_5(e,b,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await vp(1e3/4),u+=a,f=f.slice(a)}await Promise.all(d);{const g=pe([ge("instruction")]),y=xe.Buffer.alloc(g.span);g.encode({instruction:1},y);const b=new tn().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:Gb,isSigner:!1,isWritable:!1}],programId:i,data:y}),A="processed",x=await e.sendTransaction(b,[r,n],{preflightCommitment:A}),{context:k,value:I}=await e.confirmTransaction({signature:x,lastValidBlockHeight:b.lastValidBlockHeight,blockhash:b.recentBlockhash},A);if(I.err)throw new Error(`Transaction ${x} failed (${JSON.stringify(I)})`);for(;;){try{if(await e.getSlot({commitment:A})>k.slot)break}catch{}await new Promise(R=>setTimeout(R,Math.round(voe/2)))}}return!0}}j0.chunkSize=IVe;const RVe=new vt("BPFLoader2111111111111111111111111111111111");class MVe{static getMinNumSignatures(e){return j0.getMinNumSignatures(e)}static load(e,r,n,i,s){return j0.load(e,r,n,s,i)}}function CVe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var HM,aV;function PVe(){if(aV)return HM;aV=1;var t=Object.prototype.toString,e=Object.keys||function(n){var i=[];for(var s in n)i.push(s);return i};function r(n,i){var s,o,a,u,f,d,g;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return r(n.toJSON(),i);if(g=t.call(n),g==="[object Array]"){for(a="[",o=n.length-1,s=0;s<o;s++)a+=r(n[s],!0)+",";return o>-1&&(a+=r(n[s],!0)),a+"]"}else if(g==="[object Object]"){for(u=e(n).sort(),o=u.length,a="",s=0;s<o;)f=u[s],d=r(n[f],!1),d!==void 0&&(a&&(a+=","),a+=JSON.stringify(f)+":"+d),s++;return"{"+a+"}"}else return JSON.stringify(n);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}return HM=function(n){var i=r(n,!1);if(i!==void 0)return""+i},HM}var NVe=PVe(),uV=CVe(NVe);const _v=32;function qM(t){let e=0;for(;t>1;)t/=2,e++;return e}function BVe(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class _oe{constructor(e,r,n,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const r=qM(BVe(e+_v+1))-qM(_v)-1,n=this.getSlotsInEpoch(r),i=e-(n-_v);return[r,i]}else{const r=e-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),i=this.firstNormalEpoch+n,s=r%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*_v:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+qM(_v)):this.slotsPerEpoch}}var OVe=globalThis.fetch;class LVe extends XN{constructor(e,r,n){const i=s=>{const o=ZN(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,e,r,n),this.underlyingSocket=void 0}call(...e){var n;const r=(n=this.underlyingSocket)==null?void 0:n.readyState;return r===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){var n;const r=(n=this.underlyingSocket)==null?void 0:n.readyState;return r===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}}function DVe(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}const cV=56;class x5{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const r=DVe(FVe,e),n=e.length-cV;Zr(n>=0,"lookup table is invalid"),Zr(n%32===0,"lookup table is invalid");const i=n/32,{addresses:s}=pe([Mt(Rr(),i,"addresses")]).decode(e.slice(cV));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new vt(r.authority[0]):void 0,addresses:s.map(o=>new vt(o))}}}const FVe={index:1,layout:pe([ge("typeIndex"),Yb("deactivationSlot"),bt("lastExtendedSlot"),Ge("lastExtendedStartIndex"),Ge(),Mt(Rr(),zr(Ge(),-1),"authority")])},$Ve=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function UVe(t){const e=t.match($Ve);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[r,n,i,s]=e,o=t.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),u=a==null?"":`:${a+1}`;return`${o}//${n}${u}${s}`}const li=zi(uu(vt),he(),t=>new vt(t)),Aoe=cu([he(),ht("base64")]),FL=zi(uu(xe.Buffer),Aoe,t=>xe.Buffer.from(t[0],"base64")),xoe=30*1e3;function zVe(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function On(t){let e,r;if(typeof t=="string")e=t;else if(t){const{commitment:n,...i}=t;e=n,r=i}return{commitment:e,config:r}}function lV(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function Eoe(t){return Dt([ce({jsonrpc:ht("2.0"),id:he(),result:t}),ce({jsonrpc:ht("2.0"),id:he(),error:ce({code:ri(),message:he(),data:Ie(Nk())})})])}const WVe=Eoe(ri());function wr(t){return zi(Eoe(t),WVe,e=>"error"in e?e:{...e,result:Oe(e.result,t)})}function Ai(t){return wr(ce({context:ce({slot:Y()}),value:t}))}function TT(t){return ce({context:ce({slot:Y()}),value:t})}function VM(t,e){return t===0?new W0({header:e.header,staticAccountKeys:e.accountKeys.map(r=>new vt(r)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:Ms.decode(r.data)})),addressTableLookups:e.addressTableLookups}):new Xu(e)}const jVe=ce({foundation:Y(),foundationTerm:Y(),initial:Y(),taper:Y(),terminal:Y()}),KVe=wr(me(ye(ce({epoch:Y(),effectiveSlot:Y(),amount:Y(),postBalance:Y(),commission:Ie(ye(Y()))})))),HVe=me(ce({slot:Y(),prioritizationFee:Y()})),qVe=ce({total:Y(),validator:Y(),foundation:Y(),epoch:Y()}),VVe=ce({epoch:Y(),slotIndex:Y(),slotsInEpoch:Y(),absoluteSlot:Y(),blockHeight:Ie(Y()),transactionCount:Ie(Y())}),GVe=ce({slotsPerEpoch:Y(),leaderScheduleSlotOffset:Y(),warmup:xr(),firstNormalEpoch:Y(),firstNormalSlot:Y()}),YVe=zh(he(),me(Y())),mg=ye(Dt([ce({}),he()])),ZVe=ce({err:mg}),XVe=ht("receivedSignature"),JVe=ce({"solana-core":he(),"feature-set":Ie(Y())}),QVe=ce({program:he(),programId:li,parsed:ri()}),eGe=ce({programId:li,accounts:me(li),data:he()}),fV=Ai(ce({err:ye(Dt([ce({}),he()])),logs:ye(me(he())),accounts:Ie(ye(me(ye(ce({executable:xr(),owner:he(),lamports:Y(),data:me(he()),rentEpoch:Ie(Y())}))))),unitsConsumed:Ie(Y()),returnData:Ie(ye(ce({programId:he(),data:cu([he(),ht("base64")])}))),innerInstructions:Ie(ye(me(ce({index:Y(),instructions:me(Dt([QVe,eGe]))}))))})),tGe=Ai(ce({byIdentity:zh(he(),me(Y())),range:ce({firstSlot:Y(),lastSlot:Y()})}));function rGe(t,e,r,n,i,s){const o=r||OVe;let a;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let u;return n&&(u=async(d,g)=>{const y=await new Promise((b,A)=>{try{n(d,g,(x,k)=>b([x,k]))}catch(x){A(x)}});return await o(...y)}),new YN(async(d,g)=>{const y={method:"POST",body:d,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},rYe)};try{let b=5,A,x=500;for(;u?A=await u(t,y):A=await o(t,y),!(A.status!==429||i===!0||(b-=1,b===0));)console.error(`Server responded with ${A.status} ${A.statusText}.  Retrying after ${x}ms delay...`),await vp(x),x*=2;const k=await A.text();A.ok?g(null,k):g(new Error(`${A.status} ${A.statusText}: ${k}`))}catch(b){b instanceof Error&&g(b)}},{})}function nGe(t){return(e,r)=>new Promise((n,i)=>{t.request(e,r,(s,o)=>{if(s){i(s);return}n(o)})})}function iGe(t){return e=>new Promise((r,n)=>{e.length===0&&r([]);const i=e.map(s=>t.request(s.methodName,s.args));t.request(i,(s,o)=>{if(s){n(s);return}r(o)})})}const sGe=wr(jVe),oGe=wr(qVe),aGe=wr(HVe),uGe=wr(VVe),cGe=wr(GVe),lGe=wr(YVe),fGe=wr(Y()),dGe=Ai(ce({total:Y(),circulating:Y(),nonCirculating:Y(),nonCirculatingAccounts:me(li)})),E5=ce({amount:he(),uiAmount:ye(Y()),decimals:Y(),uiAmountString:Ie(he())}),hGe=Ai(me(ce({address:li,amount:he(),uiAmount:ye(Y()),decimals:Y(),uiAmountString:Ie(he())}))),pGe=Ai(me(ce({pubkey:li,account:ce({executable:xr(),owner:li,lamports:Y(),data:FL,rentEpoch:Y()})}))),k5=ce({program:he(),parsed:ri(),space:Y()}),gGe=Ai(me(ce({pubkey:li,account:ce({executable:xr(),owner:li,lamports:Y(),data:k5,rentEpoch:Y()})}))),mGe=Ai(me(ce({lamports:Y(),address:li}))),_S=ce({executable:xr(),owner:li,lamports:Y(),data:FL,rentEpoch:Y()}),yGe=ce({pubkey:li,account:_S}),bGe=zi(Dt([uu(xe.Buffer),k5]),Dt([Aoe,k5]),t=>Array.isArray(t)?Oe(t,FL):t),T5=ce({executable:xr(),owner:li,lamports:Y(),data:bGe,rentEpoch:Y()}),vGe=ce({pubkey:li,account:T5}),wGe=ce({state:Dt([ht("active"),ht("inactive"),ht("activating"),ht("deactivating")]),active:Y(),inactive:Y()}),SGe=wr(me(ce({signature:he(),slot:Y(),err:mg,memo:ye(he()),blockTime:Ie(ye(Y()))}))),_Ge=wr(me(ce({signature:he(),slot:Y(),err:mg,memo:ye(he()),blockTime:Ie(ye(Y()))}))),AGe=ce({subscription:Y(),result:TT(_S)}),xGe=ce({pubkey:li,account:_S}),EGe=ce({subscription:Y(),result:TT(xGe)}),kGe=ce({parent:Y(),slot:Y(),root:Y()}),TGe=ce({subscription:Y(),result:kGe}),IGe=Dt([ce({type:Dt([ht("firstShredReceived"),ht("completed"),ht("optimisticConfirmation"),ht("root")]),slot:Y(),timestamp:Y()}),ce({type:ht("createdBank"),parent:Y(),slot:Y(),timestamp:Y()}),ce({type:ht("frozen"),slot:Y(),timestamp:Y(),stats:ce({numTransactionEntries:Y(),numSuccessfulTransactions:Y(),numFailedTransactions:Y(),maxTransactionsPerEntry:Y()})}),ce({type:ht("dead"),slot:Y(),timestamp:Y(),err:he()})]),RGe=ce({subscription:Y(),result:IGe}),MGe=ce({subscription:Y(),result:TT(Dt([ZVe,XVe]))}),CGe=ce({subscription:Y(),result:Y()}),PGe=ce({pubkey:he(),gossip:ye(he()),tpu:ye(he()),rpc:ye(he()),version:ye(he())}),dV=ce({votePubkey:he(),nodePubkey:he(),activatedStake:Y(),epochVoteAccount:xr(),epochCredits:me(cu([Y(),Y(),Y()])),commission:Y(),lastVote:Y(),rootSlot:ye(Y())}),NGe=wr(ce({current:me(dV),delinquent:me(dV)})),BGe=Dt([ht("processed"),ht("confirmed"),ht("finalized")]),OGe=ce({slot:Y(),confirmations:ye(Y()),err:mg,confirmationStatus:Ie(BGe)}),LGe=Ai(me(ye(OGe))),DGe=wr(Y()),koe=ce({accountKey:li,writableIndexes:me(Y()),readonlyIndexes:me(Y())}),$L=ce({signatures:me(he()),message:ce({accountKeys:me(he()),header:ce({numRequiredSignatures:Y(),numReadonlySignedAccounts:Y(),numReadonlyUnsignedAccounts:Y()}),instructions:me(ce({accounts:me(Y()),data:he(),programIdIndex:Y()})),recentBlockhash:he(),addressTableLookups:Ie(me(koe))})}),Toe=ce({pubkey:li,signer:xr(),writable:xr(),source:Ie(Dt([ht("transaction"),ht("lookupTable")]))}),Ioe=ce({accountKeys:me(Toe),signatures:me(he())}),Roe=ce({parsed:ri(),program:he(),programId:li}),Moe=ce({accounts:me(li),data:he(),programId:li}),FGe=Dt([Moe,Roe]),$Ge=Dt([ce({parsed:ri(),program:he(),programId:he()}),ce({accounts:me(he()),data:he(),programId:he()})]),Coe=zi(FGe,$Ge,t=>"accounts"in t?Oe(t,Moe):Oe(t,Roe)),Poe=ce({signatures:me(he()),message:ce({accountKeys:me(Toe),instructions:me(Coe),recentBlockhash:he(),addressTableLookups:Ie(ye(me(koe)))})}),LE=ce({accountIndex:Y(),mint:he(),owner:Ie(he()),programId:Ie(he()),uiTokenAmount:E5}),Noe=ce({writable:me(li),readonly:me(li)}),IT=ce({err:mg,fee:Y(),innerInstructions:Ie(ye(me(ce({index:Y(),instructions:me(ce({accounts:me(Y()),data:he(),programIdIndex:Y()}))})))),preBalances:me(Y()),postBalances:me(Y()),logMessages:Ie(ye(me(he()))),preTokenBalances:Ie(ye(me(LE))),postTokenBalances:Ie(ye(me(LE))),loadedAddresses:Ie(Noe),computeUnitsConsumed:Ie(Y())}),UL=ce({err:mg,fee:Y(),innerInstructions:Ie(ye(me(ce({index:Y(),instructions:me(Coe)})))),preBalances:me(Y()),postBalances:me(Y()),logMessages:Ie(ye(me(he()))),preTokenBalances:Ie(ye(me(LE))),postTokenBalances:Ie(ye(me(LE))),loadedAddresses:Ie(Noe),computeUnitsConsumed:Ie(Y())}),F1=Dt([ht(0),ht("legacy")]),yg=ce({pubkey:he(),lamports:Y(),postBalance:ye(Y()),rewardType:ye(he()),commission:Ie(ye(Y()))}),UGe=wr(ye(ce({blockhash:he(),previousBlockhash:he(),parentSlot:Y(),transactions:me(ce({transaction:$L,meta:ye(IT),version:Ie(F1)})),rewards:Ie(me(yg)),blockTime:ye(Y()),blockHeight:ye(Y())}))),zGe=wr(ye(ce({blockhash:he(),previousBlockhash:he(),parentSlot:Y(),rewards:Ie(me(yg)),blockTime:ye(Y()),blockHeight:ye(Y())}))),WGe=wr(ye(ce({blockhash:he(),previousBlockhash:he(),parentSlot:Y(),transactions:me(ce({transaction:Ioe,meta:ye(IT),version:Ie(F1)})),rewards:Ie(me(yg)),blockTime:ye(Y()),blockHeight:ye(Y())}))),jGe=wr(ye(ce({blockhash:he(),previousBlockhash:he(),parentSlot:Y(),transactions:me(ce({transaction:Poe,meta:ye(UL),version:Ie(F1)})),rewards:Ie(me(yg)),blockTime:ye(Y()),blockHeight:ye(Y())}))),KGe=wr(ye(ce({blockhash:he(),previousBlockhash:he(),parentSlot:Y(),transactions:me(ce({transaction:Ioe,meta:ye(UL),version:Ie(F1)})),rewards:Ie(me(yg)),blockTime:ye(Y()),blockHeight:ye(Y())}))),HGe=wr(ye(ce({blockhash:he(),previousBlockhash:he(),parentSlot:Y(),rewards:Ie(me(yg)),blockTime:ye(Y()),blockHeight:ye(Y())}))),qGe=wr(ye(ce({blockhash:he(),previousBlockhash:he(),parentSlot:Y(),transactions:me(ce({transaction:$L,meta:ye(IT)})),rewards:Ie(me(yg)),blockTime:ye(Y())}))),hV=wr(ye(ce({blockhash:he(),previousBlockhash:he(),parentSlot:Y(),signatures:me(he()),blockTime:ye(Y())}))),GM=wr(ye(ce({slot:Y(),meta:ye(IT),blockTime:Ie(ye(Y())),transaction:$L,version:Ie(F1)}))),e2=wr(ye(ce({slot:Y(),transaction:Poe,meta:ye(UL),blockTime:Ie(ye(Y())),version:Ie(F1)}))),VGe=Ai(ce({blockhash:he(),lastValidBlockHeight:Y()})),GGe=Ai(xr()),YGe=ce({slot:Y(),numTransactions:Y(),numSlots:Y(),samplePeriodSecs:Y()}),ZGe=wr(me(YGe)),XGe=Ai(ye(ce({feeCalculator:ce({lamportsPerSignature:Y()})}))),JGe=wr(he()),QGe=wr(he()),eYe=ce({err:mg,logs:me(he()),signature:he()}),tYe=ce({result:TT(eYe),subscription:Y()}),rYe={"solana-client":"js/1.0.0-maintenance"};class nYe{constructor(e,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const f={};return async d=>{const{commitment:g,config:y}=On(d),b=this._buildArgs([],g,void 0,y),A=uV(b);return f[A]=f[A]??(async()=>{try{const x=await this._rpcRequest("getBlockHeight",b),k=Oe(x,wr(Y()));if("error"in k)throw new Ut(k.error,"failed to get block height information");return k.result}finally{delete f[A]}})(),await f[A]}})();let n,i,s,o,a,u;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,i=r.httpHeaders,s=r.fetch,o=r.fetchMiddleware,a=r.disableRetryOnRateLimit,u=r.httpAgent),this._rpcEndpoint=zVe(e),this._rpcWsEndpoint=n||UVe(e),this._rpcClient=rGe(e,i,s,o,a,u),this._rpcRequest=nGe(this._rpcClient),this._rpcBatchRequest=iGe(this._rpcClient),this._rpcWebSocket=new LVe(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){const{commitment:n,config:i}=On(r),s=this._buildArgs([e.toBase58()],n,void 0,i),o=await this._rpcRequest("getBalance",s),a=Oe(o,Ai(Y()));if("error"in a)throw new Ut(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){const r=await this._rpcRequest("getBlockTime",[e]),n=Oe(r,wr(ye(Y())));if("error"in n)throw new Ut(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),r=Oe(e,wr(Y()));if("error"in r)throw new Ut(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),r=Oe(e,fGe);if("error"in r)throw new Ut(r.error,"failed to get first available block");return r.result}async getSupply(e){let r={};typeof e=="string"?r={commitment:e}:e?r={...e,commitment:e&&e.commitment||this.commitment}:r={commitment:this.commitment};const n=await this._rpcRequest("getSupply",[r]),i=Oe(n,dGe);if("error"in i)throw new Ut(i.error,"failed to get supply");return i.result}async getTokenSupply(e,r){const n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenSupply",n),s=Oe(i,Ai(E5));if("error"in s)throw new Ut(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,r){const n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenAccountBalance",n),s=Oe(i,Ai(E5));if("error"in s)throw new Ut(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,r,n){const{commitment:i,config:s}=On(n);let o=[e.toBase58()];"mint"in r?o.push({mint:r.mint.toBase58()}):o.push({programId:r.programId.toBase58()});const a=this._buildArgs(o,i,"base64",s),u=await this._rpcRequest("getTokenAccountsByOwner",a),f=Oe(u,pGe);if("error"in f)throw new Ut(f.error,`failed to get token accounts owned by account ${e.toBase58()}`);return f.result}async getParsedTokenAccountsByOwner(e,r,n){let i=[e.toBase58()];"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()});const s=this._buildArgs(i,n,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),a=Oe(o,gGe);if("error"in a)throw new Ut(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const r={...e,commitment:e&&e.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],i=await this._rpcRequest("getLargestAccounts",n),s=Oe(i,mGe);if("error"in s)throw new Ut(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,r){const n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenLargestAccounts",n),s=Oe(i,hGe);if("error"in s)throw new Ut(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,r){const{commitment:n,config:i}=On(r),s=this._buildArgs([e.toBase58()],n,"base64",i),o=await this._rpcRequest("getAccountInfo",s),a=Oe(o,Ai(ye(_S)));if("error"in a)throw new Ut(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,r){const{commitment:n,config:i}=On(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),a=Oe(o,Ai(ye(T5)));if("error"in a)throw new Ut(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,r){const{commitment:n,config:i}=On(r),s=e.map(f=>f.toBase58()),o=this._buildArgs([s],n,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",o),u=Oe(a,Ai(me(ye(T5))));if("error"in u)throw new Ut(u.error,`failed to get info for accounts ${s}`);return u.result}async getMultipleAccountsInfoAndContext(e,r){const{commitment:n,config:i}=On(r),s=e.map(f=>f.toBase58()),o=this._buildArgs([s],n,"base64",i),a=await this._rpcRequest("getMultipleAccounts",o),u=Oe(a,Ai(me(ye(_S))));if("error"in u)throw new Ut(u.error,`failed to get info for accounts ${s}`);return u.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,n){const{commitment:i,config:s}=On(r),o=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:n??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getStakeActivation",o),u=Oe(a,wr(wGe));if("error"in u)throw new Ut(u.error,`failed to get Stake Activation ${e.toBase58()}`);return u.result}async getProgramAccounts(e,r){const{commitment:n,config:i}=On(r),{encoding:s,...o}=i||{},a=this._buildArgs([e.toBase58()],n,s||"base64",{...o,...o.filters?{filters:lV(o.filters)}:null}),u=await this._rpcRequest("getProgramAccounts",a),f=me(yGe),d=o.withContext===!0?Oe(u,Ai(f)):Oe(u,wr(f));if("error"in d)throw new Ut(d.error,`failed to get accounts owned by program ${e.toBase58()}`);return d.result}async getParsedProgramAccounts(e,r){const{commitment:n,config:i}=On(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),a=Oe(o,wr(me(vGe)));if("error"in a)throw new Ut(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,r){var s;let n;if(typeof e=="string")n=e;else{const o=e;if((s=o.abortSignal)!=null&&s.aborted)return Promise.reject(o.abortSignal.reason);n=o.signature}let i;try{i=Ms.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return Zr(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((r,n)=>{e!=null&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:r}){let n,i,s=!1;const o=new Promise((u,f)=>{try{n=this.onSignature(r,(g,y)=>{n=void 0;const b={context:y,value:g};u({__type:Yl.PROCESSED,response:b})},e);const d=new Promise(g=>{n==null?g():i=this._onSubscriptionStateChange(n,y=>{y==="subscribed"&&g()})});(async()=>{if(await d,s)return;const g=await this.getSignatureStatus(r);if(s||g==null)return;const{context:y,value:b}=g;if(b!=null)if(b!=null&&b.err)f(b.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(b.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(b.confirmationStatus==="processed"||b.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,u({__type:Yl.PROCESSED,response:{context:y,value:b}})}})()}catch(d){f(d)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:i}}){let s=!1;const o=new Promise(g=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let b=await y();if(!s){for(;b<=n;)if(await vp(1e3),s||(b=await y(),s))return;g({__type:Yl.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),f=this.getCancellationPromise(r);let d;try{const g=await Promise.race([f,u,o]);if(g.__type===Yl.PROCESSED)d=g.response;else throw new NL(i)}finally{s=!0,a()}return d}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let a=!1;const u=new Promise(b=>{let A=s,x=null;const k=async()=>{try{const{context:I,value:R}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:n});return x=I.slot,R==null?void 0:R.nonce}catch{return A}};(async()=>{if(A=await k(),!a)for(;;){if(s!==A){b({__type:Yl.NONCE_INVALID,slotInWhichNonceDidAdvance:x});return}if(await vp(2e3),a||(A=await k(),a))return}})()}),{abortConfirmation:f,confirmationPromise:d}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),g=this.getCancellationPromise(r);let y;try{const b=await Promise.race([g,d,u]);if(b.__type===Yl.PROCESSED)y=b.response;else{let A;for(;;){const x=await this.getSignatureStatus(o);if(x==null)break;if(x.context.slot<(b.slotInWhichNonceDidAdvance??n)){await vp(400);continue}A=x;break}if(A!=null&&A.value){const x=e||"finalized",{confirmationStatus:k}=A.value;switch(x){case"processed":case"recent":if(k!=="processed"&&k!=="confirmed"&&k!=="finalized")throw new zm(o);break;case"confirmed":case"single":case"singleGossip":if(k!=="confirmed"&&k!=="finalized")throw new zm(o);break;case"finalized":case"max":case"root":if(k!=="finalized")throw new zm(o);break;default:}y={context:A.context,value:{err:A.value.err}}}else throw new zm(o)}}finally{a=!0,f()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:r}){let n;const i=new Promise(u=>{let f=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{f=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>u({__type:Yl.TIMED_OUT,timeoutMs:f}),f)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:r});let a;try{const u=await Promise.race([o,i]);if(u.__type===Yl.PROCESSED)a=u.response;else throw new BL(r,u.timeoutMs/1e3)}finally{clearTimeout(n),s()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),r=Oe(e,wr(me(PGe)));if("error"in r)throw new Ut(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",r),i=Oe(n,NGe);if("error"in i)throw new Ut(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:r,config:n}=On(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlot",i),o=Oe(s,wr(Y()));if("error"in o)throw new Ut(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:r,config:n}=On(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlotLeader",i),o=Oe(s,wr(he()));if("error"in o)throw new Ut(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,r){const n=[e,r],i=await this._rpcRequest("getSlotLeaders",n),s=Oe(i,wr(me(li)));if("error"in s)throw new Ut(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,r){const{context:n,value:i}=await this.getSignatureStatuses([e],r);Zr(i.length===1);const s=i[0];return{context:n,value:s}}async getSignatureStatuses(e,r){const n=[e];r&&n.push(r);const i=await this._rpcRequest("getSignatureStatuses",n),s=Oe(i,LGe);if("error"in s)throw new Ut(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:r,config:n}=On(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getTransactionCount",i),o=Oe(s,wr(Y()));if("error"in o)throw new Ut(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",r),i=Oe(n,sGe);if("error"in i)throw new Ut(i.error,"failed to get inflation");return i.result}async getInflationReward(e,r,n){const{commitment:i,config:s}=On(n),o=this._buildArgs([e.map(f=>f.toBase58())],i,void 0,{...s,epoch:r??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getInflationReward",o),u=Oe(a,KVe);if("error"in u)throw new Ut(u.error,"failed to get inflation reward");return u.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),r=Oe(e,oGe);if("error"in r)throw new Ut(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(e){const{commitment:r,config:n}=On(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getEpochInfo",i),o=Oe(s,uGe);if("error"in o)throw new Ut(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),r=Oe(e,cGe);if("error"in r)throw new Ut(r.error,"failed to get epoch schedule");const n=r.result;return new _oe(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),r=Oe(e,lGe);if("error"in r)throw new Ut(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(e,r){const n=this._buildArgs([e],r),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),s=Oe(i,DGe);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const{context:r,value:{blockhash:n}}=await this.getLatestBlockhashAndContext(e);return{context:r,value:{blockhash:n,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const r=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=Oe(r,ZGe);if("error"in n)throw new Ut(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,r){const n=this._buildArgs([e],r),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),s=Oe(i,XGe);if("error"in s)throw new Ut(s.error,"failed to get fee calculator");const{context:o,value:a}=s.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,r){const n=_r(e.serialize()).toString("base64"),i=this._buildArgs([n],r),s=await this._rpcRequest("getFeeForMessage",i),o=Oe(s,Ai(ye(Y())));if("error"in o)throw new Ut(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const r=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),n=r!=null&&r.length?[r]:[],i=await this._rpcRequest("getRecentPrioritizationFees",n),s=Oe(i,aGe);if("error"in s)throw new Ut(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(e){const{commitment:r,config:n}=On(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getLatestBlockhash",i),o=Oe(s,VGe);if("error"in o)throw new Ut(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,r){const{commitment:n,config:i}=On(r),s=this._buildArgs([e],n,void 0,i),o=await this._rpcRequest("isBlockhashValid",s),a=Oe(o,GGe);if("error"in a)throw new Ut(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),r=Oe(e,wr(JVe));if("error"in r)throw new Ut(r.error,"failed to get version");return r.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),r=Oe(e,wr(he()));if("error"in r)throw new Ut(r.error,"failed to get genesis hash");return r.result}async getBlock(e,r){const{commitment:n,config:i}=On(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=Oe(o,WGe);if("error"in a)throw a.error;return a.result}case"none":{const a=Oe(o,zGe);if("error"in a)throw a.error;return a.result}default:{const a=Oe(o,UGe);if("error"in a)throw a.error;const{result:u}=a;return u?{...u,transactions:u.transactions.map(({transaction:f,meta:d,version:g})=>({meta:d,transaction:{...f,message:VM(g,f.message)},version:g}))}:null}}}catch(a){throw new Ut(a,"failed to get confirmed block")}}async getParsedBlock(e,r){const{commitment:n,config:i}=On(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=Oe(o,KGe);if("error"in a)throw a.error;return a.result}case"none":{const a=Oe(o,HGe);if("error"in a)throw a.error;return a.result}default:{const a=Oe(o,jGe);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Ut(a,"failed to get block")}}async getBlockProduction(e){let r,n;if(typeof e=="string")n=e;else if(e){const{commitment:a,...u}=e;n=a,r=u}const i=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getBlockProduction",i),o=Oe(s,tGe);if("error"in o)throw new Ut(o.error,"failed to get block production information");return o.result}async getTransaction(e,r){const{commitment:n,config:i}=On(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),o=await this._rpcRequest("getTransaction",s),a=Oe(o,GM);if("error"in a)throw new Ut(a.error,"failed to get transaction");const u=a.result;return u&&{...u,transaction:{...u.transaction,message:VM(u.version,u.transaction.message)}}}async getParsedTransaction(e,r){const{commitment:n,config:i}=On(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),a=Oe(o,e2);if("error"in a)throw new Ut(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,r){const{commitment:n,config:i}=On(r),s=e.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],n,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(u=>{const f=Oe(u,e2);if("error"in f)throw new Ut(f.error,"failed to get transactions");return f.result})}async getTransactions(e,r){const{commitment:n,config:i}=On(r),s=e.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],n,void 0,i)}));return(await this._rpcBatchRequest(s)).map(u=>{const f=Oe(u,GM);if("error"in f)throw new Ut(f.error,"failed to get transactions");const d=f.result;return d&&{...d,transaction:{...d.transaction,message:VM(d.version,d.transaction.message)}}})}async getConfirmedBlock(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getBlock",n),s=Oe(i,qGe);if("error"in s)throw new Ut(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:u,meta:f})=>{const d=new Xu(u.message);return{meta:f,transaction:{...u,message:d}}})};return{...a,transactions:a.transactions.map(({transaction:u,meta:f})=>({meta:f,transaction:tn.populate(u.message,u.signatures)}))}}async getBlocks(e,r,n){const i=this._buildArgsAtLeastConfirmed(r!==void 0?[e,r]:[e],n),s=await this._rpcRequest("getBlocks",i),o=Oe(s,wr(me(Y())));if("error"in o)throw new Ut(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),s=Oe(i,hV);if("error"in s)throw new Ut(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),s=Oe(i,hV);if("error"in s)throw new Ut(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getTransaction",n),s=Oe(i,GM);if("error"in s)throw new Ut(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const a=new Xu(o.transaction.message),u=o.transaction.signatures;return{...o,transaction:tn.populate(a,u)}}async getParsedConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),i=await this._rpcRequest("getTransaction",n),s=Oe(i,e2);if("error"in s)throw new Ut(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,r){const n=e.map(o=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([o],r,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(o=>{const a=Oe(o,e2);if("error"in a)throw new Ut(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,r,n){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(r--,!(r<=0||r<s));)try{const u=await this.getConfirmedBlockSignatures(r,"finalized");u.signatures.length>0&&(i.until=u.signatures[u.signatures.length-1].toString())}catch(u){if(u instanceof Error&&u.message.includes("skipped"))continue;throw u}let o=await this.getSlot("finalized");for(;!("before"in i)&&(n++,!(n>o));)try{const u=await this.getConfirmedBlockSignatures(n);u.signatures.length>0&&(i.before=u.signatures[u.signatures.length-1].toString())}catch(u){if(u instanceof Error&&u.message.includes("skipped"))continue;throw u}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(u=>u.signature)}async getConfirmedSignaturesForAddress2(e,r,n){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=Oe(s,SGe);if("error"in o)throw new Ut(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,r,n){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getSignaturesForAddress",i),o=Oe(s,_Ge);if("error"in o)throw new Ut(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,r){const{context:n,value:i}=await this.getAccountInfoAndContext(e,r);let s=null;return i!==null&&(s=new x5({key:e,state:x5.deserialize(i.data)})),{context:n,value:s}}async getNonceAndContext(e,r){const{context:n,value:i}=await this.getAccountInfoAndContext(e,r);let s=null;return i!==null&&(s=kT.fromAccountData(i.data)),{context:n,value:s}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,r){const n=await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),i=Oe(n,JGe);if("error"in i)throw new Ut(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await vp(100);const n=Date.now()-this._blockhashInfo.lastFetch>=xoe;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(n!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await vp(voe/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:r,config:n}=On(e),i=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=Oe(s,Ai(Y()));if("error"in o)throw new Ut(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,r,n){if("message"in e){const x=e.serialize(),k=xe.Buffer.from(x).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");const I=r||{};I.encoding="base64","commitment"in I||(I.commitment=this.commitment),r&&typeof r=="object"&&"innerInstructions"in r&&(I.innerInstructions=r.innerInstructions);const R=[k,I],M=await this._rpcRequest("simulateTransaction",R),P=Oe(M,fV);if("error"in P)throw new Error("failed to simulate transaction: "+P.error.message);return P.result}let i;if(e instanceof tn){let A=e;i=new tn,i.feePayer=A.feePayer,i.instructions=e.instructions,i.nonceInfo=A.nonceInfo,i.signatures=A.signatures}else i=tn.populate(e),i._message=i._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");const s=r;if(i.nonceInfo&&s)i.sign(...s);else{let A=this._disableBlockhashCaching;for(;;){const x=await this._blockhashWithExpiryBlockHeight(A);if(i.lastValidBlockHeight=x.lastValidBlockHeight,i.recentBlockhash=x.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const k=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(k)&&!this._blockhashInfo.transactionSignatures.includes(k)){this._blockhashInfo.simulatedSignatures.push(k);break}else A=!0}}const o=i._compile(),a=o.serialize(),f=i._serialize(a).toString("base64"),d={encoding:"base64",commitment:this.commitment};if(n){const A=(Array.isArray(n)?n:o.nonProgramIds()).map(x=>x.toBase58());d.accounts={encoding:"base64",addresses:A}}s&&(d.sigVerify=!0),r&&typeof r=="object"&&"innerInstructions"in r&&(d.innerInstructions=r.innerInstructions);const g=[f,d],y=await this._rpcRequest("simulateTransaction",g),b=Oe(y,fV);if("error"in b){let A;if("data"in b.error&&(A=b.error.data.logs,A&&Array.isArray(A))){const x=`
    `,k=x+A.join(x);console.error(b.error.message,k)}throw new SS({action:"simulate",signature:"",transactionMessage:b.error.message,logs:A})}return b.result}async sendTransaction(e,r,n){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");const i=r;if(e.nonceInfo)e.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const u=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(u))o=!0;else{this._blockhashInfo.transactionSignatures.push(u);break}}}const s=e.serialize();return await this.sendRawTransaction(s,n)}async sendRawTransaction(e,r){const n=_r(e).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(e,r){const n={encoding:"base64"},i=r&&r.skipPreflight,s=i===!0?"processed":r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),s&&(n.preflightCommitment=s);const o=[e,n],a=await this._rpcRequest("sendTransaction",o),u=Oe(a,QGe);if("error"in u){let f;throw"data"in u.error&&(f=u.error.data.logs),new SS({action:i?"send":"simulate",signature:"",transactionMessage:u.error.message,logs:f})}return u.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(e,r){var i;const n=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=r,n!==r.state){const s=this._subscriptionStateChangeCallbacksByHash[e];s&&s.forEach(o=>{try{o(r.state)}catch{}})}}_onSubscriptionStateChange(e,r){var s;const n=this._subscriptionHashByClientSubscriptionId[e];if(n==null)return()=>{};const i=(s=this._subscriptionStateChangeCallbacksByHash)[n]||(s[n]=new Set);return i.add(r),()=>{i.delete(r),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,r=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{const i=this._subscriptionsByHash[n];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[n],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(n,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(o,s);this._setSubscription(n,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:s,error:a}),!r())return;this._setSubscription(n,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(n,{...i,state:"unsubscribing"}),this._setSubscription(n,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!r())return;this._setSubscription(n,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,r){const n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(i=>{try{i(...r)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:r,subscription:n}=Oe(e,AGe);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(e,r){const n=this._nextClientSubscriptionId++,i=uV([e.method,r]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const o=this._subscriptionsByHash[i];Zr(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,r,n){const{commitment:i,config:s}=On(n),o=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",s);return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:r,subscription:n}=Oe(e,EGe);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,n,i){const{commitment:s,config:o}=On(n),a=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",o||(i?{filters:lV(i)}:void 0));return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,n){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:r,subscription:n}=Oe(e,tYe);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(e){const{result:r,subscription:n}=Oe(e,TGe);this._handleServerNotification(n,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:r,subscription:n}=Oe(e,RGe);this._handleServerNotification(n,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,n,i){const s=r||this._commitment;if(s||n||i){let o={};n&&(o.encoding=n),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,r,n,i){const s=r||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,n,i)}_wsOnSignatureNotification(e){const{result:r,subscription:n}=Oe(e,MGe);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,n){const i=this._buildArgs([e],n||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){r(o.result,a);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,r,n){const{commitment:i,...s}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},o=this._buildArgs([e],i,void 0,s),a=this._makeSubscription({callback:(u,f)=>{r(u,f);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:r,subscription:n}=Oe(e,CGe);this._handleServerNotification(n,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class gy{constructor(e){this._keypair=void 0,this._keypair=e??iV()}static generate(){return new gy(iV())}static fromSecretKey(e,r){if(e.byteLength!==64)throw new Error("bad secret key size");const n=e.slice(32,64);if(!r||!r.skipValidation){const i=e.slice(0,32),s=OE(i);for(let o=0;o<32;o++)if(n[o]!==s[o])throw new Error("provided secretKey is invalid")}return new gy({publicKey:n,secretKey:e})}static fromSeed(e){const r=OE(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new gy({publicKey:r,secretKey:n})}get publicKey(){return new vt(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Rf=Object.freeze({CreateLookupTable:{index:0,layout:pe([ge("instruction"),Yb("recentSlot"),Ge("bumpSeed")])},FreezeLookupTable:{index:1,layout:pe([ge("instruction")])},ExtendLookupTable:{index:2,layout:pe([ge("instruction"),Yb(),Mt(Rr(),zr(ge(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:pe([ge("instruction")])},CloseLookupTable:{index:4,layout:pe([ge("instruction")])}});class iYe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=ge("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Rf))if(o.index==n){i=s;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:r}=nn(Rf.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(r)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:r}=nn(Rf.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:r.map(n=>new vt(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(zL.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}class zL{constructor(){}static createLookupTable(e){const[r,n]=vt.findProgramAddressSync([e.authority.toBuffer(),Uh(BigInt(e.recentSlot),8)],this.programId),i=Rf.CreateLookupTable,s=Dr(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),o=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:ds.programId,isSigner:!1,isWritable:!1}];return[new Rn({programId:this.programId,keys:o,data:s}),r]}static freezeLookupTable(e){const r=Rf.FreezeLookupTable,n=Dr(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Rn({programId:this.programId,keys:i,data:n})}static extendLookupTable(e){const r=Rf.ExtendLookupTable,n=Dr(r,{addresses:e.addresses.map(s=>s.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:ds.programId,isSigner:!1,isWritable:!1}),new Rn({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(e){const r=Rf.DeactivateLookupTable,n=Dr(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Rn({programId:this.programId,keys:i,data:n})}static closeLookupTable(e){const r=Rf.CloseLookupTable,n=Dr(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Rn({programId:this.programId,keys:i,data:n})}}zL.programId=new vt("AddressLookupTab1e1111111111111111111111111");class sYe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=Ge("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(jc))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:r,additionalFee:n}=nn(jc.RequestUnits,e.data);return{units:r,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:r}=nn(jc.RequestHeapFrame,e.data);return{bytes:r}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:r}=nn(jc.SetComputeUnitLimit,e.data);return{units:r}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:r}=nn(jc.SetComputeUnitPrice,e.data);return{microLamports:r}}static checkProgramId(e){if(!e.equals(WL.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const jc=Object.freeze({RequestUnits:{index:0,layout:pe([Ge("instruction"),ge("units"),ge("additionalFee")])},RequestHeapFrame:{index:1,layout:pe([Ge("instruction"),ge("bytes")])},SetComputeUnitLimit:{index:2,layout:pe([Ge("instruction"),ge("units")])},SetComputeUnitPrice:{index:3,layout:pe([Ge("instruction"),Yb("microLamports")])}});class WL{constructor(){}static requestUnits(e){const r=jc.RequestUnits,n=Dr(r,e);return new Rn({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){const r=jc.RequestHeapFrame,n=Dr(r,e);return new Rn({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){const r=jc.SetComputeUnitLimit,n=Dr(r,e);return new Rn({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){const r=jc.SetComputeUnitPrice,n=Dr(r,{microLamports:BigInt(e.microLamports)});return new Rn({keys:[],programId:this.programId,data:n})}}WL.programId=new vt("ComputeBudget111111111111111111111111111111");const pV=64,gV=32,mV=64,yV=pe([Ge("numSignatures"),Ge("padding"),jt("signatureOffset"),jt("signatureInstructionIndex"),jt("publicKeyOffset"),jt("publicKeyInstructionIndex"),jt("messageDataOffset"),jt("messageDataSize"),jt("messageInstructionIndex")]);class RT{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:r,message:n,signature:i,instructionIndex:s}=e;Zr(r.length===gV,`Public Key must be ${gV} bytes but received ${r.length} bytes`),Zr(i.length===mV,`Signature must be ${mV} bytes but received ${i.length} bytes`);const o=yV.span,a=o+r.length,u=a+i.length,f=1,d=xe.Buffer.alloc(u+n.length),g=s??65535;return yV.encode({numSignatures:f,padding:0,signatureOffset:a,signatureInstructionIndex:g,publicKeyOffset:o,publicKeyInstructionIndex:g,messageDataOffset:u,messageDataSize:n.length,messageInstructionIndex:g},d),d.fill(r,o),d.fill(i,a),d.fill(n,u),new Rn({keys:[],programId:RT.programId,data:d})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:n,instructionIndex:i}=e;Zr(r.length===pV,`Private key must be ${pV} bytes but received ${r.length} bytes`);try{const s=gy.fromSecretKey(r),o=s.publicKey.toBytes(),a=CL(n,s.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:n,signature:a,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}}RT.programId=new vt("Ed25519SigVerify111111111111111111111111111");const oYe=(t,e)=>{const r=Ra.sign(t,e);return[r.toCompactRawBytes(),r.recovery]};Ra.utils.isValidPrivateKey;const aYe=Ra.getPublicKey,bV=32,YM=20,vV=64,uYe=11,ZM=pe([Ge("numSignatures"),jt("signatureOffset"),Ge("signatureInstructionIndex"),jt("ethAddressOffset"),Ge("ethAddressInstructionIndex"),jt("messageDataOffset"),jt("messageDataSize"),Ge("messageInstructionIndex"),at(20,"ethAddress"),at(64,"signature"),Ge("recoveryId")]);class my{constructor(){}static publicKeyToEthAddress(e){Zr(e.length===vV,`Public key must be ${vV} bytes but received ${e.length} bytes`);try{return xe.Buffer.from(Nx(_r(e))).slice(-YM)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(e){const{publicKey:r,message:n,signature:i,recoveryId:s,instructionIndex:o}=e;return my.createInstructionWithEthAddress({ethAddress:my.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:s,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:r,message:n,signature:i,recoveryId:s,instructionIndex:o=0}=e;let a;typeof r=="string"?r.startsWith("0x")?a=xe.Buffer.from(r.substr(2),"hex"):a=xe.Buffer.from(r,"hex"):a=r,Zr(a.length===YM,`Address must be ${YM} bytes but received ${a.length} bytes`);const u=1+uYe,f=u,d=u+a.length,g=d+i.length+1,y=1,b=xe.Buffer.alloc(ZM.span+n.length);return ZM.encode({numSignatures:y,signatureOffset:d,signatureInstructionIndex:o,ethAddressOffset:f,ethAddressInstructionIndex:o,messageDataOffset:g,messageDataSize:n.length,messageInstructionIndex:o,signature:_r(i),ethAddress:_r(a),recoveryId:s},b),b.fill(_r(n),ZM.span),new Rn({keys:[],programId:my.programId,data:b})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:n,instructionIndex:i}=e;Zr(r.length===bV,`Private key must be ${bV} bytes but received ${r.length} bytes`);try{const s=_r(r),o=aYe(s,!1).slice(1),a=xe.Buffer.from(Nx(_r(n))),[u,f]=oYe(a,s);return this.createInstructionWithPublicKey({publicKey:o,message:n,signature:u,recoveryId:f,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}}my.programId=new vt("KeccakSecp256k11111111111111111111111111111");var Boe;const Ooe=new vt("StakeConfig11111111111111111111111111111111");class Loe{constructor(e,r){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=r}}class F_{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}}Boe=F_;F_.default=new Boe(0,0,vt.default);class cYe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=ge("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(us))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r,lockup:n}=nn(us.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Loe(new vt(r.staker),new vt(r.withdrawer)),lockup:new F_(n.unixTimestamp,n.epoch,new vt(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),nn(us.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,stakeAuthorizationType:n}=nn(us.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new vt(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:r,stakeAuthorizationType:n,authoritySeed:i,authorityOwner:s}=nn(us.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new vt(s),newAuthorizedPubkey:new vt(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=nn(us.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),nn(us.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=nn(us.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),nn(us.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(MT.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const us=Object.freeze({Initialize:{index:0,layout:pe([ge("instruction"),fVe(),dVe()])},Authorize:{index:1,layout:pe([ge("instruction"),Rr("newAuthorized"),ge("stakeAuthorizationType")])},Delegate:{index:2,layout:pe([ge("instruction")])},Split:{index:3,layout:pe([ge("instruction"),Lt("lamports")])},Withdraw:{index:4,layout:pe([ge("instruction"),Lt("lamports")])},Deactivate:{index:5,layout:pe([ge("instruction")])},Merge:{index:7,layout:pe([ge("instruction")])},AuthorizeWithSeed:{index:8,layout:pe([ge("instruction"),Rr("newAuthorized"),ge("stakeAuthorizationType"),Op("authoritySeed"),Rr("authorityOwner")])}}),lYe=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class MT{constructor(){}static initialize(e){const{stakePubkey:r,authorized:n,lockup:i}=e,s=i||F_.default,o=us.Initialize,a=Dr(o,{authorized:{staker:_r(n.staker.toBuffer()),withdrawer:_r(n.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:_r(s.custodian.toBuffer())}}),u={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Gb,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new Rn(u)}static createAccountWithSeed(e){const r=new tn;r.add(ds.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:i,lockup:s}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static createAccount(e){const r=new tn;r.add(ds.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:i,lockup:s}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static delegate(e){const{stakePubkey:r,authorizedPubkey:n,votePubkey:i}=e,s=us.Delegate,o=Dr(s);return new tn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Bc,isSigner:!1,isWritable:!1},{pubkey:cx,isSigner:!1,isWritable:!1},{pubkey:Ooe,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:o}=e,a=us.Authorize,u=Dr(a,{newAuthorized:_r(i.toBuffer()),stakeAuthorizationType:s.index}),f=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Bc,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&f.push({pubkey:o,isSigner:!0,isWritable:!1}),new tn().add({keys:f,programId:this.programId,data:u})}static authorizeWithSeed(e){const{stakePubkey:r,authorityBase:n,authoritySeed:i,authorityOwner:s,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:u}=e,f=us.AuthorizeWithSeed,d=Dr(f,{newAuthorized:_r(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:_r(s.toBuffer())}),g=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:Bc,isSigner:!1,isWritable:!1}];return u&&g.push({pubkey:u,isSigner:!0,isWritable:!1}),new tn().add({keys:g,programId:this.programId,data:d})}static splitInstruction(e){const{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:s}=e,o=us.Split,a=Dr(o,{lamports:s});return new Rn({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,r){const n=new tn;return n.add(ds.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:r,space:this.space,programId:this.programId})),n.add(this.splitInstruction(e))}static splitWithSeed(e,r){const{stakePubkey:n,authorizedPubkey:i,splitStakePubkey:s,basePubkey:o,seed:a,lamports:u}=e,f=new tn;return f.add(ds.allocate({accountPubkey:s,basePubkey:o,seed:a,space:this.space,programId:this.programId})),r&&r>0&&f.add(ds.transfer({fromPubkey:e.authorizedPubkey,toPubkey:s,lamports:r})),f.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:i,splitStakePubkey:s,lamports:u}))}static merge(e){const{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:i}=e,s=us.Merge,o=Dr(s);return new tn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Bc,isSigner:!1,isWritable:!1},{pubkey:cx,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:r,authorizedPubkey:n,toPubkey:i,lamports:s,custodianPubkey:o}=e,a=us.Withdraw,u=Dr(a,{lamports:s}),f=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Bc,isSigner:!1,isWritable:!1},{pubkey:cx,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&f.push({pubkey:o,isSigner:!0,isWritable:!1}),new tn().add({keys:f,programId:this.programId,data:u})}static deactivate(e){const{stakePubkey:r,authorizedPubkey:n}=e,i=us.Deactivate,s=Dr(i);return new tn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Bc,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}}MT.programId=new vt("Stake11111111111111111111111111111111111111");MT.space=200;class Doe{constructor(e,r,n,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=r,this.authorizedWithdrawer=n,this.commission=i}}class fYe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=ge("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Kc))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:r}=nn(Kc.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new Doe(new vt(r.nodePubkey),new vt(r.authorizedVoter),new vt(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,voteAuthorizationType:n}=nn(Kc.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new vt(r),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorized:i,voteAuthorizationType:s}}=nn(Kc.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new vt(r),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new vt(i),voteAuthorizationType:{index:s},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=nn(Kc.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals($1.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const Kc=Object.freeze({InitializeAccount:{index:0,layout:pe([ge("instruction"),hVe()])},Authorize:{index:1,layout:pe([ge("instruction"),Rr("newAuthorized"),ge("voteAuthorizationType")])},Withdraw:{index:3,layout:pe([ge("instruction"),Lt("lamports")])},UpdateValidatorIdentity:{index:4,layout:pe([ge("instruction")])},AuthorizeWithSeed:{index:10,layout:pe([ge("instruction"),pVe()])}}),dYe=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class $1{constructor(){}static initializeAccount(e){const{votePubkey:r,nodePubkey:n,voteInit:i}=e,s=Kc.InitializeAccount,o=Dr(s,{voteInit:{nodePubkey:_r(i.nodePubkey.toBuffer()),authorizedVoter:_r(i.authorizedVoter.toBuffer()),authorizedWithdrawer:_r(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Gb,isSigner:!1,isWritable:!1},{pubkey:Bc,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new Rn(a)}static createAccount(e){const r=new tn;return r.add(ds.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:s}=e,o=Kc.Authorize,a=Dr(o,{newAuthorized:_r(i.toBuffer()),voteAuthorizationType:s.index}),u=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Bc,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new tn().add({keys:u,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:s,voteAuthorizationType:o,votePubkey:a}=e,u=Kc.AuthorizeWithSeed,f=Dr(u,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:_r(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:_r(s.toBuffer()),voteAuthorizationType:o.index}}),d=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Bc,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new tn().add({keys:d,programId:this.programId,data:f})}static withdraw(e){const{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:s}=e,o=Kc.Withdraw,a=Dr(o,{lamports:i}),u=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new tn().add({keys:u,programId:this.programId,data:a})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return $1.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:r,authorizedWithdrawerPubkey:n,nodePubkey:i}=e,s=Kc.UpdateValidatorIdentity,o=Dr(s),a=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new tn().add({keys:a,programId:this.programId,data:o})}}$1.programId=new vt("Vote111111111111111111111111111111111111111");$1.space=3762;const Foe=new vt("Va1idator1nfo111111111111111111111111111111"),hYe=ce({name:he(),website:Ie(he()),details:Ie(he()),iconUrl:Ie(he()),keybaseUsername:Ie(he())});class jL{constructor(e,r){this.key=void 0,this.info=void 0,this.key=e,this.info=r}static fromConfigData(e){let r=[...e];if(Fo(r)!==2)return null;const i=[];for(let s=0;s<2;s++){const o=new vt($o(r,0,al)),a=Wc(r)===1;i.push({publicKey:o,isSigner:a})}if(i[0].publicKey.equals(Foe)&&i[1].isSigner){const s=Op().decode(xe.Buffer.from(r)),o=JSON.parse(s);return gZ(o,hYe),new jL(i[1].publicKey,o)}return null}}const pYe=new vt("Vote111111111111111111111111111111111111111"),gYe=pe([Rr("nodePubkey"),Rr("authorizedWithdrawer"),Ge("commission"),bt(),Mt(pe([bt("slot"),ge("confirmationCount")]),zr(ge(),-8),"votes"),Ge("rootSlotValid"),bt("rootSlot"),bt(),Mt(pe([bt("epoch"),Rr("authorizedVoter")]),zr(ge(),-8),"authorizedVoters"),pe([Mt(pe([Rr("authorizedPubkey"),bt("epochOfLastAuthorizedSwitch"),bt("targetEpoch")]),32,"buf"),bt("idx"),Ge("isEmpty")],"priorVoters"),bt(),Mt(pe([bt("epoch"),bt("credits"),bt("prevCredits")]),zr(ge(),-8),"epochCredits"),pe([bt("slot"),bt("timestamp")],"lastTimestamp")]);class KL{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const n=gYe.decode(_r(e),4);let i=n.rootSlot;return n.rootSlotValid||(i=null),new KL({nodePubkey:new vt(n.nodePubkey),authorizedWithdrawer:new vt(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:i,authorizedVoters:n.authorizedVoters.map(mYe),priorVoters:yYe(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}}function mYe({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new vt(t)}}function wV({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:r}){return{authorizedPubkey:new vt(t),epochOfLastAuthorizedSwitch:e,targetEpoch:r}}function yYe({buf:t,idx:e,isEmpty:r}){return r?[]:[...t.slice(e+1).map(wV),...t.slice(0,e).map(wV)]}const SV={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function bYe(t,e){const r=e===!1?"http":"https";if(!t)return SV[r].devnet;const n=SV[r][t];if(!n)throw new Error(`Unknown ${r} cluster: ${t}`);return n}async function vYe(t,e,r,n){let i,s;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")||r&&Object.prototype.hasOwnProperty.call(r,"nonceValue")?(i=r,s=n):s=r;const o=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},a=await t.sendRawTransaction(e,o),u=s&&s.commitment,d=(await(i?t.confirmTransaction(i,u):t.confirmTransaction(a,u))).value;if(d.err)throw a!=null?new SS({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(d)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(d)})`);return a}const wYe=1e9,SYe=Object.freeze(Object.defineProperty({__proto__:null,Account:uVe,AddressLookupTableAccount:x5,AddressLookupTableInstruction:iYe,AddressLookupTableProgram:zL,Authorized:Loe,BLOCKHASH_CACHE_TIMEOUT_MS:xoe,BPF_LOADER_DEPRECATED_PROGRAM_ID:cVe,BPF_LOADER_PROGRAM_ID:RVe,BpfLoader:MVe,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:jc,ComputeBudgetInstruction:sYe,ComputeBudgetProgram:WL,Connection:nYe,Ed25519Program:RT,Enum:oVe,EpochSchedule:_oe,FeeCalculatorLayout:woe,Keypair:gy,LAMPORTS_PER_SOL:wYe,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Rf,Loader:j0,Lockup:F_,MAX_SEED_LENGTH:moe,Message:Xu,MessageAccountKeys:wS,MessageV0:W0,NONCE_ACCOUNT_LENGTH:A5,NonceAccount:kT,PACKET_DATA_SIZE:vh,PUBLIC_KEY_LENGTH:al,PublicKey:vt,SIGNATURE_LENGTH_IN_BYTES:vS,SOLANA_SCHEMA:kw,STAKE_CONFIG_ID:Ooe,STAKE_INSTRUCTION_LAYOUTS:us,SYSTEM_INSTRUCTION_LAYOUTS:Dn,SYSVAR_CLOCK_PUBKEY:Bc,SYSVAR_EPOCH_SCHEDULE_PUBKEY:vVe,SYSVAR_INSTRUCTIONS_PUBKEY:wVe,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:ux,SYSVAR_RENT_PUBKEY:Gb,SYSVAR_REWARDS_PUBKEY:SVe,SYSVAR_SLOT_HASHES_PUBKEY:_Ve,SYSVAR_SLOT_HISTORY_PUBKEY:AVe,SYSVAR_STAKE_HISTORY_PUBKEY:cx,Secp256k1Program:my,SendTransactionError:SS,SolanaJSONRPCError:Ut,SolanaJSONRPCErrorCode:xVe,StakeAuthorizationLayout:lYe,StakeInstruction:cYe,StakeProgram:MT,Struct:PL,SystemInstruction:TVe,SystemProgram:ds,Transaction:tn,TransactionExpiredBlockheightExceededError:NL,TransactionExpiredNonceInvalidError:zm,TransactionExpiredTimeoutError:BL,TransactionInstruction:Rn,TransactionMessage:LL,TransactionStatus:Yl,VALIDATOR_INFO_KEY:Foe,VERSION_PREFIX_MASK:xT,VOTE_PROGRAM_ID:pYe,ValidatorInfo:jL,VersionedMessage:OL,VersionedTransaction:DL,VoteAccount:KL,VoteAuthorizationLayout:dYe,VoteInit:Doe,VoteInstruction:fYe,VoteProgram:$1,clusterApiUrl:bYe,sendAndConfirmRawTransaction:vYe,sendAndConfirmTransaction:_5},Symbol.toStringTag,{value:"Module"})),_Ye=GS(SYe);Object.defineProperty(z0,"__esModule",{value:!0});z0.keysTypeMap=z0.publicKey=void 0;const AYe=_Ye,xYe=B,EYe="@metaplex-foundation/beet-solana",kYe="@solana/web3.js",XM=(0,xYe.fixedSizeUint8Array)(32);z0.publicKey={write:function(t,e,r){const n=r.toBytes();XM.write(t,e,n)},read:function(t,e){const r=XM.read(t,e);return new AYe.PublicKey(r)},byteSize:XM.byteSize,description:"PublicKey"};z0.keysTypeMap={publicKey:{beet:"publicKey",isFixable:!1,sourcePack:EYe,ts:"PublicKey",pack:kYe}};var CT={},Zc={},TYe=St&&St.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zc,"__esModule",{value:!0});Zc.logTrace=Zc.logDebug=Zc.logInfo=Zc.logError=void 0;const PT=TYe(ioe);Zc.logError=(0,PT.default)("beet:error");Zc.logInfo=(0,PT.default)("beet:info");Zc.logDebug=(0,PT.default)("beet:debug");Zc.logTrace=(0,PT.default)("beet:trace");var NT={},IYe=St&&St.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(NT,"__esModule",{value:!0});NT.encodeFixedBeet=void 0;const RYe=IYe(e_);function MYe(t,e){const r=we.Buffer.alloc(t.byteSize);return t.write(r,0,e),RYe.default.encode(r)}NT.encodeFixedBeet=MYe;Object.defineProperty(CT,"__esModule",{value:!0});CT.GpaBuilder=void 0;const JM=B,Av=Aa(),CYe=Zc,_V=NT;class DE{constructor(e,r,n){this.programId=e,this.beets=r,this.accountSize=n,this.config={}}_addFilter(e){return this.config.filters==null&&(this.config.filters=[]),this.config.filters.push(e),this}_addInnerFilter(e,r,n){(0,CYe.logTrace)(`gpa.addInnerFilter: ${e}.${r}`);const i=this.beets.get(e);(0,Av.strict)(i!=null,"Outer filter key needs to be an existing field name");const s=i.beet;let o=i.offset;const a=(0,JM.isFixedSizeBeet)(s)?s:s.toFixedFromValue(n);let u;for(const[d,g]of a.fields){if(d===r){u=g;break}o+=g.byteSize}(0,Av.strict)(u!=null,`${r} is not a field of the ${e} struct`);const f=(0,_V.encodeFixedBeet)(u,n);return this._addFilter({memcmp:{offset:o,bytes:f}}),this}addInnerFilter(e,r){const n=e.split(".");Av.strict.equal(n.length,2,"inner filters can go only one level deep, i.e. 'outer.inner' is ok, but 'outer.inner.deep' is not");const[i,s]=n;return this._addInnerFilter(i,s,r)}addFilter(e,r){const n=this.beets.get(e);(0,Av.strict)(n!=null,"Filter key needs to be an existing field name");const i=(0,JM.isFixedSizeBeet)(n.beet)?n.beet:n.beet.toFixedFromValue(r),s=(0,_V.encodeFixedBeet)(i,r);return this._addFilter({memcmp:{offset:n.offset,bytes:s}}),this}dataSize(e){return e=e??this.accountSize,(0,Av.strict)(e!=null,"for accounts of dynamic size the dataSize arg needs to be provided"),this._addFilter({dataSize:e})}run(e){return e.getProgramAccounts(this.programId,this.config)}static fromBeetFields(e,r){const n=new Map;let i=0,s=!1;for(const[a,u]of r){if(n.set(a,{beet:u,offset:i}),!(0,JM.isFixedSizeBeet)(u)){s=!0;break}i+=u.byteSize}const o=s?void 0:i;return new DE(e,n,o)}static fromStruct(e,r){return DE.fromBeetFields(e,r.fields)}}CT.GpaBuilder=DE;(function(t){var e=St&&St.__createBinding||(Object.create?function(i,s,o,a){a===void 0&&(a=o);var u=Object.getOwnPropertyDescriptor(s,o);(!u||("get"in u?!s.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(i,a,u)}:function(i,s,o,a){a===void 0&&(a=o),i[a]=s[o]}),r=St&&St.__exportStar||function(i,s){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&e(s,i,o)};Object.defineProperty(t,"__esModule",{value:!0}),t.supportedTypeMap=void 0;const n=z0;r(z0,t),r(CT,t),t.supportedTypeMap=n.keysTypeMap})(Pe);const BT=new it("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new it("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");new it("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");new it("So11111111111111111111111111111111111111112");new it("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");var $oe=(t=>(t.APTOS="aptos",t))($oe||{}),Uoe=(t=>(t.ETHEREUM="ethereum",t.BSC="bsc",t.AVALANCHE="avalanche",t.POLYGON="polygon",t.ZKPOLYGON="zkpolygon",t.ARBITRUM="arbitrum",t.OPTIMISM="optimism",t.FANTOM="fantom",t.SWIMMER="swimmer",t.DFK="dfk",t.HARMONY="harmony",t.ARCANA="arcana",t.DEXALOT="dexalot",t.CASTLECRUSH="castlecrush",t.GNOSIS="gnosis",t.CELO="celo",t.MOONBEAM="moonbeam",t.BOBA="boba",t.PORTAL="portal",t.INTAIN="intain",t.FUSE="fuse",t.ASTAR="astar",t.ZKSYNC="zksync",t.SHRAPNEL="shrapnel",t.DOS="dos",t.KLAYTN="klaytn",t.METIS="metis",t.COREDAO="coredao",t.OKX="okx",t.METER="meter",t.GOERLI="goerli",t.BASE="base",t.ZKCONSENSYS="zkconsensys",t.SEPOLIA="sepolia",t.MOONRIVER="moonriver",t.AAVEGOTCHI="aavegotchi",t.SCROLL="scroll",t.CATHAY="cathay",t.KAVA="kava",t.TENET="tenet",t.CANTO="canto",t.ORDERLY="orderly",t.NOVA="nova",t.BLOCKGEN="blockgen",t.MERITCIRCLE="meritcircle",t.MANTLE="mantle",t.HUBBLE="hubble",t.ZORA="zora",t.TOMO="tomo",t.LOOT="loot",t.TELOS="telos",t.AURORA="aurora",t.OPBNB="opbnb",t.SHIMMER="shimmer",t.MONAD="monad",t.LIF3="lif3",t.SPRUCE="spruce",t.PGJJTK="pgjjtk",t.ODA="oda",t.KIWI="kiwi",t.CONFLUX="conflux",t.EON="eon",t.XPLA="xpla",t.HOLESKY="holesky",t.INJECTIVE="injective",t.IDEX="idex",t.ZKATANA="zkatana",t.MANTA="manta",t.FRAME="frame",t.PGN="pgn",t.POLYGONCDK="polygoncdk",t.ARBSEP="arbsep",t.OPTSEP="optsep",t.BERA="bera",t.VENN="venn",t.RARIBLE="rarible",t.GUNZILLA="gunzilla",t.RC1="rc1",t.ETHERLINK="etherlink",t.KIWI2="kiwi2",t.BB1="bb1",t.JOC="joc",t.BLAST="blast",t.TRON="tron",t.TRONDEV="trondev",t.XAI="xai",t.TANGIBLE="tangible",t.BASESEP="basesep",t.MANTLESEP="mantlesep",t.ZKPOLYGONSEP="zkpolygonsep",t.ZKSYNCSEP="zksyncsep",t.ZORASEP="zorasep",t.EXOCORE="exocore",t.REAL="real",t.TILTYARD="tiltyard",t.SKALE="skale",t.FRAXTAL="fraxtal",t.SEI="sei",t.MODE="mode",t.HEDERA="hedera",t.UNREAL="unreal",t.MASA="masa",t.MERLIN="merlin",t.HOMEVERSE="homeverse",t.ZKASTAR="zkastar",t.AMOY="amoy",t.DEGEN="degen",t.XLAYER="xlayer",t.FORM="form",t.LL1="ll1",t.MANTASEP="mantasep",t.TAIKO="taiko",t.ZIRCUIT="zircuit",t.CAMP="camp",t.OLIVE="olive",t.SANKO="sanko",t.BOB="bob",t.CYBER="cyber",t.BOTANIX="botanix",t.XCHAIN="xchain",t.ZKLINK="zklink",t.EBI="ebi",t.KINTO="kinto",t.LINEASEP="lineasep",t.IOTA="iota",t.BESU1="besu1",t.BOUNCEBIT="bouncebit",t.MORPH="morph",t.GRAVITY="gravity",t.BARTIO="bartio",t.METISSEP="metissep",t.FLARE="flare",t.GLUE="glue",t.OPENCAMPUS="opencampus",t.VANAR="vanar",t.PEAQ="peaq",t.FI="fi",t.PLUME="plume",t.CURTIS="curtis",t.LYRA="lyra",t.LIGHTLINK="lightlink",t.BAHAMUT="bahamut",t.CODEX="codex",t.OTHERWORLD="otherworld",t.ABSTRACT="abstract",t.ROOT="root",t.STORY="story",t.TREASURE="treasure",t.REYA="reya",t.BITLAYER="bitlayer",t.DM2VERSE="dm2verse",t.APE="ape",t.OZEAN="ozean",t.BEVM="bevm",t))(Uoe||{}),zoe=(t=>(t.SOLANA="solana",t))(zoe||{});({...Uoe,...$oe,...zoe});var Woe=(t=>(t[t.ETHEREUM_MAINNET=101]="ETHEREUM_MAINNET",t[t.BSC_MAINNET=102]="BSC_MAINNET",t[t.AVALANCHE_MAINNET=106]="AVALANCHE_MAINNET",t[t.POLYGON_MAINNET=109]="POLYGON_MAINNET",t[t.ARBITRUM_MAINNET=110]="ARBITRUM_MAINNET",t[t.OPTIMISM_MAINNET=111]="OPTIMISM_MAINNET",t[t.FANTOM_MAINNET=112]="FANTOM_MAINNET",t[t.SWIMMER_MAINNET=114]="SWIMMER_MAINNET",t[t.DFK_MAINNET=115]="DFK_MAINNET",t[t.HARMONY_MAINNET=116]="HARMONY_MAINNET",t[t.DEXALOT_MAINNET=118]="DEXALOT_MAINNET",t[t.CELO_MAINNET=125]="CELO_MAINNET",t[t.MOONBEAM_MAINNET=126]="MOONBEAM_MAINNET",t[t.INTAIN_MAINNET=152]="INTAIN_MAINNET",t[t.FUSE_MAINNET=138]="FUSE_MAINNET",t[t.GNOSIS_MAINNET=145]="GNOSIS_MAINNET",t[t.APTOS_MAINNET=108]="APTOS_MAINNET",t[t.KLAYTN_MAINNET=150]="KLAYTN_MAINNET",t[t.METIS_MAINNET=151]="METIS_MAINNET",t[t.COREDAO_MAINNET=153]="COREDAO_MAINNET",t[t.GOERLI_MAINNET=154]="GOERLI_MAINNET",t[t.OKX_MAINNET=155]="OKX_MAINNET",t[t.CANTO_MAINNET=159]="CANTO_MAINNET",t[t.ZKSYNC_MAINNET=165]="ZKSYNC_MAINNET",t[t.SHRAPNEL_MAINNET=148]="SHRAPNEL_MAINNET",t[t.DOS_MAINNET=149]="DOS_MAINNET",t[t.ZKPOLYGON_MAINNET=158]="ZKPOLYGON_MAINNET",t[t.SEPOLIA_MAINNET=161]="SEPOLIA_MAINNET",t[t.MOONRIVER_MAINNET=167]="MOONRIVER_MAINNET",t[t.SOLANA_MAINNET=168]="SOLANA_MAINNET",t[t.TENET_MAINNET=173]="TENET_MAINNET",t[t.NOVA_MAINNET=175]="NOVA_MAINNET",t[t.METER_MAINNET=176]="METER_MAINNET",t[t.KAVA_MAINNET=177]="KAVA_MAINNET",t[t.MANTLE_MAINNET=181]="MANTLE_MAINNET",t[t.HUBBLE_MAINNET=182]="HUBBLE_MAINNET",t[t.ZKCONSENSYS_MAINNET=183]="ZKCONSENSYS_MAINNET",t[t.BASE_MAINNET=184]="BASE_MAINNET",t[t.ZORA_MAINNET=195]="ZORA_MAINNET",t[t.TOMO_MAINNET=196]="TOMO_MAINNET",t[t.LOOT_MAINNET=197]="LOOT_MAINNET",t[t.MERITCIRCLE_MAINNET=198]="MERITCIRCLE_MAINNET",t[t.TELOS_MAINNET=199]="TELOS_MAINNET",t[t.OPBNB_MAINNET=202]="OPBNB_MAINNET",t[t.LIF3_MAINNET=205]="LIF3_MAINNET",t[t.ASTAR_MAINNET=210]="ASTAR_MAINNET",t[t.AURORA_MAINNET=211]="AURORA_MAINNET",t[t.CONFLUX_MAINNET=212]="CONFLUX_MAINNET",t[t.ORDERLY_MAINNET=213]="ORDERLY_MAINNET",t[t.SCROLL_MAINNET=214]="SCROLL_MAINNET",t[t.EON_MAINNET=215]="EON_MAINNET",t[t.XPLA_MAINNET=216]="XPLA_MAINNET",t[t.MANTA_MAINNET=217]="MANTA_MAINNET",t[t.PGN_MAINNET=218]="PGN_MAINNET",t[t.SHIMMER_MAINNET=230]="SHIMMER_MAINNET",t[t.BB1_MAINNET=234]="BB1_MAINNET",t[t.RARIBLE_MAINNET=235]="RARIBLE_MAINNET",t[t.XAI_MAINNET=236]="XAI_MAINNET",t[t.REAL_MAINNET=237]="REAL_MAINNET",t[t.TILTYARD_MAINNET=238]="TILTYARD_MAINNET",t[t.FRAXTAL_MAINNET=255]="FRAXTAL_MAINNET",t[t.TRON_MAINNET=420]="TRON_MAINNET",t[t.ZKATANA_MAINNET=257]="ZKATANA_MAINNET",t[t.BLAST_MAINNET=243]="BLAST_MAINNET",t[t.MODE_MAINNET=260]="MODE_MAINNET",t[t.MASA_MAINNET=263]="MASA_MAINNET",t[t.HOMEVERSE_MAINNET=265]="HOMEVERSE_MAINNET",t[t.MERLIN_MAINNET=266]="MERLIN_MAINNET",t[t.DEGEN_MAINNET=267]="DEGEN_MAINNET",t[t.SKALE_MAINNET=273]="SKALE_MAINNET",t[t.XLAYER_MAINNET=274]="XLAYER_MAINNET",t[t.SANKO_MAINNET=278]="SANKO_MAINNET",t[t.BOB_MAINNET=279]="BOB_MAINNET",t[t.SEI_MAINNET=280]="SEI_MAINNET",t[t.EBI_MAINNET=282]="EBI_MAINNET",t[t.CYBER_MAINNET=283]="CYBER_MAINNET",t[t.IOTA_MAINNET=284]="IOTA_MAINNET",t[t.KINTO_MAINNET=281]="KINTO_MAINNET",t[t.JOC_MAINNET=285]="JOC_MAINNET",t[t.TAIKO_MAINNET=290]="TAIKO_MAINNET",t[t.XCHAIN_MAINNET=291]="XCHAIN_MAINNET",t[t.ETHERLINK_MAINNET=292]="ETHERLINK_MAINNET",t[t.BOUNCEBIT_MAINNET=293]="BOUNCEBIT_MAINNET",t[t.GRAVITY_MAINNET=294]="GRAVITY_MAINNET",t[t.FLARE_MAINNET=295]="FLARE_MAINNET",t[t.ZKLINK_MAINNET=301]="ZKLINK_MAINNET",t[t.PEAQ_MAINNET=302]="PEAQ_MAINNET",t[t.ZIRCUIT_MAINNET=303]="ZIRCUIT_MAINNET",t[t.LIGHTLINK_MAINNET=309]="LIGHTLINK_MAINNET",t[t.CODEX_MAINNET=310]="CODEX_MAINNET",t[t.LYRA_MAINNET=311]="LYRA_MAINNET",t[t.APE_MAINNET=312]="APE_MAINNET",t[t.REYA_MAINNET=313]="REYA_MAINNET",t[t.BITLAYER_MAINNET=314]="BITLAYER_MAINNET",t[t.DM2VERSE_MAINNET=315]="DM2VERSE_MAINNET",t[t.HEDERA_MAINNET=316]="HEDERA_MAINNET",t))(Woe||{}),joe=(t=>(t[t.BSC_TESTNET=10102]="BSC_TESTNET",t[t.AVALANCHE_TESTNET=10106]="AVALANCHE_TESTNET",t[t.POLYGON_TESTNET=10109]="POLYGON_TESTNET",t[t.FANTOM_TESTNET=10112]="FANTOM_TESTNET",t[t.SWIMMER_TESTNET=10130]="SWIMMER_TESTNET",t[t.DFK_TESTNET=10115]="DFK_TESTNET",t[t.HARMONY_TESTNET=10133]="HARMONY_TESTNET",t[t.DEXALOT_TESTNET=10118]="DEXALOT_TESTNET",t[t.CELO_TESTNET=10125]="CELO_TESTNET",t[t.MOONBEAM_TESTNET=10126]="MOONBEAM_TESTNET",t[t.INTAIN_TESTNET=10152]="INTAIN_TESTNET",t[t.ETHEREUM_TESTNET=10121]="ETHEREUM_TESTNET",t[t.ARBITRUM_TESTNET=10143]="ARBITRUM_TESTNET",t[t.OPTIMISM_TESTNET=10132]="OPTIMISM_TESTNET",t[t.FUSE_TESTNET=10138]="FUSE_TESTNET",t[t.GNOSIS_TESTNET=10145]="GNOSIS_TESTNET",t[t.ZKSYNC_TESTNET=10165]="ZKSYNC_TESTNET",t[t.SHRAPNEL_TESTNET=10164]="SHRAPNEL_TESTNET",t[t.DOS_TESTNET=10162]="DOS_TESTNET",t[t.APTOS_TESTNET=10108]="APTOS_TESTNET",t[t.KLAYTN_TESTNET=10150]="KLAYTN_TESTNET",t[t.METIS_TESTNET=10151]="METIS_TESTNET",t[t.COREDAO_TESTNET=10153]="COREDAO_TESTNET",t[t.OKX_TESTNET=10155]="OKX_TESTNET",t[t.METER_TESTNET=10156]="METER_TESTNET",t[t.ZKCONSENSYS_TESTNET=10157]="ZKCONSENSYS_TESTNET",t[t.ZKPOLYGON_TESTNET=10158]="ZKPOLYGON_TESTNET",t[t.CANTO_TESTNET=10159]="CANTO_TESTNET",t[t.BASE_TESTNET=10160]="BASE_TESTNET",t[t.SEPOLIA_TESTNET=10161]="SEPOLIA_TESTNET",t[t.SOLANA_TESTNET=10168]="SOLANA_TESTNET",t[t.CATHAY_TESTNET=10171]="CATHAY_TESTNET",t[t.KAVA_TESTNET=10172]="KAVA_TESTNET",t[t.TENET_TESTNET=10173]="TENET_TESTNET",t[t.BLOCKGEN_TESTNET=10177]="BLOCKGEN_TESTNET",t[t.MERITCIRCLE_TESTNET=10178]="MERITCIRCLE_TESTNET",t[t.MANTLE_TESTNET=10181]="MANTLE_TESTNET",t[t.HUBBLE_TESTNET=10182]="HUBBLE_TESTNET",t[t.AAVEGOTCHI_TESTNET=10191]="AAVEGOTCHI_TESTNET",t[t.ZORA_TESTNET=10195]="ZORA_TESTNET",t[t.TOMO_TESTNET=10196]="TOMO_TESTNET",t[t.LOOT_TESTNET=10197]="LOOT_TESTNET",t[t.TELOS_TESTNET=10199]="TELOS_TESTNET",t[t.ORDERLY_TESTNET=10200]="ORDERLY_TESTNET",t[t.AURORA_TESTNET=10201]="AURORA_TESTNET",t[t.OPBNB_TESTNET=10202]="OPBNB_TESTNET",t[t.MONAD_TESTNET=10204]="MONAD_TESTNET",t[t.SPRUCE_TESTNET=10206]="SPRUCE_TESTNET",t[t.PGJJTK_TESTNET=10207]="PGJJTK_TESTNET",t[t.ODA_TESTNET=10208]="ODA_TESTNET",t[t.KIWI_TESTNET=10209]="KIWI_TESTNET",t[t.ASTAR_TESTNET=10210]="ASTAR_TESTNET",t[t.CONFLUX_TESTNET=10211]="CONFLUX_TESTNET",t[t.SCROLL_TESTNET=10214]="SCROLL_TESTNET",t[t.EON_TESTNET=10215]="EON_TESTNET",t[t.HOLESKY_TESTNET=10217]="HOLESKY_TESTNET",t[t.INJECTIVE_TESTNET=10218]="INJECTIVE_TESTNET",t[t.IDEX_TESTNET=10219]="IDEX_TESTNET",t[t.ZKATANA_TESTNET=10220]="ZKATANA_TESTNET",t[t.MANTA_TESTNET=10221]="MANTA_TESTNET",t[t.FRAME_TESTNET=10222]="FRAME_TESTNET",t[t.PGN_TESTNET=10223]="PGN_TESTNET",t[t.POLYGONCDK_TESTNET=10224]="POLYGONCDK_TESTNET",t[t.SHIMMER_TESTNET=10230]="SHIMMER_TESTNET",t[t.ARBSEP_TESTNET=10231]="ARBSEP_TESTNET",t[t.OPTSEP_TESTNET=10232]="OPTSEP_TESTNET",t[t.VENN_TESTNET=10234]="VENN_TESTNET",t[t.RARIBLE_TESTNET=10235]="RARIBLE_TESTNET",t[t.GUNZILLA_TESTNET=10236]="GUNZILLA_TESTNET",t[t.RC1_TESTNET=10238]="RC1_TESTNET",t[t.ETHERLINK_TESTNET=10239]="ETHERLINK_TESTNET",t[t.KIWI2_TESTNET=10241]="KIWI2_TESTNET",t[t.JOC_TESTNET=10242]="JOC_TESTNET",t[t.BLAST_TESTNET=10243]="BLAST_TESTNET",t[t.BASESEP_TESTNET=10245]="BASESEP_TESTNET",t[t.MANTLESEP_TESTNET=10246]="MANTLESEP_TESTNET",t[t.ZKPOLYGONSEP_TESTNET=10247]="ZKPOLYGONSEP_TESTNET",t[t.ZKSYNCSEP_TESTNET=10248]="ZKSYNCSEP_TESTNET",t[t.ZORASEP_TESTNET=10249]="ZORASEP_TESTNET",t[t.XAI_TESTNET=10251]="XAI_TESTNET",t[t.TANGIBLE_TESTNET=10252]="TANGIBLE_TESTNET",t[t.TRON_TESTNET=10420]="TRON_TESTNET",t[t.FRAXTAL_TESTNET=10255]="FRAXTAL_TESTNET",t[t.BERA_TESTNET=10256]="BERA_TESTNET",t[t.SEI_TESTNET=10258]="SEI_TESTNET",t[t.EXOCORE_TESTNET=10259]="EXOCORE_TESTNET",t[t.MODE_TESTNET=10260]="MODE_TESTNET",t[t.UNREAL_TESTNET=10262]="UNREAL_TESTNET",t[t.MASA_TESTNET=10263]="MASA_TESTNET",t[t.MERLIN_TESTNET=10264]="MERLIN_TESTNET",t[t.HOMEVERSE_TESTNET=10265]="HOMEVERSE_TESTNET",t[t.ZKASTAR_TESTNET=10266]="ZKASTAR_TESTNET",t[t.AMOY_TESTNET=10267]="AMOY_TESTNET",t[t.DEGEN_TESTNET=10268]="DEGEN_TESTNET",t[t.XLAYER_TESTNET=10269]="XLAYER_TESTNET",t[t.FORM_TESTNET=10270]="FORM_TESTNET",t[t.LL1_TESTNET=10271]="LL1_TESTNET",t[t.MANTASEP_TESTNET=10272]="MANTASEP_TESTNET",t[t.SKALE_TESTNET=10273]="SKALE_TESTNET",t[t.TAIKO_TESTNET=10274]="TAIKO_TESTNET",t[t.ZIRCUIT_TESTNET=10275]="ZIRCUIT_TESTNET",t[t.OLIVE_TESTNET=10277]="OLIVE_TESTNET",t[t.SANKO_TESTNET=10278]="SANKO_TESTNET",t[t.BOB_TESTNET=10279]="BOB_TESTNET",t[t.CYBER_TESTNET=10280]="CYBER_TESTNET",t[t.BOTANIX_TESTNET=10281]="BOTANIX_TESTNET",t[t.XCHAIN_TESTNET=10282]="XCHAIN_TESTNET",t[t.ZKLINK_TESTNET=10283]="ZKLINK_TESTNET",t[t.EBI_TESTNET=10284]="EBI_TESTNET",t[t.HEDERA_TESTNET=10285]="HEDERA_TESTNET",t[t.LINEASEP_TESTNET=10286]="LINEASEP_TESTNET",t[t.BESU1_TESTNET=10288]="BESU1_TESTNET",t[t.BOUNCEBIT_TESTNET=10289]="BOUNCEBIT_TESTNET",t[t.BARTIO_TESTNET=10291]="BARTIO_TESTNET",t[t.METISSEP_TESTNET=10292]="METISSEP_TESTNET",t[t.XPLA_TESTNET=10216]="XPLA_TESTNET",t[t.FLARE_TESTNET=10294]="FLARE_TESTNET",t[t.CAMP_TESTNET=10295]="CAMP_TESTNET",t[t.GLUE_TESTNET=10296]="GLUE_TESTNET",t[t.OPENCAMPUS_TESTNET=10297]="OPENCAMPUS_TESTNET",t[t.VANAR_TESTNET=10298]="VANAR_TESTNET",t[t.PEAQ_TESTNET=10299]="PEAQ_TESTNET",t[t.FI_TESTNET=10301]="FI_TESTNET",t[t.PLUME_TESTNET=10304]="PLUME_TESTNET",t[t.CURTIS_TESTNET=10306]="CURTIS_TESTNET",t[t.LIF3_TESTNET=10300]="LIF3_TESTNET",t[t.IOTA_TESTNET=10307]="IOTA_TESTNET",t[t.LYRA_TESTNET=10308]="LYRA_TESTNET",t[t.LIGHTLINK_TESTNET=10309]="LIGHTLINK_TESTNET",t[t.BAHAMUT_TESTNET=10310]="BAHAMUT_TESTNET",t[t.CODEX_TESTNET=10311]="CODEX_TESTNET",t[t.OTHERWORLD_TESTNET=10312]="OTHERWORLD_TESTNET",t[t.ABSTRACT_TESTNET=10313]="ABSTRACT_TESTNET",t[t.STORY_TESTNET=10315]="STORY_TESTNET",t[t.TREASURE_TESTNET=10316]="TREASURE_TESTNET",t[t.ROOT_TESTNET=10318]="ROOT_TESTNET",t[t.REYA_TESTNET=10319]="REYA_TESTNET",t[t.BITLAYER_TESTNET=10320]="BITLAYER_TESTNET",t[t.DM2VERSE_TESTNET=10321]="DM2VERSE_TESTNET",t[t.MORPH_TESTNET=10322]="MORPH_TESTNET",t[t.OZEAN_TESTNET=10323]="OZEAN_TESTNET",t[t.BEVM_TESTNET=10324]="BEVM_TESTNET",t))(joe||{}),Koe=(t=>(t[t.BSC_SANDBOX=20102]="BSC_SANDBOX",t[t.AVALANCHE_SANDBOX=20106]="AVALANCHE_SANDBOX",t[t.POLYGON_SANDBOX=20109]="POLYGON_SANDBOX",t[t.ETHEREUM_SANDBOX=20121]="ETHEREUM_SANDBOX",t[t.APTOS_SANDBOX=20008]="APTOS_SANDBOX",t[t.OPTIMISM_SANDBOX=20132]="OPTIMISM_SANDBOX",t[t.TRON_SANDBOX=20420]="TRON_SANDBOX",t[t.TRONDEV_SANDBOX=20421]="TRONDEV_SANDBOX",t[t.ARBITRUM_SANDBOX=20231]="ARBITRUM_SANDBOX",t[t.FANTOM_SANDBOX=20112]="FANTOM_SANDBOX",t[t.METIS_SANDBOX=20151]="METIS_SANDBOX",t))(Koe||{}),Hoe=(t=>(t[t.ETHEREUM_V2_MAINNET=30101]="ETHEREUM_V2_MAINNET",t[t.BSC_V2_MAINNET=30102]="BSC_V2_MAINNET",t[t.AVALANCHE_V2_MAINNET=30106]="AVALANCHE_V2_MAINNET",t[t.POLYGON_V2_MAINNET=30109]="POLYGON_V2_MAINNET",t[t.ARBITRUM_V2_MAINNET=30110]="ARBITRUM_V2_MAINNET",t[t.OPTIMISM_V2_MAINNET=30111]="OPTIMISM_V2_MAINNET",t[t.FANTOM_V2_MAINNET=30112]="FANTOM_V2_MAINNET",t[t.SWIMMER_V2_MAINNET=30114]="SWIMMER_V2_MAINNET",t[t.DFK_V2_MAINNET=30115]="DFK_V2_MAINNET",t[t.HARMONY_V2_MAINNET=30116]="HARMONY_V2_MAINNET",t[t.DEXALOT_V2_MAINNET=30118]="DEXALOT_V2_MAINNET",t[t.CELO_V2_MAINNET=30125]="CELO_V2_MAINNET",t[t.MOONBEAM_V2_MAINNET=30126]="MOONBEAM_V2_MAINNET",t[t.INTAIN_V2_MAINNET=30152]="INTAIN_V2_MAINNET",t[t.FUSE_V2_MAINNET=30138]="FUSE_V2_MAINNET",t[t.GNOSIS_V2_MAINNET=30145]="GNOSIS_V2_MAINNET",t[t.KLAYTN_V2_MAINNET=30150]="KLAYTN_V2_MAINNET",t[t.METIS_V2_MAINNET=30151]="METIS_V2_MAINNET",t[t.COREDAO_V2_MAINNET=30153]="COREDAO_V2_MAINNET",t[t.GOERLI_V2_MAINNET=30154]="GOERLI_V2_MAINNET",t[t.OKX_V2_MAINNET=30155]="OKX_V2_MAINNET",t[t.CANTO_V2_MAINNET=30159]="CANTO_V2_MAINNET",t[t.ZKSYNC_V2_MAINNET=30165]="ZKSYNC_V2_MAINNET",t[t.SHRAPNEL_V2_MAINNET=30148]="SHRAPNEL_V2_MAINNET",t[t.DOS_V2_MAINNET=30149]="DOS_V2_MAINNET",t[t.ZKPOLYGON_V2_MAINNET=30158]="ZKPOLYGON_V2_MAINNET",t[t.SEPOLIA_V2_MAINNET=30161]="SEPOLIA_V2_MAINNET",t[t.MOONRIVER_V2_MAINNET=30167]="MOONRIVER_V2_MAINNET",t[t.TENET_V2_MAINNET=30173]="TENET_V2_MAINNET",t[t.NOVA_V2_MAINNET=30175]="NOVA_V2_MAINNET",t[t.METER_V2_MAINNET=30176]="METER_V2_MAINNET",t[t.KAVA_V2_MAINNET=30177]="KAVA_V2_MAINNET",t[t.MANTLE_V2_MAINNET=30181]="MANTLE_V2_MAINNET",t[t.HUBBLE_V2_MAINNET=30182]="HUBBLE_V2_MAINNET",t[t.ZKCONSENSYS_V2_MAINNET=30183]="ZKCONSENSYS_V2_MAINNET",t[t.BASE_V2_MAINNET=30184]="BASE_V2_MAINNET",t[t.ZORA_V2_MAINNET=30195]="ZORA_V2_MAINNET",t[t.TOMO_V2_MAINNET=30196]="TOMO_V2_MAINNET",t[t.LOOT_V2_MAINNET=30197]="LOOT_V2_MAINNET",t[t.MERITCIRCLE_V2_MAINNET=30198]="MERITCIRCLE_V2_MAINNET",t[t.TELOS_V2_MAINNET=30199]="TELOS_V2_MAINNET",t[t.OPBNB_V2_MAINNET=30202]="OPBNB_V2_MAINNET",t[t.LIF3_V2_MAINNET=30205]="LIF3_V2_MAINNET",t[t.ASTAR_V2_MAINNET=30210]="ASTAR_V2_MAINNET",t[t.AURORA_V2_MAINNET=30211]="AURORA_V2_MAINNET",t[t.CONFLUX_V2_MAINNET=30212]="CONFLUX_V2_MAINNET",t[t.ORDERLY_V2_MAINNET=30213]="ORDERLY_V2_MAINNET",t[t.SCROLL_V2_MAINNET=30214]="SCROLL_V2_MAINNET",t[t.EON_V2_MAINNET=30215]="EON_V2_MAINNET",t[t.XPLA_V2_MAINNET=30216]="XPLA_V2_MAINNET",t[t.MANTA_V2_MAINNET=30217]="MANTA_V2_MAINNET",t[t.PGN_V2_MAINNET=30218]="PGN_V2_MAINNET",t[t.SHIMMER_V2_MAINNET=30230]="SHIMMER_V2_MAINNET",t[t.BB1_V2_MAINNET=30234]="BB1_V2_MAINNET",t[t.RARIBLE_V2_MAINNET=30235]="RARIBLE_V2_MAINNET",t[t.XAI_V2_MAINNET=30236]="XAI_V2_MAINNET",t[t.REAL_V2_MAINNET=30237]="REAL_V2_MAINNET",t[t.TILTYARD_V2_MAINNET=30238]="TILTYARD_V2_MAINNET",t[t.FRAXTAL_V2_MAINNET=30255]="FRAXTAL_V2_MAINNET",t[t.TRON_V2_MAINNET=30420]="TRON_V2_MAINNET",t[t.ZKATANA_V2_MAINNET=30257]="ZKATANA_V2_MAINNET",t[t.BLAST_V2_MAINNET=30243]="BLAST_V2_MAINNET",t[t.MODE_V2_MAINNET=30260]="MODE_V2_MAINNET",t[t.MASA_V2_MAINNET=30263]="MASA_V2_MAINNET",t[t.HOMEVERSE_V2_MAINNET=30265]="HOMEVERSE_V2_MAINNET",t[t.MERLIN_V2_MAINNET=30266]="MERLIN_V2_MAINNET",t[t.DEGEN_V2_MAINNET=30267]="DEGEN_V2_MAINNET",t[t.SKALE_V2_MAINNET=30273]="SKALE_V2_MAINNET",t[t.XLAYER_V2_MAINNET=30274]="XLAYER_V2_MAINNET",t[t.SANKO_V2_MAINNET=30278]="SANKO_V2_MAINNET",t[t.BOB_V2_MAINNET=30279]="BOB_V2_MAINNET",t[t.SEI_V2_MAINNET=30280]="SEI_V2_MAINNET",t[t.EBI_V2_MAINNET=30282]="EBI_V2_MAINNET",t[t.CYBER_V2_MAINNET=30283]="CYBER_V2_MAINNET",t[t.IOTA_V2_MAINNET=30284]="IOTA_V2_MAINNET",t[t.SOLANA_V2_MAINNET=30168]="SOLANA_V2_MAINNET",t[t.KINTO_V2_MAINNET=30281]="KINTO_V2_MAINNET",t[t.JOC_V2_MAINNET=30285]="JOC_V2_MAINNET",t[t.TAIKO_V2_MAINNET=30290]="TAIKO_V2_MAINNET",t[t.XCHAIN_V2_MAINNET=30291]="XCHAIN_V2_MAINNET",t[t.ETHERLINK_V2_MAINNET=30292]="ETHERLINK_V2_MAINNET",t[t.BOUNCEBIT_V2_MAINNET=30293]="BOUNCEBIT_V2_MAINNET",t[t.GRAVITY_V2_MAINNET=30294]="GRAVITY_V2_MAINNET",t[t.FLARE_V2_MAINNET=30295]="FLARE_V2_MAINNET",t[t.ZKLINK_V2_MAINNET=30301]="ZKLINK_V2_MAINNET",t[t.PEAQ_V2_MAINNET=30302]="PEAQ_V2_MAINNET",t[t.ZIRCUIT_V2_MAINNET=30303]="ZIRCUIT_V2_MAINNET",t[t.LIGHTLINK_V2_MAINNET=30309]="LIGHTLINK_V2_MAINNET",t[t.CODEX_V2_MAINNET=30310]="CODEX_V2_MAINNET",t[t.LYRA_V2_MAINNET=30311]="LYRA_V2_MAINNET",t[t.APE_V2_MAINNET=30312]="APE_V2_MAINNET",t[t.REYA_V2_MAINNET=30313]="REYA_V2_MAINNET",t[t.BITLAYER_V2_MAINNET=30314]="BITLAYER_V2_MAINNET",t[t.DM2VERSE_V2_MAINNET=30315]="DM2VERSE_V2_MAINNET",t[t.HEDERA_V2_MAINNET=30316]="HEDERA_V2_MAINNET",t))(Hoe||{}),qoe=(t=>(t[t.AVALANCHE_V2_TESTNET=40106]="AVALANCHE_V2_TESTNET",t[t.POLYGON_V2_TESTNET=40109]="POLYGON_V2_TESTNET",t[t.ETHEREUM_V2_TESTNET=40121]="ETHEREUM_V2_TESTNET",t[t.OPTIMISM_V2_TESTNET=40132]="OPTIMISM_V2_TESTNET",t[t.ARBITRUM_V2_TESTNET=40143]="ARBITRUM_V2_TESTNET",t[t.BSC_V2_TESTNET=40102]="BSC_V2_TESTNET",t[t.FANTOM_V2_TESTNET=40112]="FANTOM_V2_TESTNET",t[t.DFK_V2_TESTNET=40115]="DFK_V2_TESTNET",t[t.HARMONY_V2_TESTNET=40133]="HARMONY_V2_TESTNET",t[t.DEXALOT_V2_TESTNET=40118]="DEXALOT_V2_TESTNET",t[t.CELO_V2_TESTNET=40125]="CELO_V2_TESTNET",t[t.MOONBEAM_V2_TESTNET=40126]="MOONBEAM_V2_TESTNET",t[t.FUSE_V2_TESTNET=40138]="FUSE_V2_TESTNET",t[t.GNOSIS_V2_TESTNET=40145]="GNOSIS_V2_TESTNET",t[t.ZKSYNC_V2_TESTNET=40165]="ZKSYNC_V2_TESTNET",t[t.SHRAPNEL_V2_TESTNET=40164]="SHRAPNEL_V2_TESTNET",t[t.KLAYTN_V2_TESTNET=40150]="KLAYTN_V2_TESTNET",t[t.METIS_V2_TESTNET=40151]="METIS_V2_TESTNET",t[t.COREDAO_V2_TESTNET=40153]="COREDAO_V2_TESTNET",t[t.OKX_V2_TESTNET=40155]="OKX_V2_TESTNET",t[t.METER_V2_TESTNET=40156]="METER_V2_TESTNET",t[t.ZKCONSENSYS_V2_TESTNET=40157]="ZKCONSENSYS_V2_TESTNET",t[t.ZKPOLYGON_V2_TESTNET=40158]="ZKPOLYGON_V2_TESTNET",t[t.CANTO_V2_TESTNET=40159]="CANTO_V2_TESTNET",t[t.BASE_V2_TESTNET=40160]="BASE_V2_TESTNET",t[t.SEPOLIA_V2_TESTNET=40161]="SEPOLIA_V2_TESTNET",t[t.AAVEGOTCHI_V2_TESTNET=40179]="AAVEGOTCHI_V2_TESTNET",t[t.SCROLL_V2_TESTNET=40170]="SCROLL_V2_TESTNET",t[t.CATHAY_V2_TESTNET=40171]="CATHAY_V2_TESTNET",t[t.KAVA_V2_TESTNET=40172]="KAVA_V2_TESTNET",t[t.TENET_V2_TESTNET=40173]="TENET_V2_TESTNET",t[t.BLOCKGEN_V2_TESTNET=40177]="BLOCKGEN_V2_TESTNET",t[t.MERITCIRCLE_V2_TESTNET=40178]="MERITCIRCLE_V2_TESTNET",t[t.MANTLE_V2_TESTNET=40181]="MANTLE_V2_TESTNET",t[t.HUBBLE_V2_TESTNET=40182]="HUBBLE_V2_TESTNET",t[t.ZORA_V2_TESTNET=40195]="ZORA_V2_TESTNET",t[t.TOMO_V2_TESTNET=40196]="TOMO_V2_TESTNET",t[t.LOOT_V2_TESTNET=40197]="LOOT_V2_TESTNET",t[t.TELOS_V2_TESTNET=40199]="TELOS_V2_TESTNET",t[t.ORDERLY_V2_TESTNET=40200]="ORDERLY_V2_TESTNET",t[t.AURORA_V2_TESTNET=40201]="AURORA_V2_TESTNET",t[t.OPBNB_V2_TESTNET=40202]="OPBNB_V2_TESTNET",t[t.SHIMMER_V2_TESTNET=40203]="SHIMMER_V2_TESTNET",t[t.MONAD_V2_TESTNET=40204]="MONAD_V2_TESTNET",t[t.SPRUCE_V2_TESTNET=40206]="SPRUCE_V2_TESTNET",t[t.PGJJTK_V2_TESTNET=40207]="PGJJTK_V2_TESTNET",t[t.ODA_V2_TESTNET=40208]="ODA_V2_TESTNET",t[t.KIWI_V2_TESTNET=40209]="KIWI_V2_TESTNET",t[t.ASTAR_V2_TESTNET=40210]="ASTAR_V2_TESTNET",t[t.CONFLUX_V2_TESTNET=40211]="CONFLUX_V2_TESTNET",t[t.EON_V2_TESTNET=40215]="EON_V2_TESTNET",t[t.HOLESKY_V2_TESTNET=40217]="HOLESKY_V2_TESTNET",t[t.INJECTIVE_V2_TESTNET=40218]="INJECTIVE_V2_TESTNET",t[t.IDEX_V2_TESTNET=40219]="IDEX_V2_TESTNET",t[t.ZKATANA_V2_TESTNET=40220]="ZKATANA_V2_TESTNET",t[t.MANTA_V2_TESTNET=40221]="MANTA_V2_TESTNET",t[t.FRAME_V2_TESTNET=40222]="FRAME_V2_TESTNET",t[t.PGN_V2_TESTNET=40223]="PGN_V2_TESTNET",t[t.POLYGONCDK_V2_TESTNET=40224]="POLYGONCDK_V2_TESTNET",t[t.ARBSEP_V2_TESTNET=40231]="ARBSEP_V2_TESTNET",t[t.OPTSEP_V2_TESTNET=40232]="OPTSEP_V2_TESTNET",t[t.VENN_V2_TESTNET=40234]="VENN_V2_TESTNET",t[t.RARIBLE_V2_TESTNET=40235]="RARIBLE_V2_TESTNET",t[t.GUNZILLA_V2_TESTNET=40236]="GUNZILLA_V2_TESTNET",t[t.RC1_V2_TESTNET=40238]="RC1_V2_TESTNET",t[t.ETHERLINK_V2_TESTNET=40239]="ETHERLINK_V2_TESTNET",t[t.KIWI2_V2_TESTNET=40241]="KIWI2_V2_TESTNET",t[t.JOC_V2_TESTNET=40242]="JOC_V2_TESTNET",t[t.BLAST_V2_TESTNET=40243]="BLAST_V2_TESTNET",t[t.BASESEP_V2_TESTNET=40245]="BASESEP_V2_TESTNET",t[t.MANTLESEP_V2_TESTNET=40246]="MANTLESEP_V2_TESTNET",t[t.ZKPOLYGONSEP_V2_TESTNET=40247]="ZKPOLYGONSEP_V2_TESTNET",t[t.ZORASEP_V2_TESTNET=40249]="ZORASEP_V2_TESTNET",t[t.XAI_V2_TESTNET=40251]="XAI_V2_TESTNET",t[t.TANGIBLE_V2_TESTNET=40252]="TANGIBLE_V2_TESTNET",t[t.EXOCORE_V2_TESTNET=40259]="EXOCORE_V2_TESTNET",t[t.TRON_V2_TESTNET=40420]="TRON_V2_TESTNET",t[t.FRAXTAL_V2_TESTNET=40255]="FRAXTAL_V2_TESTNET",t[t.BERA_V2_TESTNET=40256]="BERA_V2_TESTNET",t[t.SEI_V2_TESTNET=40258]="SEI_V2_TESTNET",t[t.MODE_V2_TESTNET=40260]="MODE_V2_TESTNET",t[t.UNREAL_V2_TESTNET=40262]="UNREAL_V2_TESTNET",t[t.MASA_V2_TESTNET=40263]="MASA_V2_TESTNET",t[t.MERLIN_V2_TESTNET=40264]="MERLIN_V2_TESTNET",t[t.HOMEVERSE_V2_TESTNET=40265]="HOMEVERSE_V2_TESTNET",t[t.ZKASTAR_V2_TESTNET=40266]="ZKASTAR_V2_TESTNET",t[t.AMOY_V2_TESTNET=40267]="AMOY_V2_TESTNET",t[t.DEGEN_V2_TESTNET=40268]="DEGEN_V2_TESTNET",t[t.XLAYER_V2_TESTNET=40269]="XLAYER_V2_TESTNET",t[t.FORM_V2_TESTNET=40270]="FORM_V2_TESTNET",t[t.LL1_V2_TESTNET=40271]="LL1_V2_TESTNET",t[t.MANTASEP_V2_TESTNET=40272]="MANTASEP_V2_TESTNET",t[t.SKALE_V2_TESTNET=40273]="SKALE_V2_TESTNET",t[t.TAIKO_V2_TESTNET=40274]="TAIKO_V2_TESTNET",t[t.ZIRCUIT_V2_TESTNET=40275]="ZIRCUIT_V2_TESTNET",t[t.OLIVE_V2_TESTNET=40277]="OLIVE_V2_TESTNET",t[t.SANKO_V2_TESTNET=40278]="SANKO_V2_TESTNET",t[t.BOB_V2_TESTNET=40279]="BOB_V2_TESTNET",t[t.CYBER_V2_TESTNET=40280]="CYBER_V2_TESTNET",t[t.BOTANIX_V2_TESTNET=40281]="BOTANIX_V2_TESTNET",t[t.XCHAIN_V2_TESTNET=40282]="XCHAIN_V2_TESTNET",t[t.ZKLINK_V2_TESTNET=40283]="ZKLINK_V2_TESTNET",t[t.EBI_V2_TESTNET=40284]="EBI_V2_TESTNET",t[t.HEDERA_V2_TESTNET=40285]="HEDERA_V2_TESTNET",t[t.DOS_V2_TESTNET=40286]="DOS_V2_TESTNET",t[t.LINEASEP_V2_TESTNET=40287]="LINEASEP_V2_TESTNET",t[t.BESU1_V2_TESTNET=40288]="BESU1_V2_TESTNET",t[t.BOUNCEBIT_V2_TESTNET=40289]="BOUNCEBIT_V2_TESTNET",t[t.SOLANA_V2_TESTNET=40168]="SOLANA_V2_TESTNET",t[t.BARTIO_V2_TESTNET=40291]="BARTIO_V2_TESTNET",t[t.METISSEP_V2_TESTNET=40292]="METISSEP_V2_TESTNET",t[t.XPLA_V2_TESTNET=40216]="XPLA_V2_TESTNET",t[t.FLARE_V2_TESTNET=40294]="FLARE_V2_TESTNET",t[t.CAMP_V2_TESTNET=40295]="CAMP_V2_TESTNET",t[t.GLUE_V2_TESTNET=40296]="GLUE_V2_TESTNET",t[t.OPENCAMPUS_V2_TESTNET=40297]="OPENCAMPUS_V2_TESTNET",t[t.VANAR_V2_TESTNET=40298]="VANAR_V2_TESTNET",t[t.PEAQ_V2_TESTNET=40299]="PEAQ_V2_TESTNET",t[t.FI_V2_TESTNET=40301]="FI_V2_TESTNET",t[t.PLUME_V2_TESTNET=40304]="PLUME_V2_TESTNET",t[t.ZKSYNCSEP_V2_TESTNET=40305]="ZKSYNCSEP_V2_TESTNET",t[t.CURTIS_V2_TESTNET=40306]="CURTIS_V2_TESTNET",t[t.LIF3_V2_TESTNET=40300]="LIF3_V2_TESTNET",t[t.IOTA_V2_TESTNET=40307]="IOTA_V2_TESTNET",t[t.LYRA_V2_TESTNET=40308]="LYRA_V2_TESTNET",t[t.LIGHTLINK_V2_TESTNET=40309]="LIGHTLINK_V2_TESTNET",t[t.BAHAMUT_V2_TESTNET=40310]="BAHAMUT_V2_TESTNET",t[t.CODEX_V2_TESTNET=40311]="CODEX_V2_TESTNET",t[t.OTHERWORLD_V2_TESTNET=40312]="OTHERWORLD_V2_TESTNET",t[t.ABSTRACT_V2_TESTNET=40313]="ABSTRACT_V2_TESTNET",t[t.STORY_V2_TESTNET=40315]="STORY_V2_TESTNET",t[t.TREASURE_V2_TESTNET=40316]="TREASURE_V2_TESTNET",t[t.ROOT_V2_TESTNET=40318]="ROOT_V2_TESTNET",t[t.REYA_V2_TESTNET=40319]="REYA_V2_TESTNET",t[t.BITLAYER_V2_TESTNET=40320]="BITLAYER_V2_TESTNET",t[t.DM2VERSE_V2_TESTNET=40321]="DM2VERSE_V2_TESTNET",t[t.MORPH_V2_TESTNET=40322]="MORPH_V2_TESTNET",t[t.OZEAN_V2_TESTNET=40323]="OZEAN_V2_TESTNET",t[t.BEVM_V2_TESTNET=40324]="BEVM_V2_TESTNET",t))(qoe||{}),Voe=(t=>(t[t.ETHEREUM_V2_SANDBOX=50121]="ETHEREUM_V2_SANDBOX",t[t.POLYGON_V2_SANDBOX=50109]="POLYGON_V2_SANDBOX",t[t.SOLANA_V2_SANDBOX=50168]="SOLANA_V2_SANDBOX",t[t.BSC_V2_SANDBOX=50102]="BSC_V2_SANDBOX",t[t.AVALANCHE_V2_SANDBOX=50106]="AVALANCHE_V2_SANDBOX",t[t.OPTIMISM_V2_SANDBOX=50132]="OPTIMISM_V2_SANDBOX",t[t.METIS_V2_SANDBOX=50151]="METIS_V2_SANDBOX",t))(Voe||{}),PYe={...Woe,...joe,...Koe,...Hoe,...qoe,...Voe},Yv=(t=>(t.LOCAL="local",t.DEVNET="devnet",t.TESTNET="testnet",t.MAINNET="mainnet",t))(Yv||{}),Goe=Object.defineProperty,NYe=(t,e,r)=>e in t?Goe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Fr=(t,e)=>{for(var r in e)Goe(t,r,{get:e[r],enumerable:!0})},BYe=(t,e,r)=>(NYe(t,e+"",r),r),Yoe="Endpoint",Nh="MessageLib",FE="SendLibraryConfig",AV="ReceiveLibraryConfig",Zoe="Nonce",OYe="PendingNonce",LYe="PayloadHash",DYe="ComposedMessageHash",HL="OApp",xV="LzReceiveTypes",EV="LzComposeTypes",Xoe=Nh,FYe="UlnConfig",OT="SendConfig",Joe="ReceiveConfig",$Ye="Options",UYe="Confirmations",zYe="Worker",Qoe="DvnConfig",qL="__event_authority",eae="ExecutorConfig",tae="PriceFeed",WYe="Peer",jYe="EnforcedOptions",$E=class{constructor(t){this.program=t}setting(){return it.findProgramAddressSync([we.Buffer.from(Yoe,"utf8")],this.program)}defaultSendLibraryConfig(t){return it.findProgramAddressSync([we.Buffer.from(FE,"utf8"),new Mr(t).toArrayLike(we.Buffer,"be",4)],this.program)}sendLibraryConfig(t,e){return it.findProgramAddressSync([we.Buffer.from(FE,"utf8"),t.toBytes(),new Mr(e).toArrayLike(we.Buffer,"be",4)],this.program)}messageLibraryInfo(t){return it.findProgramAddressSync([we.Buffer.from(Nh,"utf8"),t.toBytes()],this.program)}defaultReceiveLibraryConfig(t){return it.findProgramAddressSync([we.Buffer.from(AV,"utf8"),new Mr(t).toArrayLike(we.Buffer,"be",4)],this.program)}receiveLibraryConfig(t,e){return it.findProgramAddressSync([we.Buffer.from(AV,"utf8"),t.toBytes(),new Mr(e).toArrayLike(we.Buffer,"be",4)],this.program)}receiveLibraryTimeout(t){return[this.program,0]}defaultMessageLib(){return this.messageLibraryInfo(it.default)}blockMessageLib(t){return it.findProgramAddressSync([we.Buffer.from(Nh,"utf8"),t.toBytes()],this.program)}nonce(t,e,r){return it.findProgramAddressSync([we.Buffer.from(Zoe,"utf8"),t.toBytes(),new Mr(e).toArrayLike(we.Buffer,"be",4),r],this.program)}pendingNonce(t,e,r){return it.findProgramAddressSync([we.Buffer.from(OYe,"utf8"),t.toBytes(),new Mr(e).toArrayLike(we.Buffer,"be",4),r],this.program)}oappRegistry(t){return it.findProgramAddressSync([we.Buffer.from(HL,"utf8"),t.toBytes()],this.program)}payloadHash(t,e,r,n){return it.findProgramAddressSync([we.Buffer.from(LYe,"utf8"),t.toBytes(),new Mr(e).toArrayLike(we.Buffer,"be",4),r,new Mr(n).toArrayLike(we.Buffer,"be",8)],this.program)}composedMessage(t,e,r,n,i){return it.findProgramAddressSync([we.Buffer.from(DYe,"utf8"),t.toBytes(),n.toBytes(),e,new Mr(r).toArrayLike(we.Buffer,"be",2),i],this.program)}},ra=class{constructor(t){this.program=t}messageLib(){return it.findProgramAddressSync([we.Buffer.from(Nh,"utf8")],this.program)}sendConfig(t,e){return it.findProgramAddressSync([we.Buffer.from(OT,"utf8"),new Mr(t).toArrayLike(we.Buffer,"be",4),e.toBuffer()],this.program)}receiveConfig(t,e){return it.findProgramAddressSync([we.Buffer.from(Joe,"utf8"),new Mr(t).toArrayLike(we.Buffer,"be",4),e.toBuffer()],this.program)}},KYe=class extends ra{setting(){return it.findProgramAddressSync([we.Buffer.from(Xoe,"utf8")],this.program)}config(t){return it.findProgramAddressSync([we.Buffer.from(FYe,"utf8"),new Mr(t).toArrayLike(we.Buffer,"be",4)],this.program)}defaultSendConfig(t){return it.findProgramAddressSync([we.Buffer.from(OT,"utf8"),new Mr(t).toArrayLike(we.Buffer,"be",4)],this.program)}defaultReceiveConfig(t){return it.findProgramAddressSync([we.Buffer.from(Joe,"utf8"),new Mr(t).toArrayLike(we.Buffer,"be",4)],this.program)}options(t){return it.findProgramAddressSync([we.Buffer.from($Ye,"utf8"),new Mr(t).toArrayLike(we.Buffer,"be",4)],this.program)}workerConfig(t){return it.findProgramAddressSync([we.Buffer.from(zYe,"utf8"),t.toBuffer()],this.program)}confirmations(t,e,r){return it.findProgramAddressSync([we.Buffer.from(UYe,"utf8"),t,e,r.toBytes()],this.program)}},HYe=class{constructor(t){this.program=t}authority(){return it.findProgramAddressSync([we.Buffer.from("dvn","utf8")],this.program)}config(){return it.findProgramAddressSync([we.Buffer.from(Qoe,"utf8")],this.program)}executeHash(t){return it.findProgramAddressSync([we.Buffer.from("ExecuteHash","utf8"),t],this.program)}},Lp=class{constructor(t){this.program=t}eventAuthority(){return it.findProgramAddressSync([we.Buffer.from(qL,"utf8")],this.program)}},qYe=class{constructor(t){this.program=t}config(){return it.findProgramAddressSync([we.Buffer.from(eae,"utf8")],this.program)}},VL=class{constructor(t){this.program=t}priceFeed(){return it.findProgramAddressSync([we.Buffer.from(tae,"utf8")],this.program)}},UE={};Fr(UE,{DefaultMessageLib:()=>lx,Endpoint:()=>pXe,EventEmitDiscriminator:()=>hXe,PROGRAM_ID:()=>KZe,accounts:()=>rae,errors:()=>cae,events:()=>Uce,instructions:()=>Iae,types:()=>Fce});function VYe(t){return tse(t,32)}function kV(t){return t instanceof Uint8Array&&(t=P_(t)),zWe(t.slice(-40))}function QM(t){return t.replace(/^0x/,"")}function $d(t){if(YYe(t))return sX.decode(t);if(t.startsWith("0x")&&t.length<=66)return Li(VYe(t));throw new Error("Invalid address")}var GYe=/^([1-9A-HJ-NP-Za-km-z]{32,44})$/;function YYe(t){return GYe.test(t)}ao.from("0xffffffffffffffffffffffffffffffff");var TV=0,IV=1,RV=9,MV=13,e8=45,CV=49,xv=81,t2=113,im=class I5{constructor(e){BYe(this,"buffer"),this.buffer=we.Buffer.from(QM(e),"hex")}static from(e){return new I5(e)}static fromBytes(e){return new I5("0x"+we.Buffer.from(e).toString("hex"))}static encode(e){const r=this.encodeBytes(e);return"0x"+we.Buffer.from(r).toString("hex")}static encodeBytes(e){const r=QM(e.message),n=we.Buffer.alloc(t2+r.length/2);return n.writeUInt8(e.version,TV),n.writeBigUInt64BE(BigInt(e.nonce),IV),n.writeUInt32BE(e.srcEid,RV),n.write(we.Buffer.from($d(e.sender)).toString("hex"),MV,32,"hex"),n.writeUInt32BE(e.dstEid,e8),n.write(we.Buffer.from($d(e.receiver)).toString("hex"),CV,32,"hex"),n.write(QM(e.guid),xv,32,"hex"),n.write(r,t2,r.length/2,"hex"),new Uint8Array(n)}version(){return this.buffer.readUInt8(TV)}nonce(){return this.buffer.readBigUint64BE(IV).toString()}srcEid(){return this.buffer.readUint32BE(RV)}sender(){return"0x"+this.buffer.slice(MV,e8).toString("hex")}senderAddressB20(){return kV(this.sender())}dstEid(){return this.buffer.readUint32BE(e8)}receiver(){return"0x"+this.buffer.slice(CV,xv).toString("hex")}receiverAddressB20(){return kV(this.receiver())}guid(){return"0x"+this.buffer.slice(xv,t2).toString("hex")}message(){return"0x"+this.buffer.slice(t2).toString("hex")}payloadHash(){return gS(this.payload())}payload(){return"0x"+this.buffer.slice(xv).toString("hex")}header(){return"0x"+this.buffer.slice(0,xv).toString("hex")}headerHash(){return gS(this.header())}decode(){return this.toPacket()}toPacket(){return{version:this.version(),nonce:this.nonce(),srcEid:this.srcEid(),sender:this.sender(),dstEid:this.dstEid(),receiver:this.receiver(),guid:this.guid(),message:this.message(),payload:this.payload()}}},rae={};Fr(rae,{ComposeMessageState:()=>LT,EndpointSettings:()=>AS,MessageLibInfo:()=>FT,Nonce:()=>$T,OAppRegistry:()=>YL,PayloadHash:()=>UT,PendingInboundNonce:()=>zT,ReceiveLibraryConfig:()=>Dp,SendLibraryConfig:()=>Fp,accountProviders:()=>ZYe,composeMessageStateBeet:()=>Zv,composeMessageStateDiscriminator:()=>nae,endpointSettingsBeet:()=>Xv,endpointSettingsDiscriminator:()=>R5,messageLibInfoBeet:()=>Jv,messageLibInfoDiscriminator:()=>iae,nonceBeet:()=>Qv,nonceDiscriminator:()=>sae,oAppRegistryBeet:()=>ew,oAppRegistryDiscriminator:()=>oae,payloadHashBeet:()=>tw,payloadHashDiscriminator:()=>aae,pendingInboundNonceBeet:()=>rw,pendingInboundNonceDiscriminator:()=>M5,receiveLibraryConfigBeet:()=>nw,receiveLibraryConfigDiscriminator:()=>C5,sendLibraryConfigBeet:()=>iw,sendLibraryConfigDiscriminator:()=>uae});var nae=[55,107,79,254,243,22,172,240],LT=class sm{constructor(e,r){this.received=e,this.bump=r}static fromArgs(e){return new sm(e.received,e.bump)}static fromAccountInfo(e,r=0){return sm.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find ComposeMessageState account at ${r}`);return sm.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new it("76y77prsiCMvXMjuoZ5VRrhG5qYBrUMYTE5WgHqgjEn6")){return Pe.GpaBuilder.fromStruct(e,Zv)}static deserialize(e,r=0){return Zv.deserialize(e,r)}serialize(){return Zv.serialize({accountDiscriminator:nae,...this})}static get byteSize(){return Zv.byteSize}static async getMinimumBalanceForRentExemption(e,r){return e.getMinimumBalanceForRentExemption(sm.byteSize,r)}static hasCorrectByteSize(e,r=0){return e.byteLength-r===sm.byteSize}pretty(){return{received:this.received,bump:this.bump}}},Zv=new B.BeetStruct([["accountDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["received",B.bool],["bump",B.u8]],LT.fromArgs,"ComposeMessageState"),R5=[221,232,73,56,10,66,72,14],AS=class om{constructor(e,r,n,i){this.eid=e,this.bump=r,this.admin=n,this.lzTokenMint=i}static fromArgs(e){return new om(e.eid,e.bump,e.admin,e.lzTokenMint)}static fromAccountInfo(e,r=0){return om.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find EndpointSettings account at ${r}`);return om.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new it("76y77prsiCMvXMjuoZ5VRrhG5qYBrUMYTE5WgHqgjEn6")){return Pe.GpaBuilder.fromStruct(e,Xv)}static deserialize(e,r=0){return Xv.deserialize(e,r)}serialize(){return Xv.serialize({accountDiscriminator:R5,...this})}static byteSize(e){const r=om.fromArgs(e);return Xv.toFixedFromValue({accountDiscriminator:R5,...r}).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(om.byteSize(e),n)}pretty(){return{eid:this.eid,bump:this.bump,admin:this.admin.toBase58(),lzTokenMint:this.lzTokenMint}}},Xv=new B.FixableBeetStruct([["accountDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["eid",B.u32],["bump",B.u8],["admin",Pe.publicKey],["lzTokenMint",B.coption(Pe.publicKey)]],AS.fromArgs,"EndpointSettings"),DT=(t=>(t[t.Send=0]="Send",t[t.Receive=1]="Receive",t[t.SendAndReceive=2]="SendAndReceive",t))(DT||{}),GL=B.fixedScalarEnum(DT),iae=[103,102,218,28,204,135,71,14],FT=class am{constructor(e,r,n){this.messageLibType=e,this.bump=r,this.messageLibBump=n}static fromArgs(e){return new am(e.messageLibType,e.bump,e.messageLibBump)}static fromAccountInfo(e,r=0){return am.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find MessageLibInfo account at ${r}`);return am.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new it("76y77prsiCMvXMjuoZ5VRrhG5qYBrUMYTE5WgHqgjEn6")){return Pe.GpaBuilder.fromStruct(e,Jv)}static deserialize(e,r=0){return Jv.deserialize(e,r)}serialize(){return Jv.serialize({accountDiscriminator:iae,...this})}static get byteSize(){return Jv.byteSize}static async getMinimumBalanceForRentExemption(e,r){return e.getMinimumBalanceForRentExemption(am.byteSize,r)}static hasCorrectByteSize(e,r=0){return e.byteLength-r===am.byteSize}pretty(){return{messageLibType:"MessageLibType."+DT[this.messageLibType],bump:this.bump,messageLibBump:this.messageLibBump}}},Jv=new B.BeetStruct([["accountDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["messageLibType",GL],["bump",B.u8],["messageLibBump",B.u8]],FT.fromArgs,"MessageLibInfo"),sae=[143,197,147,95,106,165,50,43],$T=class um{constructor(e,r,n){this.bump=e,this.outboundNonce=r,this.inboundNonce=n}static fromArgs(e){return new um(e.bump,e.outboundNonce,e.inboundNonce)}static fromAccountInfo(e,r=0){return um.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find Nonce account at ${r}`);return um.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new it("76y77prsiCMvXMjuoZ5VRrhG5qYBrUMYTE5WgHqgjEn6")){return Pe.GpaBuilder.fromStruct(e,Qv)}static deserialize(e,r=0){return Qv.deserialize(e,r)}serialize(){return Qv.serialize({accountDiscriminator:sae,...this})}static get byteSize(){return Qv.byteSize}static async getMinimumBalanceForRentExemption(e,r){return e.getMinimumBalanceForRentExemption(um.byteSize,r)}static hasCorrectByteSize(e,r=0){return e.byteLength-r===um.byteSize}pretty(){return{bump:this.bump,outboundNonce:(()=>{const e=this.outboundNonce;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),inboundNonce:(()=>{const e=this.inboundNonce;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})()}}},Qv=new B.BeetStruct([["accountDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["bump",B.u8],["outboundNonce",B.u64],["inboundNonce",B.u64]],$T.fromArgs,"Nonce"),oae=[6,152,199,30,217,50,69,149],YL=class cm{constructor(e,r){this.delegate=e,this.bump=r}static fromArgs(e){return new cm(e.delegate,e.bump)}static fromAccountInfo(e,r=0){return cm.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find OAppRegistry account at ${r}`);return cm.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new it("76y77prsiCMvXMjuoZ5VRrhG5qYBrUMYTE5WgHqgjEn6")){return Pe.GpaBuilder.fromStruct(e,ew)}static deserialize(e,r=0){return ew.deserialize(e,r)}serialize(){return ew.serialize({accountDiscriminator:oae,...this})}static get byteSize(){return ew.byteSize}static async getMinimumBalanceForRentExemption(e,r){return e.getMinimumBalanceForRentExemption(cm.byteSize,r)}static hasCorrectByteSize(e,r=0){return e.byteLength-r===cm.byteSize}pretty(){return{delegate:this.delegate.toBase58(),bump:this.bump}}},ew=new B.BeetStruct([["accountDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["delegate",Pe.publicKey],["bump",B.u8]],YL.fromArgs,"OAppRegistry"),aae=[96,28,106,145,103,32,186,70],UT=class lm{constructor(e,r){this.hash=e,this.bump=r}static fromArgs(e){return new lm(e.hash,e.bump)}static fromAccountInfo(e,r=0){return lm.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find PayloadHash account at ${r}`);return lm.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new it("76y77prsiCMvXMjuoZ5VRrhG5qYBrUMYTE5WgHqgjEn6")){return Pe.GpaBuilder.fromStruct(e,tw)}static deserialize(e,r=0){return tw.deserialize(e,r)}serialize(){return tw.serialize({accountDiscriminator:aae,...this})}static get byteSize(){return tw.byteSize}static async getMinimumBalanceForRentExemption(e,r){return e.getMinimumBalanceForRentExemption(lm.byteSize,r)}static hasCorrectByteSize(e,r=0){return e.byteLength-r===lm.byteSize}pretty(){return{hash:this.hash,bump:this.bump}}},tw=new B.BeetStruct([["accountDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["hash",B.uniformFixedSizeArray(B.u8,32)],["bump",B.u8]],UT.fromArgs,"PayloadHash"),M5=[170,176,95,240,120,231,241,218],zT=class fm{constructor(e,r){this.nonces=e,this.bump=r}static fromArgs(e){return new fm(e.nonces,e.bump)}static fromAccountInfo(e,r=0){return fm.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find PendingInboundNonce account at ${r}`);return fm.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new it("76y77prsiCMvXMjuoZ5VRrhG5qYBrUMYTE5WgHqgjEn6")){return Pe.GpaBuilder.fromStruct(e,rw)}static deserialize(e,r=0){return rw.deserialize(e,r)}serialize(){return rw.serialize({accountDiscriminator:M5,...this})}static byteSize(e){const r=fm.fromArgs(e);return rw.toFixedFromValue({accountDiscriminator:M5,...r}).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(fm.byteSize(e),n)}pretty(){return{nonces:this.nonces,bump:this.bump}}},rw=new B.FixableBeetStruct([["accountDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["nonces",B.array(B.u64)],["bump",B.u8]],zT.fromArgs,"PendingInboundNonce"),WT=new B.BeetArgsStruct([["messageLib",Pe.publicKey],["expiry",B.u64]],"ReceiveLibraryTimeout"),C5=[142,226,251,138,1,206,91,193],Dp=class dm{constructor(e,r,n){this.messageLib=e,this.timeout=r,this.bump=n}static fromArgs(e){return new dm(e.messageLib,e.timeout,e.bump)}static fromAccountInfo(e,r=0){return dm.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find ReceiveLibraryConfig account at ${r}`);return dm.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new it("76y77prsiCMvXMjuoZ5VRrhG5qYBrUMYTE5WgHqgjEn6")){return Pe.GpaBuilder.fromStruct(e,nw)}static deserialize(e,r=0){return nw.deserialize(e,r)}serialize(){return nw.serialize({accountDiscriminator:C5,...this})}static byteSize(e){const r=dm.fromArgs(e);return nw.toFixedFromValue({accountDiscriminator:C5,...r}).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(dm.byteSize(e),n)}pretty(){return{messageLib:this.messageLib.toBase58(),timeout:this.timeout,bump:this.bump}}},nw=new B.FixableBeetStruct([["accountDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["messageLib",Pe.publicKey],["timeout",B.coption(WT)],["bump",B.u8]],Dp.fromArgs,"ReceiveLibraryConfig"),uae=[61,238,31,72,251,117,66,176],Fp=class hm{constructor(e,r){this.messageLib=e,this.bump=r}static fromArgs(e){return new hm(e.messageLib,e.bump)}static fromAccountInfo(e,r=0){return hm.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find SendLibraryConfig account at ${r}`);return hm.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new it("76y77prsiCMvXMjuoZ5VRrhG5qYBrUMYTE5WgHqgjEn6")){return Pe.GpaBuilder.fromStruct(e,iw)}static deserialize(e,r=0){return iw.deserialize(e,r)}serialize(){return iw.serialize({accountDiscriminator:uae,...this})}static get byteSize(){return iw.byteSize}static async getMinimumBalanceForRentExemption(e,r){return e.getMinimumBalanceForRentExemption(hm.byteSize,r)}static hasCorrectByteSize(e,r=0){return e.byteLength-r===hm.byteSize}pretty(){return{messageLib:this.messageLib.toBase58(),bump:this.bump}}},iw=new B.BeetStruct([["accountDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["messageLib",Pe.publicKey],["bump",B.u8]],Fp.fromArgs,"SendLibraryConfig"),ZYe={ComposeMessageState:LT,EndpointSettings:AS,OAppRegistry:YL,MessageLibInfo:FT,ReceiveLibraryConfig:Dp,SendLibraryConfig:Fp,Nonce:$T,PayloadHash:UT,PendingInboundNonce:zT},cae={};Fr(cae,{AccountNotFoundError:()=>QL,ComposeNotFoundError:()=>u9,InvalidAmountError:()=>i9,InvalidExpiryError:()=>r9,InvalidMessageLibError:()=>d9,InvalidNonceError:()=>s9,InvalidPayloadHashError:()=>c9,InvalidReceiveLibraryError:()=>XL,InvalidSendLibraryError:()=>ZL,LzTokenUnavailableError:()=>l9,OnlyNonDefaultLibError:()=>n9,OnlyReceiveLibError:()=>t9,OnlySendLibError:()=>e9,PayloadHashNotFoundError:()=>a9,ReadOnlyAccountError:()=>f9,SameValueError:()=>JL,UnauthorizedError:()=>o9,WritableAccountNotAllowedError:()=>h9,errorFromCode:()=>XYe,errorFromName:()=>JYe});var Zi=new Map,Xi=new Map,ZL=class lae extends Error{constructor(){super(""),this.code=6e3,this.name="InvalidSendLibrary",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,lae)}};Zi.set(6e3,()=>new ZL);Xi.set("InvalidSendLibrary",()=>new ZL);var XL=class fae extends Error{constructor(){super(""),this.code=6001,this.name="InvalidReceiveLibrary",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,fae)}};Zi.set(6001,()=>new XL);Xi.set("InvalidReceiveLibrary",()=>new XL);var JL=class dae extends Error{constructor(){super(""),this.code=6002,this.name="SameValue",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,dae)}};Zi.set(6002,()=>new JL);Xi.set("SameValue",()=>new JL);var QL=class hae extends Error{constructor(){super(""),this.code=6003,this.name="AccountNotFound",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,hae)}};Zi.set(6003,()=>new QL);Xi.set("AccountNotFound",()=>new QL);var e9=class pae extends Error{constructor(){super(""),this.code=6004,this.name="OnlySendLib",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,pae)}};Zi.set(6004,()=>new e9);Xi.set("OnlySendLib",()=>new e9);var t9=class gae extends Error{constructor(){super(""),this.code=6005,this.name="OnlyReceiveLib",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,gae)}};Zi.set(6005,()=>new t9);Xi.set("OnlyReceiveLib",()=>new t9);var r9=class mae extends Error{constructor(){super(""),this.code=6006,this.name="InvalidExpiry",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,mae)}};Zi.set(6006,()=>new r9);Xi.set("InvalidExpiry",()=>new r9);var n9=class yae extends Error{constructor(){super(""),this.code=6007,this.name="OnlyNonDefaultLib",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,yae)}};Zi.set(6007,()=>new n9);Xi.set("OnlyNonDefaultLib",()=>new n9);var i9=class bae extends Error{constructor(){super(""),this.code=6008,this.name="InvalidAmount",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,bae)}};Zi.set(6008,()=>new i9);Xi.set("InvalidAmount",()=>new i9);var s9=class vae extends Error{constructor(){super(""),this.code=6009,this.name="InvalidNonce",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,vae)}};Zi.set(6009,()=>new s9);Xi.set("InvalidNonce",()=>new s9);var o9=class wae extends Error{constructor(){super(""),this.code=6010,this.name="Unauthorized",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,wae)}};Zi.set(6010,()=>new o9);Xi.set("Unauthorized",()=>new o9);var a9=class Sae extends Error{constructor(){super(""),this.code=6011,this.name="PayloadHashNotFound",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Sae)}};Zi.set(6011,()=>new a9);Xi.set("PayloadHashNotFound",()=>new a9);var u9=class _ae extends Error{constructor(){super(""),this.code=6012,this.name="ComposeNotFound",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,_ae)}};Zi.set(6012,()=>new u9);Xi.set("ComposeNotFound",()=>new u9);var c9=class Aae extends Error{constructor(){super(""),this.code=6013,this.name="InvalidPayloadHash",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Aae)}};Zi.set(6013,()=>new c9);Xi.set("InvalidPayloadHash",()=>new c9);var l9=class xae extends Error{constructor(){super(""),this.code=6014,this.name="LzTokenUnavailable",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,xae)}};Zi.set(6014,()=>new l9);Xi.set("LzTokenUnavailable",()=>new l9);var f9=class Eae extends Error{constructor(){super(""),this.code=6015,this.name="ReadOnlyAccount",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Eae)}};Zi.set(6015,()=>new f9);Xi.set("ReadOnlyAccount",()=>new f9);var d9=class kae extends Error{constructor(){super(""),this.code=6016,this.name="InvalidMessageLib",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,kae)}};Zi.set(6016,()=>new d9);Xi.set("InvalidMessageLib",()=>new d9);var h9=class Tae extends Error{constructor(){super(""),this.code=6017,this.name="WritableAccountNotAllowed",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Tae)}};Zi.set(6017,()=>new h9);Xi.set("WritableAccountNotAllowed",()=>new h9);function XYe(t){const e=Zi.get(t);return e!=null?e():null}function JYe(t){const e=Xi.get(t);return e!=null?e():null}var Iae={};Fr(Iae,{burnInstructionDiscriminator:()=>Cae,burnStruct:()=>Mae,clearComposeInstructionDiscriminator:()=>Dae,clearComposeStruct:()=>Lae,clearInstructionDiscriminator:()=>Bae,clearStruct:()=>Nae,createBurnInstruction:()=>QYe,createBurnInstructionAccounts:()=>eZe,createClearComposeInstruction:()=>nZe,createClearComposeInstructionAccounts:()=>iZe,createClearInstruction:()=>tZe,createClearInstructionAccounts:()=>rZe,createInitConfigInstruction:()=>zae,createInitConfigInstructionAccounts:()=>sZe,createInitDefaultReceiveLibraryInstruction:()=>Hae,createInitDefaultReceiveLibraryInstructionAccounts:()=>oZe,createInitDefaultSendLibraryInstruction:()=>Yae,createInitDefaultSendLibraryInstructionAccounts:()=>aZe,createInitEndpointInstruction:()=>Qae,createInitEndpointInstructionAccounts:()=>uZe,createInitNonceInstruction:()=>nue,createInitNonceInstructionAccounts:()=>cZe,createInitReceiveLibraryInstruction:()=>aue,createInitReceiveLibraryInstructionAccounts:()=>lZe,createInitSendLibraryInstruction:()=>fue,createInitSendLibraryInstructionAccounts:()=>fZe,createInitVerifyInstruction:()=>gue,createInitVerifyInstructionAccounts:()=>dZe,createLzComposeAlertInstruction:()=>hZe,createLzComposeAlertInstructionAccounts:()=>pZe,createLzReceiveAlertInstruction:()=>gZe,createLzReceiveAlertInstructionAccounts:()=>mZe,createNilifyInstruction:()=>yZe,createNilifyInstructionAccounts:()=>bZe,createQuoteInstruction:()=>vZe,createQuoteInstructionAccounts:()=>Iue,createRegisterLibraryInstruction:()=>Pue,createRegisterLibraryInstructionAccounts:()=>wZe,createRegisterOappInstruction:()=>SZe,createRegisterOappInstructionAccounts:()=>Lue,createSendComposeInstruction:()=>AZe,createSendComposeInstructionAccounts:()=>xZe,createSendInstruction:()=>_Ze,createSendInstructionAccounts:()=>Uue,createSetConfigInstruction:()=>Vue,createSetConfigInstructionAccounts:()=>EZe,createSetDefaultReceiveLibraryInstruction:()=>Xue,createSetDefaultReceiveLibraryInstructionAccounts:()=>kZe,createSetDefaultReceiveLibraryTimeoutInstruction:()=>TZe,createSetDefaultReceiveLibraryTimeoutInstructionAccounts:()=>IZe,createSetDefaultSendLibraryInstruction:()=>ice,createSetDefaultSendLibraryInstructionAccounts:()=>RZe,createSetDelegateInstruction:()=>MZe,createSetDelegateInstructionAccounts:()=>CZe,createSetLzTokenInstruction:()=>PZe,createSetLzTokenInstructionAccounts:()=>NZe,createSetReceiveLibraryInstruction:()=>pce,createSetReceiveLibraryInstructionAccounts:()=>BZe,createSetReceiveLibraryTimeoutInstruction:()=>OZe,createSetReceiveLibraryTimeoutInstructionAccounts:()=>LZe,createSetSendLibraryInstruction:()=>Sce,createSetSendLibraryInstructionAccounts:()=>DZe,createSkipInstruction:()=>Ece,createSkipInstructionAccounts:()=>kce,createTransferAdminInstruction:()=>Mce,createTransferAdminInstructionAccounts:()=>FZe,createVerifyInstruction:()=>$Ze,createVerifyInstructionAccounts:()=>Bce,createWithdrawRentInstruction:()=>UZe,createWithdrawRentInstructionAccounts:()=>zZe,initConfigInstructionDiscriminator:()=>Uae,initConfigStruct:()=>$ae,initDefaultReceiveLibraryInstructionDiscriminator:()=>Kae,initDefaultReceiveLibraryStruct:()=>jae,initDefaultSendLibraryInstructionDiscriminator:()=>Gae,initDefaultSendLibraryStruct:()=>Vae,initEndpointInstructionDiscriminator:()=>Jae,initEndpointStruct:()=>Xae,initNonceInstructionDiscriminator:()=>rue,initNonceStruct:()=>tue,initReceiveLibraryInstructionDiscriminator:()=>oue,initReceiveLibraryStruct:()=>sue,initSendLibraryInstructionDiscriminator:()=>lue,initSendLibraryStruct:()=>cue,initVerifyInstructionDiscriminator:()=>pue,initVerifyStruct:()=>hue,lzComposeAlertInstructionDiscriminator:()=>bue,lzComposeAlertStruct:()=>yue,lzReceiveAlertInstructionDiscriminator:()=>Sue,lzReceiveAlertStruct:()=>wue,nilifyInstructionDiscriminator:()=>xue,nilifyStruct:()=>Aue,quoteInstructionDiscriminator:()=>Tue,quoteStruct:()=>kue,registerLibraryInstructionDiscriminator:()=>Cue,registerLibraryStruct:()=>Mue,registerOappInstructionDiscriminator:()=>Oue,registerOappStruct:()=>Bue,sendComposeInstructionDiscriminator:()=>jue,sendComposeStruct:()=>Wue,sendInstructionDiscriminator:()=>$ue,sendStruct:()=>Fue,setConfigInstructionDiscriminator:()=>que,setConfigStruct:()=>Hue,setDefaultReceiveLibraryInstructionDiscriminator:()=>Zue,setDefaultReceiveLibraryStruct:()=>Yue,setDefaultReceiveLibraryTimeoutInstructionDiscriminator:()=>ece,setDefaultReceiveLibraryTimeoutStruct:()=>Que,setDefaultSendLibraryInstructionDiscriminator:()=>nce,setDefaultSendLibraryStruct:()=>rce,setDelegateInstructionDiscriminator:()=>ace,setDelegateStruct:()=>oce,setLzTokenInstructionDiscriminator:()=>lce,setLzTokenStruct:()=>cce,setReceiveLibraryInstructionDiscriminator:()=>hce,setReceiveLibraryStruct:()=>dce,setReceiveLibraryTimeoutInstructionDiscriminator:()=>yce,setReceiveLibraryTimeoutStruct:()=>mce,setSendLibraryInstructionDiscriminator:()=>wce,setSendLibraryStruct:()=>vce,skipInstructionDiscriminator:()=>xce,skipStruct:()=>Ace,transferAdminInstructionDiscriminator:()=>Rce,transferAdminStruct:()=>Ice,verifyInstructionDiscriminator:()=>Nce,verifyStruct:()=>Pce,withdrawRentInstructionDiscriminator:()=>Dce,withdrawRentStruct:()=>Lce});var Rae=new B.BeetArgsStruct([["receiver",Pe.publicKey],["srcEid",B.u32],["sender",B.uniformFixedSizeArray(B.u8,32)],["nonce",B.u64],["payloadHash",B.uniformFixedSizeArray(B.u8,32)]],"BurnParams"),Mae=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",Rae]],"BurnInstructionArgs"),Cae=[116,110,29,56,107,219,42,93];function QYe(t,e,r){const[n]=Mae.serialize({instructionDiscriminator:Cae,...e}),i=[{pubkey:t.signer,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.nonce,isWritable:!1,isSigner:!1},{pubkey:t.payloadHash,isWritable:!0,isSigner:!1},{pubkey:t.endpoint,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function eZe(t,e){const r=[{pubkey:t.signer,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.nonce,isWritable:!1,isSigner:!1},{pubkey:t.payloadHash,isWritable:!0,isSigner:!1},{pubkey:t.endpoint,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Pae=new B.FixableBeetArgsStruct([["receiver",Pe.publicKey],["srcEid",B.u32],["sender",B.uniformFixedSizeArray(B.u8,32)],["nonce",B.u64],["guid",B.uniformFixedSizeArray(B.u8,32)],["message",B.bytes]],"ClearParams"),Nae=new B.FixableBeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",Pae]],"ClearInstructionArgs"),Bae=[250,39,28,213,123,163,133,5];function tZe(t,e,r){const[n]=Nae.serialize({instructionDiscriminator:Bae,...e}),i=[{pubkey:t.signer,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.nonce,isWritable:!1,isSigner:!1},{pubkey:t.payloadHash,isWritable:!0,isSigner:!1},{pubkey:t.endpoint,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function rZe(t,e){const r=[{pubkey:t.signer,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.nonce,isWritable:!1,isSigner:!1},{pubkey:t.payloadHash,isWritable:!0,isSigner:!1},{pubkey:t.endpoint,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Oae=new B.FixableBeetArgsStruct([["from",Pe.publicKey],["guid",B.uniformFixedSizeArray(B.u8,32)],["index",B.u16],["message",B.bytes]],"ClearComposeParams"),Lae=new B.FixableBeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",Oae]],"ClearComposeInstructionArgs"),Dae=[118,1,18,142,95,175,21,125];function nZe(t,e,r){const[n]=Lae.serialize({instructionDiscriminator:Dae,...e}),i=[{pubkey:t.to,isWritable:!1,isSigner:!0},{pubkey:t.composeMessage,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function iZe(t,e){const r=[{pubkey:t.to,isWritable:!1,isSigner:!0},{pubkey:t.composeMessage,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Fae=new B.BeetArgsStruct([["oapp",Pe.publicKey],["eid",B.u32]],"InitConfigParams"),$ae=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",Fae]],"InitConfigInstructionArgs"),Uae=[23,235,115,232,168,96,1,231];function zae(t,e,r){const[n]=$ae.serialize({instructionDiscriminator:Uae,...e}),i=[{pubkey:t.delegate,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.messageLibInfo,isWritable:!1,isSigner:!1},{pubkey:t.messageLib,isWritable:!1,isSigner:!1},{pubkey:t.messageLibProgram,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function sZe(t,e){const r=[{pubkey:t.delegate,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.messageLibInfo,isWritable:!1,isSigner:!1},{pubkey:t.messageLib,isWritable:!1,isSigner:!1},{pubkey:t.messageLibProgram,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Wae=new B.BeetArgsStruct([["eid",B.u32],["newLib",Pe.publicKey]],"InitDefaultReceiveLibraryParams"),jae=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",Wae]],"InitDefaultReceiveLibraryInstructionArgs"),Kae=[32,202,76,22,42,249,227,109];function Hae(t,e,r){const[n]=jae.serialize({instructionDiscriminator:Kae,...e}),i=[{pubkey:t.admin,isWritable:!0,isSigner:!0},{pubkey:t.endpoint,isWritable:!1,isSigner:!1},{pubkey:t.defaultReceiveLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.messageLibInfo,isWritable:!1,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function oZe(t,e){const r=[{pubkey:t.admin,isWritable:!0,isSigner:!0},{pubkey:t.endpoint,isWritable:!1,isSigner:!1},{pubkey:t.defaultReceiveLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.messageLibInfo,isWritable:!1,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var qae=new B.BeetArgsStruct([["eid",B.u32],["newLib",Pe.publicKey]],"InitDefaultSendLibraryParams"),Vae=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",qae]],"InitDefaultSendLibraryInstructionArgs"),Gae=[120,187,15,31,174,97,138,58];function Yae(t,e,r){const[n]=Vae.serialize({instructionDiscriminator:Gae,...e}),i=[{pubkey:t.admin,isWritable:!0,isSigner:!0},{pubkey:t.endpoint,isWritable:!1,isSigner:!1},{pubkey:t.defaultSendLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.messageLibInfo,isWritable:!1,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function aZe(t,e){const r=[{pubkey:t.admin,isWritable:!0,isSigner:!0},{pubkey:t.endpoint,isWritable:!1,isSigner:!1},{pubkey:t.defaultSendLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.messageLibInfo,isWritable:!1,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Zae=new B.BeetArgsStruct([["eid",B.u32],["admin",Pe.publicKey]],"InitEndpointParams"),Xae=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",Zae]],"InitEndpointInstructionArgs"),Jae=[178,30,29,207,120,225,246,134];function Qae(t,e,r){const[n]=Xae.serialize({instructionDiscriminator:Jae,...e}),i=[{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.endpoint,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function uZe(t,e){const r=[{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.endpoint,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var eue=new B.BeetArgsStruct([["localOapp",Pe.publicKey],["remoteEid",B.u32],["remoteOapp",B.uniformFixedSizeArray(B.u8,32)]],"InitNonceParams"),tue=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",eue]],"InitNonceInstructionArgs"),rue=[204,171,16,214,182,191,27,196];function nue(t,e,r){const[n]=tue.serialize({instructionDiscriminator:rue,...e}),i=[{pubkey:t.delegate,isWritable:!0,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.nonce,isWritable:!0,isSigner:!1},{pubkey:t.pendingInboundNonce,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function cZe(t,e){const r=[{pubkey:t.delegate,isWritable:!0,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.nonce,isWritable:!0,isSigner:!1},{pubkey:t.pendingInboundNonce,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var iue=new B.BeetArgsStruct([["receiver",Pe.publicKey],["eid",B.u32]],"InitReceiveLibraryParams"),sue=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",iue]],"InitReceiveLibraryInstructionArgs"),oue=[197,114,81,100,45,233,36,230];function aue(t,e,r){const[n]=sue.serialize({instructionDiscriminator:oue,...e}),i=[{pubkey:t.delegate,isWritable:!0,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.receiveLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function lZe(t,e){const r=[{pubkey:t.delegate,isWritable:!0,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.receiveLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var uue=new B.BeetArgsStruct([["sender",Pe.publicKey],["eid",B.u32]],"InitSendLibraryParams"),cue=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",uue]],"InitSendLibraryInstructionArgs"),lue=[156,24,235,120,73,193,144,19];function fue(t,e,r){const[n]=cue.serialize({instructionDiscriminator:lue,...e}),i=[{pubkey:t.delegate,isWritable:!0,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.sendLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function fZe(t,e){const r=[{pubkey:t.delegate,isWritable:!0,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.sendLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var due=new B.BeetArgsStruct([["srcEid",B.u32],["sender",B.uniformFixedSizeArray(B.u8,32)],["receiver",Pe.publicKey],["nonce",B.u64]],"InitVerifyParams"),hue=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",due]],"InitVerifyInstructionArgs"),pue=[76,246,244,124,115,17,235,91];function gue(t,e,r){const[n]=hue.serialize({instructionDiscriminator:pue,...e}),i=[{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.nonce,isWritable:!1,isSigner:!1},{pubkey:t.payloadHash,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function dZe(t,e){const r=[{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.nonce,isWritable:!1,isSigner:!1},{pubkey:t.payloadHash,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var mue=new B.FixableBeetArgsStruct([["from",Pe.publicKey],["to",Pe.publicKey],["guid",B.uniformFixedSizeArray(B.u8,32)],["index",B.u16],["computeUnits",B.u64],["value",B.u64],["message",B.bytes],["extraData",B.bytes],["reason",B.bytes]],"LzComposeAlertParams"),yue=new B.FixableBeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",mue]],"LzComposeAlertInstructionArgs"),bue=[27,91,198,77,66,92,122,167];function hZe(t,e,r){const[n]=yue.serialize({instructionDiscriminator:bue,...e}),i=[{pubkey:t.executor,isWritable:!1,isSigner:!0},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function pZe(t,e){const r=[{pubkey:t.executor,isWritable:!1,isSigner:!0},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var vue=new B.FixableBeetArgsStruct([["receiver",Pe.publicKey],["srcEid",B.u32],["sender",B.uniformFixedSizeArray(B.u8,32)],["nonce",B.u64],["guid",B.uniformFixedSizeArray(B.u8,32)],["computeUnits",B.u64],["value",B.u64],["message",B.bytes],["extraData",B.bytes],["reason",B.bytes]],"LzReceiveAlertParams"),wue=new B.FixableBeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",vue]],"LzReceiveAlertInstructionArgs"),Sue=[131,141,48,222,15,235,141,160];function gZe(t,e,r){const[n]=wue.serialize({instructionDiscriminator:Sue,...e}),i=[{pubkey:t.executor,isWritable:!1,isSigner:!0},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function mZe(t,e){const r=[{pubkey:t.executor,isWritable:!1,isSigner:!0},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var _ue=new B.BeetArgsStruct([["receiver",Pe.publicKey],["srcEid",B.u32],["sender",B.uniformFixedSizeArray(B.u8,32)],["nonce",B.u64],["payloadHash",B.uniformFixedSizeArray(B.u8,32)]],"NilifyParams"),Aue=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",_ue]],"NilifyInstructionArgs"),xue=[143,136,129,199,36,35,160,85];function yZe(t,e,r){const[n]=Aue.serialize({instructionDiscriminator:xue,...e}),i=[{pubkey:t.signer,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.nonce,isWritable:!0,isSigner:!1},{pubkey:t.pendingInboundNonce,isWritable:!0,isSigner:!1},{pubkey:t.payloadHash,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function bZe(t,e){const r=[{pubkey:t.signer,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.nonce,isWritable:!0,isSigner:!1},{pubkey:t.pendingInboundNonce,isWritable:!0,isSigner:!1},{pubkey:t.payloadHash,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Eue=new B.FixableBeetArgsStruct([["sender",Pe.publicKey],["dstEid",B.u32],["receiver",B.uniformFixedSizeArray(B.u8,32)],["message",B.bytes],["options",B.bytes],["payInLzToken",B.bool]],"QuoteParams"),kue=new B.FixableBeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",Eue]],"QuoteInstructionArgs"),Tue=[149,42,109,247,134,146,213,123];function vZe(t,e,r){const[n]=kue.serialize({instructionDiscriminator:Tue,...e}),i=[{pubkey:t.sendLibraryProgram,isWritable:!1,isSigner:!1},{pubkey:t.sendLibraryConfig,isWritable:!1,isSigner:!1},{pubkey:t.defaultSendLibraryConfig,isWritable:!1,isSigner:!1},{pubkey:t.sendLibraryInfo,isWritable:!1,isSigner:!1},{pubkey:t.endpoint,isWritable:!1,isSigner:!1},{pubkey:t.nonce,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function Iue(t,e){const r=[{pubkey:t.sendLibraryProgram,isWritable:!1,isSigner:!1},{pubkey:t.sendLibraryConfig,isWritable:!1,isSigner:!1},{pubkey:t.defaultSendLibraryConfig,isWritable:!1,isSigner:!1},{pubkey:t.sendLibraryInfo,isWritable:!1,isSigner:!1},{pubkey:t.endpoint,isWritable:!1,isSigner:!1},{pubkey:t.nonce,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Rue=new B.BeetArgsStruct([["libProgram",Pe.publicKey],["libType",GL]],"RegisterLibraryParams"),Mue=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",Rue]],"RegisterLibraryInstructionArgs"),Cue=[23,171,28,116,111,193,238,142];function Pue(t,e,r){const[n]=Mue.serialize({instructionDiscriminator:Cue,...e}),i=[{pubkey:t.admin,isWritable:!0,isSigner:!0},{pubkey:t.endpoint,isWritable:!1,isSigner:!1},{pubkey:t.messageLibInfo,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function wZe(t,e){const r=[{pubkey:t.admin,isWritable:!0,isSigner:!0},{pubkey:t.endpoint,isWritable:!1,isSigner:!1},{pubkey:t.messageLibInfo,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Nue=new B.BeetArgsStruct([["delegate",Pe.publicKey]],"RegisterOAppParams"),Bue=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",Nue]],"RegisterOappInstructionArgs"),Oue=[129,89,71,68,11,82,210,125];function SZe(t,e,r){const[n]=Bue.serialize({instructionDiscriminator:Oue,...e}),i=[{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.oapp,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function Lue(t,e){const r=[{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.oapp,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Due=new B.FixableBeetArgsStruct([["dstEid",B.u32],["receiver",B.uniformFixedSizeArray(B.u8,32)],["message",B.bytes],["options",B.bytes],["nativeFee",B.u64],["lzTokenFee",B.u64]],"SendParams"),Fue=new B.FixableBeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",Due]],"SendInstructionArgs"),$ue=[102,251,20,187,65,75,12,69];function _Ze(t,e,r){const[n]=Fue.serialize({instructionDiscriminator:$ue,...e}),i=[{pubkey:t.sender,isWritable:!1,isSigner:!0},{pubkey:t.sendLibraryProgram,isWritable:!1,isSigner:!1},{pubkey:t.sendLibraryConfig,isWritable:!1,isSigner:!1},{pubkey:t.defaultSendLibraryConfig,isWritable:!1,isSigner:!1},{pubkey:t.sendLibraryInfo,isWritable:!1,isSigner:!1},{pubkey:t.endpoint,isWritable:!1,isSigner:!1},{pubkey:t.nonce,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function Uue(t,e){const r=[{pubkey:t.sender,isWritable:!1,isSigner:!0},{pubkey:t.sendLibraryProgram,isWritable:!1,isSigner:!1},{pubkey:t.sendLibraryConfig,isWritable:!1,isSigner:!1},{pubkey:t.defaultSendLibraryConfig,isWritable:!1,isSigner:!1},{pubkey:t.sendLibraryInfo,isWritable:!1,isSigner:!1},{pubkey:t.endpoint,isWritable:!1,isSigner:!1},{pubkey:t.nonce,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var zue=new B.FixableBeetArgsStruct([["to",Pe.publicKey],["guid",B.uniformFixedSizeArray(B.u8,32)],["index",B.u16],["message",B.bytes]],"SendComposeParams"),Wue=new B.FixableBeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",zue]],"SendComposeInstructionArgs"),jue=[75,38,228,168,43,39,238,229];function AZe(t,e,r){const[n]=Wue.serialize({instructionDiscriminator:jue,...e}),i=[{pubkey:t.from,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.composeMessage,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function xZe(t,e){const r=[{pubkey:t.from,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.composeMessage,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Kue=new B.FixableBeetArgsStruct([["oapp",Pe.publicKey],["eid",B.u32],["configType",B.u32],["config",B.bytes]],"SetConfigParams"),Hue=new B.FixableBeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",Kue]],"SetConfigInstructionArgs"),que=[108,158,154,175,212,98,52,66];function Vue(t,e,r){const[n]=Hue.serialize({instructionDiscriminator:que,...e}),i=[{pubkey:t.signer,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.messageLibInfo,isWritable:!1,isSigner:!1},{pubkey:t.messageLib,isWritable:!1,isSigner:!1},{pubkey:t.messageLibProgram,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function EZe(t,e){const r=[{pubkey:t.signer,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.messageLibInfo,isWritable:!1,isSigner:!1},{pubkey:t.messageLib,isWritable:!1,isSigner:!1},{pubkey:t.messageLibProgram,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Gue=new B.BeetArgsStruct([["eid",B.u32],["newLib",Pe.publicKey],["gracePeriod",B.u64]],"SetDefaultReceiveLibraryParams"),Yue=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",Gue]],"SetDefaultReceiveLibraryInstructionArgs"),Zue=[14,162,167,212,13,20,151,129];function Xue(t,e,r){const[n]=Yue.serialize({instructionDiscriminator:Zue,...e}),i=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.endpoint,isWritable:!1,isSigner:!1},{pubkey:t.defaultReceiveLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.messageLibInfo,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function kZe(t,e){const r=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.endpoint,isWritable:!1,isSigner:!1},{pubkey:t.defaultReceiveLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.messageLibInfo,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Jue=new B.BeetArgsStruct([["eid",B.u32],["lib",Pe.publicKey],["expiry",B.u64]],"SetDefaultReceiveLibraryTimeoutParams"),Que=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",Jue]],"SetDefaultReceiveLibraryTimeoutInstructionArgs"),ece=[118,32,94,51,25,247,16,232];function TZe(t,e,r){const[n]=Que.serialize({instructionDiscriminator:ece,...e}),i=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.endpoint,isWritable:!1,isSigner:!1},{pubkey:t.defaultReceiveLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.messageLibInfo,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function IZe(t,e){const r=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.endpoint,isWritable:!1,isSigner:!1},{pubkey:t.defaultReceiveLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.messageLibInfo,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var tce=new B.BeetArgsStruct([["eid",B.u32],["newLib",Pe.publicKey]],"SetDefaultSendLibraryParams"),rce=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",tce]],"SetDefaultSendLibraryInstructionArgs"),nce=[220,215,110,127,237,178,215,170];function ice(t,e,r){const[n]=rce.serialize({instructionDiscriminator:nce,...e}),i=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.endpoint,isWritable:!1,isSigner:!1},{pubkey:t.defaultSendLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.messageLibInfo,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function RZe(t,e){const r=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.endpoint,isWritable:!1,isSigner:!1},{pubkey:t.defaultSendLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.messageLibInfo,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var sce=new B.BeetArgsStruct([["delegate",Pe.publicKey]],"SetDelegateParams"),oce=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",sce]],"SetDelegateInstructionArgs"),ace=[242,30,46,76,108,235,128,181];function MZe(t,e,r){const[n]=oce.serialize({instructionDiscriminator:ace,...e}),i=[{pubkey:t.oapp,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function CZe(t,e){const r=[{pubkey:t.oapp,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var uce=new B.FixableBeetArgsStruct([["lzToken",B.coption(Pe.publicKey)]],"SetLzTokenParams"),cce=new B.FixableBeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",uce]],"SetLzTokenInstructionArgs"),lce=[22,151,112,174,213,225,223,72];function PZe(t,e,r){const[n]=cce.serialize({instructionDiscriminator:lce,...e}),i=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.endpoint,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function NZe(t,e){const r=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.endpoint,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var fce=new B.BeetArgsStruct([["receiver",Pe.publicKey],["eid",B.u32],["newLib",Pe.publicKey],["gracePeriod",B.u64]],"SetReceiveLibraryParams"),dce=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",fce]],"SetReceiveLibraryInstructionArgs"),hce=[223,172,180,105,165,161,147,228];function pce(t,e,r){const[n]=dce.serialize({instructionDiscriminator:hce,...e}),i=[{pubkey:t.signer,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.receiveLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.messageLibInfo??r,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function BZe(t,e){const r=[{pubkey:t.signer,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.receiveLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.messageLibInfo??e,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var gce=new B.BeetArgsStruct([["receiver",Pe.publicKey],["eid",B.u32],["lib",Pe.publicKey],["expiry",B.u64]],"SetReceiveLibraryTimeoutParams"),mce=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",gce]],"SetReceiveLibraryTimeoutInstructionArgs"),yce=[33,159,29,53,218,156,41,192];function OZe(t,e,r){const[n]=mce.serialize({instructionDiscriminator:yce,...e}),i=[{pubkey:t.signer,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.receiveLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.messageLibInfo,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function LZe(t,e){const r=[{pubkey:t.signer,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.receiveLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.messageLibInfo,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var bce=new B.BeetArgsStruct([["sender",Pe.publicKey],["eid",B.u32],["newLib",Pe.publicKey]],"SetSendLibraryParams"),vce=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",bce]],"SetSendLibraryInstructionArgs"),wce=[251,118,78,158,134,149,129,5];function Sce(t,e,r){const[n]=vce.serialize({instructionDiscriminator:wce,...e}),i=[{pubkey:t.signer,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.sendLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.messageLibInfo??r,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function DZe(t,e){const r=[{pubkey:t.signer,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.sendLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.messageLibInfo??e,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var _ce=new B.BeetArgsStruct([["receiver",Pe.publicKey],["srcEid",B.u32],["sender",B.uniformFixedSizeArray(B.u8,32)],["nonce",B.u64]],"SkipParams"),Ace=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",_ce]],"SkipInstructionArgs"),xce=[154,63,181,53,19,26,117,45];function Ece(t,e,r){const[n]=Ace.serialize({instructionDiscriminator:xce,...e}),i=[{pubkey:t.signer,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.nonce,isWritable:!0,isSigner:!1},{pubkey:t.pendingInboundNonce,isWritable:!0,isSigner:!1},{pubkey:t.payloadHash,isWritable:!0,isSigner:!1},{pubkey:t.endpoint,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function kce(t,e){const r=[{pubkey:t.signer,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.nonce,isWritable:!0,isSigner:!1},{pubkey:t.pendingInboundNonce,isWritable:!0,isSigner:!1},{pubkey:t.payloadHash,isWritable:!0,isSigner:!1},{pubkey:t.endpoint,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Tce=new B.BeetArgsStruct([["admin",Pe.publicKey]],"TransferAdminParams"),Ice=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",Tce]],"TransferAdminInstructionArgs"),Rce=[42,242,66,106,228,10,111,156];function Mce(t,e,r){const[n]=Ice.serialize({instructionDiscriminator:Rce,...e}),i=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.endpoint,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function FZe(t,e){const r=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.endpoint,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Cce=new B.BeetArgsStruct([["srcEid",B.u32],["sender",B.uniformFixedSizeArray(B.u8,32)],["receiver",Pe.publicKey],["nonce",B.u64],["payloadHash",B.uniformFixedSizeArray(B.u8,32)]],"VerifyParams"),Pce=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",Cce]],"VerifyInstructionArgs"),Nce=[133,161,141,48,120,198,88,150];function $Ze(t,e,r){const[n]=Pce.serialize({instructionDiscriminator:Nce,...e}),i=[{pubkey:t.receiveLibrary,isWritable:!1,isSigner:!0},{pubkey:t.receiveLibraryConfig,isWritable:!1,isSigner:!1},{pubkey:t.defaultReceiveLibraryConfig,isWritable:!1,isSigner:!1},{pubkey:t.nonce,isWritable:!0,isSigner:!1},{pubkey:t.pendingInboundNonce,isWritable:!0,isSigner:!1},{pubkey:t.payloadHash,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function Bce(t,e){const r=[{pubkey:t.receiveLibrary,isWritable:!1,isSigner:!0},{pubkey:t.receiveLibraryConfig,isWritable:!1,isSigner:!1},{pubkey:t.defaultReceiveLibraryConfig,isWritable:!1,isSigner:!1},{pubkey:t.nonce,isWritable:!0,isSigner:!1},{pubkey:t.pendingInboundNonce,isWritable:!0,isSigner:!1},{pubkey:t.payloadHash,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Oce=new B.BeetArgsStruct([["amount",B.u64]],"WithdrawRentParams"),Lce=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",Oce]],"WithdrawRentInstructionArgs"),Dce=[226,7,41,158,173,111,192,107];function UZe(t,e,r){const[n]=Lce.serialize({instructionDiscriminator:Dce,...e}),i=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.endpoint,isWritable:!0,isSigner:!1},{pubkey:t.receiver,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function zZe(t,e){const r=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.endpoint,isWritable:!0,isSigner:!1},{pubkey:t.receiver,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Fce={};Fr(Fce,{MessageLibType:()=>DT,burnParamsBeet:()=>Rae,clearComposeParamsBeet:()=>Oae,clearParamsBeet:()=>Pae,initConfigParamsBeet:()=>Fae,initDefaultReceiveLibraryParamsBeet:()=>Wae,initDefaultSendLibraryParamsBeet:()=>qae,initEndpointParamsBeet:()=>Zae,initNonceParamsBeet:()=>eue,initReceiveLibraryParamsBeet:()=>iue,initSendLibraryParamsBeet:()=>uue,initVerifyParamsBeet:()=>due,lzComposeAlertParamsBeet:()=>mue,lzReceiveAlertParamsBeet:()=>vue,messageLibTypeBeet:()=>GL,messagingFeeBeet:()=>$ce,messagingReceiptBeet:()=>WZe,nilifyParamsBeet:()=>_ue,quoteParamsBeet:()=>Eue,receiveLibraryTimeoutBeet:()=>WT,registerLibraryParamsBeet:()=>Rue,registerOAppParamsBeet:()=>Nue,sendComposeParamsBeet:()=>zue,sendParamsBeet:()=>Due,setConfigParamsBeet:()=>Kue,setDefaultReceiveLibraryParamsBeet:()=>Gue,setDefaultReceiveLibraryTimeoutParamsBeet:()=>Jue,setDefaultSendLibraryParamsBeet:()=>tce,setDelegateParamsBeet:()=>sce,setLzTokenParamsBeet:()=>uce,setReceiveLibraryParamsBeet:()=>fce,setReceiveLibraryTimeoutParamsBeet:()=>gce,setSendLibraryParamsBeet:()=>bce,skipParamsBeet:()=>_ce,transferAdminParamsBeet:()=>Tce,verifyParamsBeet:()=>Cce,withdrawRentParamsBeet:()=>Oce});var $ce=new B.BeetArgsStruct([["nativeFee",B.u64],["lzTokenFee",B.u64]],"MessagingFee"),WZe=new B.BeetArgsStruct([["guid",B.uniformFixedSizeArray(B.u8,32)],["nonce",B.u64],["fee",$ce]],"MessagingReceipt"),jZe="76y77prsiCMvXMjuoZ5VRrhG5qYBrUMYTE5WgHqgjEn6",KZe=new it(jZe),Uce={};Fr(Uce,{adminTransferredEventBeet:()=>HZe,composeDeliveredEventBeet:()=>qZe,composeSentEventBeet:()=>VZe,defaultReceiveLibrarySetEventBeet:()=>GZe,defaultReceiveLibraryTimeoutSetEventBeet:()=>YZe,defaultSendLibrarySetEventBeet:()=>ZZe,delegateSetEventBeet:()=>XZe,inboundNonceSkippedEventBeet:()=>JZe,libraryRegisteredEventBeet:()=>QZe,lzComposeAlertEventBeet:()=>eXe,lzReceiveAlertEventBeet:()=>tXe,lzTokenSetEventBeet:()=>rXe,oAppRegisteredEventBeet:()=>nXe,packetBurntEventBeet:()=>iXe,packetDeliveredEventBeet:()=>sXe,packetNilifiedEventBeet:()=>oXe,packetSentEventBeet:()=>aXe,packetVerifiedEventBeet:()=>uXe,receiveLibrarySetEventBeet:()=>cXe,receiveLibraryTimeoutSetEventBeet:()=>lXe,rentWithdrawnEventBeet:()=>fXe,sendLibrarySetEventBeet:()=>dXe});var HZe=new B.BeetArgsStruct([["newAdmin",Pe.publicKey]],"AdminTransferredEvent"),qZe=new B.BeetArgsStruct([["from",Pe.publicKey],["to",Pe.publicKey],["guid",B.uniformFixedSizeArray(B.u8,32)],["index",B.u16]],"ComposeDeliveredEvent"),VZe=new B.FixableBeetArgsStruct([["from",Pe.publicKey],["to",Pe.publicKey],["guid",B.uniformFixedSizeArray(B.u8,32)],["index",B.u16],["message",B.bytes]],"ComposeSentEvent"),GZe=new B.BeetArgsStruct([["eid",B.u32],["newLib",Pe.publicKey]],"DefaultReceiveLibrarySetEvent"),YZe=new B.FixableBeetArgsStruct([["eid",B.u32],["timeout",B.coption(WT)]],"DefaultReceiveLibraryTimeoutSetEvent"),ZZe=new B.BeetArgsStruct([["eid",B.u32],["newLib",Pe.publicKey]],"DefaultSendLibrarySetEvent"),XZe=new B.BeetArgsStruct([["newDelegate",Pe.publicKey]],"DelegateSetEvent"),JZe=new B.BeetArgsStruct([["srcEid",B.u32],["sender",B.uniformFixedSizeArray(B.u8,32)],["receiver",Pe.publicKey],["nonce",B.u64]],"InboundNonceSkippedEvent"),QZe=new B.BeetArgsStruct([["newLib",Pe.publicKey],["newLibProgram",Pe.publicKey]],"LibraryRegisteredEvent"),eXe=new B.FixableBeetArgsStruct([["executor",Pe.publicKey],["from",Pe.publicKey],["to",Pe.publicKey],["guid",B.uniformFixedSizeArray(B.u8,32)],["index",B.u16],["computeUnits",B.u64],["value",B.u64],["message",B.bytes],["extraData",B.bytes],["reason",B.bytes]],"LzComposeAlertEvent"),tXe=new B.FixableBeetArgsStruct([["receiver",Pe.publicKey],["executor",Pe.publicKey],["srcEid",B.u32],["sender",B.uniformFixedSizeArray(B.u8,32)],["nonce",B.u64],["guid",B.uniformFixedSizeArray(B.u8,32)],["computeUnits",B.u64],["value",B.u64],["message",B.bytes],["extraData",B.bytes],["reason",B.bytes]],"LzReceiveAlertEvent"),rXe=new B.FixableBeetArgsStruct([["token",B.coption(Pe.publicKey)]],"LzTokenSetEvent"),nXe=new B.BeetArgsStruct([["oapp",Pe.publicKey],["delegate",Pe.publicKey]],"OAppRegisteredEvent"),iXe=new B.BeetArgsStruct([["srcEid",B.u32],["sender",B.uniformFixedSizeArray(B.u8,32)],["receiver",Pe.publicKey],["nonce",B.u64],["payloadHash",B.uniformFixedSizeArray(B.u8,32)]],"PacketBurntEvent"),sXe=new B.BeetArgsStruct([["srcEid",B.u32],["sender",B.uniformFixedSizeArray(B.u8,32)],["receiver",Pe.publicKey],["nonce",B.u64]],"PacketDeliveredEvent"),oXe=new B.BeetArgsStruct([["srcEid",B.u32],["sender",B.uniformFixedSizeArray(B.u8,32)],["receiver",Pe.publicKey],["nonce",B.u64],["payloadHash",B.uniformFixedSizeArray(B.u8,32)]],"PacketNilifiedEvent"),aXe=new B.FixableBeetArgsStruct([["encodedPacket",B.bytes],["options",B.bytes],["sendLibrary",Pe.publicKey]],"PacketSentEvent"),uXe=new B.BeetArgsStruct([["srcEid",B.u32],["sender",B.uniformFixedSizeArray(B.u8,32)],["receiver",Pe.publicKey],["nonce",B.u64],["payloadHash",B.uniformFixedSizeArray(B.u8,32)]],"PacketVerifiedEvent"),cXe=new B.BeetArgsStruct([["receiver",Pe.publicKey],["eid",B.u32],["newLib",Pe.publicKey]],"ReceiveLibrarySetEvent"),lXe=new B.FixableBeetArgsStruct([["receiver",Pe.publicKey],["eid",B.u32],["timeout",B.coption(WT)]],"ReceiveLibraryTimeoutSetEvent"),fXe=new B.BeetArgsStruct([["receiver",Pe.publicKey],["amount",B.u64]],"RentWithdrawnEvent"),dXe=new B.BeetArgsStruct([["sender",Pe.publicKey],["eid",B.u32],["newLib",Pe.publicKey]],"SendLibrarySetEvent"),hXe="e445a52e51cb9a1d",lx=it.default,pXe=class{constructor(t){this.program=t,this.deriver=new $E(t);const[e]=new Lp(t).eventAuthority();this.eventAuthorityPDA=e}initEndpoint(t,e,r){const[n]=this.deriver.setting();return Qae({payer:e,endpoint:n},{params:{eid:t,admin:r}},this.program)}registerLibrary(t,e,r=2){const[n]=new ra(e).messageLib(),[i]=this.deriver.messageLibraryInfo(n),[s]=this.deriver.setting();return Pue({admin:t,endpoint:s,messageLibInfo:i,eventAuthority:this.eventAuthorityPDA,program:this.program},{params:{libProgram:e,libType:r}},this.program)}async setDefaultSendLibrary(t,e,r,n,i){const[s]=new ra(r).messageLib(),[o]=this.deriver.defaultSendLibraryConfig(n),[a]=this.deriver.setting(),[u]=this.deriver.messageLibraryInfo(s);return await t.getAccountInfo(o,i)?(await Fp.fromAccountAddress(t,o,i)).messageLib.toBase58()===s.toBase58()?null:ice({admin:e,endpoint:a,defaultSendLibraryConfig:o,messageLibInfo:u,program:this.program,eventAuthority:this.eventAuthorityPDA},{params:{eid:n,newLib:s}},this.program):Yae({admin:e,endpoint:a,defaultSendLibraryConfig:o,messageLibInfo:u,program:this.program,eventAuthority:this.eventAuthorityPDA},{params:{eid:n,newLib:s}},this.program)}async setDefaultReceiveLibrary(t,e,r,n,i){const[s]=new ra(r).messageLib(),[o]=this.deriver.defaultReceiveLibraryConfig(n),[a]=this.deriver.setting(),[u]=this.deriver.messageLibraryInfo(s);return await t.getAccountInfo(o,i)?(await Dp.fromAccountAddress(t,o,i)).messageLib.toBase58()===s.toBase58()?null:Xue({admin:e,endpoint:a,defaultReceiveLibraryConfig:o,messageLibInfo:u,program:this.program,eventAuthority:this.eventAuthorityPDA},{params:{eid:n,newLib:s,gracePeriod:0}},this.program):Hae({admin:e,endpoint:a,defaultReceiveLibraryConfig:o,messageLibInfo:u,program:this.program,eventAuthority:this.eventAuthorityPDA},{params:{eid:n,newLib:s}},this.program)}initOAppConfig(t,e,r,n,i){const[s]=new ra(e.program).messageLib(),[o]=this.deriver.oappRegistry(n),[a]=this.deriver.messageLibraryInfo(s);return zae({delegate:t,oappRegistry:o,messageLib:s,messageLibInfo:a,messageLibProgram:e.program,anchorRemainingAccounts:e.getInitConfigIXAccountMetaForCPI(r,n,i)},{params:{eid:i,oapp:n}},this.program)}initOAppNonce(t,e,r,n){const[i]=this.deriver.nonce(r,e,n),[s]=this.deriver.pendingNonce(r,e,n),[o]=this.deriver.oappRegistry(r);return nue({nonce:i,pendingInboundNonce:s,oappRegistry:o,delegate:t},{params:{localOapp:r,remoteOapp:Array.from(n),remoteEid:e}},this.program)}initSendLibrary(t,e,r){const[n]=this.deriver.oappRegistry(e),[i]=this.deriver.sendLibraryConfig(e,r);return fue({delegate:t,oappRegistry:n,sendLibraryConfig:i},{params:{sender:e,eid:r}},this.program)}setSendLibrary(t,e,r,n){const[i]=new ra(r).messageLib(),[s]=this.deriver.sendLibraryConfig(e,n),[o]=this.deriver.messageLibraryInfo(i),[a]=this.deriver.oappRegistry(e);return Sce({signer:t,sendLibraryConfig:s,messageLibInfo:o,oappRegistry:a,program:this.program,eventAuthority:this.eventAuthorityPDA},{params:{sender:e,eid:n,newLib:i}},this.program)}initReceiveLibrary(t,e,r){const[n]=this.deriver.oappRegistry(e),[i]=this.deriver.receiveLibraryConfig(e,r);return aue({delegate:t,oappRegistry:n,receiveLibraryConfig:i},{params:{receiver:e,eid:r}},this.program)}setReceiveLibrary(t,e,r,n,i){const[s]=new ra(r).messageLib(),[o]=this.deriver.receiveLibraryConfig(e,n),[a]=this.deriver.messageLibraryInfo(s),[u]=this.deriver.oappRegistry(e);return pce({signer:t,receiveLibraryConfig:o,messageLibInfo:a,oappRegistry:u,program:this.program,eventAuthority:this.eventAuthorityPDA},{params:{receiver:e,eid:n,newLib:s,gracePeriod:i===void 0?0:new Mr(i.toString())}},this.program)}async setOappConfig(t,e,r,n,i,s,o="confirmed"){const[a]=new ra(n).messageLib(),[u]=this.deriver.messageLibraryInfo(a),f=await this.getMessageLibVersion(t,e,n,o);let d;if((f==null?void 0:f.major.toString())==="0"&&f.minor==0&&f.endpointVersion==2)d=new sw.SimpleMessageLib(n);else if((f==null?void 0:f.major.toString())==="3"&&f.minor==0&&f.endpointVersion==2)d=new B5.Uln(n);else throw new Error(`unsupported message lib version ${f==null?void 0:f.major.toString()}.${f==null?void 0:f.minor.toString()}`);const[g]=this.deriver.oappRegistry(r);return Vue({signer:e,messageLibInfo:u,messageLib:a,messageLibProgram:n,oappRegistry:g,anchorRemainingAccounts:await d.getSetConfigIXAccountMetaForCPI(this.program,r,i)},{params:{eid:i,configType:s.configType,config:n.toBase58()===sw.PROGRAM_ID.toBase58()?new Uint8Array(10):B5.Uln.constructSetConfigData(s.configType,s.value),oapp:r}},this.program)}async getQuoteIXAccountMetaForCPI(t,e,r,n){const{sender:i,dstEid:s,receiver:o}=r,a=new it(Li(i)),u=$d(o),f=await this.getSendLibrary(t,a,s);if(!(f!=null&&f.programId))throw new Error("default send library not initialized or blocked message lib");const{msgLib:d,programId:g}=f,[y]=this.deriver.messageLibraryInfo(d),b=await n.getQuoteIXAccountMetaForCPI(t,e,r),[A]=this.deriver.setting(),[x]=this.deriver.defaultSendLibraryConfig(s),[k]=this.deriver.sendLibraryConfig(a,s),[I]=this.deriver.nonce(a,s,u),R=Iue({sendLibraryConfig:k,sendLibraryProgram:g,defaultSendLibraryConfig:x,endpoint:A,nonce:I,sendLibraryInfo:y,anchorRemainingAccounts:b},this.program);return Promise.resolve([{pubkey:this.program,isSigner:!1,isWritable:!1}].concat(R))}async getSendIXAccountMetaForCPI(t,e,r,n,i){const{sender:s,dstEid:o,receiver:a}=r,u=new it(Li(s)),f=$d(a),d=await this.getSendLibrary(t,u,o,i);if(!(d!=null&&d.programId))throw new Error("default send library not initialized or blocked message lib");const g=d.msgLib,[y]=this.deriver.messageLibraryInfo(g),b=await n.getSendIXAccountMetaForCPI(t,e,r),[A]=this.deriver.defaultSendLibraryConfig(o),[x]=this.deriver.sendLibraryConfig(u,o),[k]=this.deriver.nonce(u,o,f),I=Uue({sender:u,sendLibraryProgram:d.programId,sendLibraryConfig:x,defaultSendLibraryConfig:A,sendLibraryInfo:y,endpoint:this.deriver.setting()[0],program:this.program,nonce:k,eventAuthority:this.eventAuthorityPDA,anchorRemainingAccounts:b},this.program);return I.forEach(R=>{R.isSigner=!1}),[{pubkey:this.program,isSigner:!1,isWritable:!1}].concat(I)}async skip(t,e,r,n,i){const[s]=this.deriver.nonce(r,n,$d(e.toBase58())),[o]=this.deriver.payloadHash(r,n,e.toBytes(),parseInt(i)),[a]=this.deriver.pendingNonce(r,n,e.toBytes()),[u]=it.findProgramAddressSync([we.Buffer.from(HL,"utf-8"),r.toBuffer()],this.program),f=Ece({signer:t,oappRegistry:u,nonce:s,pendingInboundNonce:a,payloadHash:o,endpoint:this.deriver.setting()[0],eventAuthority:this.eventAuthorityPDA,program:this.program},{params:{receiver:r,srcEid:n,sender:Array.from(e.toBytes()),nonce:new Mr(i)}},this.program);return Promise.resolve(f)}async initVerify(t,e,r,n,i,s,o){const[a]=this.deriver.nonce(n,i,$d(r.toBase58())),[u]=this.deriver.payloadHash(n,i,r.toBytes(),parseInt(s));return await t.getAccountInfo(u,o)?null:gue({payer:e,nonce:a,payloadHash:u},{params:{srcEid:i,sender:Array.from(r.toBytes()),receiver:n,nonce:new Mr(s)}},this.program)}getVerifyIXAccountMetaForCPI(t,e){const r=new it(we.Buffer.from(t.receiver().slice(2),"hex")),n=t.srcEid(),i=$d(t.sender()),[s]=this.deriver.payloadHash(r,n,i,parseInt(t.nonce())),[o]=this.deriver.defaultReceiveLibraryConfig(n),[a]=this.deriver.receiveLibraryConfig(r,n),[u]=this.deriver.nonce(r,n,i),[f]=this.deriver.pendingNonce(r,n,i),d=Bce({receiveLibrary:e,receiveLibraryConfig:a,defaultReceiveLibraryConfig:o,nonce:u,pendingInboundNonce:f,payloadHash:s,program:this.program,eventAuthority:this.eventAuthorityPDA},this.program);return d.forEach(y=>{y.isSigner=!1}),[{pubkey:this.program,isSigner:!1,isWritable:!1},...d]}getRegisterOappIxAccountMetaForCPI(t,e){const[r]=this.deriver.oappRegistry(e),n=this.eventAuthorityPDA,i=Lue({payer:t,oapp:e,oappRegistry:r,eventAuthority:n,program:this.program},this.program);return i.forEach(s=>{s.isSigner=!1}),[{pubkey:this.program,isSigner:!1,isWritable:!1}].concat(i)}getSkipIxAccountMetaForCPI(t,e,r,n){const[i]=this.deriver.nonce(t,r,e),[s]=this.deriver.pendingNonce(t,r,e),[o]=this.deriver.payloadHash(t,r,e,n),[a]=this.deriver.oappRegistry(t),u=kce({signer:t,oappRegistry:a,nonce:i,pendingInboundNonce:s,payloadHash:o,endpoint:this.deriver.setting()[0],program:this.program,eventAuthority:this.eventAuthorityPDA},this.program);return u.forEach(f=>{f.isSigner=!1}),[{pubkey:this.program,isSigner:!1,isWritable:!1}].concat(u)}async isDefaultSendLibrary(t,e,r,n){const[i]=new ra(e).messageLib(),s=await this.getDefaultSendLibrary(t,r,n);return s?s.msgLib.equals(i):!1}async isDefaultReceiveLibrary(t,e,r,n){const[i]=new ra(e).messageLib(),s=await this.getDefaultReceiveLibrary(t,r,n);return s?s.msgLib.equals(i):!1}async getSetting(t,e){const[r]=this.deriver.setting();try{return await AS.fromAccountAddress(t,r,e)}catch{return null}}async getMessageLibInfo(t,e,r){const[n]=new ra(e).messageLib(),[i]=this.deriver.messageLibraryInfo(n);try{return await FT.fromAccountAddress(t,i,r)}catch{return null}}async getDefaultReceiveLibrary(t,e,r){const[n]=this.deriver.defaultReceiveLibraryConfig(e);try{const i=await Dp.fromAccountAddress(t,n,r),s=await t.getAccountInfo(i.messageLib,r);return s?{owner:s.owner,msgLib:i.messageLib}:{msgLib:i.messageLib}}catch{return null}}async getDefaultSendLibrary(t,e,r){const[n]=this.deriver.defaultSendLibraryConfig(e);try{const i=await Fp.fromAccountAddress(t,n,r),s=await t.getAccountInfo(i.messageLib,r);return s?{owner:s.owner,msgLib:i.messageLib}:{msgLib:i.messageLib}}catch{return null}}async getSendLibrary(t,e,r,n="confirmed"){const[i]=this.deriver.sendLibraryConfig(e,r),[s]=this.deriver.defaultSendLibraryConfig(r),[o,a]=await t.getMultipleAccountsInfo([s,i],n);if(!o||!a)return console.warn("send library not initialized, return empty array"),null;const[u]=Fp.fromAccountInfo(a,0),[f]=Fp.fromAccountInfo(o,0),d=u.messageLib.toString()===lx.toString()?f.messageLib:u.messageLib,g=u.messageLib.toString()===lx.toString(),y=await t.getAccountInfo(d,n);return y?{programId:y.owner,msgLib:d,isDefault:g}:{programId:void 0,msgLib:d,isDefault:g}}async getReceiveLibrary(t,e,r,n){const[i]=this.deriver.receiveLibraryConfig(e,r),s=await t.getAccountInfo(i,n);if(s==null)return null;const[o]=Dp.fromAccountInfo(s,0);if(o.messageLib.toString()==lx.toString()){const[f]=this.deriver.defaultReceiveLibraryConfig(r),d=await Dp.fromAccountAddress(t,f,n),g=await t.getAccountInfo(d.messageLib,n);if(g){const{timeout:y}=d;if(y)return{programId:d.messageLib,msgLib:d.messageLib,isDefault:!0,timeout:{msgLib:y.messageLib,expiry:BigInt(y.expiry.toString())}}}return{programId:g==null?void 0:g.owner,msgLib:d.messageLib,isDefault:!0,timeout:null}}const a=await t.getAccountInfo(o.messageLib,n);Gv(a);const{timeout:u}=o;return u?{programId:a.owner,msgLib:o.messageLib,isDefault:!1,timeout:{msgLib:u.messageLib,expiry:BigInt(u.expiry.toString())}}:{programId:a.owner,msgLib:o.messageLib,isDefault:!1,timeout:null}}async getInboundPayloadHash(t,e,r,n,i,s,o){const[a]=this.deriver.payloadHash(e,r,n,i),u=await t.getAccountInfo(a,o);return u?UT.fromAccountInfo(u,0)[0]:null}async getComposedMessageState(t,e,r,n){const i=Li(gS(r.message)),[s]=this.deriver.composedMessage(e,Uint8Array.from(r.guid),r.index,r.to,i),o=await t.getAccountInfo(s,n);return o?LT.fromAccountInfo(o,0)[0]:null}async getNonce(t,e,r,n,i){const[s]=this.deriver.nonce(e,r,n);try{return await $T.fromAccountAddress(t,s,i)}catch{return null}}async getPendingInboundNonce(t,e,r,n,i){const[s]=this.deriver.pendingNonce(e,r,n);try{return await zT.fromAccountAddress(t,s,i)}catch{return null}}async getMessageLibVersion(t,e,r,n="confirmed"){const i=sw.instructions.createVersionInstruction(r),s=await F7(t,[i],r,e,n);return sw.types.versionBeet.read(s,0)}async transferAdmin(t,e,r,n="confirmed"){const[i]=this.deriver.setting();return(await AS.fromAccountAddress(t,i,n)).admin.toBase58()===r.toBase58()?(console.warn("endpoint admin not need change"),null):Mce({admin:e,endpoint:i,eventAuthority:this.eventAuthorityPDA,program:this.program},{params:{admin:r}},this.program)}},sw={};Fr(sw,{PROGRAM_ID:()=>KXe,SimpleMessageLib:()=>HXe,accounts:()=>zce,errors:()=>jce,instructions:()=>Jce,types:()=>Yle});var zce={};Fr(zce,{MessageLib:()=>jT,ReceiveConfigStore:()=>p9,SendConfigStore:()=>g9,accountProviders:()=>gXe,messageLibBeet:()=>ow,messageLibDiscriminator:()=>Wce,receiveConfigStoreBeet:()=>aw,receiveConfigStoreDiscriminator:()=>P5,sendConfigStoreBeet:()=>uw,sendConfigStoreDiscriminator:()=>N5});var Wce=[141,191,244,48,52,174,199,209],jT=class pm{constructor(e,r,n,i,s,o,a,u){this.eid=e,this.endpoint=r,this.endpointProgram=n,this.bump=i,this.admin=s,this.fee=o,this.lzTokenFee=a,this.wlCaller=u}static fromArgs(e){return new pm(e.eid,e.endpoint,e.endpointProgram,e.bump,e.admin,e.fee,e.lzTokenFee,e.wlCaller)}static fromAccountInfo(e,r=0){return pm.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find MessageLib account at ${r}`);return pm.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new it("6GsmxMTHAAiFKfemuM4zBjumTjNSX5CAiw4xSSXM2Toy")){return Pe.GpaBuilder.fromStruct(e,ow)}static deserialize(e,r=0){return ow.deserialize(e,r)}serialize(){return ow.serialize({accountDiscriminator:Wce,...this})}static get byteSize(){return ow.byteSize}static async getMinimumBalanceForRentExemption(e,r){return e.getMinimumBalanceForRentExemption(pm.byteSize,r)}static hasCorrectByteSize(e,r=0){return e.byteLength-r===pm.byteSize}pretty(){return{eid:this.eid,endpoint:this.endpoint.toBase58(),endpointProgram:this.endpointProgram.toBase58(),bump:this.bump,admin:this.admin.toBase58(),fee:(()=>{const e=this.fee;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),lzTokenFee:(()=>{const e=this.lzTokenFee;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),wlCaller:this.wlCaller.toBase58()}}},ow=new B.BeetStruct([["accountDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["eid",B.u32],["endpoint",Pe.publicKey],["endpointProgram",Pe.publicKey],["bump",B.u8],["admin",Pe.publicKey],["fee",B.u64],["lzTokenFee",B.u64],["wlCaller",Pe.publicKey]],jT.fromArgs,"MessageLib"),P5=[70,73,30,1,248,48,93,125],p9=class gm{constructor(e,r){this.bump=e,this.data=r}static fromArgs(e){return new gm(e.bump,e.data)}static fromAccountInfo(e,r=0){return gm.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find ReceiveConfigStore account at ${r}`);return gm.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new it("6GsmxMTHAAiFKfemuM4zBjumTjNSX5CAiw4xSSXM2Toy")){return Pe.GpaBuilder.fromStruct(e,aw)}static deserialize(e,r=0){return aw.deserialize(e,r)}serialize(){return aw.serialize({accountDiscriminator:P5,...this})}static byteSize(e){const r=gm.fromArgs(e);return aw.toFixedFromValue({accountDiscriminator:P5,...r}).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(gm.byteSize(e),n)}pretty(){return{bump:this.bump,data:this.data}}},aw=new B.FixableBeetStruct([["accountDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["bump",B.u8],["data",B.bytes]],p9.fromArgs,"ReceiveConfigStore"),N5=[246,55,104,200,90,164,50,196],g9=class mm{constructor(e,r){this.bump=e,this.data=r}static fromArgs(e){return new mm(e.bump,e.data)}static fromAccountInfo(e,r=0){return mm.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find SendConfigStore account at ${r}`);return mm.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new it("6GsmxMTHAAiFKfemuM4zBjumTjNSX5CAiw4xSSXM2Toy")){return Pe.GpaBuilder.fromStruct(e,uw)}static deserialize(e,r=0){return uw.deserialize(e,r)}serialize(){return uw.serialize({accountDiscriminator:N5,...this})}static byteSize(e){const r=mm.fromArgs(e);return uw.toFixedFromValue({accountDiscriminator:N5,...r}).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(mm.byteSize(e),n)}pretty(){return{bump:this.bump,data:this.data}}},uw=new B.FixableBeetStruct([["accountDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["bump",B.u8],["data",B.bytes]],g9.fromArgs,"SendConfigStore"),gXe={MessageLib:jT,ReceiveConfigStore:p9,SendConfigStore:g9},jce={};Fr(jce,{InsufficientFeeError:()=>y9,InvalidAmountError:()=>b9,InvalidConfigTypeError:()=>v9,InvalidLzTokenMintError:()=>w9,LzTokenUnavailableError:()=>S9,OnlyRevertError:()=>A9,OnlyWhitelistedCallerError:()=>m9,SendReentrancyError:()=>_9,errorFromCode:()=>mXe,errorFromName:()=>yXe});var ld=new Map,fd=new Map,m9=class Kce extends Error{constructor(){super(""),this.code=6e3,this.name="OnlyWhitelistedCaller",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Kce)}};ld.set(6e3,()=>new m9);fd.set("OnlyWhitelistedCaller",()=>new m9);var y9=class Hce extends Error{constructor(){super(""),this.code=6001,this.name="InsufficientFee",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Hce)}};ld.set(6001,()=>new y9);fd.set("InsufficientFee",()=>new y9);var b9=class qce extends Error{constructor(){super(""),this.code=6002,this.name="InvalidAmount",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,qce)}};ld.set(6002,()=>new b9);fd.set("InvalidAmount",()=>new b9);var v9=class Vce extends Error{constructor(){super(""),this.code=6003,this.name="InvalidConfigType",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Vce)}};ld.set(6003,()=>new v9);fd.set("InvalidConfigType",()=>new v9);var w9=class Gce extends Error{constructor(){super(""),this.code=6004,this.name="InvalidLzTokenMint",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Gce)}};ld.set(6004,()=>new w9);fd.set("InvalidLzTokenMint",()=>new w9);var S9=class Yce extends Error{constructor(){super(""),this.code=6005,this.name="LzTokenUnavailable",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Yce)}};ld.set(6005,()=>new S9);fd.set("LzTokenUnavailable",()=>new S9);var _9=class Zce extends Error{constructor(){super(""),this.code=6006,this.name="SendReentrancy",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Zce)}};ld.set(6006,()=>new _9);fd.set("SendReentrancy",()=>new _9);var A9=class Xce extends Error{constructor(){super(""),this.code=6007,this.name="OnlyRevert",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Xce)}};ld.set(6007,()=>new A9);fd.set("OnlyRevert",()=>new A9);function mXe(t){const e=ld.get(t);return e!=null?e():null}function yXe(t){const e=fd.get(t);return e!=null?e():null}var Jce={};Fr(Jce,{createInitConfigInstruction:()=>bXe,createInitConfigInstructionAccounts:()=>rle,createInitDefaultConfigInstruction:()=>vXe,createInitDefaultConfigInstructionAccounts:()=>wXe,createInitMessageLibInstruction:()=>cle,createInitMessageLibInstructionAccounts:()=>SXe,createQuoteInstruction:()=>_Xe,createQuoteInstructionAccounts:()=>hle,createRevertCallInstruction:()=>AXe,createRevertCallInstructionAccounts:()=>xXe,createSendInstruction:()=>EXe,createSendInstructionAccounts:()=>vle,createSendWithLzTokenInstruction:()=>kXe,createSendWithLzTokenInstructionAccounts:()=>TXe,createSetConfigInstruction:()=>IXe,createSetConfigInstructionAccounts:()=>kle,createSetDefaultConfigInstruction:()=>RXe,createSetDefaultConfigInstructionAccounts:()=>MXe,createSetFeeInstruction:()=>CXe,createSetFeeInstructionAccounts:()=>PXe,createSetWlCallerInstruction:()=>Lle,createSetWlCallerInstructionAccounts:()=>NXe,createTransferAdminInstruction:()=>BXe,createTransferAdminInstructionAccounts:()=>OXe,createValidatePacketInstruction:()=>jle,createValidatePacketInstructionAccounts:()=>LXe,createVersionInstruction:()=>DXe,createVersionInstructionAccounts:()=>FXe,createWithdrawFeesInstruction:()=>$Xe,createWithdrawFeesInstructionAccounts:()=>UXe,initConfigInstructionDiscriminator:()=>tle,initConfigStruct:()=>ele,initDefaultConfigInstructionDiscriminator:()=>sle,initDefaultConfigStruct:()=>ile,initMessageLibInstructionDiscriminator:()=>ule,initMessageLibStruct:()=>ale,quoteInstructionDiscriminator:()=>dle,quoteStruct:()=>fle,revertCallInstructionDiscriminator:()=>gle,revertCallStruct:()=>ple,sendInstructionDiscriminator:()=>ble,sendStruct:()=>yle,sendWithLzTokenInstructionDiscriminator:()=>_le,sendWithLzTokenStruct:()=>Sle,setConfigInstructionDiscriminator:()=>Ele,setConfigStruct:()=>xle,setDefaultConfigInstructionDiscriminator:()=>Rle,setDefaultConfigStruct:()=>Ile,setFeeInstructionDiscriminator:()=>Ple,setFeeStruct:()=>Cle,setWlCallerInstructionDiscriminator:()=>Ole,setWlCallerStruct:()=>Ble,transferAdminInstructionDiscriminator:()=>$le,transferAdminStruct:()=>Fle,validatePacketInstructionDiscriminator:()=>Wle,validatePacketStruct:()=>zle,versionInstructionDiscriminator:()=>Hle,versionStruct:()=>Kle,withdrawFeesInstructionDiscriminator:()=>Gle,withdrawFeesStruct:()=>Vle});var Qce=new B.BeetArgsStruct([["oapp",Pe.publicKey],["eid",B.u32]],"InitConfigParams"),ele=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",Qce]],"InitConfigInstructionArgs"),tle=[23,235,115,232,168,96,1,231];function bXe(t,e,r){const[n]=ele.serialize({instructionDiscriminator:tle,...e}),i=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.messageLib,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!0,isSigner:!1},{pubkey:t.receiveConfig,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function rle(t,e){const r=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.messageLib,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!0,isSigner:!1},{pubkey:t.receiveConfig,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var nle=new B.FixableBeetArgsStruct([["eid",B.u32],["sendConfig",B.coption(B.bytes)],["receiveConfig",B.coption(B.bytes)]],"InitDefaultConfigParams"),ile=new B.FixableBeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",nle]],"InitDefaultConfigInstructionArgs"),sle=[98,218,197,194,173,179,112,21];function vXe(t,e,r){const[n]=ile.serialize({instructionDiscriminator:sle,...e}),i=[{pubkey:t.admin,isWritable:!0,isSigner:!0},{pubkey:t.messageLib,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!0,isSigner:!1},{pubkey:t.receiveConfig,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function wXe(t,e){const r=[{pubkey:t.admin,isWritable:!0,isSigner:!0},{pubkey:t.messageLib,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!0,isSigner:!1},{pubkey:t.receiveConfig,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var ole=new B.BeetArgsStruct([["eid",B.u32],["endpoint",Pe.publicKey],["endpointProgram",Pe.publicKey],["admin",Pe.publicKey],["fee",B.u64],["lzTokenFee",B.u64]],"InitMessageLibParams"),ale=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",ole]],"InitMessageLibInstructionArgs"),ule=[184,93,59,206,98,238,225,54];function cle(t,e,r){const[n]=ale.serialize({instructionDiscriminator:ule,...e}),i=[{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.messageLib,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function SXe(t,e){const r=[{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.messageLib,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var KT=new B.FixableBeetArgsStruct([["nonce",B.u64],["srcEid",B.u32],["sender",Pe.publicKey],["dstEid",B.u32],["receiver",B.uniformFixedSizeArray(B.u8,32)],["guid",B.uniformFixedSizeArray(B.u8,32)],["message",B.bytes]],"Packet"),lle=new B.FixableBeetArgsStruct([["packet",KT],["options",B.bytes],["payInLzToken",B.bool]],"QuoteParams"),fle=new B.FixableBeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",lle]],"QuoteInstructionArgs"),dle=[149,42,109,247,134,146,213,123];function _Xe(t,e,r){const[n]=fle.serialize({instructionDiscriminator:dle,...e}),i=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.messageLib,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function hle(t,e){const r=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.messageLib,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var ple=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)]],"RevertCallInstructionArgs"),gle=[124,243,145,116,106,203,93,114];function AXe(t){const[e]=ple.serialize({instructionDiscriminator:gle}),r=[];return new ot({programId:t,keys:r,data:e})}function xXe(t){return[]}var mle=new B.FixableBeetArgsStruct([["packet",KT],["options",B.bytes],["nativeFee",B.u64]],"SendParams"),yle=new B.FixableBeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",mle]],"SendInstructionArgs"),ble=[102,251,20,187,65,75,12,69];function EXe(t,e,r){const[n]=yle.serialize({instructionDiscriminator:ble,...e}),i=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.messageLib,isWritable:!0,isSigner:!1},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function vle(t,e){const r=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.messageLib,isWritable:!0,isSigner:!1},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var wle=new B.FixableBeetArgsStruct([["packet",KT],["options",B.bytes],["nativeFee",B.u64],["lzTokenFee",B.u64],["lzTokenMint",Pe.publicKey]],"SendWithLzTokenParams"),Sle=new B.FixableBeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",wle]],"SendWithLzTokenInstructionArgs"),_le=[165,161,84,48,129,26,193,19];function kXe(t,e,r){const[n]=Sle.serialize({instructionDiscriminator:_le,...e}),i=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.messageLib,isWritable:!0,isSigner:!1},{pubkey:t.messageLibLzToken,isWritable:!0,isSigner:!1},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.lzTokenSource,isWritable:!0,isSigner:!1},{pubkey:t.lzTokenMint,isWritable:!1,isSigner:!1},{pubkey:t.tokenProgram??BT,isWritable:!1,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function TXe(t,e){const r=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.messageLib,isWritable:!0,isSigner:!1},{pubkey:t.messageLibLzToken,isWritable:!0,isSigner:!1},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.lzTokenSource,isWritable:!0,isSigner:!1},{pubkey:t.lzTokenMint,isWritable:!1,isSigner:!1},{pubkey:t.tokenProgram??BT,isWritable:!1,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Ale=new B.FixableBeetArgsStruct([["oapp",Pe.publicKey],["eid",B.u32],["configType",B.u32],["config",B.bytes]],"SetConfigParams"),xle=new B.FixableBeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",Ale]],"SetConfigInstructionArgs"),Ele=[108,158,154,175,212,98,52,66];function IXe(t,e,r){const[n]=xle.serialize({instructionDiscriminator:Ele,...e}),i=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.messageLib,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!0,isSigner:!1},{pubkey:t.receiveConfig,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function kle(t,e){const r=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.messageLib,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!0,isSigner:!1},{pubkey:t.receiveConfig,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Tle=new B.FixableBeetArgsStruct([["eid",B.u32],["sendConfig",B.coption(B.bytes)],["receiveConfig",B.coption(B.bytes)]],"SetDefaultConfigParams"),Ile=new B.FixableBeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",Tle]],"SetDefaultConfigInstructionArgs"),Rle=[111,228,17,75,5,76,213,169];function RXe(t,e,r){const[n]=Ile.serialize({instructionDiscriminator:Rle,...e}),i=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.messageLib,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!0,isSigner:!1},{pubkey:t.receiveConfig,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function MXe(t,e){const r=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.messageLib,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!0,isSigner:!1},{pubkey:t.receiveConfig,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Mle=new B.BeetArgsStruct([["fee",B.u64],["lzTokenFee",B.u64]],"SetFeeParams"),Cle=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",Mle]],"SetFeeInstructionArgs"),Ple=[18,154,24,18,237,214,19,80];function CXe(t,e,r){const[n]=Cle.serialize({instructionDiscriminator:Ple,...e}),i=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.messageLib,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function PXe(t,e){const r=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.messageLib,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Nle=new B.BeetArgsStruct([["newCaller",Pe.publicKey]],"SetWlCallerParams"),Ble=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",Nle]],"SetWlCallerInstructionArgs"),Ole=[153,41,240,37,126,107,14,253];function Lle(t,e,r){const[n]=Ble.serialize({instructionDiscriminator:Ole,...e}),i=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.messageLib,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function NXe(t,e){const r=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.messageLib,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Dle=new B.BeetArgsStruct([["admin",Pe.publicKey]],"TransferAdminParams"),Fle=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",Dle]],"TransferAdminInstructionArgs"),$le=[42,242,66,106,228,10,111,156];function BXe(t,e,r){const[n]=Fle.serialize({instructionDiscriminator:$le,...e}),i=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.messageLib,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function OXe(t,e){const r=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.messageLib,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Ule=new B.FixableBeetArgsStruct([["packet",B.bytes]],"ValidatePacketParams"),zle=new B.FixableBeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",Ule]],"ValidatePacketInstructionArgs"),Wle=[34,146,107,76,157,98,105,211];function jle(t,e,r){const[n]=zle.serialize({instructionDiscriminator:Wle,...e}),i=[{pubkey:t.payer,isWritable:!1,isSigner:!0},{pubkey:t.receiveLibrary,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function LXe(t,e){const r=[{pubkey:t.payer,isWritable:!1,isSigner:!0},{pubkey:t.receiveLibrary,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Kle=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)]],"VersionInstructionArgs"),Hle=[118,65,195,198,129,216,252,192];function DXe(t){const[e]=Kle.serialize({instructionDiscriminator:Hle}),r=[];return new ot({programId:t,keys:r,data:e})}function FXe(t){return[]}var qle=new B.BeetArgsStruct([["amount",B.u64]],"WithdrawFeesParams"),Vle=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",qle]],"WithdrawFeesInstructionArgs"),Gle=[198,212,171,109,144,215,174,89];function $Xe(t,e,r){const[n]=Vle.serialize({instructionDiscriminator:Gle,...e}),i=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.messageLib,isWritable:!0,isSigner:!1},{pubkey:t.receiver,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function UXe(t,e){const r=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.messageLib,isWritable:!0,isSigner:!1},{pubkey:t.receiver,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Yle={};Fr(Yle,{initConfigParamsBeet:()=>Qce,initDefaultConfigParamsBeet:()=>nle,initMessageLibParamsBeet:()=>ole,messagingFeeBeet:()=>zXe,packetBeet:()=>KT,quoteParamsBeet:()=>lle,sendParamsBeet:()=>mle,sendWithLzTokenParamsBeet:()=>wle,setConfigParamsBeet:()=>Ale,setDefaultConfigParamsBeet:()=>Tle,setFeeParamsBeet:()=>Mle,setWlCallerParamsBeet:()=>Nle,transferAdminParamsBeet:()=>Dle,validatePacketParamsBeet:()=>Ule,versionBeet:()=>WXe,withdrawFeesParamsBeet:()=>qle});var zXe=new B.BeetArgsStruct([["nativeFee",B.u64],["lzTokenFee",B.u64]],"MessagingFee"),WXe=new B.BeetArgsStruct([["major",B.u64],["minor",B.u8],["endpointVersion",B.u8]],"Version"),jXe="6GsmxMTHAAiFKfemuM4zBjumTjNSX5CAiw4xSSXM2Toy",KXe=new it(jXe),HXe=class{constructor(t){this.program=t,this.deriver=new ra(t)}initSimpleMessageLib(t,e,r,n,i,s=0){const[o]=this.deriver.messageLib(),[a]=new $E(t).messageLibraryInfo(o);return cle({payer:e,messageLib:o},{params:{endpointProgram:t,endpoint:a,eid:n,admin:r,fee:i,lzTokenFee:s}},this.program)}setWhitelistCaller(t,e){const[r]=this.deriver.messageLib();return Lle({admin:t,messageLib:r},{params:{newCaller:e}},this.program)}async isWhiteListed(t,e,r){try{return(await this.getWhiteListCaller(t,r)).equals(e)}catch{return!1}}async getWhiteListCaller(t,e){const[r]=this.deriver.messageLib();return(await jT.fromAccountAddress(t,r,e)).wlCaller}validatePacket(t,e,r,n){const i=im.fromBytes(n),[s]=this.deriver.messageLib(),o=new UE.Endpoint(e);return jle({payer:r,receiveLibrary:s,anchorRemainingAccounts:o.getVerifyIXAccountMetaForCPI(i,s)},{params:{packet:n}},this.program)}async getSendIXAccountMetaForCPI(t,e,r){const[n]=this.deriver.messageLib(),i=vle({endpoint:it.default,messageLib:n,payer:e},this.program);return i.forEach(s=>{e.equals(s.pubkey)||(s.isSigner=!1)}),Promise.resolve(i.slice(1))}async getQuoteIXAccountMetaForCPI(t,e,r,n){const[i]=this.deriver.messageLib(),s=hle({endpoint:it.default,messageLib:i},this.program);return Promise.resolve(s.slice(1))}getInitConfigIXAccountMetaForCPI(t,e,r){const[n]=this.deriver.sendConfig(r,e),[i]=this.deriver.receiveConfig(r,e),[s]=this.deriver.messageLib(),o=rle({endpoint:it.default,payer:t,messageLib:s,sendConfig:n,receiveConfig:i},this.program);return o.forEach(a=>{t.equals(a.pubkey)||(a.isSigner=!1)}),o.slice(1)}async getSetConfigIXAccountMetaForCPI(t,e,r){const[n]=this.deriver.sendConfig(r,e),[i]=this.deriver.receiveConfig(r,e),[s]=this.deriver.messageLib(),o=kle({endpoint:it.default,sendConfig:n,receiveConfig:i,messageLib:s},this.program);return Promise.resolve(o.slice(1))}},B5={};Fr(B5,{AtLeastOneDVNError:()=>kI,Confirmations:()=>W_,ExceededMaxMessageSizeError:()=>OI,ExceededU128Error:()=>GI,InsufficientFeeError:()=>zI,InvalidAccountLengthError:()=>DI,InvalidAmountError:()=>vI,InvalidBpsError:()=>BI,InvalidConfigTypeError:()=>KI,InvalidConfirmationError:()=>HI,InvalidConfirmationsError:()=>EI,InvalidDvnError:()=>$I,InvalidDvnProgramError:()=>FI,InvalidEidError:()=>MI,InvalidExecutorError:()=>wI,InvalidExecutorProgramError:()=>LI,InvalidLzTokenMintError:()=>jI,InvalidOptionTypeError:()=>NI,InvalidOptionalDVNCountError:()=>AI,InvalidOptionalDVNThresholdError:()=>xI,InvalidPacketVersionError:()=>RI,InvalidPayerError:()=>ZI,InvalidRequiredDVNCountError:()=>_I,InvalidTreasuryError:()=>WI,InvalidTreasuryFeeCapError:()=>II,InvalidType1SizeError:()=>qI,InvalidType2SizeError:()=>VI,InvalidWorkerIdError:()=>PI,LzTokenUnavailableError:()=>UI,NonSignerError:()=>YI,PROGRAM_ADDRESS:()=>Xhe,PROGRAM_ID:()=>yJe,ReceiveConfig:()=>Mf,SendConfig:()=>ch,Uln:()=>bJe,UlnSettings:()=>j_,UnauthorizedError:()=>bI,UnsortedError:()=>TI,VerifyingError:()=>CI,ZeroMessageSizeError:()=>SI,accountProviders:()=>Hde,accounts:()=>Kde,closeVerifyInstructionDiscriminator:()=>sD,closeVerifyParamsBeet:()=>nD,closeVerifyStruct:()=>iD,commitVerificationInstructionDiscriminator:()=>cD,commitVerificationParamsBeet:()=>aD,commitVerificationStruct:()=>uD,configBeet:()=>O7,confirmationsBeet:()=>Gm,confirmationsDiscriminator:()=>HE,createCloseVerifyInstruction:()=>oD,createCloseVerifyInstructionAccounts:()=>Rhe,createCommitVerificationInstruction:()=>lD,createCommitVerificationInstructionAccounts:()=>Mhe,createInitConfigInstruction:()=>Che,createInitConfigInstructionAccounts:()=>pD,createInitDefaultConfigInstruction:()=>bD,createInitDefaultConfigInstructionAccounts:()=>Phe,createInitUlnInstruction:()=>_D,createInitUlnInstructionAccounts:()=>Nhe,createInitVerifyInstruction:()=>kD,createInitVerifyInstructionAccounts:()=>Bhe,createQuoteInstruction:()=>Ohe,createQuoteInstructionAccounts:()=>MD,createSendInstruction:()=>Lhe,createSendInstructionAccounts:()=>BD,createSendWithLzTokenInstruction:()=>Dhe,createSendWithLzTokenInstructionAccounts:()=>Fhe,createSetConfigInstruction:()=>$he,createSetConfigInstructionAccounts:()=>zD,createSetDefaultConfigInstruction:()=>HD,createSetDefaultConfigInstructionAccounts:()=>Uhe,createSetTreasuryInstruction:()=>YD,createSetTreasuryInstructionAccounts:()=>zhe,createTransferAdminInstruction:()=>QD,createTransferAdminInstructionAccounts:()=>Whe,createVerifyInstruction:()=>nF,createVerifyInstructionAccounts:()=>jhe,createVersionInstruction:()=>Khe,createVersionInstructionAccounts:()=>Hhe,createWithdrawRentInstruction:()=>qhe,createWithdrawRentInstructionAccounts:()=>Vhe,errorFromCode:()=>khe,errorFromName:()=>The,errors:()=>qde,events:()=>bde,executorConfigBeet:()=>Gh,initConfigInstructionDiscriminator:()=>hD,initConfigParamsBeet:()=>fD,initConfigStruct:()=>dD,initDefaultConfigInstructionDiscriminator:()=>yD,initDefaultConfigParamsBeet:()=>gD,initDefaultConfigStruct:()=>mD,initUlnInstructionDiscriminator:()=>SD,initUlnParamsBeet:()=>vD,initUlnStruct:()=>wD,initVerifyInstructionDiscriminator:()=>ED,initVerifyParamsBeet:()=>AD,initVerifyStruct:()=>xD,instructions:()=>Ihe,isConfigExecutor:()=>Sde,isConfigReceiveUln:()=>wde,isConfigSendUln:()=>vde,lzTokenTreasuryBeet:()=>D7,messagingFeeBeet:()=>Yhe,packetBeet:()=>K_,quoteInstructionDiscriminator:()=>RD,quoteParamsBeet:()=>TD,quoteStruct:()=>ID,receiveConfigBeet:()=>Ym,receiveConfigDiscriminator:()=>qE,sendConfigBeet:()=>Zm,sendConfigDiscriminator:()=>VE,sendInstructionDiscriminator:()=>ND,sendParamsBeet:()=>CD,sendStruct:()=>PD,sendWithLzTokenInstructionDiscriminator:()=>DD,sendWithLzTokenParamsBeet:()=>OD,sendWithLzTokenStruct:()=>LD,setConfigInstructionDiscriminator:()=>UD,setConfigParamsBeet:()=>FD,setConfigStruct:()=>$D,setDefaultConfigInstructionDiscriminator:()=>KD,setDefaultConfigParamsBeet:()=>WD,setDefaultConfigStruct:()=>jD,setTreasuryInstructionDiscriminator:()=>GD,setTreasuryParamsBeet:()=>qD,setTreasuryStruct:()=>VD,transferAdminInstructionDiscriminator:()=>JD,transferAdminParamsBeet:()=>ZD,transferAdminStruct:()=>XD,treasuryBeet:()=>z_,treasuryFeeBeet:()=>L7,types:()=>Ghe,ulnConfigBeet:()=>xa,ulnSettingsBeet:()=>Xm,ulnSettingsDiscriminator:()=>GE,verifyInstructionDiscriminator:()=>rF,verifyParamsBeet:()=>eF,verifyStruct:()=>tF,versionBeet:()=>Zhe,versionInstructionDiscriminator:()=>sF,versionStruct:()=>iF,withdrawRentInstructionDiscriminator:()=>uF,withdrawRentParamsBeet:()=>oF,withdrawRentStruct:()=>aF,workerFeeBeet:()=>KE});var qXe={};Fr(qXe,{DVN:()=>Hfe,PROGRAM_ID:()=>Wfe,SolanaSignerExt:()=>XXe,accounts:()=>x9,errors:()=>Xle,events:()=>jfe,instructions:()=>yfe,types:()=>Pfe});var VXe={};Fr(VXe,{DuplicateSignatureError:()=>iI,DvnConfig:()=>$_,EidNotSupportedError:()=>lI,ExecuteHash:()=>qT,ExpiredError:()=>sI,InvalidAmountError:()=>cI,InvalidQuorumError:()=>XT,InvalidSignatureLenError:()=>GT,InvalidSignersLenError:()=>JT,InvalidVidError:()=>oI,MsgLibNotAllowedError:()=>ZT,NotAdminError:()=>YT,PROGRAM_ADDRESS:()=>zfe,PROGRAM_ID:()=>Wfe,PausedError:()=>aI,ReceiveConfig:()=>VT,SignatureErrorError:()=>eI,SignerNotInCommitteeError:()=>tI,TooManyAdminsError:()=>rI,TooManyOptionTypesError:()=>nI,UnexpiredExecuteHashError:()=>uI,UniqueOwnersError:()=>QT,VerificationState:()=>hI,accountProviders:()=>Zle,aclBeet:()=>k9,adminConfigBeet:()=>dI,closeExecuteInstructionDiscriminator:()=>C9,closeExecuteParamsBeet:()=>R9,closeExecuteStruct:()=>M9,createCloseExecuteInstruction:()=>bfe,createCloseExecuteInstructionAccounts:()=>vfe,createInitDvnInstruction:()=>O9,createInitDvnInstructionAccounts:()=>wfe,createInvokeInstruction:()=>U9,createInvokeInstructionAccounts:()=>Sfe,createQuoteDvnInstruction:()=>_fe,createQuoteDvnInstructionAccounts:()=>H9,createSetConfigInstruction:()=>Hm,createSetConfigInstructionAccounts:()=>Tfe,createVerifiableInstruction:()=>Ife,createVerifiableInstructionAccounts:()=>Rfe,createWithdrawFeeInstruction:()=>Mfe,createWithdrawFeeInstructionAccounts:()=>Cfe,dstConfigBeet:()=>HT,dvnConfigBeet:()=>Wm,dvnConfigDiscriminator:()=>zE,errorFromCode:()=>gfe,errorFromName:()=>mfe,executeHashBeet:()=>jm,executeHashDiscriminator:()=>T9,executeTransactionDigestBeet:()=>fI,initDvnInstructionDiscriminator:()=>B9,initDvnParamsBeet:()=>P9,initDvnStruct:()=>N9,invokeInstructionDiscriminator:()=>$9,invokeParamsBeet:()=>D9,invokeStruct:()=>F9,isAdminConfigAdmins:()=>Afe,isAdminConfigDefaultMultiplierBps:()=>xfe,isAdminConfigDstConfigs:()=>Efe,isAdminConfigPriceFeed:()=>kfe,isMultisigConfigAdmins:()=>Nfe,isMultisigConfigAllowlist:()=>Bfe,isMultisigConfigDenylist:()=>Ofe,isMultisigConfigMsglibs:()=>Lfe,isMultisigConfigPaused:()=>Dfe,isMultisigConfigQuorum:()=>Ffe,isMultisigConfigSigners:()=>$fe,lzOptionBeet:()=>z9,multisigBeet:()=>E9,multisigConfigBeet:()=>Ec,quoteDvnInstructionDiscriminator:()=>K9,quoteDvnParamsBeet:()=>W9,quoteDvnStruct:()=>j9,receiveConfigBeet:()=>Km,receiveConfigDiscriminator:()=>WE,setConfigInstructionDiscriminator:()=>G9,setConfigParamsBeet:()=>q9,setConfigStruct:()=>V9,transactionAccountBeet:()=>L9,ulnConfigBeet:()=>I9,verifiableInstructionDiscriminator:()=>X9,verifiableParamsBeet:()=>Y9,verifiableStruct:()=>Z9,verificationStateBeet:()=>Ufe,withdrawFeeInstructionDiscriminator:()=>e7,withdrawFeeParamsBeet:()=>J9,withdrawFeeStruct:()=>Q9});var x9={};Fr(x9,{DvnConfig:()=>$_,ExecuteHash:()=>qT,ReceiveConfig:()=>VT,accountProviders:()=>Zle,dvnConfigBeet:()=>Wm,dvnConfigDiscriminator:()=>zE,executeHashBeet:()=>jm,executeHashDiscriminator:()=>T9,receiveConfigBeet:()=>Km,receiveConfigDiscriminator:()=>WE});var E9=new B.FixableBeetArgsStruct([["signers",B.array(B.uniformFixedSizeArray(B.u8,64))],["quorum",B.u8]],"Multisig"),k9=new B.FixableBeetArgsStruct([["allowList",B.array(Pe.publicKey)],["denyList",B.array(Pe.publicKey)]],"Acl"),HT=new B.FixableBeetArgsStruct([["eid",B.u32],["dstGas",B.u32],["multiplierBps",B.coption(B.u16)],["floorMarginUsd",B.coption(B.u128)]],"DstConfig"),zE=[49,81,33,98,234,168,93,73],$_=class ym{constructor(e,r,n,i,s,o,a,u,f,d){this.vid=e,this.bump=r,this.multisig=n,this.acl=i,this.paused=s,this.msglibs=o,this.admins=a,this.priceFeed=u,this.dstConfigs=f,this.defaultMultiplierBps=d}static fromArgs(e){return new ym(e.vid,e.bump,e.multisig,e.acl,e.paused,e.msglibs,e.admins,e.priceFeed,e.dstConfigs,e.defaultMultiplierBps)}static fromAccountInfo(e,r=0){return ym.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find DvnConfig account at ${r}`);return ym.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new it("HtEYV4xB4wvsj5fgTkcfuChYpvGYzgzwvNhgDZQNh7wW")){return Pe.GpaBuilder.fromStruct(e,Wm)}static deserialize(e,r=0){return Wm.deserialize(e,r)}serialize(){return Wm.serialize({accountDiscriminator:zE,...this})}static byteSize(e){const r=ym.fromArgs(e);return Wm.toFixedFromValue({accountDiscriminator:zE,...r}).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(ym.byteSize(e),n)}pretty(){return{vid:this.vid,bump:this.bump,multisig:this.multisig,acl:this.acl,paused:this.paused,msglibs:this.msglibs,admins:this.admins,priceFeed:this.priceFeed.toBase58(),dstConfigs:this.dstConfigs,defaultMultiplierBps:this.defaultMultiplierBps}}},Wm=new B.FixableBeetStruct([["accountDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["vid",B.u32],["bump",B.u8],["multisig",E9],["acl",k9],["paused",B.bool],["msglibs",B.array(Pe.publicKey)],["admins",B.array(Pe.publicKey)],["priceFeed",Pe.publicKey],["dstConfigs",B.array(HT)],["defaultMultiplierBps",B.u16]],$_.fromArgs,"DvnConfig"),T9=[34,17,137,123,62,25,205,155],qT=class bm{constructor(e,r){this.expiration=e,this.bump=r}static fromArgs(e){return new bm(e.expiration,e.bump)}static fromAccountInfo(e,r=0){return bm.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find ExecuteHash account at ${r}`);return bm.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new it("HtEYV4xB4wvsj5fgTkcfuChYpvGYzgzwvNhgDZQNh7wW")){return Pe.GpaBuilder.fromStruct(e,jm)}static deserialize(e,r=0){return jm.deserialize(e,r)}serialize(){return jm.serialize({accountDiscriminator:T9,...this})}static get byteSize(){return jm.byteSize}static async getMinimumBalanceForRentExemption(e,r){return e.getMinimumBalanceForRentExemption(bm.byteSize,r)}static hasCorrectByteSize(e,r=0){return e.byteLength-r===bm.byteSize}pretty(){return{expiration:(()=>{const e=this.expiration;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),bump:this.bump}}},jm=new B.BeetStruct([["accountDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["expiration",B.i64],["bump",B.u8]],qT.fromArgs,"ExecuteHash"),I9=new B.FixableBeetArgsStruct([["confirmations",B.u64],["requiredDvnCount",B.u8],["optionalDvnCount",B.u8],["optionalDvnThreshold",B.u8],["requiredDvns",B.array(Pe.publicKey)],["optionalDvns",B.array(Pe.publicKey)]],"UlnConfig"),WE=[162,159,153,188,56,65,245,58],VT=class vm{constructor(e,r){this.bump=e,this.uln=r}static fromArgs(e){return new vm(e.bump,e.uln)}static fromAccountInfo(e,r=0){return vm.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find ReceiveConfig account at ${r}`);return vm.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new it("HtEYV4xB4wvsj5fgTkcfuChYpvGYzgzwvNhgDZQNh7wW")){return Pe.GpaBuilder.fromStruct(e,Km)}static deserialize(e,r=0){return Km.deserialize(e,r)}serialize(){return Km.serialize({accountDiscriminator:WE,...this})}static byteSize(e){const r=vm.fromArgs(e);return Km.toFixedFromValue({accountDiscriminator:WE,...r}).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(vm.byteSize(e),n)}pretty(){return{bump:this.bump,uln:this.uln}}},Km=new B.FixableBeetStruct([["accountDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["bump",B.u8],["uln",I9]],VT.fromArgs,"ReceiveConfig"),Zle={DvnConfig:$_,ExecuteHash:qT,ReceiveConfig:VT},Xle={};Fr(Xle,{DuplicateSignatureError:()=>iI,EidNotSupportedError:()=>lI,ExpiredError:()=>sI,InvalidAmountError:()=>cI,InvalidQuorumError:()=>XT,InvalidSignatureLenError:()=>GT,InvalidSignersLenError:()=>JT,InvalidVidError:()=>oI,MsgLibNotAllowedError:()=>ZT,NotAdminError:()=>YT,PausedError:()=>aI,SignatureErrorError:()=>eI,SignerNotInCommitteeError:()=>tI,TooManyAdminsError:()=>rI,TooManyOptionTypesError:()=>nI,UnexpiredExecuteHashError:()=>uI,UniqueOwnersError:()=>QT,errorFromCode:()=>gfe,errorFromName:()=>mfe});var ws=new Map,Ss=new Map,GT=class Jle extends Error{constructor(){super(""),this.code=6e3,this.name="InvalidSignatureLen",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Jle)}};ws.set(6e3,()=>new GT);Ss.set("InvalidSignatureLen",()=>new GT);var YT=class Qle extends Error{constructor(){super(""),this.code=6001,this.name="NotAdmin",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Qle)}};ws.set(6001,()=>new YT);Ss.set("NotAdmin",()=>new YT);var ZT=class efe extends Error{constructor(){super(""),this.code=6002,this.name="MsgLibNotAllowed",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,efe)}};ws.set(6002,()=>new ZT);Ss.set("MsgLibNotAllowed",()=>new ZT);var XT=class tfe extends Error{constructor(){super(""),this.code=6003,this.name="InvalidQuorum",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,tfe)}};ws.set(6003,()=>new XT);Ss.set("InvalidQuorum",()=>new XT);var JT=class rfe extends Error{constructor(){super(""),this.code=6004,this.name="InvalidSignersLen",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,rfe)}};ws.set(6004,()=>new JT);Ss.set("InvalidSignersLen",()=>new JT);var QT=class nfe extends Error{constructor(){super(""),this.code=6005,this.name="UniqueOwners",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,nfe)}};ws.set(6005,()=>new QT);Ss.set("UniqueOwners",()=>new QT);var eI=class ife extends Error{constructor(){super(""),this.code=6006,this.name="SignatureError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ife)}};ws.set(6006,()=>new eI);Ss.set("SignatureError",()=>new eI);var tI=class sfe extends Error{constructor(){super(""),this.code=6007,this.name="SignerNotInCommittee",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,sfe)}};ws.set(6007,()=>new tI);Ss.set("SignerNotInCommittee",()=>new tI);var rI=class ofe extends Error{constructor(){super(""),this.code=6008,this.name="TooManyAdmins",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ofe)}};ws.set(6008,()=>new rI);Ss.set("TooManyAdmins",()=>new rI);var nI=class afe extends Error{constructor(){super(""),this.code=6009,this.name="TooManyOptionTypes",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,afe)}};ws.set(6009,()=>new nI);Ss.set("TooManyOptionTypes",()=>new nI);var iI=class ufe extends Error{constructor(){super(""),this.code=6010,this.name="DuplicateSignature",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ufe)}};ws.set(6010,()=>new iI);Ss.set("DuplicateSignature",()=>new iI);var sI=class cfe extends Error{constructor(){super(""),this.code=6011,this.name="Expired",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,cfe)}};ws.set(6011,()=>new sI);Ss.set("Expired",()=>new sI);var oI=class lfe extends Error{constructor(){super(""),this.code=6012,this.name="InvalidVid",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,lfe)}};ws.set(6012,()=>new oI);Ss.set("InvalidVid",()=>new oI);var aI=class ffe extends Error{constructor(){super(""),this.code=6013,this.name="Paused",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ffe)}};ws.set(6013,()=>new aI);Ss.set("Paused",()=>new aI);var uI=class dfe extends Error{constructor(){super(""),this.code=6014,this.name="UnexpiredExecuteHash",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,dfe)}};ws.set(6014,()=>new uI);Ss.set("UnexpiredExecuteHash",()=>new uI);var cI=class hfe extends Error{constructor(){super(""),this.code=6015,this.name="InvalidAmount",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,hfe)}};ws.set(6015,()=>new cI);Ss.set("InvalidAmount",()=>new cI);var lI=class pfe extends Error{constructor(){super(""),this.code=6016,this.name="EidNotSupported",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,pfe)}};ws.set(6016,()=>new lI);Ss.set("EidNotSupported",()=>new lI);function gfe(t){const e=ws.get(t);return e!=null?e():null}function mfe(t){const e=Ss.get(t);return e!=null?e():null}var yfe={};Fr(yfe,{closeExecuteInstructionDiscriminator:()=>C9,closeExecuteStruct:()=>M9,createCloseExecuteInstruction:()=>bfe,createCloseExecuteInstructionAccounts:()=>vfe,createInitDvnInstruction:()=>O9,createInitDvnInstructionAccounts:()=>wfe,createInvokeInstruction:()=>U9,createInvokeInstructionAccounts:()=>Sfe,createQuoteDvnInstruction:()=>_fe,createQuoteDvnInstructionAccounts:()=>H9,createSetConfigInstruction:()=>Hm,createSetConfigInstructionAccounts:()=>Tfe,createVerifiableInstruction:()=>Ife,createVerifiableInstructionAccounts:()=>Rfe,createWithdrawFeeInstruction:()=>Mfe,createWithdrawFeeInstructionAccounts:()=>Cfe,initDvnInstructionDiscriminator:()=>B9,initDvnStruct:()=>N9,invokeInstructionDiscriminator:()=>$9,invokeStruct:()=>F9,quoteDvnInstructionDiscriminator:()=>K9,quoteDvnStruct:()=>j9,setConfigInstructionDiscriminator:()=>G9,setConfigStruct:()=>V9,verifiableInstructionDiscriminator:()=>X9,verifiableStruct:()=>Z9,withdrawFeeInstructionDiscriminator:()=>e7,withdrawFeeStruct:()=>Q9});var R9=new B.BeetArgsStruct([["digestHash",B.uniformFixedSizeArray(B.u8,32)]],"CloseExecuteParams"),M9=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",R9]],"CloseExecuteInstructionArgs"),C9=[253,220,23,127,15,171,189,226];function bfe(t,e,r){const[n]=M9.serialize({instructionDiscriminator:C9,...e}),i=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.config,isWritable:!0,isSigner:!1},{pubkey:t.executeHash,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function vfe(t,e){const r=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.config,isWritable:!0,isSigner:!1},{pubkey:t.executeHash,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var P9=new B.FixableBeetArgsStruct([["vid",B.u32],["msglibs",B.array(Pe.publicKey)],["priceFeed",Pe.publicKey],["signers",B.array(B.uniformFixedSizeArray(B.u8,64))],["quorum",B.u8],["admins",B.array(Pe.publicKey)]],"InitDvnParams"),N9=new B.FixableBeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",P9]],"InitDvnInstructionArgs"),B9=[58,108,132,12,20,10,215,210];function O9(t,e,r){const[n]=N9.serialize({instructionDiscriminator:B9,...e}),i=[{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.config,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function wfe(t,e){const r=[{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.config,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var L9=new B.BeetArgsStruct([["pubkey",Pe.publicKey],["isSigner",B.bool],["isWritable",B.bool]],"TransactionAccount"),fI=new B.FixableBeetArgsStruct([["vid",B.u32],["programId",Pe.publicKey],["accounts",B.array(L9)],["data",B.bytes],["expiration",B.i64]],"ExecuteTransactionDigest"),D9=new B.FixableBeetArgsStruct([["digest",fI],["signatures",B.array(B.uniformFixedSizeArray(B.u8,65))]],"InvokeParams"),F9=new B.FixableBeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",D9]],"InvokeInstructionArgs"),$9=[26,16,169,7,21,202,242,25];function U9(t,e,r){const[n]=F9.serialize({instructionDiscriminator:$9,...e}),i=[{pubkey:t.signer,isWritable:!0,isSigner:!0},{pubkey:t.config,isWritable:!0,isSigner:!1},{pubkey:t.executeHash,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function Sfe(t,e){const r=[{pubkey:t.signer,isWritable:!0,isSigner:!0},{pubkey:t.config,isWritable:!0,isSigner:!1},{pubkey:t.executeHash,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var z9=new B.FixableBeetArgsStruct([["optionType",B.u8],["params",B.bytes]],"LzOption"),W9=new B.FixableBeetArgsStruct([["msglib",Pe.publicKey],["dstEid",B.u32],["sender",Pe.publicKey],["packetHeader",B.bytes],["payloadHash",B.uniformFixedSizeArray(B.u8,32)],["confirmations",B.u64],["options",B.array(z9)]],"QuoteDvnParams"),j9=new B.FixableBeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",W9]],"QuoteDvnInstructionArgs"),K9=[223,98,51,200,123,133,132,194];function _fe(t,e,r){const[n]=j9.serialize({instructionDiscriminator:K9,...e}),i=[{pubkey:t.dvnConfig,isWritable:!1,isSigner:!1},{pubkey:t.priceFeedProgram,isWritable:!1,isSigner:!1},{pubkey:t.priceFeedConfig,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function H9(t,e){const r=[{pubkey:t.dvnConfig,isWritable:!1,isSigner:!1},{pubkey:t.priceFeedProgram,isWritable:!1,isSigner:!1},{pubkey:t.priceFeedConfig,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Afe=t=>t.__kind==="Admins",xfe=t=>t.__kind==="DefaultMultiplierBps",Efe=t=>t.__kind==="DstConfigs",kfe=t=>t.__kind==="PriceFeed",dI=B.dataEnum([["Admins",new B.FixableBeetArgsStruct([["fields",B.tuple([B.array(Pe.publicKey)])]],'AdminConfigRecord["Admins"]')],["DefaultMultiplierBps",new B.BeetArgsStruct([["fields",B.fixedSizeTuple([B.u16])]],'AdminConfigRecord["DefaultMultiplierBps"]')],["DstConfigs",new B.FixableBeetArgsStruct([["fields",B.tuple([B.array(HT)])]],'AdminConfigRecord["DstConfigs"]')],["PriceFeed",new B.BeetArgsStruct([["fields",B.fixedSizeTuple([Pe.publicKey])]],'AdminConfigRecord["PriceFeed"]')]]),q9=new B.FixableBeetArgsStruct([["config",dI]],"SetConfigParams"),V9=new B.FixableBeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",q9]],"SetConfigInstructionArgs"),G9=[108,158,154,175,212,98,52,66];function Hm(t,e,r){const[n]=V9.serialize({instructionDiscriminator:G9,...e}),i=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.config,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function Tfe(t,e){const r=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.config,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Y9=new B.BeetArgsStruct([["packetHeader",B.uniformFixedSizeArray(B.u8,81)],["payloadHash",B.uniformFixedSizeArray(B.u8,32)]],"VerifiableParams"),Z9=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",Y9]],"VerifiableInstructionArgs"),X9=[249,50,227,157,238,249,211,90];function Ife(t,e,r){const[n]=Z9.serialize({instructionDiscriminator:X9,...e}),i=[{pubkey:t.nonce,isWritable:!1,isSigner:!1},{pubkey:t.payloadHash,isWritable:!1,isSigner:!1},{pubkey:t.receiveConfig,isWritable:!1,isSigner:!1},{pubkey:t.defaultReceiveConfig,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function Rfe(t,e){const r=[{pubkey:t.nonce,isWritable:!1,isSigner:!1},{pubkey:t.payloadHash,isWritable:!1,isSigner:!1},{pubkey:t.receiveConfig,isWritable:!1,isSigner:!1},{pubkey:t.defaultReceiveConfig,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var J9=new B.BeetArgsStruct([["amount",B.u64]],"WithdrawFeeParams"),Q9=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",J9]],"WithdrawFeeInstructionArgs"),e7=[14,122,231,218,31,238,223,150];function Mfe(t,e,r){const[n]=Q9.serialize({instructionDiscriminator:e7,...e}),i=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.config,isWritable:!0,isSigner:!1},{pubkey:t.receiver,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function Cfe(t,e){const r=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.config,isWritable:!0,isSigner:!1},{pubkey:t.receiver,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Pfe={};Fr(Pfe,{VerificationState:()=>hI,aclBeet:()=>k9,adminConfigBeet:()=>dI,closeExecuteParamsBeet:()=>R9,dstConfigBeet:()=>HT,executeTransactionDigestBeet:()=>fI,initDvnParamsBeet:()=>P9,invokeParamsBeet:()=>D9,isAdminConfigAdmins:()=>Afe,isAdminConfigDefaultMultiplierBps:()=>xfe,isAdminConfigDstConfigs:()=>Efe,isAdminConfigPriceFeed:()=>kfe,isMultisigConfigAdmins:()=>Nfe,isMultisigConfigAllowlist:()=>Bfe,isMultisigConfigDenylist:()=>Ofe,isMultisigConfigMsglibs:()=>Lfe,isMultisigConfigPaused:()=>Dfe,isMultisigConfigQuorum:()=>Ffe,isMultisigConfigSigners:()=>$fe,lzOptionBeet:()=>z9,multisigBeet:()=>E9,multisigConfigBeet:()=>Ec,quoteDvnParamsBeet:()=>W9,setConfigParamsBeet:()=>q9,transactionAccountBeet:()=>L9,ulnConfigBeet:()=>I9,verifiableParamsBeet:()=>Y9,verificationStateBeet:()=>Ufe,withdrawFeeParamsBeet:()=>J9});var Nfe=t=>t.__kind==="Admins",Bfe=t=>t.__kind==="Allowlist",Ofe=t=>t.__kind==="Denylist",Lfe=t=>t.__kind==="Msglibs",Dfe=t=>t.__kind==="Paused",Ffe=t=>t.__kind==="Quorum",$fe=t=>t.__kind==="Signers",Ec=B.dataEnum([["Admins",new B.FixableBeetArgsStruct([["fields",B.tuple([B.array(Pe.publicKey)])]],'MultisigConfigRecord["Admins"]')],["Allowlist",new B.FixableBeetArgsStruct([["fields",B.tuple([B.array(Pe.publicKey)])]],'MultisigConfigRecord["Allowlist"]')],["Denylist",new B.FixableBeetArgsStruct([["fields",B.tuple([B.array(Pe.publicKey)])]],'MultisigConfigRecord["Denylist"]')],["Msglibs",new B.FixableBeetArgsStruct([["fields",B.tuple([B.array(Pe.publicKey)])]],'MultisigConfigRecord["Msglibs"]')],["Paused",new B.BeetArgsStruct([["fields",B.fixedSizeTuple([B.bool])]],'MultisigConfigRecord["Paused"]')],["Quorum",new B.BeetArgsStruct([["fields",B.fixedSizeTuple([B.u8])]],'MultisigConfigRecord["Quorum"]')],["Signers",new B.FixableBeetArgsStruct([["fields",B.tuple([B.array(B.uniformFixedSizeArray(B.u8,64))])]],'MultisigConfigRecord["Signers"]')]]),hI=(t=>(t[t.Verifying=0]="Verifying",t[t.Verifiable=1]="Verifiable",t[t.Verified=2]="Verified",t[t.NotInitializable=3]="NotInitializable",t[t.VerifiableButCapExceeded=4]="VerifiableButCapExceeded",t))(hI||{}),Ufe=B.fixedScalarEnum(hI),zfe="HtEYV4xB4wvsj5fgTkcfuChYpvGYzgzwvNhgDZQNh7wW",Wfe=new it(zfe),jfe={};Fr(jfe,{adminConfigSetEventBeet:()=>GXe,feeWithdrawnEventBeet:()=>YXe,multisigConfigSetEventBeet:()=>ZXe});var GXe=new B.FixableBeetArgsStruct([["config",dI]],"AdminConfigSetEvent"),YXe=new B.BeetArgsStruct([["receiver",Pe.publicKey],["amount",B.u64]],"FeeWithdrawnEvent"),ZXe=new B.FixableBeetArgsStruct([["config",Ec]],"MultisigConfigSetEvent"),XXe=class Kfe{constructor(e){this.signers=e}static from(e){return new Kfe(e)}async sign(e){const{signWithECDSA:r}=await uEe(async()=>{const{signWithECDSA:n}=await import("./index-CGqRSiJU.js");return{signWithECDSA:n}},__vite__mapDeps([0,1,2]));return Promise.all(this.signers.map(async n=>r(e,n.ECDSAPrivateKey)))}},Hfe=class{constructor(t,e=PYe.SOLANA_V2_SANDBOX){this.programId=t,this.dvnDeriver=new HYe(t),this.vid=e%3e4,this.eventAuthority=new Lp(t).eventAuthority()[0]}async initDVN(t,e,r){const[n]=this.dvnDeriver.config();if(await t.getAccountInfo(n))throw new Error("DVN already initialized");return O9({payer:e,config:n},{params:r},this.programId)}getDigest(t,e,r){return{vid:t,programId:e.programId,accounts:e.keys.map(n=>({pubkey:n.pubkey,isSigner:n.isSigner,isWritable:n.isWritable})),data:e.data,expiration:r}}getExecuteHash(t){const[e]=this.dvnDeriver.executeHash(t);return e}getHashBytes(t){const[e]=fI.serialize(t),r=gS(e);return we.Buffer.from(r.slice(2),"hex")}async invoke(t,e,r,n,i,s){if(!await this.getConfigState(t,"confirmed"))throw new Error("DVN not initialized");const[a]=this.dvnDeriver.config(),u=this.getDigest(e,n,i),f=this.getHashBytes(u),d=this.getExecuteHash(f),g=[],y=await s.sign(f);g.push(...y.map(x=>Array.from(x.signature).concat([x.recoveryId])));const b={digest:u,signatures:g},A=n.keys.map(x=>(x.isSigner=!1,x));return U9({signer:r,config:a,executeHash:d,program:this.programId,eventAuthority:this.eventAuthority,anchorRemainingAccounts:[{pubkey:n.programId,isSigner:!1,isWritable:!1}].concat(A)},{params:b},this.programId)}createSetQuorumInstruction(t){const e={fields:[t],__kind:"Quorum"},r=Ec.toFixedFromValue(e),n=we.Buffer.alloc(r.byteSize);return r.write(n,0,e),new ot({programId:this.programId,keys:[],data:n})}createSetAdminsInstruction(t){const e={fields:[t],__kind:"Admins"},r=Ec.toFixedFromValue(e),n=we.Buffer.alloc(r.byteSize);return r.write(n,0,e),new ot({programId:this.programId,keys:[],data:n})}createSetSignersInstruction(t){const e={fields:[t.map(i=>Array.from(i))],__kind:"Signers"},r=Ec.toFixedFromValue(e),n=we.Buffer.alloc(r.byteSize);return r.write(n,0,e),new ot({programId:this.programId,keys:[],data:n})}createSetAllowlistInstruction(t){const e={fields:[t],__kind:"Allowlist"},r=Ec.toFixedFromValue(e),n=we.Buffer.alloc(r.byteSize);return r.write(n,0,e),new ot({programId:this.programId,keys:[],data:n})}createSetDenylistInstruction(t){const e={fields:[t],__kind:"Denylist"},r=Ec.toFixedFromValue(e),n=we.Buffer.alloc(r.byteSize);return r.write(n,0,e),new ot({programId:this.programId,keys:[],data:n})}createSetPauseInstruction(t){const e={fields:[t],__kind:"Paused"},r=Ec.toFixedFromValue(e),n=we.Buffer.alloc(r.byteSize);return r.write(n,0,e),new ot({programId:this.programId,keys:[],data:n})}createSetDefaultMultiplierBpsInstruction(t,e){const[r]=this.dvnDeriver.config();return Hm({admin:t,config:r,program:this.programId,eventAuthority:this.eventAuthority},{params:{config:{fields:[e],__kind:"DefaultMultiplierBps"}}},this.programId)}createChangeAdminsInstruction(t,e){const[r]=this.dvnDeriver.config();return Hm({admin:t,config:r,program:this.programId,eventAuthority:this.eventAuthority},{params:{config:{fields:[e],__kind:"Admins"}}},this.programId)}createSetDstConfigInstruction(t,e){const[r]=this.dvnDeriver.config();return Hm({admin:t,config:r,program:this.programId,eventAuthority:this.eventAuthority},{params:{config:{fields:[e],__kind:"DstConfigs"}}},this.programId)}createSetMsgLibsInstruction(t){const e={fields:[t],__kind:"Msglibs"},r=Ec.toFixedFromValue(e),n=we.Buffer.alloc(r.byteSize);return r.write(n,0,e),new ot({programId:this.programId,keys:[],data:n})}_getExpiration(){return new Date().getTime()/1e3+120}async setMsgLibs(t,e,r,n){const i=this._getExpiration();return this.invoke(t,this.vid,e,this.createSetMsgLibsInstruction(r),i,n)}createSetPriceFeedInstruction(t,e){const[r]=this.dvnDeriver.config(),[n]=new VL(e).priceFeed();return Hm({admin:t,config:r,program:this.programId,eventAuthority:this.eventAuthority},{params:{config:{fields:[n],__kind:"PriceFeed"}}},this.programId)}getQuoteIXAccountMetaForCPI(t,e,r){const[n]=this.dvnDeriver.config(),i=H9({dvnConfig:n,priceFeedConfig:t,priceFeedProgram:e},this.programId);return r&&(i[0].isWritable=!0),[{pubkey:this.programId,isWritable:!1,isSigner:!1}].concat(i)}async getConfigState(t,e="confirmed"){const[r]=this.dvnDeriver.config();try{return await $_.fromAccountAddress(t,r,e)}catch{return null}}},JXe={};Fr(JXe,{EidNotSupportedError:()=>eD,ExecutionState:()=>yI,Executor:()=>jde,ExecutorConfig:()=>U_,ExecutorIsAdminError:()=>tD,InsufficientBalanceError:()=>Q7,InvalidNativeDropReceiverError:()=>J7,InvalidNativeDropRequestsLengthError:()=>X7,InvalidOwnerError:()=>rD,InvalidSizeError:()=>$7,MsgLibNotAllowedError:()=>V7,NativeAmountExceedsCapError:()=>K7,Nonce:()=>gI,NotAdminError:()=>H7,NotExecutorError:()=>q7,PROGRAM_ADDRESS:()=>Wde,PROGRAM_ID:()=>mJe,PausedError:()=>U7,TooManyAdminsError:()=>G7,TooManyExecutorsError:()=>Y7,TooManyOptionTypesError:()=>Z7,UnsupportedOptionTypeError:()=>z7,ZeroLzComposeGasProvidedError:()=>W7,ZeroLzReceiveGasProvidedError:()=>j7,accountProviders:()=>qfe,accounts:()=>t7,aclBeet:()=>r7,adminSetConfigInstructionDiscriminator:()=>o7,adminSetConfigParamsBeet:()=>i7,adminSetConfigStruct:()=>s7,composeInstructionDiscriminator:()=>l7,composeParamsBeet:()=>u7,composeStruct:()=>c7,createAdminSetConfigInstruction:()=>Tw,createAdminSetConfigInstructionAccounts:()=>Jfe,createComposeInstruction:()=>f7,createComposeInstructionAccounts:()=>Qfe,createExecutableInstruction:()=>ede,createExecutableInstructionAccounts:()=>tde,createExecuteInstruction:()=>v7,createExecuteInstructionAccounts:()=>rde,createInitExecutorInstruction:()=>A7,createInitExecutorInstructionAccounts:()=>nde,createNativeDropInstruction:()=>ide,createNativeDropInstructionAccounts:()=>sde,createOwnerSetConfigInstruction:()=>ef,createOwnerSetConfigInstructionAccounts:()=>hde,createQuoteExecutorInstruction:()=>pde,createQuoteExecutorInstructionAccounts:()=>B7,dstConfigBeet:()=>pI,errorFromCode:()=>pJe,errorFromName:()=>gJe,events:()=>Vfe,executableInstructionDiscriminator:()=>p7,executableParamsBeet:()=>d7,executableStruct:()=>h7,executeInstructionDiscriminator:()=>b7,executeParamsBeet:()=>m7,executeStruct:()=>y7,executionStateBeet:()=>mde,executorConfigBeet:()=>qm,executorConfigDiscriminator:()=>jE,initExecutorInstructionDiscriminator:()=>_7,initExecutorParamsBeet:()=>w7,initExecutorStruct:()=>S7,instructions:()=>Gfe,isAdminSetConfigParamsDefaultMultiplierBps:()=>Zfe,isAdminSetConfigParamsDstConfigs:()=>Xfe,isAdminSetConfigParamsPriceFeed:()=>Yfe,isOwnerSetConfigParamsAdmins:()=>ode,isOwnerSetConfigParamsAllowlist:()=>fde,isOwnerSetConfigParamsDenylist:()=>dde,isOwnerSetConfigParamsExecutors:()=>ade,isOwnerSetConfigParamsMsglibs:()=>ude,isOwnerSetConfigParamsOwner:()=>cde,isOwnerSetConfigParamsPaused:()=>lde,lzComposeParamsBeet:()=>a7,lzOptionBeet:()=>M7,lzReceiveParamsBeet:()=>g7,nativeDropInstructionDiscriminator:()=>k7,nativeDropParamsBeet:()=>x7,nativeDropRequestBeet:()=>mI,nativeDropStruct:()=>E7,nonceBeet:()=>Vm,nonceDiscriminator:()=>n7,ownerSetConfigInstructionDiscriminator:()=>R7,ownerSetConfigParamsBeet:()=>T7,ownerSetConfigStruct:()=>I7,quoteExecutorInstructionDiscriminator:()=>N7,quoteExecutorParamsBeet:()=>C7,quoteExecutorStruct:()=>P7,types:()=>gde});var t7={};Fr(t7,{ExecutorConfig:()=>U_,Nonce:()=>gI,accountProviders:()=>qfe,executorConfigBeet:()=>qm,executorConfigDiscriminator:()=>jE,nonceBeet:()=>Vm,nonceDiscriminator:()=>n7});var r7=new B.FixableBeetArgsStruct([["allowList",B.array(Pe.publicKey)],["denyList",B.array(Pe.publicKey)]],"Acl"),pI=new B.FixableBeetArgsStruct([["eid",B.u32],["lzReceiveBaseGas",B.u32],["lzComposeBaseGas",B.u32],["multiplierBps",B.coption(B.u16)],["floorMarginUsd",B.coption(B.u128)],["nativeDropCap",B.u128]],"DstConfig"),jE=[134,17,226,24,10,173,157,78],U_=class wm{constructor(e,r,n,i,s,o,a,u,f,d){this.bump=e,this.owner=r,this.acl=n,this.admins=i,this.executors=s,this.msglibs=o,this.paused=a,this.defaultMultiplierBps=u,this.priceFeed=f,this.dstConfigs=d}static fromArgs(e){return new wm(e.bump,e.owner,e.acl,e.admins,e.executors,e.msglibs,e.paused,e.defaultMultiplierBps,e.priceFeed,e.dstConfigs)}static fromAccountInfo(e,r=0){return wm.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find ExecutorConfig account at ${r}`);return wm.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new it("6doghB248px58JSSwG4qejQ46kFMW4AMj7vzJnWZHNZn")){return Pe.GpaBuilder.fromStruct(e,qm)}static deserialize(e,r=0){return qm.deserialize(e,r)}serialize(){return qm.serialize({accountDiscriminator:jE,...this})}static byteSize(e){const r=wm.fromArgs(e);return qm.toFixedFromValue({accountDiscriminator:jE,...r}).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(wm.byteSize(e),n)}pretty(){return{bump:this.bump,owner:this.owner.toBase58(),acl:this.acl,admins:this.admins,executors:this.executors,msglibs:this.msglibs,paused:this.paused,defaultMultiplierBps:this.defaultMultiplierBps,priceFeed:this.priceFeed.toBase58(),dstConfigs:this.dstConfigs}}},qm=new B.FixableBeetStruct([["accountDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["bump",B.u8],["owner",Pe.publicKey],["acl",r7],["admins",B.array(Pe.publicKey)],["executors",B.array(Pe.publicKey)],["msglibs",B.array(Pe.publicKey)],["paused",B.bool],["defaultMultiplierBps",B.u16],["priceFeed",Pe.publicKey],["dstConfigs",B.array(pI)]],U_.fromArgs,"ExecutorConfig"),n7=[143,197,147,95,106,165,50,43],gI=class Sm{constructor(e,r,n){this.bump=e,this.outboundNonce=r,this.inboundNonce=n}static fromArgs(e){return new Sm(e.bump,e.outboundNonce,e.inboundNonce)}static fromAccountInfo(e,r=0){return Sm.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find Nonce account at ${r}`);return Sm.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new it("6doghB248px58JSSwG4qejQ46kFMW4AMj7vzJnWZHNZn")){return Pe.GpaBuilder.fromStruct(e,Vm)}static deserialize(e,r=0){return Vm.deserialize(e,r)}serialize(){return Vm.serialize({accountDiscriminator:n7,...this})}static get byteSize(){return Vm.byteSize}static async getMinimumBalanceForRentExemption(e,r){return e.getMinimumBalanceForRentExemption(Sm.byteSize,r)}static hasCorrectByteSize(e,r=0){return e.byteLength-r===Sm.byteSize}pretty(){return{bump:this.bump,outboundNonce:(()=>{const e=this.outboundNonce;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),inboundNonce:(()=>{const e=this.inboundNonce;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})()}}},Vm=new B.BeetStruct([["accountDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["bump",B.u8],["outboundNonce",B.u64],["inboundNonce",B.u64]],gI.fromArgs,"Nonce"),qfe={Nonce:gI,ExecutorConfig:U_},Vfe={};Fr(Vfe,{nativeDropAppliedEventBeet:()=>QXe});var mI=new B.BeetArgsStruct([["receiver",Pe.publicKey],["amount",B.u64]],"NativeDropRequest"),QXe=new B.FixableBeetArgsStruct([["srcEid",B.u32],["sender",B.uniformFixedSizeArray(B.u8,32)],["nonce",B.u64],["dstEid",B.u32],["oapp",Pe.publicKey],["nativeDropRequests",B.array(mI)],["successes",B.array(B.bool)]],"NativeDropAppliedEvent"),Gfe={};Fr(Gfe,{adminSetConfigInstructionDiscriminator:()=>o7,adminSetConfigStruct:()=>s7,composeInstructionDiscriminator:()=>l7,composeStruct:()=>c7,createAdminSetConfigInstruction:()=>Tw,createAdminSetConfigInstructionAccounts:()=>Jfe,createComposeInstruction:()=>f7,createComposeInstructionAccounts:()=>Qfe,createExecutableInstruction:()=>ede,createExecutableInstructionAccounts:()=>tde,createExecuteInstruction:()=>v7,createExecuteInstructionAccounts:()=>rde,createInitExecutorInstruction:()=>A7,createInitExecutorInstructionAccounts:()=>nde,createNativeDropInstruction:()=>ide,createNativeDropInstructionAccounts:()=>sde,createOwnerSetConfigInstruction:()=>ef,createOwnerSetConfigInstructionAccounts:()=>hde,createQuoteExecutorInstruction:()=>pde,createQuoteExecutorInstructionAccounts:()=>B7,executableInstructionDiscriminator:()=>p7,executableStruct:()=>h7,executeInstructionDiscriminator:()=>b7,executeStruct:()=>y7,initExecutorInstructionDiscriminator:()=>_7,initExecutorStruct:()=>S7,nativeDropInstructionDiscriminator:()=>k7,nativeDropStruct:()=>E7,ownerSetConfigInstructionDiscriminator:()=>R7,ownerSetConfigStruct:()=>I7,quoteExecutorInstructionDiscriminator:()=>N7,quoteExecutorStruct:()=>P7});var Yfe=t=>t.__kind==="PriceFeed",Zfe=t=>t.__kind==="DefaultMultiplierBps",Xfe=t=>t.__kind==="DstConfigs",i7=B.dataEnum([["PriceFeed",new B.BeetArgsStruct([["fields",B.fixedSizeTuple([Pe.publicKey])]],'AdminSetConfigParamsRecord["PriceFeed"]')],["DefaultMultiplierBps",new B.BeetArgsStruct([["fields",B.fixedSizeTuple([B.u16])]],'AdminSetConfigParamsRecord["DefaultMultiplierBps"]')],["DstConfigs",new B.FixableBeetArgsStruct([["fields",B.tuple([B.array(pI)])]],'AdminSetConfigParamsRecord["DstConfigs"]')]]),s7=new B.FixableBeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",i7]],"AdminSetConfigInstructionArgs"),o7=[35,56,160,84,132,156,27,79];function Tw(t,e,r){const[n]=s7.serialize({instructionDiscriminator:o7,...e}),i=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.config,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function Jfe(t,e){const r=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.config,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var a7=new B.FixableBeetArgsStruct([["from",Pe.publicKey],["to",Pe.publicKey],["guid",B.uniformFixedSizeArray(B.u8,32)],["index",B.u16],["message",B.bytes],["extraData",B.bytes]],"LzComposeParams"),u7=new B.FixableBeetArgsStruct([["lzCompose",a7],["computeUnits",B.u64],["value",B.u64]],"ComposeParams"),c7=new B.FixableBeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",u7]],"ComposeInstructionArgs"),l7=[106,64,131,142,7,159,42,15];function f7(t,e,r){const[n]=c7.serialize({instructionDiscriminator:l7,...e}),i=[{pubkey:t.executor,isWritable:!0,isSigner:!0},{pubkey:t.config,isWritable:!1,isSigner:!1},{pubkey:t.endpointProgram,isWritable:!1,isSigner:!1},{pubkey:t.endpointEventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function Qfe(t,e){const r=[{pubkey:t.executor,isWritable:!0,isSigner:!0},{pubkey:t.config,isWritable:!1,isSigner:!1},{pubkey:t.endpointProgram,isWritable:!1,isSigner:!1},{pubkey:t.endpointEventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var d7=new B.BeetArgsStruct([["receiver",Pe.publicKey],["srcEid",B.u32],["sender",B.uniformFixedSizeArray(B.u8,32)],["nonce",B.u64]],"ExecutableParams"),h7=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",d7]],"ExecutableInstructionArgs"),p7=[57,165,171,234,157,191,156,25];function ede(t,e,r){const[n]=h7.serialize({instructionDiscriminator:p7,...e}),i=[{pubkey:t.nonce,isWritable:!1,isSigner:!1},{pubkey:t.payloadHash,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function tde(t,e){const r=[{pubkey:t.nonce,isWritable:!1,isSigner:!1},{pubkey:t.payloadHash,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var g7=new B.FixableBeetArgsStruct([["srcEid",B.u32],["sender",B.uniformFixedSizeArray(B.u8,32)],["nonce",B.u64],["guid",B.uniformFixedSizeArray(B.u8,32)],["message",B.bytes],["extraData",B.bytes]],"LzReceiveParams"),m7=new B.FixableBeetArgsStruct([["receiver",Pe.publicKey],["lzReceive",g7],["value",B.u64],["computeUnits",B.u64]],"ExecuteParams"),y7=new B.FixableBeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",m7]],"ExecuteInstructionArgs"),b7=[130,221,242,154,13,193,189,29];function v7(t,e,r){const[n]=y7.serialize({instructionDiscriminator:b7,...e}),i=[{pubkey:t.executor,isWritable:!0,isSigner:!0},{pubkey:t.config,isWritable:!1,isSigner:!1},{pubkey:t.endpointProgram,isWritable:!1,isSigner:!1},{pubkey:t.endpointEventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function rde(t,e){const r=[{pubkey:t.executor,isWritable:!0,isSigner:!0},{pubkey:t.config,isWritable:!1,isSigner:!1},{pubkey:t.endpointProgram,isWritable:!1,isSigner:!1},{pubkey:t.endpointEventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var w7=new B.FixableBeetArgsStruct([["owner",Pe.publicKey],["admins",B.array(Pe.publicKey)],["executors",B.array(Pe.publicKey)],["msglibs",B.array(Pe.publicKey)],["priceFeed",Pe.publicKey]],"InitExecutorParams"),S7=new B.FixableBeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",w7]],"InitExecutorInstructionArgs"),_7=[195,68,116,173,55,173,159,31];function A7(t,e,r){const[n]=S7.serialize({instructionDiscriminator:_7,...e}),i=[{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.config,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function nde(t,e){const r=[{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.config,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var x7=new B.FixableBeetArgsStruct([["srcEid",B.u32],["sender",B.uniformFixedSizeArray(B.u8,32)],["nonce",B.u64],["dstEid",B.u32],["oapp",Pe.publicKey],["nativeDropRequests",B.array(mI)]],"NativeDropParams"),E7=new B.FixableBeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",x7]],"NativeDropInstructionArgs"),k7=[105,30,218,121,155,234,85,12];function ide(t,e,r){const[n]=E7.serialize({instructionDiscriminator:k7,...e}),i=[{pubkey:t.executor,isWritable:!0,isSigner:!0},{pubkey:t.config,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function sde(t,e){const r=[{pubkey:t.executor,isWritable:!0,isSigner:!0},{pubkey:t.config,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var ode=t=>t.__kind==="Admins",ade=t=>t.__kind==="Executors",ude=t=>t.__kind==="Msglibs",cde=t=>t.__kind==="Owner",lde=t=>t.__kind==="Paused",fde=t=>t.__kind==="Allowlist",dde=t=>t.__kind==="Denylist",T7=B.dataEnum([["Admins",new B.FixableBeetArgsStruct([["fields",B.tuple([B.array(Pe.publicKey)])]],'OwnerSetConfigParamsRecord["Admins"]')],["Executors",new B.FixableBeetArgsStruct([["fields",B.tuple([B.array(Pe.publicKey)])]],'OwnerSetConfigParamsRecord["Executors"]')],["Msglibs",new B.FixableBeetArgsStruct([["fields",B.tuple([B.array(Pe.publicKey)])]],'OwnerSetConfigParamsRecord["Msglibs"]')],["Owner",new B.BeetArgsStruct([["fields",B.fixedSizeTuple([Pe.publicKey])]],'OwnerSetConfigParamsRecord["Owner"]')],["Paused",new B.BeetArgsStruct([["fields",B.fixedSizeTuple([B.bool])]],'OwnerSetConfigParamsRecord["Paused"]')],["Allowlist",new B.FixableBeetArgsStruct([["fields",B.tuple([B.array(Pe.publicKey)])]],'OwnerSetConfigParamsRecord["Allowlist"]')],["Denylist",new B.FixableBeetArgsStruct([["fields",B.tuple([B.array(Pe.publicKey)])]],'OwnerSetConfigParamsRecord["Denylist"]')]]),I7=new B.FixableBeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",T7]],"OwnerSetConfigInstructionArgs"),R7=[99,197,129,19,164,164,183,123];function ef(t,e,r){const[n]=I7.serialize({instructionDiscriminator:R7,...e}),i=[{pubkey:t.owner,isWritable:!1,isSigner:!0},{pubkey:t.config,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function hde(t,e){const r=[{pubkey:t.owner,isWritable:!1,isSigner:!0},{pubkey:t.config,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var M7=new B.FixableBeetArgsStruct([["optionType",B.u8],["params",B.bytes]],"LzOption"),C7=new B.FixableBeetArgsStruct([["msglib",Pe.publicKey],["dstEid",B.u32],["sender",Pe.publicKey],["calldataSize",B.u64],["options",B.array(M7)]],"QuoteExecutorParams"),P7=new B.FixableBeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",C7]],"QuoteExecutorInstructionArgs"),N7=[84,246,255,191,82,65,164,92];function pde(t,e,r){const[n]=P7.serialize({instructionDiscriminator:N7,...e}),i=[{pubkey:t.executorConfig,isWritable:!1,isSigner:!1},{pubkey:t.priceFeedProgram,isWritable:!1,isSigner:!1},{pubkey:t.priceFeedConfig,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function B7(t,e){const r=[{pubkey:t.executorConfig,isWritable:!1,isSigner:!1},{pubkey:t.priceFeedProgram,isWritable:!1,isSigner:!1},{pubkey:t.priceFeedConfig,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var gde={};Fr(gde,{ExecutionState:()=>yI,aclBeet:()=>r7,adminSetConfigParamsBeet:()=>i7,composeParamsBeet:()=>u7,dstConfigBeet:()=>pI,executableParamsBeet:()=>d7,executeParamsBeet:()=>m7,executionStateBeet:()=>mde,initExecutorParamsBeet:()=>w7,isAdminSetConfigParamsDefaultMultiplierBps:()=>Zfe,isAdminSetConfigParamsDstConfigs:()=>Xfe,isAdminSetConfigParamsPriceFeed:()=>Yfe,isOwnerSetConfigParamsAdmins:()=>ode,isOwnerSetConfigParamsAllowlist:()=>fde,isOwnerSetConfigParamsDenylist:()=>dde,isOwnerSetConfigParamsExecutors:()=>ade,isOwnerSetConfigParamsMsglibs:()=>ude,isOwnerSetConfigParamsOwner:()=>cde,isOwnerSetConfigParamsPaused:()=>lde,lzComposeParamsBeet:()=>a7,lzOptionBeet:()=>M7,lzReceiveParamsBeet:()=>g7,nativeDropParamsBeet:()=>x7,nativeDropRequestBeet:()=>mI,ownerSetConfigParamsBeet:()=>T7,quoteExecutorParamsBeet:()=>C7});var yI=(t=>(t[t.NotExecutable=0]="NotExecutable",t[t.VerifiedButNotExecutable=1]="VerifiedButNotExecutable",t[t.Executable=2]="Executable",t[t.Executed=3]="Executed",t))(yI||{}),mde=B.fixedScalarEnum(yI),yde=B.uniformFixedSizeArray(B.u8,32),eJe=new B.FixableBeetArgsStruct([["srcEid",B.u32],["sender",B.uniformFixedSizeArray(B.u8,32)],["nonce",B.u64],["guid",B.uniformFixedSizeArray(B.u8,32)],["message",B.bytes],["callerParams",B.bytes]],"LzReceiveParams"),tJe=new B.FixableBeetArgsStruct([["from",Pe.publicKey],["to",Pe.publicKey],["guid",B.uniformFixedSizeArray(B.u8,32)],["index",B.u16],["message",B.bytes],["extraData",B.bytes]],"LzComposeParams"),rJe=new B.BeetArgsStruct([["pubkey",Pe.publicKey],["isSigner",B.bool],["isWritable",B.bool]],"LzReceiveAccount"),bde={};Fr(bde,{adminTransferredEventBeet:()=>nJe,configSetEventBeet:()=>iJe,defaultConfigSetEventBeet:()=>sJe,feesPaidEventBeet:()=>oJe,payloadVerifiedEventBeet:()=>aJe,rentWithdrawnEventBeet:()=>uJe,treasurySetEventBeet:()=>cJe});var nJe=new B.BeetArgsStruct([["newAdmin",Pe.publicKey]],"AdminTransferredEvent"),xa=new B.FixableBeetArgsStruct([["confirmations",B.u64],["requiredDvnCount",B.u8],["optionalDvnCount",B.u8],["optionalDvnThreshold",B.u8],["requiredDvns",B.array(Pe.publicKey)],["optionalDvns",B.array(Pe.publicKey)]],"UlnConfig"),Gh=new B.BeetArgsStruct([["maxMessageSize",B.u32],["executor",Pe.publicKey]],"ExecutorConfig"),vde=t=>t.__kind==="SendUln",wde=t=>t.__kind==="ReceiveUln",Sde=t=>t.__kind==="Executor",O7=B.dataEnum([["SendUln",new B.FixableBeetArgsStruct([["fields",B.tuple([xa])]],'ConfigRecord["SendUln"]')],["ReceiveUln",new B.FixableBeetArgsStruct([["fields",B.tuple([xa])]],'ConfigRecord["ReceiveUln"]')],["Executor",new B.BeetArgsStruct([["fields",B.fixedSizeTuple([Gh])]],'ConfigRecord["Executor"]')]]),iJe=new B.FixableBeetArgsStruct([["oapp",Pe.publicKey],["eid",B.u32],["config",O7]],"ConfigSetEvent"),sJe=new B.FixableBeetArgsStruct([["eid",B.u32],["sendUlnConfig",B.coption(xa)],["receiveUlnConfig",B.coption(xa)],["executorConfig",B.coption(Gh)]],"DefaultConfigSetEvent"),KE=new B.BeetArgsStruct([["worker",Pe.publicKey],["fee",B.u64]],"WorkerFee"),L7=new B.BeetArgsStruct([["treasury",Pe.publicKey],["fee",B.u64],["payInLzToken",B.bool]],"TreasuryFee"),oJe=new B.FixableBeetArgsStruct([["executor",KE],["dvns",B.array(KE)],["treasury",B.coption(L7)]],"FeesPaidEvent"),aJe=new B.BeetArgsStruct([["dvn",Pe.publicKey],["header",B.uniformFixedSizeArray(B.u8,81)],["confirmations",B.u64],["proofHash",B.uniformFixedSizeArray(B.u8,32)]],"PayloadVerifiedEvent"),uJe=new B.BeetArgsStruct([["receiver",Pe.publicKey],["amount",B.u64]],"RentWithdrawnEvent"),D7=new B.BeetArgsStruct([["receiver",Pe.publicKey],["fee",B.u64]],"LzTokenTreasury"),z_=new B.FixableBeetArgsStruct([["admin",B.coption(Pe.publicKey)],["nativeReceiver",Pe.publicKey],["nativeFeeBps",B.u64],["lzToken",B.coption(D7)]],"Treasury"),cJe=new B.FixableBeetArgsStruct([["treasury",B.coption(z_)]],"TreasurySetEvent");async function lJe(t,e,r,n="confirmed",i){return new aje({payerKey:e,recentBlockhash:(await t.getLatestBlockhash(n)).blockhash,instructions:r}).compileToV0Message()}async function fJe(t,e,r,n="confirmed",i,s){return new uje(await lJe(t,e,r,n))}function _de(t){return we.Buffer.from(WWe(we.Buffer.from(`global:${t}`)).substring(2),"hex").subarray(0,8)}async function F7(t,e,r,n,i="confirmed",s,o){var g,y;const a=await fJe(t,n,e,i),u=await t.simulateTransaction(a,{sigVerify:!1,commitment:i}),f=`Program return: ${r.toBase58()} `,d=(g=u.value.logs)==null?void 0:g.find(b=>b.startsWith(f));if(d===void 0||((y=u.value.returnData)==null?void 0:y.programId)!==r.toBase58())throw new Error(`Simulate Fail: ${JSON.stringify(u)}`);return we.Buffer.from(d.slice(f.length),"base64")}async function dJe(t,e,r,n,i,s="confirmed"){const o=await(async()=>{const[g]=NJe(n,r),y=await t.getAccountInfo(g,s),b=[];if(y){const A=we.Buffer.from(y.data),x=A.length-8;if(x%32!==0)throw new Error(`Invalid length of AccountInfo.data. The length must be a multiple of 32 plus 8.(n*32+8). Current length is ${A.length}`);for(let k=8;k<x;k+=32){const I=yde.read(A,k);b.push({pubkey:new it(I),isSigner:!1,isWritable:!1})}}return b})(),[a]=eJe.serialize(i),u=new ot({programId:n,keys:o,data:we.Buffer.concat([_de("lz_receive_types"),a])}),f=await F7(t,[u],n,e);return Ade(f,e)}async function hJe(t,e,r,n,i,s="confirmed"){const o=await(async()=>{const[g]=BJe(n,r),y=await t.getAccountInfo(g,s),b=[];if(y){const A=we.Buffer.from(y.data),x=A.length-8;if(x%32!==0)throw new Error(`Invalid length of AccountInfo.data. The length must be a multiple of 32 plus 8.(n*32+8). Current length is ${A.length}`);for(let k=8;k<x;k+=32){const I=yde.read(A,k);b.push({pubkey:new it(I),isSigner:!1,isWritable:!1})}}return b})(),[a]=tJe.serialize(i),u=new ot({programId:n,keys:o,data:we.Buffer.concat([_de("lz_compose_types"),a])}),f=await F7(t,[u],n,e);return Ade(f,e)}function Ade(t,e){return B.array(rJe).toFixedFromData(t,0).read(t,0).map(s=>{if(s.pubkey.toBase58()==it.default.toBase58()&&s.isSigner){if(!e)throw new Error("payer is required");return{pubkey:e,isSigner:!0,isWritable:s.isWritable}}else return{pubkey:s.pubkey,isSigner:s.isSigner,isWritable:s.isWritable}})}var Ji=new Map,Qi=new Map,$7=class xde extends Error{constructor(){super(""),this.code=6e3,this.name="InvalidSize",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,xde)}};Ji.set(6e3,()=>new $7);Qi.set("InvalidSize",()=>new $7);var U7=class Ede extends Error{constructor(){super(""),this.code=6001,this.name="Paused",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Ede)}};Ji.set(6001,()=>new U7);Qi.set("Paused",()=>new U7);var z7=class kde extends Error{constructor(){super(""),this.code=6002,this.name="UnsupportedOptionType",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,kde)}};Ji.set(6002,()=>new z7);Qi.set("UnsupportedOptionType",()=>new z7);var W7=class Tde extends Error{constructor(){super(""),this.code=6003,this.name="ZeroLzComposeGasProvided",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Tde)}};Ji.set(6003,()=>new W7);Qi.set("ZeroLzComposeGasProvided",()=>new W7);var j7=class Ide extends Error{constructor(){super(""),this.code=6004,this.name="ZeroLzReceiveGasProvided",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Ide)}};Ji.set(6004,()=>new j7);Qi.set("ZeroLzReceiveGasProvided",()=>new j7);var K7=class Rde extends Error{constructor(){super(""),this.code=6005,this.name="NativeAmountExceedsCap",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Rde)}};Ji.set(6005,()=>new K7);Qi.set("NativeAmountExceedsCap",()=>new K7);var H7=class Mde extends Error{constructor(){super(""),this.code=6006,this.name="NotAdmin",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Mde)}};Ji.set(6006,()=>new H7);Qi.set("NotAdmin",()=>new H7);var q7=class Cde extends Error{constructor(){super(""),this.code=6007,this.name="NotExecutor",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Cde)}};Ji.set(6007,()=>new q7);Qi.set("NotExecutor",()=>new q7);var V7=class Pde extends Error{constructor(){super(""),this.code=6008,this.name="MsgLibNotAllowed",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Pde)}};Ji.set(6008,()=>new V7);Qi.set("MsgLibNotAllowed",()=>new V7);var G7=class Nde extends Error{constructor(){super(""),this.code=6009,this.name="TooManyAdmins",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Nde)}};Ji.set(6009,()=>new G7);Qi.set("TooManyAdmins",()=>new G7);var Y7=class Bde extends Error{constructor(){super(""),this.code=6010,this.name="TooManyExecutors",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Bde)}};Ji.set(6010,()=>new Y7);Qi.set("TooManyExecutors",()=>new Y7);var Z7=class Ode extends Error{constructor(){super(""),this.code=6011,this.name="TooManyOptionTypes",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Ode)}};Ji.set(6011,()=>new Z7);Qi.set("TooManyOptionTypes",()=>new Z7);var X7=class Lde extends Error{constructor(){super(""),this.code=6012,this.name="InvalidNativeDropRequestsLength",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Lde)}};Ji.set(6012,()=>new X7);Qi.set("InvalidNativeDropRequestsLength",()=>new X7);var J7=class Dde extends Error{constructor(){super(""),this.code=6013,this.name="InvalidNativeDropReceiver",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Dde)}};Ji.set(6013,()=>new J7);Qi.set("InvalidNativeDropReceiver",()=>new J7);var Q7=class Fde extends Error{constructor(){super(""),this.code=6014,this.name="InsufficientBalance",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Fde)}};Ji.set(6014,()=>new Q7);Qi.set("InsufficientBalance",()=>new Q7);var eD=class $de extends Error{constructor(){super(""),this.code=6015,this.name="EidNotSupported",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,$de)}};Ji.set(6015,()=>new eD);Qi.set("EidNotSupported",()=>new eD);var tD=class Ude extends Error{constructor(){super(""),this.code=6016,this.name="ExecutorIsAdmin",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Ude)}};Ji.set(6016,()=>new tD);Qi.set("ExecutorIsAdmin",()=>new tD);var rD=class zde extends Error{constructor(){super(""),this.code=6017,this.name="InvalidOwner",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,zde)}};Ji.set(6017,()=>new rD);Qi.set("InvalidOwner",()=>new rD);function pJe(t){const e=Ji.get(t);return e!=null?e():null}function gJe(t){const e=Qi.get(t);return e!=null?e():null}var Wde="6doghB248px58JSSwG4qejQ46kFMW4AMj7vzJnWZHNZn",mJe=new it(Wde),jde=class{constructor(t){this.program=t,this.deriver=new qYe(this.program)}initExecutor(t,e,r,n,i,s){const[o]=this.deriver.config();return A7({payer:t,config:o},{params:{owner:e,admins:r,executors:n,msglibs:i,priceFeed:s}},this.program)}setOwner(t,e){const[r]=this.deriver.config();return ef({owner:t,config:r},{params:{fields:[e],__kind:"Owner"}},this.program)}setAdmins(t,e){const[r]=this.deriver.config();return ef({owner:t,config:r},{params:{fields:[e],__kind:"Admins"}},this.program)}setAllowList(t,e){const[r]=this.deriver.config();return ef({owner:t,config:r},{params:{fields:[e],__kind:"Allowlist"}},this.program)}setDenyList(t,e){const[r]=this.deriver.config();return ef({owner:t,config:r},{params:{fields:[e],__kind:"Denylist"}},this.program)}setPaused(t,e){const[r]=this.deriver.config();return ef({owner:t,config:r},{params:{fields:[e],__kind:"Paused"}},this.program)}setExecutors(t,e){const[r]=this.deriver.config();return ef({owner:t,config:r},{params:{fields:[e],__kind:"Executors"}},this.program)}setMsglibByPrograms(t,e){this.deriver.config();const r=e.map(n=>new ra(n).messageLib()[0]);return this.setMsglibByPDAs(t,r)}setMsglibByPDAs(t,e){const[r]=this.deriver.config();return ef({owner:t,config:r},{params:{fields:[e],__kind:"Msglibs"}},this.program)}setDefaultMultiplierBps(t,e){const[r]=this.deriver.config();return Tw({admin:t,config:r},{params:{fields:[e],__kind:"DefaultMultiplierBps"}},this.program)}setDstConfig(t,e){const[r]=this.deriver.config();return Tw({admin:t,config:r},{params:{fields:[e],__kind:"DstConfigs"}},this.program)}setPriceFeed(t,e){const[r]=this.deriver.config(),[n]=new VL(e).priceFeed();return Tw({admin:t,config:r},{params:{fields:[n],__kind:"PriceFeed"}},this.program)}async getExecutorConfig(t,e){const[r]=this.deriver.config();try{return await U_.fromAccountAddress(t,r,e)}catch{return null}}getQuoteIXAccountMetaForCPI(t,e,r){const[n]=this.deriver.config(),i=B7({executorConfig:n,priceFeedConfig:t,priceFeedProgram:e},this.program);return r&&(i[0].isWritable=!0),[{pubkey:this.program,isWritable:!1,isSigner:!1}].concat(i)}async execute(t,e,r,n,i,s=new Mr(0),o=2e5,a){const[u]=this.deriver.config(),f=new Lp(r),d=new Lp(this.program),{message:g,sender:y,srcEid:b,guid:A,receiver:x,nonce:k}=n,I=new it($d(x)),R=await t.getParsedAccountInfo(I,a),M=new it(R.value.owner),P=Li(g),j=await dJe(t,e,I,M,{srcEid:b,sender:Array.from(Li(y)),guid:Array.from(Li(A)),message:P,callerParams:i,nonce:parseInt(n.nonce)},a);return v7({executor:e,config:u,endpointProgram:r,endpointEventAuthority:f.eventAuthority()[0],program:this.program,eventAuthority:d.eventAuthority()[0],anchorRemainingAccounts:[{pubkey:M,isWritable:!1,isSigner:!1},...j]},{params:{receiver:I,lzReceive:{srcEid:b,sender:Array.from(Li(y)),nonce:parseInt(k),guid:Array.from(Li(A)),message:P,extraData:i},value:s,computeUnits:o}},this.program)}async compose(t,e,r,n,i,s=new Mr(0),o=4e5,a){const[u]=this.deriver.config(),f=new Lp(r),d=new Lp(this.program),{to:g,from:y,guid:b,index:A,message:x}=n,k=await t.getParsedAccountInfo(g,a),I=new it(k.value.owner),R=await hJe(t,e,g,I,{from:y,to:g,guid:b,index:A,message:x,extraData:i},a);return f7({executor:e,config:u,endpointProgram:r,endpointEventAuthority:f.eventAuthority()[0],program:this.program,eventAuthority:d.eventAuthority()[0],anchorRemainingAccounts:[{pubkey:I,isWritable:!1,isSigner:!1},...R]},{params:{lzCompose:{to:g,from:y,guid:b,index:A,message:x,extraData:i},computeUnits:o,value:s}},this.program)}},Kde={};Fr(Kde,{Confirmations:()=>W_,ReceiveConfig:()=>Mf,SendConfig:()=>ch,UlnSettings:()=>j_,accountProviders:()=>Hde,confirmationsBeet:()=>Gm,confirmationsDiscriminator:()=>HE,receiveConfigBeet:()=>Ym,receiveConfigDiscriminator:()=>qE,sendConfigBeet:()=>Zm,sendConfigDiscriminator:()=>VE,ulnSettingsBeet:()=>Xm,ulnSettingsDiscriminator:()=>GE});var HE=[206,57,50,8,124,133,138,112],W_=class _m{constructor(e,r){this.value=e,this.bump=r}static fromArgs(e){return new _m(e.value,e.bump)}static fromAccountInfo(e,r=0){return _m.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find Confirmations account at ${r}`);return _m.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new it("7a4WjyR8VZ7yZz5XJAKm39BUGn5iT9CKcv2pmG9tdXVH")){return Pe.GpaBuilder.fromStruct(e,Gm)}static deserialize(e,r=0){return Gm.deserialize(e,r)}serialize(){return Gm.serialize({accountDiscriminator:HE,...this})}static byteSize(e){const r=_m.fromArgs(e);return Gm.toFixedFromValue({accountDiscriminator:HE,...r}).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(_m.byteSize(e),n)}pretty(){return{value:this.value,bump:this.bump}}},Gm=new B.FixableBeetStruct([["accountDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["value",B.coption(B.u64)],["bump",B.u8]],W_.fromArgs,"Confirmations"),qE=[162,159,153,188,56,65,245,58],Mf=class Am{constructor(e,r){this.bump=e,this.uln=r}static fromArgs(e){return new Am(e.bump,e.uln)}static fromAccountInfo(e,r=0){return Am.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find ReceiveConfig account at ${r}`);return Am.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new it("7a4WjyR8VZ7yZz5XJAKm39BUGn5iT9CKcv2pmG9tdXVH")){return Pe.GpaBuilder.fromStruct(e,Ym)}static deserialize(e,r=0){return Ym.deserialize(e,r)}serialize(){return Ym.serialize({accountDiscriminator:qE,...this})}static byteSize(e){const r=Am.fromArgs(e);return Ym.toFixedFromValue({accountDiscriminator:qE,...r}).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(Am.byteSize(e),n)}pretty(){return{bump:this.bump,uln:this.uln}}},Ym=new B.FixableBeetStruct([["accountDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["bump",B.u8],["uln",xa]],Mf.fromArgs,"ReceiveConfig"),VE=[91,221,135,137,131,199,174,25],ch=class xm{constructor(e,r,n){this.bump=e,this.uln=r,this.executor=n}static fromArgs(e){return new xm(e.bump,e.uln,e.executor)}static fromAccountInfo(e,r=0){return xm.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find SendConfig account at ${r}`);return xm.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new it("7a4WjyR8VZ7yZz5XJAKm39BUGn5iT9CKcv2pmG9tdXVH")){return Pe.GpaBuilder.fromStruct(e,Zm)}static deserialize(e,r=0){return Zm.deserialize(e,r)}serialize(){return Zm.serialize({accountDiscriminator:VE,...this})}static byteSize(e){const r=xm.fromArgs(e);return Zm.toFixedFromValue({accountDiscriminator:VE,...r}).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(xm.byteSize(e),n)}pretty(){return{bump:this.bump,uln:this.uln,executor:this.executor}}},Zm=new B.FixableBeetStruct([["accountDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["bump",B.u8],["uln",xa],["executor",Gh]],ch.fromArgs,"SendConfig"),GE=[226,199,100,253,38,115,167,154],j_=class Em{constructor(e,r,n,i,s,o){this.eid=e,this.endpoint=r,this.endpointProgram=n,this.bump=i,this.admin=s,this.treasury=o}static fromArgs(e){return new Em(e.eid,e.endpoint,e.endpointProgram,e.bump,e.admin,e.treasury)}static fromAccountInfo(e,r=0){return Em.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find UlnSettings account at ${r}`);return Em.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new it("7a4WjyR8VZ7yZz5XJAKm39BUGn5iT9CKcv2pmG9tdXVH")){return Pe.GpaBuilder.fromStruct(e,Xm)}static deserialize(e,r=0){return Xm.deserialize(e,r)}serialize(){return Xm.serialize({accountDiscriminator:GE,...this})}static byteSize(e){const r=Em.fromArgs(e);return Xm.toFixedFromValue({accountDiscriminator:GE,...r}).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(Em.byteSize(e),n)}pretty(){return{eid:this.eid,endpoint:this.endpoint.toBase58(),endpointProgram:this.endpointProgram.toBase58(),bump:this.bump,admin:this.admin.toBase58(),treasury:this.treasury}}},Xm=new B.FixableBeetStruct([["accountDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["eid",B.u32],["endpoint",Pe.publicKey],["endpointProgram",Pe.publicKey],["bump",B.u8],["admin",Pe.publicKey],["treasury",B.coption(z_)]],j_.fromArgs,"UlnSettings"),Hde={Confirmations:W_,ReceiveConfig:Mf,SendConfig:ch,UlnSettings:j_},qde={};Fr(qde,{AtLeastOneDVNError:()=>kI,ExceededMaxMessageSizeError:()=>OI,ExceededU128Error:()=>GI,InsufficientFeeError:()=>zI,InvalidAccountLengthError:()=>DI,InvalidAmountError:()=>vI,InvalidBpsError:()=>BI,InvalidConfigTypeError:()=>KI,InvalidConfirmationError:()=>HI,InvalidConfirmationsError:()=>EI,InvalidDvnError:()=>$I,InvalidDvnProgramError:()=>FI,InvalidEidError:()=>MI,InvalidExecutorError:()=>wI,InvalidExecutorProgramError:()=>LI,InvalidLzTokenMintError:()=>jI,InvalidOptionTypeError:()=>NI,InvalidOptionalDVNCountError:()=>AI,InvalidOptionalDVNThresholdError:()=>xI,InvalidPacketVersionError:()=>RI,InvalidPayerError:()=>ZI,InvalidRequiredDVNCountError:()=>_I,InvalidTreasuryError:()=>WI,InvalidTreasuryFeeCapError:()=>II,InvalidType1SizeError:()=>qI,InvalidType2SizeError:()=>VI,InvalidWorkerIdError:()=>PI,LzTokenUnavailableError:()=>UI,NonSignerError:()=>YI,UnauthorizedError:()=>bI,UnsortedError:()=>TI,VerifyingError:()=>CI,ZeroMessageSizeError:()=>SI,errorFromCode:()=>khe,errorFromName:()=>The});var $r=new Map,Ur=new Map,bI=class Vde extends Error{constructor(){super(""),this.code=6e3,this.name="Unauthorized",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Vde)}};$r.set(6e3,()=>new bI);Ur.set("Unauthorized",()=>new bI);var vI=class Gde extends Error{constructor(){super(""),this.code=6001,this.name="InvalidAmount",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Gde)}};$r.set(6001,()=>new vI);Ur.set("InvalidAmount",()=>new vI);var wI=class Yde extends Error{constructor(){super(""),this.code=6002,this.name="InvalidExecutor",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Yde)}};$r.set(6002,()=>new wI);Ur.set("InvalidExecutor",()=>new wI);var SI=class Zde extends Error{constructor(){super(""),this.code=6003,this.name="ZeroMessageSize",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Zde)}};$r.set(6003,()=>new SI);Ur.set("ZeroMessageSize",()=>new SI);var _I=class Xde extends Error{constructor(){super(""),this.code=6004,this.name="InvalidRequiredDVNCount",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Xde)}};$r.set(6004,()=>new _I);Ur.set("InvalidRequiredDVNCount",()=>new _I);var AI=class Jde extends Error{constructor(){super(""),this.code=6005,this.name="InvalidOptionalDVNCount",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Jde)}};$r.set(6005,()=>new AI);Ur.set("InvalidOptionalDVNCount",()=>new AI);var xI=class Qde extends Error{constructor(){super(""),this.code=6006,this.name="InvalidOptionalDVNThreshold",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Qde)}};$r.set(6006,()=>new xI);Ur.set("InvalidOptionalDVNThreshold",()=>new xI);var EI=class ehe extends Error{constructor(){super(""),this.code=6007,this.name="InvalidConfirmations",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ehe)}};$r.set(6007,()=>new EI);Ur.set("InvalidConfirmations",()=>new EI);var kI=class the extends Error{constructor(){super(""),this.code=6008,this.name="AtLeastOneDVN",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,the)}};$r.set(6008,()=>new kI);Ur.set("AtLeastOneDVN",()=>new kI);var TI=class rhe extends Error{constructor(){super(""),this.code=6009,this.name="Unsorted",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,rhe)}};$r.set(6009,()=>new TI);Ur.set("Unsorted",()=>new TI);var II=class nhe extends Error{constructor(){super(""),this.code=6010,this.name="InvalidTreasuryFeeCap",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,nhe)}};$r.set(6010,()=>new II);Ur.set("InvalidTreasuryFeeCap",()=>new II);var RI=class ihe extends Error{constructor(){super(""),this.code=6011,this.name="InvalidPacketVersion",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ihe)}};$r.set(6011,()=>new RI);Ur.set("InvalidPacketVersion",()=>new RI);var MI=class she extends Error{constructor(){super(""),this.code=6012,this.name="InvalidEid",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,she)}};$r.set(6012,()=>new MI);Ur.set("InvalidEid",()=>new MI);var CI=class ohe extends Error{constructor(){super(""),this.code=6013,this.name="Verifying",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ohe)}};$r.set(6013,()=>new CI);Ur.set("Verifying",()=>new CI);var PI=class ahe extends Error{constructor(){super(""),this.code=6014,this.name="InvalidWorkerId",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ahe)}};$r.set(6014,()=>new PI);Ur.set("InvalidWorkerId",()=>new PI);var NI=class uhe extends Error{constructor(){super(""),this.code=6015,this.name="InvalidOptionType",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,uhe)}};$r.set(6015,()=>new NI);Ur.set("InvalidOptionType",()=>new NI);var BI=class che extends Error{constructor(){super(""),this.code=6016,this.name="InvalidBps",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,che)}};$r.set(6016,()=>new BI);Ur.set("InvalidBps",()=>new BI);var OI=class lhe extends Error{constructor(){super(""),this.code=6017,this.name="ExceededMaxMessageSize",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,lhe)}};$r.set(6017,()=>new OI);Ur.set("ExceededMaxMessageSize",()=>new OI);var LI=class fhe extends Error{constructor(){super(""),this.code=6018,this.name="InvalidExecutorProgram",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,fhe)}};$r.set(6018,()=>new LI);Ur.set("InvalidExecutorProgram",()=>new LI);var DI=class dhe extends Error{constructor(){super(""),this.code=6019,this.name="InvalidAccountLength",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,dhe)}};$r.set(6019,()=>new DI);Ur.set("InvalidAccountLength",()=>new DI);var FI=class hhe extends Error{constructor(){super(""),this.code=6020,this.name="InvalidDvnProgram",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,hhe)}};$r.set(6020,()=>new FI);Ur.set("InvalidDvnProgram",()=>new FI);var $I=class phe extends Error{constructor(){super(""),this.code=6021,this.name="InvalidDvn",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,phe)}};$r.set(6021,()=>new $I);Ur.set("InvalidDvn",()=>new $I);var UI=class ghe extends Error{constructor(){super(""),this.code=6022,this.name="LzTokenUnavailable",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ghe)}};$r.set(6022,()=>new UI);Ur.set("LzTokenUnavailable",()=>new UI);var zI=class mhe extends Error{constructor(){super(""),this.code=6023,this.name="InsufficientFee",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,mhe)}};$r.set(6023,()=>new zI);Ur.set("InsufficientFee",()=>new zI);var WI=class yhe extends Error{constructor(){super(""),this.code=6024,this.name="InvalidTreasury",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,yhe)}};$r.set(6024,()=>new WI);Ur.set("InvalidTreasury",()=>new WI);var jI=class bhe extends Error{constructor(){super(""),this.code=6025,this.name="InvalidLzTokenMint",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,bhe)}};$r.set(6025,()=>new jI);Ur.set("InvalidLzTokenMint",()=>new jI);var KI=class vhe extends Error{constructor(){super(""),this.code=6026,this.name="InvalidConfigType",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,vhe)}};$r.set(6026,()=>new KI);Ur.set("InvalidConfigType",()=>new KI);var HI=class whe extends Error{constructor(){super(""),this.code=6027,this.name="InvalidConfirmation",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,whe)}};$r.set(6027,()=>new HI);Ur.set("InvalidConfirmation",()=>new HI);var qI=class She extends Error{constructor(){super(""),this.code=6028,this.name="InvalidType1Size",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,She)}};$r.set(6028,()=>new qI);Ur.set("InvalidType1Size",()=>new qI);var VI=class _he extends Error{constructor(){super(""),this.code=6029,this.name="InvalidType2Size",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,_he)}};$r.set(6029,()=>new VI);Ur.set("InvalidType2Size",()=>new VI);var GI=class Ahe extends Error{constructor(){super(""),this.code=6030,this.name="ExceededU128",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Ahe)}};$r.set(6030,()=>new GI);Ur.set("ExceededU128",()=>new GI);var YI=class xhe extends Error{constructor(){super(""),this.code=6031,this.name="NonSigner",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,xhe)}};$r.set(6031,()=>new YI);Ur.set("NonSigner",()=>new YI);var ZI=class Ehe extends Error{constructor(){super(""),this.code=6032,this.name="InvalidPayer",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Ehe)}};$r.set(6032,()=>new ZI);Ur.set("InvalidPayer",()=>new ZI);function khe(t){const e=$r.get(t);return e!=null?e():null}function The(t){const e=Ur.get(t);return e!=null?e():null}var Ihe={};Fr(Ihe,{closeVerifyInstructionDiscriminator:()=>sD,closeVerifyStruct:()=>iD,commitVerificationInstructionDiscriminator:()=>cD,commitVerificationStruct:()=>uD,createCloseVerifyInstruction:()=>oD,createCloseVerifyInstructionAccounts:()=>Rhe,createCommitVerificationInstruction:()=>lD,createCommitVerificationInstructionAccounts:()=>Mhe,createInitConfigInstruction:()=>Che,createInitConfigInstructionAccounts:()=>pD,createInitDefaultConfigInstruction:()=>bD,createInitDefaultConfigInstructionAccounts:()=>Phe,createInitUlnInstruction:()=>_D,createInitUlnInstructionAccounts:()=>Nhe,createInitVerifyInstruction:()=>kD,createInitVerifyInstructionAccounts:()=>Bhe,createQuoteInstruction:()=>Ohe,createQuoteInstructionAccounts:()=>MD,createSendInstruction:()=>Lhe,createSendInstructionAccounts:()=>BD,createSendWithLzTokenInstruction:()=>Dhe,createSendWithLzTokenInstructionAccounts:()=>Fhe,createSetConfigInstruction:()=>$he,createSetConfigInstructionAccounts:()=>zD,createSetDefaultConfigInstruction:()=>HD,createSetDefaultConfigInstructionAccounts:()=>Uhe,createSetTreasuryInstruction:()=>YD,createSetTreasuryInstructionAccounts:()=>zhe,createTransferAdminInstruction:()=>QD,createTransferAdminInstructionAccounts:()=>Whe,createVerifyInstruction:()=>nF,createVerifyInstructionAccounts:()=>jhe,createVersionInstruction:()=>Khe,createVersionInstructionAccounts:()=>Hhe,createWithdrawRentInstruction:()=>qhe,createWithdrawRentInstructionAccounts:()=>Vhe,initConfigInstructionDiscriminator:()=>hD,initConfigStruct:()=>dD,initDefaultConfigInstructionDiscriminator:()=>yD,initDefaultConfigStruct:()=>mD,initUlnInstructionDiscriminator:()=>SD,initUlnStruct:()=>wD,initVerifyInstructionDiscriminator:()=>ED,initVerifyStruct:()=>xD,quoteInstructionDiscriminator:()=>RD,quoteStruct:()=>ID,sendInstructionDiscriminator:()=>ND,sendStruct:()=>PD,sendWithLzTokenInstructionDiscriminator:()=>DD,sendWithLzTokenStruct:()=>LD,setConfigInstructionDiscriminator:()=>UD,setConfigStruct:()=>$D,setDefaultConfigInstructionDiscriminator:()=>KD,setDefaultConfigStruct:()=>jD,setTreasuryInstructionDiscriminator:()=>GD,setTreasuryStruct:()=>VD,transferAdminInstructionDiscriminator:()=>JD,transferAdminStruct:()=>XD,verifyInstructionDiscriminator:()=>rF,verifyStruct:()=>tF,versionInstructionDiscriminator:()=>sF,versionStruct:()=>iF,withdrawRentInstructionDiscriminator:()=>uF,withdrawRentStruct:()=>aF});var nD=new B.BeetArgsStruct([["packetHeaderHash",B.uniformFixedSizeArray(B.u8,32)],["payloadHash",B.uniformFixedSizeArray(B.u8,32)]],"CloseVerifyParams"),iD=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",nD]],"CloseVerifyInstructionArgs"),sD=[44,133,228,138,169,242,53,36];function oD(t,e,r){const[n]=iD.serialize({instructionDiscriminator:sD,...e}),i=[{pubkey:t.dvn,isWritable:!1,isSigner:!0},{pubkey:t.receiver,isWritable:!0,isSigner:!1},{pubkey:t.confirmations,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function Rhe(t,e){const r=[{pubkey:t.dvn,isWritable:!1,isSigner:!0},{pubkey:t.receiver,isWritable:!0,isSigner:!1},{pubkey:t.confirmations,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var aD=new B.BeetArgsStruct([["packetHeader",B.uniformFixedSizeArray(B.u8,81)],["payloadHash",B.uniformFixedSizeArray(B.u8,32)]],"CommitVerificationParams"),uD=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",aD]],"CommitVerificationInstructionArgs"),cD=[194,120,44,252,140,215,139,103];function lD(t,e,r){const[n]=uD.serialize({instructionDiscriminator:cD,...e}),i=[{pubkey:t.receiveConfig,isWritable:!1,isSigner:!1},{pubkey:t.defaultReceiveConfig,isWritable:!1,isSigner:!1},{pubkey:t.uln,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function Mhe(t,e){const r=[{pubkey:t.receiveConfig,isWritable:!1,isSigner:!1},{pubkey:t.defaultReceiveConfig,isWritable:!1,isSigner:!1},{pubkey:t.uln,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var fD=new B.BeetArgsStruct([["oapp",Pe.publicKey],["eid",B.u32]],"InitConfigParams"),dD=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",fD]],"InitConfigInstructionArgs"),hD=[23,235,115,232,168,96,1,231];function Che(t,e,r){const[n]=dD.serialize({instructionDiscriminator:hD,...e}),i=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.uln,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!0,isSigner:!1},{pubkey:t.receiveConfig,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function pD(t,e){const r=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.uln,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!0,isSigner:!1},{pubkey:t.receiveConfig,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var gD=new B.FixableBeetArgsStruct([["eid",B.u32],["sendUlnConfig",xa],["receiveUlnConfig",xa],["executorConfig",Gh]],"InitDefaultConfigParams"),mD=new B.FixableBeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",gD]],"InitDefaultConfigInstructionArgs"),yD=[98,218,197,194,173,179,112,21];function bD(t,e,r){const[n]=mD.serialize({instructionDiscriminator:yD,...e}),i=[{pubkey:t.admin,isWritable:!0,isSigner:!0},{pubkey:t.uln,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!0,isSigner:!1},{pubkey:t.receiveConfig,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function Phe(t,e){const r=[{pubkey:t.admin,isWritable:!0,isSigner:!0},{pubkey:t.uln,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!0,isSigner:!1},{pubkey:t.receiveConfig,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var vD=new B.BeetArgsStruct([["eid",B.u32],["endpoint",Pe.publicKey],["endpointProgram",Pe.publicKey],["admin",Pe.publicKey]],"InitUlnParams"),wD=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",vD]],"InitUlnInstructionArgs"),SD=[19,215,207,92,197,112,119,240];function _D(t,e,r){const[n]=wD.serialize({instructionDiscriminator:SD,...e}),i=[{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.uln,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function Nhe(t,e){const r=[{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.uln,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var AD=new B.BeetArgsStruct([["packetHeader",B.uniformFixedSizeArray(B.u8,81)],["payloadHash",B.uniformFixedSizeArray(B.u8,32)],["dvn",Pe.publicKey]],"InitVerifyParams"),xD=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",AD]],"InitVerifyInstructionArgs"),ED=[76,246,244,124,115,17,235,91];function kD(t,e,r){const[n]=xD.serialize({instructionDiscriminator:ED,...e}),i=[{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.confirmations,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function Bhe(t,e){const r=[{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.confirmations,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var K_=new B.FixableBeetArgsStruct([["nonce",B.u64],["srcEid",B.u32],["sender",Pe.publicKey],["dstEid",B.u32],["receiver",B.uniformFixedSizeArray(B.u8,32)],["guid",B.uniformFixedSizeArray(B.u8,32)],["message",B.bytes]],"Packet"),TD=new B.FixableBeetArgsStruct([["packet",K_],["options",B.bytes],["payInLzToken",B.bool]],"QuoteParams"),ID=new B.FixableBeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",TD]],"QuoteInstructionArgs"),RD=[149,42,109,247,134,146,213,123];function Ohe(t,e,r){const[n]=ID.serialize({instructionDiscriminator:RD,...e}),i=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.uln,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!1,isSigner:!1},{pubkey:t.defaultSendConfig,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function MD(t,e){const r=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.uln,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!1,isSigner:!1},{pubkey:t.defaultSendConfig,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var CD=new B.FixableBeetArgsStruct([["packet",K_],["options",B.bytes],["nativeFee",B.u64]],"SendParams"),PD=new B.FixableBeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",CD]],"SendInstructionArgs"),ND=[102,251,20,187,65,75,12,69];function Lhe(t,e,r){const[n]=PD.serialize({instructionDiscriminator:ND,...e}),i=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.uln,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!1,isSigner:!1},{pubkey:t.defaultSendConfig,isWritable:!1,isSigner:!1},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.treasury??r,isWritable:t.treasury!=null,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function BD(t,e){const r=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.uln,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!1,isSigner:!1},{pubkey:t.defaultSendConfig,isWritable:!1,isSigner:!1},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.treasury??e,isWritable:t.treasury!=null,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var OD=new B.FixableBeetArgsStruct([["packet",K_],["options",B.bytes],["nativeFee",B.u64],["lzTokenFee",B.u64],["lzTokenMint",Pe.publicKey]],"SendWithLzTokenParams"),LD=new B.FixableBeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",OD]],"SendWithLzTokenInstructionArgs"),DD=[165,161,84,48,129,26,193,19];function Dhe(t,e,r){const[n]=LD.serialize({instructionDiscriminator:DD,...e}),i=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.uln,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!1,isSigner:!1},{pubkey:t.defaultSendConfig,isWritable:!1,isSigner:!1},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1},{pubkey:t.lzTokenSource,isWritable:!0,isSigner:!1},{pubkey:t.lzTokenTreasury,isWritable:!0,isSigner:!1},{pubkey:t.lzTokenMint,isWritable:!1,isSigner:!1},{pubkey:t.tokenProgram??BT,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function Fhe(t,e){const r=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.uln,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!1,isSigner:!1},{pubkey:t.defaultSendConfig,isWritable:!1,isSigner:!1},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1},{pubkey:t.lzTokenSource,isWritable:!0,isSigner:!1},{pubkey:t.lzTokenTreasury,isWritable:!0,isSigner:!1},{pubkey:t.lzTokenMint,isWritable:!1,isSigner:!1},{pubkey:t.tokenProgram??BT,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var FD=new B.FixableBeetArgsStruct([["oapp",Pe.publicKey],["eid",B.u32],["configType",B.u32],["config",B.bytes]],"SetConfigParams"),$D=new B.FixableBeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",FD]],"SetConfigInstructionArgs"),UD=[108,158,154,175,212,98,52,66];function $he(t,e,r){const[n]=$D.serialize({instructionDiscriminator:UD,...e}),i=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.uln,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!0,isSigner:!1},{pubkey:t.receiveConfig,isWritable:!0,isSigner:!1},{pubkey:t.defaultSendConfig,isWritable:!1,isSigner:!1},{pubkey:t.defaultReceiveConfig,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function zD(t,e){const r=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.uln,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!0,isSigner:!1},{pubkey:t.receiveConfig,isWritable:!0,isSigner:!1},{pubkey:t.defaultSendConfig,isWritable:!1,isSigner:!1},{pubkey:t.defaultReceiveConfig,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var WD=new B.FixableBeetArgsStruct([["eid",B.u32],["sendUlnConfig",B.coption(xa)],["receiveUlnConfig",B.coption(xa)],["executorConfig",B.coption(Gh)]],"SetDefaultConfigParams"),jD=new B.FixableBeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",WD]],"SetDefaultConfigInstructionArgs"),KD=[111,228,17,75,5,76,213,169];function HD(t,e,r){const[n]=jD.serialize({instructionDiscriminator:KD,...e}),i=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.uln,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!0,isSigner:!1},{pubkey:t.receiveConfig,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function Uhe(t,e){const r=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.uln,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!0,isSigner:!1},{pubkey:t.receiveConfig,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var qD=new B.FixableBeetArgsStruct([["treasury",B.coption(z_)]],"SetTreasuryParams"),VD=new B.FixableBeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",qD]],"SetTreasuryInstructionArgs"),GD=[57,97,196,95,195,206,106,136];function YD(t,e,r){const[n]=VD.serialize({instructionDiscriminator:GD,...e}),i=[{pubkey:t.signer,isWritable:!1,isSigner:!0},{pubkey:t.uln,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function zhe(t,e){const r=[{pubkey:t.signer,isWritable:!1,isSigner:!0},{pubkey:t.uln,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var ZD=new B.BeetArgsStruct([["admin",Pe.publicKey]],"TransferAdminParams"),XD=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",ZD]],"TransferAdminInstructionArgs"),JD=[42,242,66,106,228,10,111,156];function QD(t,e,r){const[n]=XD.serialize({instructionDiscriminator:JD,...e}),i=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.uln,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function Whe(t,e){const r=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.uln,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var eF=new B.BeetArgsStruct([["packetHeader",B.uniformFixedSizeArray(B.u8,81)],["payloadHash",B.uniformFixedSizeArray(B.u8,32)],["confirmations",B.u64]],"VerifyParams"),tF=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",eF]],"VerifyInstructionArgs"),rF=[133,161,141,48,120,198,88,150];function nF(t,e,r){const[n]=tF.serialize({instructionDiscriminator:rF,...e}),i=[{pubkey:t.dvn,isWritable:!1,isSigner:!0},{pubkey:t.confirmations,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function jhe(t,e){const r=[{pubkey:t.dvn,isWritable:!1,isSigner:!0},{pubkey:t.confirmations,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var iF=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)]],"VersionInstructionArgs"),sF=[118,65,195,198,129,216,252,192];function Khe(t){const[e]=iF.serialize({instructionDiscriminator:sF}),r=[];return new ot({programId:t,keys:r,data:e})}function Hhe(t){return[]}var oF=new B.BeetArgsStruct([["amount",B.u64]],"WithdrawRentParams"),aF=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",oF]],"WithdrawRentInstructionArgs"),uF=[226,7,41,158,173,111,192,107];function qhe(t,e,r){const[n]=aF.serialize({instructionDiscriminator:uF,...e}),i=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.uln,isWritable:!0,isSigner:!1},{pubkey:t.receiver,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function Vhe(t,e){const r=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.uln,isWritable:!0,isSigner:!1},{pubkey:t.receiver,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Ghe={};Fr(Ghe,{closeVerifyParamsBeet:()=>nD,commitVerificationParamsBeet:()=>aD,configBeet:()=>O7,executorConfigBeet:()=>Gh,initConfigParamsBeet:()=>fD,initDefaultConfigParamsBeet:()=>gD,initUlnParamsBeet:()=>vD,initVerifyParamsBeet:()=>AD,isConfigExecutor:()=>Sde,isConfigReceiveUln:()=>wde,isConfigSendUln:()=>vde,lzTokenTreasuryBeet:()=>D7,messagingFeeBeet:()=>Yhe,packetBeet:()=>K_,quoteParamsBeet:()=>TD,sendParamsBeet:()=>CD,sendWithLzTokenParamsBeet:()=>OD,setConfigParamsBeet:()=>FD,setDefaultConfigParamsBeet:()=>WD,setTreasuryParamsBeet:()=>qD,transferAdminParamsBeet:()=>ZD,treasuryBeet:()=>z_,treasuryFeeBeet:()=>L7,ulnConfigBeet:()=>xa,verifyParamsBeet:()=>eF,versionBeet:()=>Zhe,withdrawRentParamsBeet:()=>oF,workerFeeBeet:()=>KE});var Yhe=new B.BeetArgsStruct([["nativeFee",B.u64],["lzTokenFee",B.u64]],"MessagingFee"),Zhe=new B.BeetArgsStruct([["major",B.u64],["minor",B.u8],["endpointVersion",B.u8]],"Version"),Xhe="7a4WjyR8VZ7yZz5XJAKm39BUGn5iT9CKcv2pmG9tdXVH",yJe=new it(Xhe),bJe=class{constructor(t){this.program=t,this.deriver=new KYe(t);const[e]=new Lp(t).eventAuthority();this.eventAuthorityPDA=e}initUln(t,e,r,n){const[i]=this.deriver.setting(),[s]=this.deriver.messageLib(),[o]=new $E(t).messageLibraryInfo(s);return _D({payer:e,uln:i},{params:{eid:n,admin:r,endpoint:o,endpointProgram:t}},this.program)}async initOrUpdateDefaultConfig(t,e,r,n,i,s,o){const[a]=this.deriver.setting(),[u]=this.deriver.defaultSendConfig(r),[f]=this.deriver.defaultReceiveConfig(r);return await t.getAccountInfo(u,o)?HD({admin:e,uln:a,sendConfig:u,receiveConfig:f,eventAuthority:this.eventAuthorityPDA,program:this.program},{params:{eid:r,sendUlnConfig:n,receiveUlnConfig:i,executorConfig:s}},this.program):bD({admin:e,uln:a,sendConfig:u,receiveConfig:f,eventAuthority:this.eventAuthorityPDA,program:this.program},{params:{eid:r,sendUlnConfig:n,receiveUlnConfig:i,executorConfig:s}},this.program)}async setTreasury(t,e){const[r]=this.deriver.setting(),n=YD({signer:t,uln:r,eventAuthority:this.eventAuthorityPDA,program:this.program},{params:{treasury:e}},this.program);return Promise.resolve(n)}async transferAdmin(t,e,r,n){const[i]=this.deriver.setting();if(!await t.getAccountInfo(i,n))throw new Error("uln not initialized");return QD({admin:e,uln:i,eventAuthority:this.eventAuthorityPDA,program:this.program},{params:{admin:r}},this.program)}async getQuoteIXAccountMetaForCPI(t,e,r,n){const{sender:i,dstEid:s}=r,o=new it(Li(i)),[a]=this.deriver.defaultSendConfig(s),[u]=this.deriver.sendConfig(s,o),[f]=this.deriver.setting(),d=await this.getSendIxRemainingAccounts(t,o,s,!1,n);return MD({endpoint:it.default,uln:f,sendConfig:u,defaultSendConfig:a,anchorRemainingAccounts:d},this.program).slice(1)}async getSendIXAccountMetaForCPI(t,e,r,n="confirmed"){var A;const{sender:i,dstEid:s}=r,o=new it(Li(i)),[a]=this.deriver.sendConfig(s,o),[u]=this.deriver.defaultSendConfig(s),[f]=this.deriver.setting(),d=await this.getSetting(t,n),g=(A=d==null?void 0:d.treasury)==null?void 0:A.nativeReceiver,y=await this.getSendIxRemainingAccounts(t,o,s,!0,n),b=BD({endpoint:it.default,uln:f,sendConfig:a,defaultSendConfig:u,payer:e,treasury:g,eventAuthority:this.eventAuthorityPDA,program:this.program,anchorRemainingAccounts:y},this.program);if(b.forEach(x=>{e.equals(x.pubkey)||(x.isSigner=!1)}),g){const x=b.findIndex(k=>k.pubkey.toBase58()==g.toBase58());b[x].isWritable=!0}return b.slice(1)}async getSendIxRemainingAccounts(t,e,r,n,i="confirmed"){const{executor:s,dvns:o}=await this.getWorkers(t,e,r,i),a=new Array;[s.config,...o.map(y=>y.config)].forEach(y=>{a.find(b=>b.equals(y.priceFeed))||a.push(y.priceFeed)});const f=(await t.getMultipleAccountsInfo(a,i)).reduce((y,b,A)=>(Gv(b,`priceFeed:${a[A].toBase58()} not initialized`),y.set(a[A].toBase58(),b.owner),y),new Map),d=new jde(s.owner).getQuoteIXAccountMetaForCPI(s.config.priceFeed,f.get(s.config.priceFeed.toBase58()),n),g=o.map((y,b)=>new Hfe(y.owner).getQuoteIXAccountMetaForCPI(y.config.priceFeed,f.get(y.config.priceFeed.toBase58()),n));return d.concat(g.flat())}async getWorkers(t,e,r,n="confirmed"){const[i]=this.deriver.defaultSendConfig(r),[s]=this.deriver.sendConfig(r,e),[o,a]=await t.getMultipleAccountsInfo([i,s],n);Gv(o);const[u]=ch.fromAccountInfo(o);let{executor:f,uln:{requiredDvns:d,optionalDvns:g}}=u;const y=a?ch.fromAccountInfo(a)[0]:null;y!=null&&y.executor&&!y.executor.executor.equals(it.default)&&({executor:f}=y),y&&y.uln.requiredDvns.length>0&&(d=y.uln.requiredDvns.filter(k=>!k.equals(it.default))),y&&y.uln.optionalDvns.length>0&&(g=y.uln.optionalDvns.filter(k=>!k.equals(it.default)));const b=d.concat(g),[A,...x]=await t.getMultipleAccountsInfo([f.executor,...b],n);return Gv(A,`executor:${f.executor.toBase58()} not initialized`),{executor:{config:t7.ExecutorConfig.fromAccountInfo(A)[0],owner:A.owner},dvns:x.map((k,I)=>(Gv(k,`dvn:${b[I].toBase58()} not initialized`),{config:x9.DvnConfig.fromAccountInfo(k)[0],owner:k.owner}))}}async initVerify(t,e,r,n,i){const s=im.fromBytes(n),o=s.headerHash(),a=Uint8Array.from(we.Buffer.from(o.slice(2),"hex")),u=s.payloadHash(),f=Uint8Array.from(we.Buffer.from(u.slice(2),"hex")),[d]=this.deriver.confirmations(a,f,r);return await t.getAccountInfo(d,i)?null:kD({payer:e,confirmations:d},{params:{packetHeader:Array.from(Uint8Array.from(we.Buffer.from(s.header().slice(2),"hex"))),payloadHash:Array.from(f),dvn:r}},this.program)}verify(t,e,r){const n=im.fromBytes(e),i=n.headerHash(),s=Uint8Array.from(we.Buffer.from(i.slice(2),"hex")),o=n.payloadHash(),a=Uint8Array.from(we.Buffer.from(o.slice(2),"hex")),[u]=this.deriver.confirmations(s,a,t);return nF({dvn:t,confirmations:u,eventAuthority:this.eventAuthorityPDA,program:this.program},{params:{packetHeader:Array.from(Uint8Array.from(we.Buffer.from(n.header().slice(2),"hex"))),payloadHash:Array.from(a),confirmations:typeof r=="string"?new Mr(r):r}},this.program)}closeVerify(t,e,r){const n=im.fromBytes(r),i=n.headerHash(),s=Uint8Array.from(we.Buffer.from(i.slice(2),"hex")),o=n.payloadHash(),a=Uint8Array.from(we.Buffer.from(o.slice(2),"hex")),[u]=this.deriver.confirmations(s,a,t);return oD({dvn:t,receiver:e,confirmations:u},{params:{packetHeaderHash:Array.from(s),payloadHash:Array.from(a)}},this.program)}async isDvnVerified(t,e,r,n,i="confirmed"){const s=im.fromBytes(n),o=s.headerHash(),a=Uint8Array.from(we.Buffer.from(o.slice(2),"hex")),u=s.payloadHash(),f=Uint8Array.from(we.Buffer.from(u.slice(2),"hex")),[d]=this.deriver.confirmations(a,f,r),g=new UE.Endpoint(e),y=new it(Li(s.receiver())),b=Li(s.sender()),A=await g.getNonce(t,y,s.srcEid(),b,i),x=await g.getPendingInboundNonce(t,y,s.srcEid(),b,i);if(!A||!x)return!1;if(parseInt(A.inboundNonce.toString())>=parseInt(s.nonce())||x.nonces.find(k=>k.toString()===s.nonce())!==void 0)return!0;try{return(await W_.fromAccountAddress(t,d,i)).value!==null}catch{return!1}}async commitVerification(t,e,r){const n=im.fromBytes(r),i=n.payloadHash(),s=n.srcEid(),o=new it(Li(n.receiver())),a=Uint8Array.from(we.Buffer.from(i.slice(2),"hex")),[u]=this.deriver.defaultReceiveConfig(s),[f]=this.deriver.receiveConfig(s,o),[d]=this.deriver.setting(),[g]=this.deriver.messageLib(),y=await this.getFinalReceiveConfigState(t,o,s),b=n.headerHash(),A=Uint8Array.from(we.Buffer.from(b.slice(2),"hex")),x=y.uln.requiredDvns.concat(y.uln.optionalDvns).map(R=>{const[M]=this.deriver.confirmations(A,a,R);return{pubkey:M,isSigner:!1,isWritable:!0}}),I=new UE.Endpoint(e).getVerifyIXAccountMetaForCPI(n,g);return lD({uln:d,defaultReceiveConfig:u,receiveConfig:f,anchorRemainingAccounts:x.concat(I)},{params:{packetHeader:Array.from(Li(n.header())),payloadHash:Array.from(a)}},this.program)}getInitConfigIXAccountMetaForCPI(t,e,r){const[n]=this.deriver.sendConfig(r,e),[i]=this.deriver.receiveConfig(r,e),[s]=this.deriver.setting(),o=pD({endpoint:it.default,payer:t,uln:s,sendConfig:n,receiveConfig:i},this.program);return o.forEach(a=>{t.equals(a.pubkey)||(a.isSigner=!1)}),o.slice(1)}static constructSetConfigData(t,e){switch(t){case 1:{const[r]=Gh.serialize(e);return Uint8Array.from(r)}case 2:case 3:{const[r]=xa.serialize(e);return Uint8Array.from(r)}default:throw new Error(`invalid config type: ${t}`)}}async getSetConfigIXAccountMetaForCPI(t,e,r){const[n]=this.deriver.sendConfig(r,e),[i]=this.deriver.receiveConfig(r,e),[s]=this.deriver.defaultSendConfig(r),[o]=this.deriver.defaultReceiveConfig(r),[a]=this.deriver.setting(),[u]=this.deriver.messageLib(),[f]=new $E(t).messageLibraryInfo(u),d=zD({endpoint:f,uln:a,sendConfig:n,defaultSendConfig:s,defaultReceiveConfig:o,receiveConfig:i,eventAuthority:this.eventAuthorityPDA,program:this.program},this.program);return Promise.resolve(d.slice(1))}async getSetting(t,e){const[r]=this.deriver.setting();try{return await j_.fromAccountAddress(t,r,e)}catch{return null}}async getDefaultSendConfigState(t,e,r){const[n]=this.deriver.defaultSendConfig(e);try{return await ch.fromAccountAddress(t,n,r)}catch{return null}}async getSendConfigState(t,e,r,n){const[i]=this.deriver.sendConfig(r,e);try{return await ch.fromAccountAddress(t,i,n)}catch{return null}}async getDefaultReceiveConfigState(t,e,r){const[n]=this.deriver.defaultReceiveConfig(e);try{return await Mf.fromAccountAddress(t,n,r)}catch{return null}}async getReceiveConfigState(t,e,r,n){const[i]=this.deriver.receiveConfig(r,e);try{return await Mf.fromAccountAddress(t,i,n)}catch{return null}}async getFinalReceiveConfigState(t,e,r,n="confirmed"){const i="18446744073709551615",s="255",o={confirmations:0,requiredDvnCount:0,optionalDvnCount:0,optionalDvnThreshold:0,requiredDvns:[],optionalDvns:[]},[a]=this.deriver.defaultReceiveConfig(r),[u]=this.deriver.receiveConfig(r,e),[f,d]=await t.getMultipleAccountsInfo([a,u],n);if(f==null)throw new Error(`please init default receive config first. ${a.toBase58()}`);const g=Mf.fromAccountInfo(f)[0],y=d?Mf.fromAccountInfo(d)[0]:null;if(y==null||y.uln.confirmations==0?o.confirmations=g.uln.confirmations:y.uln.confirmations.toString()!==i&&(o.confirmations=y.uln.confirmations),y==null||y.uln.requiredDvnCount==0?g.uln.requiredDvnCount>0&&(o.requiredDvns=g.uln.requiredDvns,o.requiredDvnCount=g.uln.requiredDvnCount):y.uln.requiredDvnCount.toString()!==s&&(o.requiredDvns=y.uln.requiredDvns,o.requiredDvnCount=y.uln.requiredDvnCount),y==null||y.uln.optionalDvnCount==0?g.uln.optionalDvnCount>0&&(o.optionalDvns=g.uln.optionalDvns,o.optionalDvnCount=g.uln.optionalDvnCount,o.optionalDvnThreshold=g.uln.optionalDvnThreshold):y.uln.optionalDvnCount.toString()!==s&&(o.optionalDvns=y.uln.optionalDvns,o.optionalDvnCount=y.uln.optionalDvnCount,o.optionalDvnThreshold=y.uln.optionalDvnThreshold),o.requiredDvnCount===0&&o.optionalDvnCount===0)throw new Error("no dvn");return Mf.fromArgs({bump:g.bump,uln:o})}},vJe={};Fr(vJe,{PROGRAM_ID:()=>CJe,PriceFeed:()=>PJe,accounts:()=>Jhe,instructions:()=>epe,types:()=>Epe});var Jhe={};Fr(Jhe,{PriceFeed:()=>XI,accountProviders:()=>_Je,priceFeedBeet:()=>cw,priceFeedDiscriminator:()=>O5});var wJe=t=>t.__kind==="Arbitrum",SJe=t=>t.__kind==="Optimism",cF=B.dataEnum([["Arbitrum",new B.BeetArgsStruct([["gasPerL2Tx",B.u64],["gasPerL1CalldataByte",B.u32]],'ModelTypeRecord["Arbitrum"]')],["Optimism",new B.BeetArgsStruct([["l1Eid",B.u32]],'ModelTypeRecord["Optimism"]')]]),Qhe=new B.FixableBeetArgsStruct([["eid",B.u32],["priceRatio",B.u128],["gasPriceInUnit",B.u64],["gasPerByte",B.u32],["modelType",B.coption(cF)]],"Price"),O5=[189,103,252,23,152,35,243,156],XI=class km{constructor(e,r,n,i,s,o,a){this.admin=e,this.updaters=r,this.priceRatioDenominator=n,this.arbitrumCompressionPercent=i,this.nativeTokenPriceUsd=s,this.prices=o,this.bump=a}static fromArgs(e){return new km(e.admin,e.updaters,e.priceRatioDenominator,e.arbitrumCompressionPercent,e.nativeTokenPriceUsd,e.prices,e.bump)}static fromAccountInfo(e,r=0){return km.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find PriceFeed account at ${r}`);return km.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new it("8ahPGPjEbpgGaZx2NV1iG5Shj7TDwvsjkEDcGWjt94TP")){return Pe.GpaBuilder.fromStruct(e,cw)}static deserialize(e,r=0){return cw.deserialize(e,r)}serialize(){return cw.serialize({accountDiscriminator:O5,...this})}static byteSize(e){const r=km.fromArgs(e);return cw.toFixedFromValue({accountDiscriminator:O5,...r}).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(km.byteSize(e),n)}pretty(){return{admin:this.admin.toBase58(),updaters:this.updaters,priceRatioDenominator:(()=>{const e=this.priceRatioDenominator;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),arbitrumCompressionPercent:(()=>{const e=this.arbitrumCompressionPercent;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),nativeTokenPriceUsd:this.nativeTokenPriceUsd,prices:this.prices,bump:this.bump}}},cw=new B.FixableBeetStruct([["accountDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["admin",Pe.publicKey],["updaters",B.array(Pe.publicKey)],["priceRatioDenominator",B.u128],["arbitrumCompressionPercent",B.u128],["nativeTokenPriceUsd",B.coption(B.u128)],["prices",B.array(Qhe)],["bump",B.u8]],XI.fromArgs,"PriceFeed"),_Je={PriceFeed:XI},epe={};Fr(epe,{createGetFeeInstruction:()=>AJe,createGetFeeInstructionAccounts:()=>xJe,createInitPriceFeedInstruction:()=>ape,createInitPriceFeedInstructionAccounts:()=>EJe,createSetPriceFeedInstruction:()=>mpe,createSetPriceFeedInstructionAccounts:()=>TJe,createSetPriceInstruction:()=>dpe,createSetPriceInstructionAccounts:()=>kJe,createSetSolPriceInstruction:()=>wpe,createSetSolPriceInstructionAccounts:()=>IJe,createTransferAdminInstruction:()=>xpe,createTransferAdminInstructionAccounts:()=>RJe,getFeeInstructionDiscriminator:()=>npe,getFeeStruct:()=>rpe,initPriceFeedInstructionDiscriminator:()=>ope,initPriceFeedStruct:()=>spe,setPriceFeedInstructionDiscriminator:()=>gpe,setPriceFeedStruct:()=>ppe,setPriceInstructionDiscriminator:()=>fpe,setPriceStruct:()=>lpe,setSolPriceInstructionDiscriminator:()=>vpe,setSolPriceStruct:()=>bpe,transferAdminInstructionDiscriminator:()=>Ape,transferAdminStruct:()=>_pe});var tpe=new B.BeetArgsStruct([["dstEid",B.u32],["calldataSize",B.u64],["totalGas",B.u128]],"GetFeeParams"),rpe=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",tpe]],"GetFeeInstructionArgs"),npe=[115,195,235,161,25,219,60,29];function AJe(t,e,r){const[n]=rpe.serialize({instructionDiscriminator:npe,...e}),i=[{pubkey:t.priceFeed,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function xJe(t,e){const r=[{pubkey:t.priceFeed,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var ipe=new B.FixableBeetArgsStruct([["admin",Pe.publicKey],["updaters",B.array(Pe.publicKey)]],"InitPriceFeedParams"),spe=new B.FixableBeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",ipe]],"InitPriceFeedInstructionArgs"),ope=[27,209,184,5,152,116,136,16];function ape(t,e,r){const[n]=spe.serialize({instructionDiscriminator:ope,...e}),i=[{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.priceFeed,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function EJe(t,e){const r=[{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.priceFeed,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??Kt.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var upe=new B.FixableBeetArgsStruct([["priceRatio",B.u128],["gasPriceInUnit",B.u64],["gasPerByte",B.u32],["modelType",B.coption(cF)]],"PriceParams"),cpe=new B.FixableBeetArgsStruct([["dstEid",B.u32],["params",B.coption(upe)]],"SetPriceParams"),lpe=new B.FixableBeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",cpe]],"SetPriceInstructionArgs"),fpe=[16,19,182,8,149,83,72,181];function dpe(t,e,r){const[n]=lpe.serialize({instructionDiscriminator:fpe,...e}),i=[{pubkey:t.updater,isWritable:!1,isSigner:!0},{pubkey:t.priceFeed,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function kJe(t,e){const r=[{pubkey:t.updater,isWritable:!1,isSigner:!0},{pubkey:t.priceFeed,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var hpe=new B.FixableBeetArgsStruct([["updaters",B.array(Pe.publicKey)],["priceRatioDenominator",B.u128],["arbitrumCompressionPercent",B.u128]],"SetPriceFeedParams"),ppe=new B.FixableBeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",hpe]],"SetPriceFeedInstructionArgs"),gpe=[13,15,231,129,61,7,28,122];function mpe(t,e,r){const[n]=ppe.serialize({instructionDiscriminator:gpe,...e}),i=[{pubkey:t.admin,isWritable:!0,isSigner:!0},{pubkey:t.priceFeed,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function TJe(t,e){const r=[{pubkey:t.admin,isWritable:!0,isSigner:!0},{pubkey:t.priceFeed,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var ype=new B.FixableBeetArgsStruct([["nativeTokenPriceUsd",B.coption(B.u128)]],"SetSolPriceParams"),bpe=new B.FixableBeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",ype]],"SetSolPriceInstructionArgs"),vpe=[151,237,70,191,232,81,138,214];function wpe(t,e,r){const[n]=bpe.serialize({instructionDiscriminator:vpe,...e}),i=[{pubkey:t.updater,isWritable:!1,isSigner:!0},{pubkey:t.priceFeed,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function IJe(t,e){const r=[{pubkey:t.updater,isWritable:!1,isSigner:!0},{pubkey:t.priceFeed,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Spe=new B.BeetArgsStruct([["admin",Pe.publicKey]],"TransferAdminParams"),_pe=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)],["params",Spe]],"TransferAdminInstructionArgs"),Ape=[42,242,66,106,228,10,111,156];function xpe(t,e,r){const[n]=_pe.serialize({instructionDiscriminator:Ape,...e}),i=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.priceFeed,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new ot({programId:r,keys:i,data:n})}function RJe(t,e){const r=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.priceFeed,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Epe={};Fr(Epe,{getFeeParamsBeet:()=>tpe,initPriceFeedParamsBeet:()=>ipe,isModelTypeArbitrum:()=>wJe,isModelTypeOptimism:()=>SJe,modelTypeBeet:()=>cF,priceBeet:()=>Qhe,priceParamsBeet:()=>upe,setPriceFeedParamsBeet:()=>hpe,setPriceParamsBeet:()=>cpe,setSolPriceParamsBeet:()=>ype,transferAdminParamsBeet:()=>Spe});var JI=new Map,QI=new Map,kpe=class Tpe extends Error{constructor(){super(""),this.code=6e3,this.name="TooManyUpdaters",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Tpe)}};JI.set(6e3,()=>new kpe);QI.set("TooManyUpdaters",()=>new kpe);var Ipe=class Rpe extends Error{constructor(){super(""),this.code=6001,this.name="InvalidUpdater",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Rpe)}};JI.set(6001,()=>new Ipe);QI.set("InvalidUpdater",()=>new Ipe);var Mpe=class Cpe extends Error{constructor(){super(""),this.code=6002,this.name="NotFound",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Cpe)}};JI.set(6002,()=>new Mpe);QI.set("NotFound",()=>new Mpe);var Ppe=class Npe extends Error{constructor(){super(""),this.code=6003,this.name="InvalidSize",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Npe)}};JI.set(6003,()=>new Ppe);QI.set("InvalidSize",()=>new Ppe);var MJe="8ahPGPjEbpgGaZx2NV1iG5Shj7TDwvsjkEDcGWjt94TP",CJe=new it(MJe),PJe=class{constructor(t){this.program=t,this.deriver=new VL(this.program)}async initPriceFeed(t,e,r,n,i){const[s]=this.deriver.priceFeed();if(await t.getAccountInfo(s,i))throw new Error("Pricefeed already initialized");return ape({payer:e,priceFeed:s},{params:{admin:r,updaters:n}},this.program)}setPriceFeed(t,e,r,n){const[i]=this.deriver.priceFeed();return mpe({admin:t,priceFeed:i},{params:{updaters:e,priceRatioDenominator:r,arbitrumCompressionPercent:n}},this.program)}setPrice(t,e,r,n,i,s){e=e%3e4;const[a]=this.deriver.priceFeed();return dpe({updater:t,priceFeed:a},{params:{dstEid:e,params:{priceRatio:r,gasPriceInUnit:n,gasPerByte:i,modelType:s}}},this.program)}setSolPrice(t,e){const[r]=this.deriver.priceFeed();return wpe({priceFeed:r,updater:t},{params:{nativeTokenPriceUsd:e}},this.program)}transferAdmin(t,e){const[r]=this.deriver.priceFeed();return xpe({admin:t,priceFeed:r},{params:{admin:e}},this.program)}async getPriceFeed(t,e){const[r]=this.deriver.priceFeed();try{return await XI.fromAccountAddress(t,r,e)}catch{return null}}};function NJe(t,e){return e!=null?it.findProgramAddressSync([we.Buffer.from(xV,"utf8"),e.toBytes()],t):it.findProgramAddressSync([we.Buffer.from(xV,"utf8")],t)}function BJe(t,e){return e!=null?it.findProgramAddressSync([we.Buffer.from(EV,"utf8"),e.toBytes()],t):it.findProgramAddressSync([we.Buffer.from(EV,"utf8")],t)}Yv.MAINNET+"",Yv.TESTNET+"",Yv.DEVNET+"",Yv.LOCAL+"";var OJe={};Fr(OJe,{PROGRAM_ADDRESS:()=>Lpe,PROGRAM_ID:()=>FJe,createVersionInstruction:()=>LJe,createVersionInstructionAccounts:()=>DJe,versionInstructionDiscriminator:()=>Ope,versionStruct:()=>Bpe});var Bpe=new B.BeetArgsStruct([["instructionDiscriminator",B.uniformFixedSizeArray(B.u8,8)]],"VersionInstructionArgs"),Ope=[118,65,195,198,129,216,252,192];function LJe(t){const[e]=Bpe.serialize({instructionDiscriminator:Ope}),r=[];return new ot({programId:t,keys:r,data:e})}function DJe(t){return[]}var Lpe="2XrYqmhBMPJgDsb4SVbjV1PnJBprurd5bzRCkHwiFCJB",FJe=new it(Lpe),$Je=Object.defineProperty,UJe=Object.defineProperties,zJe=Object.getOwnPropertyDescriptors,PV=Object.getOwnPropertySymbols,WJe=Object.prototype.hasOwnProperty,jJe=Object.prototype.propertyIsEnumerable,L5=(t,e,r)=>e in t?$Je(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Zl=(t,e)=>{for(var r in e||(e={}))WJe.call(e,r)&&L5(t,r,e[r]);if(PV)for(var r of PV(e))jJe.call(e,r)&&L5(t,r,e[r]);return t},Xl=(t,e)=>UJe(t,zJe(e)),r2=(t,e,r)=>(L5(t,typeof e!="symbol"?e+"":e,r),r),ja=(t,e,r)=>new Promise((n,i)=>{var s=u=>{try{a(r.next(u))}catch(f){i(f)}},o=u=>{try{a(r.throw(u))}catch(f){i(f)}},a=u=>u.done?n(u.value):Promise.resolve(u.value).then(s,o);a((r=r.apply(t,e)).next())});typeof window<"u"&&(window.__ORDERLY_VERSION__=window.__ORDERLY_VERSION__||{},window.__ORDERLY_VERSION__["@orderly.network/default-solana-adapter"]="2.0.2");var Dpe={version:"0.1.0",name:"solana_vault",instructions:[{name:"initVault",accounts:[{name:"signer",isMut:!0,isSigner:!0},{name:"vaultAuthority",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"params",type:{defined:"InitVaultParams"}}]},{name:"deposit",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"userTokenAccount",isMut:!0,isSigner:!1},{name:"vaultAuthority",isMut:!0,isSigner:!1},{name:"vaultTokenAccount",isMut:!0,isSigner:!1},{name:"depositToken",isMut:!1,isSigner:!1},{name:"peer",isMut:!1,isSigner:!1},{name:"enforcedOptions",isMut:!1,isSigner:!1},{name:"oappConfig",isMut:!1,isSigner:!1},{name:"allowedBroker",isMut:!1,isSigner:!1},{name:"allowedToken",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"depositParams",type:{defined:"DepositParams"}},{name:"oappParams",type:{defined:"OAppSendParams"}}],returns:{defined:"MessagingReceipt"}},{name:"initOapp",accounts:[{name:"payer",isMut:!0,isSigner:!0},{name:"oappConfig",isMut:!0,isSigner:!1},{name:"lzReceiveTypes",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"params",type:{defined:"InitOAppParams"}}]},{name:"resetOapp",accounts:[{name:"admin",isMut:!0,isSigner:!0},{name:"oappConfig",isMut:!0,isSigner:!1}],args:[]},{name:"reinitOapp",accounts:[{name:"owner",isMut:!0,isSigner:!0},{name:"oappConfig",isMut:!0,isSigner:!1},{name:"vaultAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"params",type:{defined:"ReinitOAppParams"}}]},{name:"resetVault",accounts:[{name:"owner",isMut:!0,isSigner:!0},{name:"vaultAuthority",isMut:!0,isSigner:!1}],args:[]},{name:"reinitVault",accounts:[{name:"admin",isMut:!0,isSigner:!0},{name:"vaultAuthority",isMut:!0,isSigner:!1},{name:"oappConfig",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"params",type:{defined:"ReinitVaultParams"}}]},{name:"setBroker",accounts:[{name:"admin",isMut:!0,isSigner:!0},{name:"allowedBroker",isMut:!0,isSigner:!1},{name:"oappConfig",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"params",type:{defined:"SetBrokerParams"}}]},{name:"setToken",accounts:[{name:"admin",isMut:!0,isSigner:!0},{name:"allowedToken",isMut:!0,isSigner:!1},{name:"oappConfig",isMut:!1,isSigner:!1},{name:"mintAccount",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"params",type:{defined:"SetTokenParams"}}]},{name:"setOrderDelivery",accounts:[{name:"owner",isMut:!0,isSigner:!0},{name:"vaultAuthority",isMut:!0,isSigner:!1}],args:[{name:"params",type:{defined:"SetOrderDeliveryParams"}}]},{name:"oappQuote",accounts:[{name:"oappConfig",isMut:!1,isSigner:!1},{name:"peer",isMut:!1,isSigner:!1},{name:"enforcedOptions",isMut:!1,isSigner:!1},{name:"vaultAuthority",isMut:!1,isSigner:!1}],args:[{name:"params",type:{defined:"DepositParams"}}],returns:{defined:"MessagingFee"}},{name:"lzReceive",accounts:[{name:"payer",isMut:!0,isSigner:!0},{name:"peer",isMut:!1,isSigner:!1},{name:"oappConfig",isMut:!1,isSigner:!1},{name:"user",isMut:!1,isSigner:!1,docs:["CHECK"]},{name:"userDepositWallet",isMut:!0,isSigner:!1},{name:"vaultAuthority",isMut:!0,isSigner:!1},{name:"vaultDepositWallet",isMut:!0,isSigner:!1},{name:"depositToken",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"eventAuthority",isMut:!1,isSigner:!1},{name:"program",isMut:!1,isSigner:!1}],args:[{name:"params",type:{defined:"OAppLzReceiveParams"}}]},{name:"lzReceiveTypes",accounts:[{name:"oappConfig",isMut:!1,isSigner:!1}],args:[{name:"params",type:{defined:"OAppLzReceiveParams"}}],returns:{vec:{defined:"oapp::endpoint_cpi::LzAccount"}}},{name:"setRateLimit",accounts:[{name:"admin",isMut:!1,isSigner:!0},{name:"peer",isMut:!0,isSigner:!1},{name:"oappConfig",isMut:!1,isSigner:!1}],args:[{name:"params",type:{defined:"SetRateLimitParams"}}]},{name:"setDelegate",accounts:[{name:"admin",isMut:!1,isSigner:!0},{name:"oappConfig",isMut:!1,isSigner:!1}],args:[{name:"params",type:{defined:"SetDelegateParams"}}]},{name:"transferAdmin",accounts:[{name:"admin",isMut:!1,isSigner:!0},{name:"oappConfig",isMut:!0,isSigner:!1}],args:[{name:"params",type:{defined:"TransferAdminParams"}}]},{name:"setPeer",accounts:[{name:"admin",isMut:!0,isSigner:!0},{name:"peer",isMut:!0,isSigner:!1},{name:"oappConfig",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"params",type:{defined:"SetPeerParams"}}]},{name:"setEnforcedOptions",accounts:[{name:"admin",isMut:!0,isSigner:!0},{name:"enforcedOptions",isMut:!0,isSigner:!1},{name:"oappConfig",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"params",type:{defined:"SetEnforcedOptionsParams"}}]}],accounts:[{name:"enforcedOptions",type:{kind:"struct",fields:[{name:"send",type:"bytes"},{name:"sendAndCall",type:"bytes"},{name:"bump",type:"u8"}]}},{name:"oAppConfig",type:{kind:"struct",fields:[{name:"endpointProgram",type:"publicKey"},{name:"bump",type:"u8"},{name:"admin",type:"publicKey"},{name:"usdcHash",type:{array:["u8",32]}},{name:"usdcMint",type:"publicKey"}]}},{name:"oAppLzReceiveTypesAccounts",type:{kind:"struct",fields:[{name:"oappConfig",type:"publicKey"}]}},{name:"peer",type:{kind:"struct",fields:[{name:"address",type:{array:["u8",32]}},{name:"rateLimiter",type:{option:{defined:"RateLimiter"}}},{name:"bump",type:"u8"}]}},{name:"allowedBroker",type:{kind:"struct",fields:[{name:"brokerHash",type:{array:["u8",32]}},{name:"allowed",type:"bool"},{name:"bump",type:"u8"}]}},{name:"allowedToken",type:{kind:"struct",fields:[{name:"mintAccount",type:"publicKey"},{name:"tokenHash",type:{array:["u8",32]}},{name:"tokenDecimals",type:"u8"},{name:"allowed",type:"bool"},{name:"bump",type:"u8"}]}},{name:"vaultAuthority",type:{kind:"struct",fields:[{name:"bump",docs:["Bump seed for the vault authority PDA"],type:"u8"},{name:"owner",type:"publicKey"},{name:"depositNonce",type:"u64"},{name:"orderDelivery",type:"bool"},{name:"inboundNonce",type:"u64"},{name:"dstEid",type:"u32"},{name:"solChainId",type:"u128"}]}}],types:[{name:"VaultDepositParams",type:{kind:"struct",fields:[{name:"accountId",type:{array:["u8",32]}},{name:"brokerHash",type:{array:["u8",32]}},{name:"userAddress",type:{array:["u8",32]}},{name:"tokenHash",type:{array:["u8",32]}},{name:"srcChainId",type:"u128"},{name:"tokenAmount",type:"u128"},{name:"srcChainDepositNonce",type:"u64"}]}},{name:"LzMessage",type:{kind:"struct",fields:[{name:"msgType",type:"u8"},{name:"payload",type:"bytes"}]}},{name:"InitOAppParams",type:{kind:"struct",fields:[{name:"admin",type:"publicKey"},{name:"endpointProgram",type:{option:"publicKey"}},{name:"usdcHash",type:{array:["u8",32]}},{name:"usdcMint",type:"publicKey"}]}},{name:"OAppLzReceiveParams",type:{kind:"struct",fields:[{name:"srcEid",type:"u32"},{name:"sender",type:{array:["u8",32]}},{name:"nonce",type:"u64"},{name:"guid",type:{array:["u8",32]}},{name:"message",type:"bytes"},{name:"extraData",type:"bytes"}]}},{name:"AccountWithdrawSol",type:{kind:"struct",fields:[{name:"accountId",type:{array:["u8",32]}},{name:"sender",type:{array:["u8",32]}},{name:"receiver",type:{array:["u8",32]}},{name:"brokerHash",type:{array:["u8",32]}},{name:"tokenHash",type:{array:["u8",32]}},{name:"tokenAmount",type:"u64"},{name:"fee",type:"u64"},{name:"chainId",type:"u64"},{name:"withdrawNonce",type:"u64"}]}},{name:"VaultWithdrawParams",type:{kind:"struct",fields:[{name:"accountId",type:{array:["u8",32]}},{name:"sender",type:{array:["u8",32]}},{name:"receiver",type:{array:["u8",32]}},{name:"brokerHash",type:{array:["u8",32]}},{name:"tokenHash",type:{array:["u8",32]}},{name:"tokenAmount",type:"u64"},{name:"fee",type:"u128"},{name:"chainId",type:"u128"},{name:"withdrawNonce",type:"u64"}]}},{name:"MessagingFee",type:{kind:"struct",fields:[{name:"nativeFee",type:"u64"},{name:"lzTokenFee",type:"u64"}]}},{name:"ReinitOAppParams",type:{kind:"struct",fields:[{name:"admin",type:"publicKey"},{name:"endpointProgram",type:{option:"publicKey"}},{name:"usdcHash",type:{array:["u8",32]}},{name:"usdcMint",type:"publicKey"}]}},{name:"SetDelegateParams",type:{kind:"struct",fields:[{name:"delegate",type:"publicKey"}]}},{name:"SetEnforcedOptionsParams",type:{kind:"struct",fields:[{name:"dstEid",type:"u32"},{name:"send",type:"bytes"},{name:"sendAndCall",type:"bytes"}]}},{name:"SetPeerParams",type:{kind:"struct",fields:[{name:"dstEid",type:"u32"},{name:"peer",type:{array:["u8",32]}}]}},{name:"SetRateLimitParams",type:{kind:"struct",fields:[{name:"dstEid",type:"u32"},{name:"refillPerSecond",type:{option:"u64"}},{name:"capacity",type:{option:"u64"}},{name:"enabled",type:"bool"}]}},{name:"TransferAdminParams",type:{kind:"struct",fields:[{name:"admin",type:"publicKey"}]}},{name:"DepositParams",type:{kind:"struct",fields:[{name:"accountId",type:{array:["u8",32]}},{name:"brokerHash",type:{array:["u8",32]}},{name:"tokenHash",type:{array:["u8",32]}},{name:"userAddress",type:{array:["u8",32]}},{name:"tokenAmount",type:"u64"}]}},{name:"OAppSendParams",type:{kind:"struct",fields:[{name:"nativeFee",type:"u64"},{name:"lzTokenFee",type:"u64"}]}},{name:"InitVaultParams",type:{kind:"struct",fields:[{name:"owner",type:"publicKey"},{name:"orderDelivery",type:"bool"},{name:"dstEid",type:"u32"},{name:"solChainId",type:"u128"}]}},{name:"ReinitVaultParams",type:{kind:"struct",fields:[{name:"owner",type:"publicKey"},{name:"dstEid",type:"u32"},{name:"depositNonce",type:"u64"},{name:"orderDelivery",type:"bool"},{name:"inboundNonce",type:"u64"},{name:"solChainId",type:"u128"}]}},{name:"SetBrokerParams",type:{kind:"struct",fields:[{name:"brokerHash",type:{array:["u8",32]}},{name:"allowed",type:"bool"}]}},{name:"SetOrderDeliveryParams",type:{kind:"struct",fields:[{name:"orderDelivery",type:"bool"},{name:"nonce",type:"u64"}]}},{name:"SetTokenParams",type:{kind:"struct",fields:[{name:"mintAccount",type:"publicKey"},{name:"tokenHash",type:{array:["u8",32]}},{name:"allowed",type:"bool"}]}},{name:"RateLimiter",type:{kind:"struct",fields:[{name:"capacity",type:"u64"},{name:"tokens",type:"u64"},{name:"refillPerSecond",type:"u64"},{name:"lastRefillTime",type:"u64"}]}},{name:"OAppError",type:{kind:"enum",variants:[{name:"Unauthorized"},{name:"InvalidSender"},{name:"InvalidOptions"},{name:"InvalidEndpointProgram"},{name:"RateLimitExceeded"},{name:"WithdrawFailed"},{name:"InvalidInboundNonce"}]}},{name:"MsgType",type:{kind:"enum",variants:[{name:"Deposit"},{name:"Withdraw"},{name:"RebalanceBurn"},{name:"RebalanceMint"}]}}],events:[{name:"SetAllowedBroker",fields:[{name:"brokerHash",type:{array:["u8",32]},index:!1}]},{name:"ResetAllowedBroker",fields:[{name:"brokerHash",type:{array:["u8",32]},index:!1}]},{name:"SetAllowedToken",fields:[{name:"tokenHash",type:{array:["u8",32]},index:!1},{name:"mintAccount",type:"publicKey",index:!1}]},{name:"ResetAllowedToken",fields:[{name:"tokenHash",type:{array:["u8",32]},index:!1},{name:"mintAccount",type:"publicKey",index:!1}]},{name:"Deposited",fields:[{name:"user",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"Withdrawn",fields:[{name:"user",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"VaultDeposited",fields:[{name:"accountId",type:{array:["u8",32]},index:!1},{name:"brokerHash",type:{array:["u8",32]},index:!1},{name:"userAddress",type:{array:["u8",32]},index:!1},{name:"tokenHash",type:{array:["u8",32]},index:!1},{name:"srcChainId",type:"u128",index:!1},{name:"tokenAmount",type:"u64",index:!1},{name:"srcChainDepositNonce",type:"u64",index:!1}]},{name:"VaultWithdrawn",fields:[{name:"accountId",type:{array:["u8",32]},index:!1},{name:"sender",type:{array:["u8",32]},index:!1},{name:"receiver",type:{array:["u8",32]},index:!1},{name:"brokerHash",type:{array:["u8",32]},index:!1},{name:"tokenHash",type:{array:["u8",32]},index:!1},{name:"tokenAmount",type:"u64",index:!1},{name:"fee",type:"u128",index:!1},{name:"chainId",type:"u128",index:!1},{name:"withdrawNonce",type:"u64",index:!1}]},{name:"OAppSent",fields:[{name:"guid",type:{array:["u8",32]},index:!1},{name:"dstEid",type:"u32",index:!1}]},{name:"OAppReceived",fields:[{name:"guid",type:{array:["u8",32]},index:!1},{name:"srcEid",type:"u32",index:!1}]}],errors:[{code:6e3,name:"InsufficientFunds",msg:"Deposited funds are insufficient for withdrawal"},{code:6001,name:"UserInfoBelongsToAnotherUser",msg:"User info pda belongs to another user"},{code:6002,name:"BrokerNotAllowed",msg:"Broker is not allowed"},{code:6003,name:"TokenNotAllowed",msg:"Token is not allowed"},{code:6004,name:"InvalidAccountId",msg:"AccountId is invalid"},{code:6005,name:"InvalidVaultOwner",msg:"Vault owner is not the same as the payer"}]},bl=new dt("76y77prsiCMvXMjuoZ5VRrhG5qYBrUMYTE5WgHqgjEn6"),Ju=new dt("7a4WjyR8VZ7yZz5XJAKm39BUGn5iT9CKcv2pmG9tdXVH"),lF=new dt("6doghB248px58JSSwG4qejQ46kFMW4AMj7vzJnWZHNZn"),xS=new dt("8ahPGPjEbpgGaZx2NV1iG5Shj7TDwvsjkEDcGWjt94TP"),KJe=Ju,HJe=Ju,fF=new dt("HtEYV4xB4wvsj5fgTkcfuChYpvGYzgzwvNhgDZQNh7wW"),qJe="VaultAuthority",VJe="Broker",GJe="Token",NV=hT("0x9Dc724b24146BeDD2dA28b8C4B74126169B8f312"),YJe=hT("0x45b6C6266A7A2170617d8A27A50C642fd68b91c4"),ZJe=hT("0x5Bf771A65d057e778C5f0Ed52A0003316f94322D"),XJe=hT("0xCecAe061aa078e13b5e70D5F9eCee90a3F2B6AeA"),JJe=40200,QJe=30213,t8=new dt("BWp8HaYYhiNHekt3zgQhqoCrRftneGxxfgKmCZ6svHN"),eQe=new dt("BswrQQoPKAFojTuJutZcBMtigAgTghEH4M8ofn3EG2X2"),tQe=new dt("BbGKfxuPwDmu58BjPpd7PMG69TqnZjSpKaLDMgf9E9Dr"),rQe=new dt("8iq7xCQt3bLdRRn4A46d5GuaXYinBoiAhbe2sUmZVzwg"),Fpe=new dt("EYJq9eU4GMRUriUJBgGoZ8YLQBXcWaciXuSsEXE7ieQS"),$pe=new dt("5zBjLor7vEraAt4zp2H82sy9MSqFoDnNa1Lx6EYKTYRZ"),Upe=new dt("9shwxWDUNhtwkHocsUAmrNAQfBH2DHh4njdAEdHZZkF2"),dF=new dt("ErBmAD61mGFKvrFNaTJuxoPwqrS8GgtwtqJTJVjFWx9Q"),D5=(t,e)=>PLe(t,e,!0);function zpe(t){return dt.findProgramAddressSync([we.Buffer.from(qJe,"utf8")],t)[0]}function nQe(t,e){let r=Array.from(we.Buffer.from(e.slice(2),"hex"));return dt.findProgramAddressSync([we.Buffer.from(VJe,"utf8"),we.Buffer.from(r)],t)[0]}function iQe(t,e){let r=Array.from(we.Buffer.from(e.slice(2),"hex"));return dt.findProgramAddressSync([we.Buffer.from(GJe,"utf8"),we.Buffer.from(r)],t)[0]}function Wpe(t){return dt.findProgramAddressSync([we.Buffer.from(HL,"utf8")],t)[0]}function jpe(t,e,r){let n=we.Buffer.alloc(4);return n.writeUInt32BE(r),dt.findProgramAddressSync([we.Buffer.from(WYe,"utf8"),e.toBuffer(),n],t)[0]}function Kpe(t,e,r){let n=we.Buffer.alloc(4);return n.writeUInt32BE(r),dt.findProgramAddressSync([we.Buffer.from(jYe,"utf8"),e.toBuffer(),n],t)[0]}function sQe(){return dt.findProgramAddressSync([we.Buffer.from(Nh,"utf8")],Ju)[0]}function Hpe(t,e){let r=we.Buffer.alloc(4);return r.writeUInt32BE(e),dt.findProgramAddressSync([we.Buffer.from(FE,"utf8"),t.toBuffer(),r],bl)[0]}function qpe(t){let e=we.Buffer.alloc(4);return e.writeUInt32BE(t),dt.findProgramAddressSync([we.Buffer.from(FE,"utf8"),e],bl)[0]}function oQe(t){return dt.findProgramAddressSync([we.Buffer.from(Nh,"utf8"),t.toBuffer()],bl)[0]}function Vpe(){return dt.findProgramAddressSync([we.Buffer.from(Yoe,"utf8")],bl)[0]}function aQe(t){let e=NV;return t.toBase58()===Fpe.toBase58()&&(e=NV),t.toBase58()===$pe.toBase58()&&(e=YJe),t.toBase58()===Upe.toBase58()&&(e=ZJe),t.toBase58()===dF.toBase58()&&(e=XJe),e}function Gpe(t,e,r){let n=we.Buffer.alloc(4),i=aQe(t);return n.writeUInt32BE(r),dt.findProgramAddressSync([we.Buffer.from(Zoe,"utf8"),e.toBuffer(),n,i],bl)[0]}function uQe(){return dt.findProgramAddressSync([we.Buffer.from(qL,"utf8")],bl)[0]}function cQe(){return dt.findProgramAddressSync([we.Buffer.from(Xoe,"utf8")],Ju)[0]}function Ype(t,e){let r=we.Buffer.alloc(4);return r.writeUInt32BE(e),dt.findProgramAddressSync([we.Buffer.from(OT,"utf8"),r,t.toBuffer()],Ju)[0]}function Zpe(t){let e=we.Buffer.alloc(4);return e.writeUInt32BE(t),dt.findProgramAddressSync([we.Buffer.from(OT,"utf8"),e],KJe)[0]}function lQe(){return dt.findProgramAddressSync([we.Buffer.from(qL,"utf8")],Ju)[0]}function Xpe(){return dt.findProgramAddressSync([we.Buffer.from(eae,"utf8")],lF)[0]}function Jpe(){return dt.findProgramAddressSync([we.Buffer.from(tae,"utf8")],xS)[0]}function Qpe(){return dt.findProgramAddressSync([we.Buffer.from(Qoe,"utf8")],fF)[0]}function e0e(t){return t.toBase58()===dF.toBase58()?QJe:JJe}function t0e(t){return t.toBase58()===Fpe.toBase58()?(console.log("DEV_LOOKUP_TABLE_ADDRESS: ",t8.toBase58()),t8):t.toBase58()===$pe.toBase58()?eQe:t.toBase58()===Upe.toBase58()?tQe:t.toBase58()===dF.toBase58()?rQe:t8}function fQe(t){return dt.findProgramAddressSync([we.Buffer.from(Nh,"utf8")],t||Ju)[0]}function dQe(t,e){return dt.findProgramAddressSync([we.Buffer.from(Nh,"utf8"),t.toBytes()],bl)[0]}function r0e(t,e){return ja(this,null,function*(){return(yield t.getAddressLookupTable(e)).value})}function hQe(t){let{publicKey:e,brokerId:r,expiration:n=365,timestamp:i=Date.now(),scope:s,tag:o,chainId:a}=t,u=Xl(Zl({brokerId:r,chainType:"SOL",orderlyKey:e,scope:s||"read,trading",chainId:a,timestamp:i},typeof o<"u"?{tag:o}:{}),{expiration:i+1e3*60*60*24*n}),f=hh(["string"],[u.brokerId]),d=hh(["string"],[u.orderlyKey]),g=hh(["string"],[u.scope]),y=Vu.defaultAbiCoder(),b=rS(_3(y.encode(["bytes32","bytes32","bytes32","uint256","uint256","uint256"],[f,d,g,u.chainId,u.timestamp,u.expiration]))),A=uh(b),x=new TextEncoder().encode(A);return[u,x]}function pQe(t){let{chainId:e,registrationNonce:r,brokerId:n,timestamp:i}=t,s={brokerId:n,chainId:e,timestamp:i,registrationNonce:r},o=hh(["string"],[s.brokerId]),a=Vu.defaultAbiCoder(),u=rS(_3(a.encode(["bytes32","uint256","uint256","uint256"],[o,s.chainId,s.timestamp,s.registrationNonce]))),f=uh(u),d=new TextEncoder().encode(f);return[s,d]}function gQe(t){let{chainId:e,receiver:r,token:n,amount:i,nonce:s,brokerId:o}=t,a=Date.now(),u={brokerId:o,chainId:e,receiver:r,token:n,amount:i,withdrawNonce:s,timestamp:a,chainType:"SOL"},f=hh(["string"],[u.brokerId]),d=hh(["string"],[u.token]),g=rS(we.Buffer.from("Orderly Network")),y=Vu.defaultAbiCoder(),b=rS(_3(y.encode(["bytes32","bytes32","uint256","bytes32","uint256","uint64","uint64","bytes32"],[f,d,e,e_.decode(u.receiver),u.amount,u.withdrawNonce,a,g]))),A=uh(b),x=new TextEncoder().encode(A);return[u,x]}function mQe(t){let{settlePnlNonce:e,brokerId:r,chainId:n,timestamp:i}=t,s={brokerId:r,chainId:n,timestamp:i,chainType:"SOL",settleNonce:e},o=hh(["string"],[r]),a=Vu.defaultAbiCoder(),u=rS(_3(a.encode(["bytes32","uint256","uint64","uint64"],[o,s.chainId,s.settleNonce,s.timestamp]))),f=uh(u),d=new TextEncoder().encode(f);return[s,d]}function n0e(t){return ja(this,arguments,function*({vaultAddress:e,userAddress:r,connection:n,depositData:i}){console.log("-- vaultAddress",e);let s=new dt(e),o=e0e(s),a=new C0(Dpe,s,{connection:n}),u=new dt(r),f=Wpe(s),d=jpe(s,f,o),g=Kpe(s,f,o),y=Hpe(f,o),b=qpe(o),A=Vpe(),x=Gpe(s,f,o),k=Ype(f,o),I=Zpe(o),R=Xpe(),M=Jpe(),P=Qpe(),j=fQe(Ju),V=dQe(j),Z=zpe(s),G=i0e(r,i),q=yield a.methods.oappQuote(G).accounts({oappConfig:f,peer:d,enforcedOptions:g,vaultAuthority:Z}).remainingAccounts([{pubkey:bl,isWritable:!1,isSigner:!1},{pubkey:Ju,isWritable:!1,isSigner:!1},{pubkey:y,isWritable:!1,isSigner:!1},{pubkey:b,isWritable:!1,isSigner:!1},{pubkey:V,isWritable:!1,isSigner:!1},{pubkey:A,isWritable:!1,isSigner:!1},{pubkey:x,isWritable:!1,isSigner:!1},{pubkey:j,isWritable:!1,isSigner:!1},{pubkey:k,isWritable:!1,isSigner:!1},{pubkey:I,isWritable:!1,isSigner:!1},{pubkey:lF,isWritable:!1,isSigner:!1},{pubkey:R,isWritable:!1,isSigner:!1},{pubkey:xS,isWritable:!1,isSigner:!1},{pubkey:M,isWritable:!1,isSigner:!1},{pubkey:fF,isWritable:!1,isSigner:!1},{pubkey:P,isWritable:!1,isSigner:!1},{pubkey:xS,isWritable:!1,isSigner:!1},{pubkey:M,isWritable:!1,isSigner:!1}]).instruction(),ae=yield n.getLatestBlockhash(),T=t0e(s),c=yield r0e(n,T);if(!c)throw console.log("-- lookup table account error"),new Error("-- lookup table account error");let h=new $Z({payerKey:u,recentBlockhash:ae.blockhash,instructions:[q]}).compileToV0Message([c]),p=new zZ(h),m=yield n.simulateTransaction(p);if(console.log("-- feeRes",m),m.value.err){let l=typeof m.value.err=="object"?JSON.stringify(m.value.err):m.value.err;throw l.toString().includes("AccountNotFound")?new Error("Error: Account gas is insufficient."):new Error(`Error: ${l}`)}let v=`Program return: ${a.programId} `,_=m.value.logs.find(l=>l.startsWith(v));if(!_)throw new Error("Error: get deposit fee error");let E=_.slice(v.length),w=we.Buffer.from(E,"base64");return console.log(w.readBigUInt64LE(0),w.readBigUInt64LE(1)),w.readBigUInt64LE(0)})}var i0e=(t,e)=>{let r=e.brokerHash,n=Array.from(we.Buffer.from(r.slice(2),"hex")),i=e.tokenHash,s=Array.from(we.Buffer.from(i.slice(2),"hex")),o=e.accountId,a=Array.from(we.Buffer.from(o.slice(2),"hex")),u=new dt(t);return{accountId:a,brokerHash:n,tokenHash:s,userAddress:Array.from(u.toBuffer()),tokenAmount:new Mr(e.tokenAmount)}};function yQe(t){return ja(this,arguments,function*({vaultAddress:e,userAddress:r,connection:n,sendTransaction:i,depositData:s}){let o=s.brokerHash,a=s.tokenHash;console.log("-- vault address",e);let u=new dt(e),f=new C0(Dpe,u,{connection:n}),d=new dt(s.USDCAddress),g=new dt(r),y=D5(d,g),b=zpe(u),A=D5(d,b),x=nQe(u,o),k=iQe(u,a),I=Wpe(u);console.log("-- oappconfig pda",I.toBase58());let R=e0e(u),M=jpe(u,I,R),P=Kpe(u,I,R),j=sQe(),V=Hpe(I,R),Z=qpe(R),G=oQe(j),q=Vpe(),ae=Gpe(u,I,R),T=uQe(),c=cQe(),h=Ype(I,R),p=Zpe(R),m=lQe(),v=Xpe(),_=Jpe(),E=Qpe(),w=i0e(r,s),l=yield n0e({vaultAddress:e,userAddress:r,connection:n,depositData:s}),S={nativeFee:new Mr(l.toString()),lzTokenFee:new Mr(0)};console.log("--- value params",{vaultDepositParams:w,sendParam:S});let C=yield f.methods.deposit(w,S).accounts({userTokenAccount:y,vaultAuthority:b,vaultTokenAccount:A,depositToken:d,user:g,peer:M,enforcedOptions:P,oappConfig:I,allowedBroker:x,allowedToken:k}).remainingAccounts([{isSigner:!1,isWritable:!1,pubkey:bl},{isSigner:!1,isWritable:!1,pubkey:I},{isSigner:!1,isWritable:!1,pubkey:Ju},{isSigner:!1,isWritable:!1,pubkey:V},{isSigner:!1,isWritable:!1,pubkey:Z},{isSigner:!1,isWritable:!1,pubkey:G},{isSigner:!1,isWritable:!1,pubkey:q},{isSigner:!1,isWritable:!0,pubkey:ae},{isSigner:!1,isWritable:!1,pubkey:T},{isSigner:!1,isWritable:!1,pubkey:bl},{isSigner:!1,isWritable:!1,pubkey:c},{isSigner:!1,isWritable:!1,pubkey:h},{isSigner:!1,isWritable:!1,pubkey:p},{isSigner:!0,isWritable:!1,pubkey:g},{isSigner:!1,isWritable:!1,pubkey:HJe},{isSigner:!1,isWritable:!1,pubkey:HZ.programId},{isSigner:!1,isWritable:!1,pubkey:m},{isSigner:!1,isWritable:!1,pubkey:Ju},{isSigner:!1,isWritable:!1,pubkey:lF},{isSigner:!1,isWritable:!0,pubkey:v},{isSigner:!1,isWritable:!1,pubkey:xS},{isSigner:!1,isWritable:!1,pubkey:_},{isSigner:!1,isWritable:!1,pubkey:fF},{isSigner:!1,isWritable:!0,pubkey:E},{isSigner:!1,isWritable:!1,pubkey:xS},{isSigner:!1,isWritable:!1,pubkey:_}]).instruction(),D=t0e(u),U=yield r0e(n,D);if(!U){console.log("-- lookup table account error");return}let O=rX.setComputeUnitLimit({units:4e5}),$=yield n.getLatestBlockhash(),F=new $Z({payerKey:g,recentBlockhash:$.blockhash,instructions:[C,O]}).compileToV0Message([U]),H=new zZ(F),Q=yield i(H,n);return console.log("res",Q),Q})}var bQe=class extends KQ{constructor(){super(),r2(this,"chainNamespace",Hf.solana),r2(this,"_address"),r2(this,"_chainId"),r2(this,"_provider")}get address(){return this._address}get chainId(){return this._chainId}set chainId(e){this._chainId=e}setConfig(e){this._address=e.address,this._chainId=e.chain.id,e.provider&&(this._provider=e.provider)}lifecycleName(e,r){console.log("lifecycle",e,r)}active(e){this.setConfig(e),this.lifecycleName("active",e)}deactivate(){this.lifecycleName("deactivate",{})}update(e){this.lifecycleName("update",e),this.setConfig(e)}generateSecretKey(){let e,r;do e=Aee.randomPrivateKey(),r=e_.encode(e);while(r.length!==44);return r}generateRegisterAccountMessage(e){return ja(this,null,function*(){let[r,n]=pQe(Xl(Zl({},e),{chainId:this.chainId})),i=yield this._provider.signMessage(n),s="0x"+uh(i);return{message:Xl(Zl({},r),{chainType:"SOL"}),signatured:s}})}generateWithdrawMessage(e){return ja(this,null,function*(){let[r,n]=gQe(Xl(Zl({},e),{chainId:this.chainId})),i=yield this._provider.signMessage(n),s="0x"+uh(i);return console.log("-- verify contract",e.verifyContract),{message:Xl(Zl({},r),{chainType:"SOL"}),domain:{name:"",version:"",chainId:this.chainId,verifyingContract:e.verifyContract},signatured:s}})}generateAddOrderlyKeyMessage(e){return ja(this,null,function*(){let[r,n]=hQe(Xl(Zl({},e),{chainId:this.chainId})),i=yield this._provider.signMessage(n),s="0x"+uh(i);return{message:Xl(Zl({},r),{chainType:"SOL"}),signatured:s}})}generateSettleMessage(e){return ja(this,null,function*(){let[r,n]=yield mQe(Xl(Zl({},e),{chainId:this.chainId})),i=yield this._provider.signMessage(n),s="0x"+uh(i);return{message:Xl(Zl({},r),{chainType:"SOL"}),domain:{name:"",version:"",chainId:this.chainId,verifyingContract:e.verifyContract},signatured:s}})}getBalance(){return ja(this,null,function*(){return BigInt(0)})}call(e,r,n,i){return ja(this,null,function*(){if(r==="balanceOf"){let s=new dt(e),o=new dt(this._address),a=D5(s,o);return(yield RLe(this._provider.connection,a,"confirmed")).amount}return r==="allowance"?Fx:BigInt(0)})}sendTransaction(e,r,n,i){return ja(this,null,function*(){if(console.log("-- solanan sendTransaction",{contractAddress:e,method:r,payload:n,options:i}),r==="deposit")return yQe({vaultAddress:e,userAddress:this._address,connection:this._provider.connection,depositData:n.data[0],sendTransaction:this._provider.sendTransaction})})}callOnChain(e,r,n,i,s){return ja(this,null,function*(){return console.log("-- params ",{chain:e,address:r,method:n,params:i}),n==="getDepositFee"?n0e({vaultAddress:r,userAddress:this._address,connection:this._provider.connection,depositData:i[1]}):0})}pollTransactionReceiptWithBackoff(e,r,n,i){return ja(this,null,function*(){})}};const jo={TRANSACTION_RAN_OUT_OF_GAS:"TRANSACTION_RAN_OUT_OF_GAS",TRANSACTION_UNDERPRICED:"TRANSACTION_UNDERPRICED",REJECTED_TRANSACTION:"REJECTED_TRANSACTION",CALL_REVERTED:"CALL_REVERTED",EXECUTION_REVERTED:"EXECUTION_REVERTED",NONCE_TOO_LOW:"NONCE_TOO_LOW",INSUFFICIENT_FUNDS_FOR_GAS:"INSUFFICIENT_FUNDS_FOR_GAS",MAX_PRIORITY_FEE_PER_GAS_HIGHER_THAN_MAX_FEE_PER_GAS:"MAX_PRIORITY_FEE_PER_GAS_HIGHER_THAN_MAX_FEE_PER_GAS",MAX_FEE_PER_GAS_LESS_THAN_BLOCK_BASE_FEE:"MAX_FEE_PER_GAS_LESS_THAN_BLOCK_BASE_FEE",UNKNOWN_ERROR:"UNKNOWN_ERROR"},fx={NONCE_EXPIRED:"NONCE_EXPIRED",UNPREDICTABLE_GAS_LIMIT:"UNPREDICTABLE_GAS_LIMIT",ACTION_REJECTED:"ACTION_REJECTED",CALL_EXCEPTION:"CALL_EXCEPTION"},Zb={REJECTED_TRANSACTION:4001,REQUIRE_TRANSACTION:-32603,ERROR_WHILE_FORMATTING_OUTPUT_FROM_RPC:-32603,TRANSACTION_UNDERPRICED:-32e3};function vQe(t,e){var r;if(t!==Zb.ERROR_WHILE_FORMATTING_OUTPUT_FROM_RPC)return;const n=(r=e.split("RPC '")[1])==null?void 0:r.slice(0,-1);if(n!==void 0)try{const i=JSON.parse(n);if(i.value===void 0||i.value.data===void 0)return;if(i.value.data.code===Zb.TRANSACTION_UNDERPRICED)return{errorCode:jo.TRANSACTION_UNDERPRICED,context:void 0}}catch{return}}function wQe(t){const e=t.code,r=t.message;if(e!==void 0){if(r!==void 0){const n=vQe(e,r);if(n!==void 0)return n}if(e===Zb.REJECTED_TRANSACTION)return{errorCode:jo.REJECTED_TRANSACTION,context:r};if(e===Zb.REQUIRE_TRANSACTION&&r!==void 0&&r.includes("execution reverted: "))return{errorCode:jo.EXECUTION_REVERTED,context:r.slice(20)}}}function SQe(t){if(t.code===fx.UNPREDICTABLE_GAS_LIMIT){if(t.error!==void 0&&t.error.code===Zb.REQUIRE_TRANSACTION&&t.error.data!==void 0&&t.error.data.message!==void 0){const e=t.error.data.message;if(e.includes("execution reverted: "))return{errorCode:jo.EXECUTION_REVERTED,context:e.slice(20)}}if(t.error!==void 0&&t.error.error!==void 0&&t.error.error.error!==void 0&&t.error.error.error.code===Zb.TRANSACTION_UNDERPRICED&&t.error.error.body!==void 0)try{const e=JSON.parse(t.error.error.body);if(e.error!==void 0&&e.error.message!==void 0){if(e.error.message.includes("gas required exceeds allowance (0)"))return{errorCode:jo.INSUFFICIENT_FUNDS_FOR_GAS,context:void 0};if(e.error.message.includes("max priority fee per gas higher than max fee per gas"))return{errorCode:jo.MAX_PRIORITY_FEE_PER_GAS_HIGHER_THAN_MAX_FEE_PER_GAS,context:void 0};if(e.error.message.includes("max fee per gas less than block base fee"))return{errorCode:jo.MAX_FEE_PER_GAS_LESS_THAN_BLOCK_BASE_FEE,context:void 0}}}catch{return}}}function _Qe(t){if(t.code===fx.NONCE_EXPIRED&&t.transaction!==void 0)return{errorCode:jo.NONCE_TOO_LOW,context:t.transaction.nonce.toString()};if(t.code===fx.ACTION_REJECTED&&t.action==="sendTransaction")return{errorCode:jo.REJECTED_TRANSACTION,context:t.message};if(t.code===fx.CALL_EXCEPTION&&t.reason!==void 0)return{errorCode:jo.CALL_REVERTED,context:t.reason};const e=SQe(t);if(e!==void 0)return e}function r8(t){const e=t,r=t.error,n=_Qe(e);if(n!==void 0)return n;if(r!==void 0){const i=wQe(r);if(i!==void 0)return i}if(e.transaction!==void 0&&e.receipt!==void 0){const i=e.transaction.gasLimit;if(e.receipt.gasUsed.gte(i))return{errorCode:jo.TRANSACTION_RAN_OUT_OF_GAS,context:e.transaction.gasLimit.toString()}}return t.error!==void 0&&t.error.message!==void 0?{errorCode:jo.UNKNOWN_ERROR,context:t.error.message}:e.code!==void 0?{errorCode:jo.UNKNOWN_ERROR,context:e.code.toString()}:{errorCode:jo.UNKNOWN_ERROR,context:void 0}}var AQe=Object.defineProperty,xQe=(t,e,r)=>e in t?AQe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,EQe=(t,e,r)=>(xQe(t,e+"",r),r),n2=(t,e,r)=>new Promise((n,i)=>{var s=u=>{try{a(r.next(u))}catch(f){i(f)}},o=u=>{try{a(r.throw(u))}catch(f){i(f)}},a=u=>u.done?n(u.value):Promise.resolve(u.value).then(s,o);a((r=r.apply(t,e)).next())}),kQe=class{constructor(){EQe(this,"_provider")}parseUnits(t,e){return mB(t,e).toString()}formatUnits(t,e){return gB(t,e)}set provider(t){this._provider=new c4e(t,"any")}get browserProvider(){if(!this._provider)throw new Error("browserProvider is not initialized");return this._provider}signTypedData(t,e){return n2(this,null,function*(){var r;return yield(r=this.browserProvider)==null?void 0:r.send("eth_signTypedData_v4",[t,e])})}call(t,e,r,n){return n2(this,null,function*(){let i=yield this.browserProvider.getSigner();return new ph(t,n.abi,i)[e].apply(null,r).catch(s=>{throw r8(s)})})}send(t,e){return this.browserProvider.send(t,e)}sendTransaction(t,e,r,n){return n2(this,null,function*(){var i;let s=yield(i=this.browserProvider)==null?void 0:i.getSigner();if(!s)throw new Error("singer is not exist");let o=new ph(t,n.abi,this.browserProvider).interface.encodeFunctionData(e,r.data),a={from:r.from,to:r.to,data:o,value:r.value};try{return yield s.sendTransaction(a)}catch(u){throw r8(u)}})}pollTransactionReceiptWithBackoff(t,e=1e3,r=6e3,n=30){return n2(this,null,function*(){let i=e,s=0;for(;s<n;){try{let o=yield this.browserProvider.getTransactionReceipt(t);if(o)return o}catch{}yield new Promise(o=>setTimeout(o,i)),i=Math.min(i*2,r),s++}throw new Error("Transaction did not complete after maximum retries.")})}callOnChain(t,e,r,n,i){let s=new a4e(t.public_rpc_url);return new ph(e,i.abi,s)[r].apply(null,n).catch(o=>{throw r8(o)})}getBalance(t){return this.browserProvider.getBalance(t).then(e=>e)}},F5=function(t,e){return F5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},F5(t,e)};function Na(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");F5(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Nt=function(){return Nt=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Nt.apply(this,arguments)};function ES(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Tt(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{f(n.next(d))}catch(g){o(g)}}function u(d){try{f(n.throw(d))}catch(g){o(g)}}function f(d){d.done?s(d.value):i(d.value).then(a,u)}f((n=n.apply(t,e||[])).next())})}function At(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(f){return function(d){return u([f,d])}}function u(f){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(r=0)),r;)try{if(n=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){r.label=f[1];break}if(f[0]===6&&r.label<s[1]){r.label=s[1],s=f;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(f);break}s[2]&&r.ops.pop(),r.trys.pop();continue}f=e.call(t,r)}catch(d){f=[6,d],i=0}finally{n=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function Ui(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function an(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function Vi(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function yy(t){return this instanceof yy?(this.v=t,this):new yy(t)}function TQe(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(b){return function(A){return Promise.resolve(A).then(b,g)}}function a(b,A){n[b]&&(i[b]=function(x){return new Promise(function(k,I){s.push([b,x,k,I])>1||u(b,x)})},A&&(i[b]=A(i[b])))}function u(b,A){try{f(n[b](A))}catch(x){y(s[0][3],x)}}function f(b){b.value instanceof yy?Promise.resolve(b.value.v).then(d,g):y(s[0][2],b)}function d(b){u("next",b)}function g(b){u("throw",b)}function y(b,A){b(A),s.shift(),s.length&&u(s[0][0],s[0][1])}}function IQe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Ui=="function"?Ui(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(f){s({value:f,done:a})},o)}}var RQe="Event tracked successfully",MQe="Unexpected error occurred",CQe="Event rejected due to exceeded retry count",PQe="Event skipped due to optOut config",NQe="Event rejected due to missing API key",BQe="Invalid API key",OQe="Client not initialized",rs;(function(t){t.SET="$set",t.SET_ONCE="$setOnce",t.ADD="$add",t.APPEND="$append",t.PREPEND="$prepend",t.REMOVE="$remove",t.PREINSERT="$preInsert",t.POSTINSERT="$postInsert",t.UNSET="$unset",t.CLEAR_ALL="$clearAll"})(rs||(rs={}));var wp;(function(t){t.REVENUE_PRODUCT_ID="$productId",t.REVENUE_QUANTITY="$quantity",t.REVENUE_PRICE="$price",t.REVENUE_TYPE="$revenueType",t.REVENUE="$revenue"})(wp||(wp={}));var Xb;(function(t){t.IDENTIFY="$identify",t.GROUP_IDENTIFY="$groupidentify",t.REVENUE="revenue_amount"})(Xb||(Xb={}));var ga;(function(t){t[t.None=0]="None",t[t.Error=1]="Error",t[t.Warn=2]="Warn",t[t.Verbose=3]="Verbose",t[t.Debug=4]="Debug"})(ga||(ga={}));var YE;(function(t){t.US="US",t.EU="EU"})(YE||(YE={}));var hi;(function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.PayloadTooLarge="payload_too_large",t.Invalid="invalid",t.Failed="failed",t.Timeout="Timeout",t.SystemError="SystemError"})(hi||(hi={}));var LQe=null,DQe=["a","button","input","select","textarea","label","video","audio",'[contenteditable="true" i]',"[data-amp-default-track]",".amp-default-track"],FQe="data-amp-track-",$Qe=["div","span","h1","h2","h3","h4","h5","h6"],by=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=hi.Unknown),{event:t,code:e,message:r}},U1=function(t){return t?(t^Math.random()*16>>t/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,U1)},UQe=function(){function t(e){this.client=e,this.queue=[],this.applying=!1,this.plugins=[]}return t.prototype.register=function(e,r){var n,i;return Tt(this,void 0,void 0,function(){return At(this,function(s){switch(s.label){case 0:return this.plugins.some(function(o){return o.name===e.name})?(r.loggerProvider.warn("Plugin with name ".concat(e.name," already exists, skipping registration")),[2]):(e.name===void 0&&(e.name=U1(),r.loggerProvider.warn(`Plugin name is undefined. 
      Generating a random UUID for plugin name: `.concat(e.name,`. 
      Set a name for the plugin to prevent it from being added multiple times.`))),e.type=(n=e.type)!==null&&n!==void 0?n:"enrichment",[4,(i=e.setup)===null||i===void 0?void 0:i.call(e,r,this.client)]);case 1:return s.sent(),this.plugins.push(e),[2]}})})},t.prototype.deregister=function(e,r){var n;return Tt(this,void 0,void 0,function(){var i,s;return At(this,function(o){switch(o.label){case 0:return i=this.plugins.findIndex(function(a){return a.name===e}),i===-1?(r.loggerProvider.warn("Plugin with name ".concat(e," does not exist, skipping deregistration")),[2]):(s=this.plugins[i],this.plugins.splice(i,1),[4,(n=s.teardown)===null||n===void 0?void 0:n.call(s)]);case 1:return o.sent(),[2]}})})},t.prototype.reset=function(e){this.applying=!1;var r=this.plugins;r.map(function(n){var i;return(i=n.teardown)===null||i===void 0?void 0:i.call(n)}),this.plugins=[],this.client=e},t.prototype.push=function(e){var r=this;return new Promise(function(n){r.queue.push([e,n]),r.scheduleApply(0)})},t.prototype.scheduleApply=function(e){var r=this;this.applying||(this.applying=!0,setTimeout(function(){r.apply(r.queue.shift()).then(function(){r.applying=!1,r.queue.length>0&&r.scheduleApply(0)})},e))},t.prototype.apply=function(e){return Tt(this,void 0,void 0,function(){var r,n,i,s,o,a,u,b,A,f,d,g,y,b,A,x,k,I,R,M,P,j;return At(this,function(V){switch(V.label){case 0:if(!e)return[2];r=an(e,1),n=r[0],i=an(e,2),s=i[1],o=this.plugins.filter(function(Z){return Z.type==="before"}),V.label=1;case 1:V.trys.push([1,6,7,8]),a=Ui(o),u=a.next(),V.label=2;case 2:return u.done?[3,5]:(b=u.value,b.execute?[4,b.execute(Nt({},n))]:[3,4]);case 3:if(A=V.sent(),A===null)return s({event:n,code:0,message:""}),[2];n=A,V.label=4;case 4:return u=a.next(),[3,2];case 5:return[3,8];case 6:return f=V.sent(),R={error:f},[3,8];case 7:try{u&&!u.done&&(M=a.return)&&M.call(a)}finally{if(R)throw R.error}return[7];case 8:d=this.plugins.filter(function(Z){return Z.type==="enrichment"||Z.type===void 0}),V.label=9;case 9:V.trys.push([9,14,15,16]),g=Ui(d),y=g.next(),V.label=10;case 10:return y.done?[3,13]:(b=y.value,b.execute?[4,b.execute(Nt({},n))]:[3,12]);case 11:if(A=V.sent(),A===null)return s({event:n,code:0,message:""}),[2];n=A,V.label=12;case 12:return y=g.next(),[3,10];case 13:return[3,16];case 14:return x=V.sent(),P={error:x},[3,16];case 15:try{y&&!y.done&&(j=g.return)&&j.call(g)}finally{if(P)throw P.error}return[7];case 16:return k=this.plugins.filter(function(Z){return Z.type==="destination"}),I=k.map(function(Z){var G=Nt({},n);return Z.execute(G).catch(function(q){return by(G,0,String(q))})}),Promise.all(I).then(function(Z){var G=an(Z,1),q=G[0],ae=q||by(n,100,"Event not tracked, no destination plugins on the instance");s(ae)}),[2]}})})},t.prototype.flush=function(){return Tt(this,void 0,void 0,function(){var e,r,n,i=this;return At(this,function(s){switch(s.label){case 0:return e=this.queue,this.queue=[],[4,Promise.all(e.map(function(o){return i.apply(o)}))];case 1:return s.sent(),r=this.plugins.filter(function(o){return o.type==="destination"}),n=r.map(function(o){return o.flush&&o.flush()}),[4,Promise.all(n)];case 2:return s.sent(),[2]}})})},t}(),BV="-",e6="AMP",zQe="".concat(e6,"_unsent"),s0e="https://api2.amplitude.com/2/httpapi",WQe="https://api.eu.amplitude.com/2/httpapi",jQe="https://api2.amplitude.com/batch",KQe="https://api.eu.amplitude.com/batch",HQe=1e3,$5=function(t){if(Object.keys(t).length>HQe)return!1;for(var e in t){var r=t[e];if(!o0e(e,r))return!1}return!0},o0e=function(t,e){var r,n;if(typeof t!="string")return!1;if(Array.isArray(e)){var i=!0;try{for(var s=Ui(e),o=s.next();!o.done;o=s.next()){var a=o.value;if(Array.isArray(a))return!1;if(typeof a=="object")i=i&&$5(a);else if(!["number","string"].includes(typeof a))return!1;if(!i)return!1}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}}else{if(e==null)return!1;if(typeof e=="object")return $5(e);if(!["number","string","boolean"].includes(typeof e))return!1}return!0},kS=function(){function t(){this._propertySet=new Set,this._properties={}}return t.prototype.getUserProperties=function(){return Nt({},this._properties)},t.prototype.set=function(e,r){return this._safeSet(rs.SET,e,r),this},t.prototype.setOnce=function(e,r){return this._safeSet(rs.SET_ONCE,e,r),this},t.prototype.append=function(e,r){return this._safeSet(rs.APPEND,e,r),this},t.prototype.prepend=function(e,r){return this._safeSet(rs.PREPEND,e,r),this},t.prototype.postInsert=function(e,r){return this._safeSet(rs.POSTINSERT,e,r),this},t.prototype.preInsert=function(e,r){return this._safeSet(rs.PREINSERT,e,r),this},t.prototype.remove=function(e,r){return this._safeSet(rs.REMOVE,e,r),this},t.prototype.add=function(e,r){return this._safeSet(rs.ADD,e,r),this},t.prototype.unset=function(e){return this._safeSet(rs.UNSET,e,BV),this},t.prototype.clearAll=function(){return this._properties={},this._properties[rs.CLEAR_ALL]=BV,this},t.prototype._safeSet=function(e,r,n){if(this._validate(e,r,n)){var i=this._properties[e];return i===void 0&&(i={},this._properties[e]=i),i[r]=n,this._propertySet.add(r),!0}return!1},t.prototype._validate=function(e,r,n){return this._properties[rs.CLEAR_ALL]!==void 0||this._propertySet.has(r)?!1:e===rs.ADD?typeof n=="number":e!==rs.UNSET&&e!==rs.REMOVE?o0e(r,n):!0},t}(),qQe=function(t,e,r){var n=typeof t=="string"?{event_type:t}:t;return Nt(Nt(Nt({},n),r),e&&{event_properties:e})},a0e=function(t,e){var r=Nt(Nt({},e),{event_type:Xb.IDENTIFY,user_properties:t.getUserProperties()});return r},VQe=function(t,e,r,n){var i,s=Nt(Nt({},n),{event_type:Xb.GROUP_IDENTIFY,group_properties:r.getUserProperties(),groups:(i={},i[t]=e,i)});return s},GQe=function(t,e,r){var n,i=new kS;i.set(t,e);var s=Nt(Nt({},r),{event_type:Xb.IDENTIFY,user_properties:i.getUserProperties(),groups:(n={},n[t]=e,n)});return s},YQe=function(t,e){return Nt(Nt({},e),{event_type:Xb.REVENUE,event_properties:t.getEventProperties()})},Co=function(t){return{promise:t||Promise.resolve()}},ZQe=function(){function t(e){e===void 0&&(e="$default"),this.initializing=!1,this.isReady=!1,this.q=[],this.dispatchQ=[],this.logEvent=this.track.bind(this),this.timeline=new UQe(this),this.name=e}return t.prototype._init=function(e){return Tt(this,void 0,void 0,function(){return At(this,function(r){switch(r.label){case 0:return this.config=e,this.timeline.reset(this),[4,this.runQueuedFunctions("q")];case 1:return r.sent(),this.isReady=!0,[2]}})})},t.prototype.runQueuedFunctions=function(e){return Tt(this,void 0,void 0,function(){var r,n,i,s,o,a,u,f;return At(this,function(d){switch(d.label){case 0:r=this[e],this[e]=[],d.label=1;case 1:d.trys.push([1,8,9,10]),n=Ui(r),i=n.next(),d.label=2;case 2:return i.done?[3,7]:(s=i.value,o=s(),o&&"promise"in o?[4,o.promise]:[3,4]);case 3:return d.sent(),[3,6];case 4:return[4,o];case 5:d.sent(),d.label=6;case 6:return i=n.next(),[3,2];case 7:return[3,10];case 8:return a=d.sent(),u={error:a},[3,10];case 9:try{i&&!i.done&&(f=n.return)&&f.call(n)}finally{if(u)throw u.error}return[7];case 10:return this[e].length?[4,this.runQueuedFunctions(e)]:[3,12];case 11:d.sent(),d.label=12;case 12:return[2]}})})},t.prototype.track=function(e,r,n){var i=qQe(e,r,n);return Co(this.dispatch(i))},t.prototype.identify=function(e,r){var n=a0e(e,r);return Co(this.dispatch(n))},t.prototype.groupIdentify=function(e,r,n,i){var s=VQe(e,r,n,i);return Co(this.dispatch(s))},t.prototype.setGroup=function(e,r,n){var i=GQe(e,r,n);return Co(this.dispatch(i))},t.prototype.revenue=function(e,r){var n=YQe(e,r);return Co(this.dispatch(n))},t.prototype.add=function(e){return this.isReady?this._addPlugin(e):(this.q.push(this._addPlugin.bind(this,e)),Co())},t.prototype._addPlugin=function(e){return Co(this.timeline.register(e,this.config))},t.prototype.remove=function(e){return this.isReady?this._removePlugin(e):(this.q.push(this._removePlugin.bind(this,e)),Co())},t.prototype._removePlugin=function(e){return Co(this.timeline.deregister(e,this.config))},t.prototype.dispatchWithCallback=function(e,r){if(!this.isReady)return r(by(e,0,OQe));this.process(e).then(r)},t.prototype.dispatch=function(e){return Tt(this,void 0,void 0,function(){var r=this;return At(this,function(n){return this.isReady?[2,this.process(e)]:[2,new Promise(function(i){r.dispatchQ.push(r.dispatchWithCallback.bind(r,e,i))})]})})},t.prototype.process=function(e){return Tt(this,void 0,void 0,function(){var i,r,n,i;return At(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),this.config.optOut?[2,by(e,0,PQe)]:[4,this.timeline.push(e)];case 1:return i=s.sent(),i.code===200?this.config.loggerProvider.log(i.message):i.code===100?this.config.loggerProvider.warn(i.message):this.config.loggerProvider.error(i.message),[2,i];case 2:return r=s.sent(),n=String(r),this.config.loggerProvider.error(n),i=by(e,0,n),[2,i];case 3:return[2]}})})},t.prototype.setOptOut=function(e){if(!this.isReady){this.q.push(this._setOptOut.bind(this,!!e));return}this._setOptOut(e)},t.prototype._setOptOut=function(e){this.config.optOut=!!e},t.prototype.flush=function(){return Co(this.timeline.flush())},t}(),XQe=function(){function t(){this.productId="",this.quantity=1,this.price=0}return t.prototype.setProductId=function(e){return this.productId=e,this},t.prototype.setQuantity=function(e){return e>0&&(this.quantity=e),this},t.prototype.setPrice=function(e){return this.price=e,this},t.prototype.setRevenueType=function(e){return this.revenueType=e,this},t.prototype.setRevenue=function(e){return this.revenue=e,this},t.prototype.setEventProperties=function(e){return $5(e)&&(this.properties=e),this},t.prototype.getEventProperties=function(){var e=this.properties?Nt({},this.properties):{};return e[wp.REVENUE_PRODUCT_ID]=this.productId,e[wp.REVENUE_QUANTITY]=this.quantity,e[wp.REVENUE_PRICE]=this.price,e[wp.REVENUE_TYPE]=this.revenueType,e[wp.REVENUE]=this.revenue,e},t}(),JQe=function(t,e){var r=Math.max(e,1);return t.reduce(function(n,i,s){var o=Math.floor(s/r);return n[o]||(n[o]=[]),n[o].push(i),n},[])},i2="Amplitude Logger ",u0e=function(){function t(){this.logLevel=ga.None}return t.prototype.disable=function(){this.logLevel=ga.None},t.prototype.enable=function(e){e===void 0&&(e=ga.Warn),this.logLevel=e},t.prototype.log=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.logLevel<ga.Verbose||console.log("".concat(i2,"[Log]: ").concat(e.join(" ")))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.logLevel<ga.Warn||console.warn("".concat(i2,"[Warn]: ").concat(e.join(" ")))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.logLevel<ga.Error||console.error("".concat(i2,"[Error]: ").concat(e.join(" ")))},t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.logLevel<ga.Debug||console.log("".concat(i2,"[Debug]: ").concat(e.join(" ")))},t}(),dx=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:"$default_instance",logLevel:ga.Warn,loggerProvider:new u0e,offline:!1,optOut:!1,serverUrl:s0e,serverZone:"US",useBatch:!1}},QQe=function(){function t(e){var r,n,i,s;this._optOut=!1;var o=dx();this.apiKey=e.apiKey,this.flushIntervalMillis=(r=e.flushIntervalMillis)!==null&&r!==void 0?r:o.flushIntervalMillis,this.flushMaxRetries=e.flushMaxRetries||o.flushMaxRetries,this.flushQueueSize=e.flushQueueSize||o.flushQueueSize,this.instanceName=e.instanceName||o.instanceName,this.loggerProvider=e.loggerProvider||o.loggerProvider,this.logLevel=(n=e.logLevel)!==null&&n!==void 0?n:o.logLevel,this.minIdLength=e.minIdLength,this.plan=e.plan,this.ingestionMetadata=e.ingestionMetadata,this.offline=e.offline!==void 0?e.offline:o.offline,this.optOut=(i=e.optOut)!==null&&i!==void 0?i:o.optOut,this.serverUrl=e.serverUrl,this.serverZone=e.serverZone||o.serverZone,this.storageProvider=e.storageProvider,this.transportProvider=e.transportProvider,this.useBatch=(s=e.useBatch)!==null&&s!==void 0?s:o.useBatch,this.loggerProvider.enable(this.logLevel);var a=c0e(e.serverUrl,e.serverZone,e.useBatch);this.serverZone=a.serverZone,this.serverUrl=a.serverUrl}return Object.defineProperty(t.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut=e},enumerable:!1,configurable:!0}),t}(),eet=function(t,e){return t==="EU"?e?KQe:WQe:e?jQe:s0e},c0e=function(t,e,r){if(t===void 0&&(t=""),e===void 0&&(e=dx().serverZone),r===void 0&&(r=dx().useBatch),t)return{serverUrl:t,serverZone:void 0};var n=["US","EU"].includes(e)?e:dx().serverZone;return{serverZone:n,serverUrl:eet(n,r)}},l0e=function(){function t(){this.sdk={metrics:{histogram:{}}}}return t.prototype.recordHistogram=function(e,r){this.sdk.metrics.histogram[e]=r},t}();function tet(t){return t instanceof Error?t.message:String(t)}function s2(t){var e="";try{"body"in t&&(e=JSON.stringify(t.body,null,2))}catch{}return e}var ret=function(){function t(){this.name="amplitude",this.type="destination",this.retryTimeout=1e3,this.throttleTimeout=3e4,this.storageKey="",this.scheduled=null,this.queue=[]}return t.prototype.setup=function(e){var r;return Tt(this,void 0,void 0,function(){var n,i=this;return At(this,function(s){switch(s.label){case 0:return this.config=e,this.storageKey="".concat(zQe,"_").concat(this.config.apiKey.substring(0,10)),[4,(r=this.config.storageProvider)===null||r===void 0?void 0:r.get(this.storageKey)];case 1:return n=s.sent(),n&&n.length>0&&Promise.all(n.map(function(o){return i.execute(o)})).catch(),[2,Promise.resolve(void 0)]}})})},t.prototype.execute=function(e){var r=this;return e.insert_id||(e.insert_id=U1()),new Promise(function(n){var i={event:e,attempts:0,callback:function(s){return n(s)},timeout:0};r.addToQueue(i)})},t.prototype.getTryableList=function(e){var r=this;return e.filter(function(n){return n.attempts<r.config.flushMaxRetries?(n.attempts+=1,!0):(r.fulfillRequest([n],500,CQe),!1)})},t.prototype.scheduleTryable=function(e,r){var n=this;r===void 0&&(r=!1),e.forEach(function(i){if(r&&(n.queue=n.queue.concat(i)),i.timeout===0){n.schedule(n.config.flushIntervalMillis);return}setTimeout(function(){i.timeout=0,n.schedule(0)},i.timeout)})},t.prototype.addToQueue=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=this.getTryableList(e);this.scheduleTryable(n,!0),this.saveEvents()},t.prototype.schedule=function(e){var r=this;this.scheduled||this.config.offline||(this.scheduled=setTimeout(function(){r.flush(!0).then(function(){r.queue.length>0&&r.schedule(e)})},e))},t.prototype.flush=function(e){return e===void 0&&(e=!1),Tt(this,void 0,void 0,function(){var r,n,i,s=this;return At(this,function(o){switch(o.label){case 0:return this.config.offline?(this.config.loggerProvider.debug("Skipping flush while offline."),[2]):(r=[],n=[],this.queue.forEach(function(a){return a.timeout===0?r.push(a):n.push(a)}),this.scheduled&&(clearTimeout(this.scheduled),this.scheduled=null),i=JQe(r,this.config.flushQueueSize),[4,i.reduce(function(a,u){return Tt(s,void 0,void 0,function(){return At(this,function(f){switch(f.label){case 0:return[4,a];case 1:return f.sent(),[4,this.send(u,e)];case 2:return[2,f.sent()]}})})},Promise.resolve())]);case 1:return o.sent(),this.scheduleTryable(n),[2]}})})},t.prototype.send=function(e,r){return r===void 0&&(r=!0),Tt(this,void 0,void 0,function(){var n,i,s,o,a;return At(this,function(u){switch(u.label){case 0:if(!this.config.apiKey)return[2,this.fulfillRequest(e,400,NQe)];n={api_key:this.config.apiKey,events:e.map(function(f){var d=f.event;d.extra;var g=ES(d,["extra"]);return g}),options:{min_id_length:this.config.minIdLength},client_upload_time:new Date().toISOString(),request_metadata:this.config.requestMetadata},this.config.requestMetadata=new l0e,u.label=1;case 1:return u.trys.push([1,3,,4]),i=c0e(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl,[4,this.config.transportProvider.send(i,n)];case 2:return s=u.sent(),s===null?(this.fulfillRequest(e,0,MQe),[2]):r?(this.handleResponse(s,e),[3,4]):("body"in s?this.fulfillRequest(e,s.statusCode,"".concat(s.status,": ").concat(s2(s))):this.fulfillRequest(e,s.statusCode,s.status),[2]);case 3:return o=u.sent(),a=tet(o),this.config.loggerProvider.error(a),this.handleResponse({status:hi.Failed,statusCode:0},e),[3,4];case 4:return[2]}})})},t.prototype.handleResponse=function(e,r){var n=e.status;switch(n){case hi.Success:{this.handleSuccessResponse(e,r);break}case hi.Invalid:{this.handleInvalidResponse(e,r);break}case hi.PayloadTooLarge:{this.handlePayloadTooLargeResponse(e,r);break}case hi.RateLimit:{this.handleRateLimitResponse(e,r);break}default:{this.config.loggerProvider.warn(`{code: 0, error: "Status '`.concat(n,"' provided for ").concat(r.length,' events"}')),this.handleOtherResponse(r);break}}},t.prototype.handleSuccessResponse=function(e,r){this.fulfillRequest(r,e.statusCode,RQe)},t.prototype.handleInvalidResponse=function(e,r){var n=this;if(e.body.missingField||e.body.error.startsWith(BQe)){this.fulfillRequest(r,e.statusCode,e.body.error);return}var i=Vi(Vi(Vi(Vi([],an(Object.values(e.body.eventsWithInvalidFields)),!1),an(Object.values(e.body.eventsWithMissingFields)),!1),an(Object.values(e.body.eventsWithInvalidIdLengths)),!1),an(e.body.silencedEvents),!1).flat(),s=new Set(i),o=r.filter(function(u,f){if(s.has(f)){n.fulfillRequest([u],e.statusCode,e.body.error);return}return!0});o.length>0&&this.config.loggerProvider.warn(s2(e));var a=this.getTryableList(o);this.scheduleTryable(a)},t.prototype.handlePayloadTooLargeResponse=function(e,r){if(r.length===1){this.fulfillRequest(r,e.statusCode,e.body.error);return}this.config.loggerProvider.warn(s2(e)),this.config.flushQueueSize/=2;var n=this.getTryableList(r);this.scheduleTryable(n)},t.prototype.handleRateLimitResponse=function(e,r){var n=this,i=Object.keys(e.body.exceededDailyQuotaUsers),s=Object.keys(e.body.exceededDailyQuotaDevices),o=e.body.throttledEvents,a=new Set(i),u=new Set(s),f=new Set(o),d=r.filter(function(y,b){if(y.event.user_id&&a.has(y.event.user_id)||y.event.device_id&&u.has(y.event.device_id)){n.fulfillRequest([y],e.statusCode,e.body.error);return}return f.has(b)&&(y.timeout=n.throttleTimeout),!0});d.length>0&&this.config.loggerProvider.warn(s2(e));var g=this.getTryableList(d);this.scheduleTryable(g)},t.prototype.handleOtherResponse=function(e){var r=this,n=e.map(function(s){return s.timeout=s.attempts*r.retryTimeout,s}),i=this.getTryableList(n);this.scheduleTryable(i)},t.prototype.fulfillRequest=function(e,r,n){this.removeEvents(e),e.forEach(function(i){return i.callback(by(i.event,r,n))})},t.prototype.saveEvents=function(){if(this.config.storageProvider){var e=this.queue.map(function(r){return r.event});this.config.storageProvider.set(this.storageKey,e)}},t.prototype.removeEvents=function(e){this.queue=this.queue.filter(function(r){return!e.some(function(n){return n.event.insert_id===r.event.insert_id})}),this.saveEvents()},t}(),net=function(t){var e=new Error().stack||"";return e.split(`
`).slice(2+t).map(function(r){return r.trim()})},Ri=function(t){return function(){var e=Nt({},t.config),r=e.loggerProvider,n=e.logLevel;return{logger:r,logLevel:n}}},iet=function(t,e){var r,n;e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,"");try{for(var i=Ui(e.split(".")),s=i.next();!s.done;s=i.next()){var o=s.value;if(o in t)t=t[o];else return}}catch(a){r={error:a}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return t},Mi=function(t,e){return function(){var r,n,i={};try{for(var s=Ui(e),o=s.next();!o.done;o=s.next()){var a=o.value;i[a]=iet(t,a)}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i}},Ci=function(t,e,r,n,i){return i===void 0&&(i=null),function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];var a=r(),u=a.logger,f=a.logLevel;if(f&&f<ga.Debug||!f||!u)return t.apply(i,s);var d={type:"invoke public method",name:e,args:s,stacktrace:net(1),time:{start:new Date().toISOString()},states:{}};n&&d.states&&(d.states.before=n());var g=t.apply(i,s);return g&&g.promise?g.promise.then(function(){n&&d.states&&(d.states.after=n()),d.time&&(d.time.end=new Date().toISOString()),u.debug(JSON.stringify(d,null,2))}):(n&&d.states&&(d.states.after=n()),d.time&&(d.time.end=new Date().toISOString()),u.debug(JSON.stringify(d,null,2))),g}},hF=function(){function t(){this.memoryStorage=new Map}return t.prototype.isEnabled=function(){return Tt(this,void 0,void 0,function(){return At(this,function(e){return[2,!0]})})},t.prototype.get=function(e){return Tt(this,void 0,void 0,function(){return At(this,function(r){return[2,this.memoryStorage.get(e)]})})},t.prototype.getRaw=function(e){return Tt(this,void 0,void 0,function(){var r;return At(this,function(n){switch(n.label){case 0:return[4,this.get(e)];case 1:return r=n.sent(),[2,r?JSON.stringify(r):void 0]}})})},t.prototype.set=function(e,r){return Tt(this,void 0,void 0,function(){return At(this,function(n){return this.memoryStorage.set(e,r),[2]})})},t.prototype.remove=function(e){return Tt(this,void 0,void 0,function(){return At(this,function(r){return this.memoryStorage.delete(e),[2]})})},t.prototype.reset=function(){return Tt(this,void 0,void 0,function(){return At(this,function(e){return this.memoryStorage.clear(),[2]})})},t}(),t6=function(){function t(){}return t.prototype.send=function(e,r){return Promise.resolve(null)},t.prototype.buildResponse=function(e){var r,n,i,s,o,a,u,f,d,g,y,b,A,x,k,I,R,M,P,j,V,Z;if(typeof e!="object")return null;var G=e.code||0,q=this.buildStatus(G);switch(q){case hi.Success:return{status:q,statusCode:G,body:{eventsIngested:(r=e.events_ingested)!==null&&r!==void 0?r:0,payloadSizeBytes:(n=e.payload_size_bytes)!==null&&n!==void 0?n:0,serverUploadTime:(i=e.server_upload_time)!==null&&i!==void 0?i:0}};case hi.Invalid:return{status:q,statusCode:G,body:{error:(s=e.error)!==null&&s!==void 0?s:"",missingField:(o=e.missing_field)!==null&&o!==void 0?o:"",eventsWithInvalidFields:(a=e.events_with_invalid_fields)!==null&&a!==void 0?a:{},eventsWithMissingFields:(u=e.events_with_missing_fields)!==null&&u!==void 0?u:{},eventsWithInvalidIdLengths:(f=e.events_with_invalid_id_lengths)!==null&&f!==void 0?f:{},epsThreshold:(d=e.eps_threshold)!==null&&d!==void 0?d:0,exceededDailyQuotaDevices:(g=e.exceeded_daily_quota_devices)!==null&&g!==void 0?g:{},silencedDevices:(y=e.silenced_devices)!==null&&y!==void 0?y:[],silencedEvents:(b=e.silenced_events)!==null&&b!==void 0?b:[],throttledDevices:(A=e.throttled_devices)!==null&&A!==void 0?A:{},throttledEvents:(x=e.throttled_events)!==null&&x!==void 0?x:[]}};case hi.PayloadTooLarge:return{status:q,statusCode:G,body:{error:(k=e.error)!==null&&k!==void 0?k:""}};case hi.RateLimit:return{status:q,statusCode:G,body:{error:(I=e.error)!==null&&I!==void 0?I:"",epsThreshold:(R=e.eps_threshold)!==null&&R!==void 0?R:0,throttledDevices:(M=e.throttled_devices)!==null&&M!==void 0?M:{},throttledUsers:(P=e.throttled_users)!==null&&P!==void 0?P:{},exceededDailyQuotaDevices:(j=e.exceeded_daily_quota_devices)!==null&&j!==void 0?j:{},exceededDailyQuotaUsers:(V=e.exceeded_daily_quota_users)!==null&&V!==void 0?V:{},throttledEvents:(Z=e.throttled_events)!==null&&Z!==void 0?Z:[]}};case hi.Timeout:default:return{status:q,statusCode:G}}},t.prototype.buildStatus=function(e){return e>=200&&e<300?hi.Success:e===429?hi.RateLimit:e===413?hi.PayloadTooLarge:e===408?hi.Timeout:e>=400&&e<500?hi.Invalid:e>=500?hi.Failed:hi.Unknown},t}(),Wu=function(){var t="ampIntegrationContext";if(typeof globalThis<"u"&&typeof globalThis[t]<"u")return globalThis[t];if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof we.global<"u")return we.global},ZE=function(){var t,e=Wu();if(!(!((t=e==null?void 0:e.location)===null||t===void 0)&&t.search))return{};var r=e.location.search.substring(1).split("&").filter(Boolean),n=r.reduce(function(i,s){var o=s.split("=",2),a=OV(o[0]),u=OV(o[1]);return u&&(i[a]=u),i},{});return n},OV=function(t){t===void 0&&(t="");try{return decodeURIComponent(t)}catch{return""}},set="utm_campaign",oet="utm_content",aet="utm_id",uet="utm_medium",cet="utm_source",fet="utm_term",LV="dclid",DV="fbclid",FV="gbraid",$V="gclid",UV="ko_click_id",zV="li_fat_id",WV="msclkid",jV="rtd_cid",KV="ttclid",HV="twclid",qV="wbraid",r6={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0},f0e=function(){function t(){}return t.prototype.parse=function(){return Tt(this,void 0,void 0,function(){return At(this,function(e){return[2,Nt(Nt(Nt(Nt({},r6),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},t.prototype.getUtmParam=function(){var e=ZE(),r=e[set],n=e[oet],i=e[aet],s=e[uet],o=e[cet],a=e[fet];return{utm_campaign:r,utm_content:n,utm_id:i,utm_medium:s,utm_source:o,utm_term:a}},t.prototype.getReferrer=function(){var e,r,n={referrer:void 0,referring_domain:void 0};try{n.referrer=document.referrer||void 0,n.referring_domain=(r=(e=n.referrer)===null||e===void 0?void 0:e.split("/")[2])!==null&&r!==void 0?r:void 0}catch{}return n},t.prototype.getClickIds=function(){var e,r=ZE();return e={},e[LV]=r[LV],e[DV]=r[DV],e[FV]=r[FV],e[$V]=r[$V],e[UV]=r[UV],e[zV]=r[zV],e[WV]=r[WV],e[jV]=r[jV],e[KV]=r[KV],e[HV]=r[HV],e[qV]=r[qV],e},t}(),d0e=function(t,e,r){return e===void 0&&(e=""),r===void 0&&(r=10),[e6,e,t.substring(0,r)].filter(Boolean).join("_")},det=function(t){return"".concat(e6.toLowerCase(),"_").concat(t.substring(0,6))},VV=function(t){var e=t.split(".");return e.length<=2?t:e.slice(e.length-2,e.length).join(".")},het=function(t){return Object.values(t).every(function(e){return!e})},pet=function(t,e,r,n,i){i===void 0&&(i=!0),t.referrer;var s=t.referring_domain,o=ES(t,["referrer","referring_domain"]),a=e||{};a.referrer;var u=a.referring_domain,f=ES(a,["referrer","referring_domain"]);if(get(r.excludeReferrers,t.referring_domain))return n.debug("This is not a new campaign because ".concat(t.referring_domain," is in the exclude referrer list.")),!1;if(!i&&het(t)&&e)return n.debug("This is not a new campaign because this is a direct traffic in the same session."),!1;var d=JSON.stringify(o)!==JSON.stringify(f),g=VV(s||"")!==VV(u||""),y=!e||d||g;return y?n.debug("This is a new campaign. An $identify event will be sent."):n.debug("This is not a new campaign because it's the same as the previous one."),y},get=function(t,e){return t===void 0&&(t=[]),e===void 0&&(e=""),t.some(function(r){return r instanceof RegExp?r.test(e):r===e})},met=function(t,e){var r=Nt(Nt({},r6),t),n=Object.entries(r).reduce(function(i,s){var o,a=an(s,2),u=a[0],f=a[1];return i.setOnce("initial_".concat(u),(o=f??e.initialEmptyValue)!==null&&o!==void 0?o:"EMPTY"),f?i.set(u,f):i.unset(u)},new kS);return a0e(n)},yet=function(t){var e=t;return e?(e.startsWith(".")&&(e=e.substring(1)),[new RegExp("".concat(e.replace(".","\\."),"$"))]):[]},bet=function(t,e,r){return r===void 0&&(r=10),[e6,e,t.substring(0,r)].filter(Boolean).join("_")},h0e=function(t,e){e===void 0&&(e=Date.now());var r=Date.now(),n=r-e;return n>t},vet=function(){function t(e,r){var n;this.shouldTrackNewCampaign=!1,this.options=Nt({initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:!1,excludeReferrers:yet((n=r.cookieOptions)===null||n===void 0?void 0:n.domain)},e),this.storage=r.cookieStorage,this.storageKey=bet(r.apiKey,"MKTG"),this.currentCampaign=r6,this.sessionTimeout=r.sessionTimeout,this.lastEventTime=r.lastEventTime,this.logger=r.loggerProvider,r.loggerProvider.log("Installing web attribution tracking.")}return t.prototype.init=function(){return Tt(this,void 0,void 0,function(){var e,r;return At(this,function(n){switch(n.label){case 0:return[4,this.fetchCampaign()];case 1:return r=an.apply(void 0,[n.sent(),2]),this.currentCampaign=r[0],this.previousCampaign=r[1],e=this.lastEventTime?h0e(this.sessionTimeout,this.lastEventTime):!0,pet(this.currentCampaign,this.previousCampaign,this.options,this.logger,e)?(this.shouldTrackNewCampaign=!0,[4,this.storage.set(this.storageKey,this.currentCampaign)]):[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.fetchCampaign=function(){return Tt(this,void 0,void 0,function(){return At(this,function(e){switch(e.label){case 0:return[4,Promise.all([new f0e().parse(),this.storage.get(this.storageKey)])];case 1:return[2,e.sent()]}})})},t.prototype.generateCampaignEvent=function(e){this.shouldTrackNewCampaign=!1;var r=met(this.currentCampaign,this.options);return e&&(r.event_id=e),r},t.prototype.shouldSetSessionIdOnNewCampaign=function(){return this.shouldTrackNewCampaign&&!!this.options.resetSessionOnNewCampaign},t}(),U5=function(){function t(e){this.options=Nt({},e)}return t.prototype.isEnabled=function(){return Tt(this,void 0,void 0,function(){var e,r,n;return At(this,function(i){switch(i.label){case 0:if(!Wu())return[2,!1];t.testValue=String(Date.now()),e=new t(this.options),r="AMP_TEST",i.label=1;case 1:return i.trys.push([1,4,5,7]),[4,e.set(r,t.testValue)];case 2:return i.sent(),[4,e.get(r)];case 3:return n=i.sent(),[2,n===t.testValue];case 4:return i.sent(),[2,!1];case 5:return[4,e.remove(r)];case 6:return i.sent(),[7];case 7:return[2]}})})},t.prototype.get=function(e){var r;return Tt(this,void 0,void 0,function(){var n,i;return At(this,function(s){switch(s.label){case 0:return[4,this.getRaw(e)];case 1:if(n=s.sent(),!n)return[2,void 0];try{return i=(r=wet(n))!==null&&r!==void 0?r:_et(n),i===void 0?(console.error("Amplitude Logger [Error]: Failed to decode cookie value for key: ".concat(e,", value: ").concat(n)),[2,void 0]):[2,JSON.parse(i)]}catch{return console.error("Amplitude Logger [Error]: Failed to parse cookie value for key: ".concat(e,", value: ").concat(n)),[2,void 0]}return[2]}})})},t.prototype.getRaw=function(e){var r,n;return Tt(this,void 0,void 0,function(){var i,s,o;return At(this,function(a){return i=Wu(),s=(n=(r=i==null?void 0:i.document)===null||r===void 0?void 0:r.cookie.split("; "))!==null&&n!==void 0?n:[],o=s.find(function(u){return u.indexOf(e+"=")===0}),o?[2,o.substring(e.length+1)]:[2,void 0]})})},t.prototype.set=function(e,r){var n;return Tt(this,void 0,void 0,function(){var i,s,o,a,u,f,d;return At(this,function(g){try{i=(n=this.options.expirationDays)!==null&&n!==void 0?n:0,s=r!==null?i:-1,o=void 0,s&&(a=new Date,a.setTime(a.getTime()+s*24*60*60*1e3),o=a),u="".concat(e,"=").concat(btoa(encodeURIComponent(JSON.stringify(r)))),o&&(u+="; expires=".concat(o.toUTCString())),u+="; path=/",this.options.domain&&(u+="; domain=".concat(this.options.domain)),this.options.secure&&(u+="; Secure"),this.options.sameSite&&(u+="; SameSite=".concat(this.options.sameSite)),f=Wu(),f&&(f.document.cookie=u)}catch(y){d=y instanceof Error?y.message:String(y),console.error("Amplitude Logger [Error]: Failed to set cookie for key: ".concat(e,". Error: ").concat(d))}return[2]})})},t.prototype.remove=function(e){return Tt(this,void 0,void 0,function(){return At(this,function(r){switch(r.label){case 0:return[4,this.set(e,null)];case 1:return r.sent(),[2]}})})},t.prototype.reset=function(){return Tt(this,void 0,void 0,function(){return At(this,function(e){return[2]})})},t}(),wet=function(t){try{return decodeURIComponent(atob(t))}catch{return}},_et=function(t){try{return decodeURIComponent(atob(decodeURIComponent(t)))}catch{return}},Aet=function(t){Na(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.send=function(r,n){return Tt(this,void 0,void 0,function(){var i,s,o;return At(this,function(a){switch(a.label){case 0:if(typeof fetch>"u")throw new Error("FetchTransport is not supported");return i={headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(n),method:"POST"},[4,fetch(r,i)];case 1:return s=a.sent(),[4,s.text()];case 2:o=a.sent();try{return[2,this.buildResponse(JSON.parse(o))]}catch{return[2,this.buildResponse({code:s.status})]}return[2]}})})},e}(t6),xet=function(){function t(){}return t.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:Eet(),platform:"Web",os:void 0,deviceModel:void 0}},t}(),Eet=function(){return typeof navigator<"u"&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},ket=function(){function t(){this.queue=[]}return t.prototype.logEvent=function(e){this.receiver?this.receiver(e):this.queue.length<512&&this.queue.push(e)},t.prototype.setEventReceiver=function(e){this.receiver=e,this.queue.length>0&&(this.queue.forEach(function(r){e(r)}),this.queue=[])},t}(),Dd=function(){return Dd=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Dd.apply(this,arguments)};function hx(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function GV(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}var px=function(t,e){var r,n,i=["string","number","boolean","undefined"],s=typeof t,o=typeof e;if(s!==o)return!1;try{for(var a=hx(i),u=a.next();!u.done;u=a.next()){var f=u.value;if(f===s)return t===e}}catch(k){r={error:k}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}if(t==null&&e==null)return!0;if(t==null||e==null||t.length!==e.length)return!1;var d=Array.isArray(t),g=Array.isArray(e);if(d!==g)return!1;if(d&&g){for(var y=0;y<t.length;y++)if(!px(t[y],e[y]))return!1}else{var b=Object.keys(t).sort(),A=Object.keys(e).sort();if(!px(b,A))return!1;var x=!0;return Object.keys(t).forEach(function(k){px(t[k],e[k])||(x=!1)}),x}return!0},Tet="$set",Iet="$unset",Ret="$clearAll";Object.entries||(Object.entries=function(t){for(var e=Object.keys(t),r=e.length,n=new Array(r);r--;)n[r]=[e[r],t[e[r]]];return n});var Met=function(){function t(){this.identity={userProperties:{}},this.listeners=new Set}return t.prototype.editIdentity=function(){var e=this,r=Dd({},this.identity.userProperties),n=Dd(Dd({},this.identity),{userProperties:r});return{setUserId:function(i){return n.userId=i,this},setDeviceId:function(i){return n.deviceId=i,this},setUserProperties:function(i){return n.userProperties=i,this},setOptOut:function(i){return n.optOut=i,this},updateUserProperties:function(i){var s,o,a,u,f,d,g=n.userProperties||{};try{for(var y=hx(Object.entries(i)),b=y.next();!b.done;b=y.next()){var A=GV(b.value,2),x=A[0],k=A[1];switch(x){case Tet:try{for(var I=(a=void 0,hx(Object.entries(k))),R=I.next();!R.done;R=I.next()){var M=GV(R.value,2),P=M[0],j=M[1];g[P]=j}}catch(G){a={error:G}}finally{try{R&&!R.done&&(u=I.return)&&u.call(I)}finally{if(a)throw a.error}}break;case Iet:try{for(var V=(f=void 0,hx(Object.keys(k))),Z=V.next();!Z.done;Z=V.next()){var P=Z.value;delete g[P]}}catch(G){f={error:G}}finally{try{Z&&!Z.done&&(d=V.return)&&d.call(V)}finally{if(f)throw f.error}}break;case Ret:g={};break}}}catch(G){s={error:G}}finally{try{b&&!b.done&&(o=y.return)&&o.call(y)}finally{if(s)throw s.error}}return n.userProperties=g,this},commit:function(){return e.setIdentity(n),this}}},t.prototype.getIdentity=function(){return Dd({},this.identity)},t.prototype.setIdentity=function(e){var r=Dd({},this.identity);this.identity=Dd({},e),px(r,this.identity)||this.listeners.forEach(function(n){n(e)})},t.prototype.addIdentityListener=function(e){this.listeners.add(e)},t.prototype.removeIdentityListener=function(e){this.listeners.delete(e)},t}(),Ev=typeof globalThis<"u"?globalThis:typeof we.global<"u"?we.global:self,Cet=function(){function t(){this.identityStore=new Met,this.eventBridge=new ket,this.applicationContextProvider=new xet}return t.getInstance=function(e){return Ev.analyticsConnectorInstances||(Ev.analyticsConnectorInstances={}),Ev.analyticsConnectorInstances[e]||(Ev.analyticsConnectorInstances[e]=new t),Ev.analyticsConnectorInstances[e]},t}(),TS=function(t){return t===void 0&&(t="$default_instance"),Cet.getInstance(t)},Pet=function(t,e){TS(e).identityStore.editIdentity().setUserId(t).commit()},Net=function(t,e){TS(e).identityStore.editIdentity().setDeviceId(t).commit()},Bet=function(){function t(){this.name="identity",this.type="before",this.identityStore=TS().identityStore}return t.prototype.execute=function(e){return Tt(this,void 0,void 0,function(){var r;return At(this,function(n){return r=e.user_properties,r&&this.identityStore.editIdentity().updateUserProperties(r).commit(),[2,e]})})},t.prototype.setup=function(e){return Tt(this,void 0,void 0,function(){return At(this,function(r){return e.instanceName&&(this.identityStore=TS(e.instanceName).identityStore),[2]})})},t}(),Oet=function(){var t,e,r,n;if(typeof navigator>"u")return"";var i=navigator.userLanguage;return(n=(r=(e=(t=navigator.languages)===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:navigator.language)!==null&&r!==void 0?r:i)!==null&&n!==void 0?n:""},H_=function(t,e){return typeof t=="boolean"?t:(t==null?void 0:t[e])!==!1},p0e=function(t){return H_(t,"attribution")},Let=function(t){return H_(t,"fileDownloads")},Det=function(t){return H_(t,"formInteractions")},g0e=function(t){return H_(t,"pageViews")},YV=function(t){return H_(t,"sessions")},m0e=function(t){return typeof t=="boolean"?t:typeof t=="object"&&(t.elementInteractions===!0||typeof t.elementInteractions=="object")},Fet=function(t){if(m0e(t.autocapture)&&typeof t.autocapture=="object"&&typeof t.autocapture.elementInteractions=="object")return t.autocapture.elementInteractions},$et=function(t){var e=function(){return!1},r=void 0,n,i=t.pageCounter,s=g0e(t.defaultTracking);return s&&(e=void 0,n=void 0,t.defaultTracking&&typeof t.defaultTracking=="object"&&t.defaultTracking.pageViews&&typeof t.defaultTracking.pageViews=="object"&&("trackOn"in t.defaultTracking.pageViews&&(e=t.defaultTracking.pageViews.trackOn),"trackHistoryChanges"in t.defaultTracking.pageViews&&(r=t.defaultTracking.pageViews.trackHistoryChanges),"eventType"in t.defaultTracking.pageViews&&t.defaultTracking.pageViews.eventType&&(n=t.defaultTracking.pageViews.eventType))),{trackOn:e,trackHistoryChanges:r,eventType:n,pageCounter:i}},Uet=function(t){return p0e(t.defaultTracking)&&t.defaultTracking&&typeof t.defaultTracking=="object"&&t.defaultTracking.attribution&&typeof t.defaultTracking.attribution=="object"?Nt({},t.defaultTracking.attribution):{}},n8=function(t,e){for(var r=0;r<e.length;r++){var n=e[r],i=n.name,s=n.args,o=n.resolve,a=t&&t[i];if(typeof a=="function"){var u=a.apply(t,s);typeof o=="function"&&o(u==null?void 0:u.promise)}}return t},i8=function(t){var e=t;return e&&e._q!==void 0},zet="2.11.11",Wet="amplitude-ts",jet="Web",Ket="$remote",Het=function(){function t(){this.name="@amplitude/plugin-context-browser",this.type="before",this.library="".concat(Wet,"/").concat(zet),typeof navigator<"u"&&(this.userAgent=navigator.userAgent)}return t.prototype.setup=function(e){return this.config=e,Promise.resolve(void 0)},t.prototype.execute=function(e){var r,n;return Tt(this,void 0,void 0,function(){var i,s,o,a;return At(this,function(u){return i=new Date().getTime(),s=(r=this.config.lastEventId)!==null&&r!==void 0?r:-1,o=(n=e.event_id)!==null&&n!==void 0?n:s+1,this.config.lastEventId=o,e.time||(this.config.lastEventTime=i),a=Nt(Nt(Nt(Nt(Nt(Nt(Nt(Nt({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:i},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:jet}),this.config.trackingOptions.language&&{language:Oet()}),this.config.trackingOptions.ipAddress&&{ip:Ket}),{insert_id:U1(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),e),{event_id:o,library:this.library,user_agent:this.userAgent}),[2,a]})})},t}(),y0e=function(){function t(e){this.storage=e}return t.prototype.isEnabled=function(){return Tt(this,void 0,void 0,function(){var e,r,n,i;return At(this,function(s){switch(s.label){case 0:if(!this.storage)return[2,!1];e=String(Date.now()),r=new t(this.storage),n="AMP_TEST",s.label=1;case 1:return s.trys.push([1,4,5,7]),[4,r.set(n,e)];case 2:return s.sent(),[4,r.get(n)];case 3:return i=s.sent(),[2,i===e];case 4:return s.sent(),[2,!1];case 5:return[4,r.remove(n)];case 6:return s.sent(),[7];case 7:return[2]}})})},t.prototype.get=function(e){return Tt(this,void 0,void 0,function(){var r;return At(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.getRaw(e)];case 1:return r=n.sent(),r?[2,JSON.parse(r)]:[2,void 0];case 2:return n.sent(),console.error("[Amplitude] Error: Could not get value from storage"),[2,void 0];case 3:return[2]}})})},t.prototype.getRaw=function(e){var r;return Tt(this,void 0,void 0,function(){return At(this,function(n){return[2,((r=this.storage)===null||r===void 0?void 0:r.getItem(e))||void 0]})})},t.prototype.set=function(e,r){var n;return Tt(this,void 0,void 0,function(){return At(this,function(i){try{(n=this.storage)===null||n===void 0||n.setItem(e,JSON.stringify(r))}catch{}return[2]})})},t.prototype.remove=function(e){var r;return Tt(this,void 0,void 0,function(){return At(this,function(n){try{(r=this.storage)===null||r===void 0||r.removeItem(e)}catch{}return[2]})})},t.prototype.reset=function(){var e;return Tt(this,void 0,void 0,function(){return At(this,function(r){try{(e=this.storage)===null||e===void 0||e.clear()}catch{}return[2]})})},t}(),o2=1e3,b0e=function(t){Na(e,t);function e(r){var n=this,i;return n=t.call(this,(i=Wu())===null||i===void 0?void 0:i.localStorage)||this,n.loggerProvider=r==null?void 0:r.loggerProvider,n}return e.prototype.set=function(r,n){var i;return Tt(this,void 0,void 0,function(){var s;return At(this,function(o){switch(o.label){case 0:return Array.isArray(n)&&n.length>o2?(s=n.length-o2,[4,t.prototype.set.call(this,r,n.slice(0,o2))]):[3,2];case 1:return o.sent(),(i=this.loggerProvider)===null||i===void 0||i.error("Failed to save ".concat(s," events because the queue length exceeded ").concat(o2,".")),[3,4];case 2:return[4,t.prototype.set.call(this,r,n)];case 3:o.sent(),o.label=4;case 4:return[2]}})})},e}(y0e),qet=function(t){Na(e,t);function e(){var r;return t.call(this,(r=Wu())===null||r===void 0?void 0:r.sessionStorage)||this}return e}(y0e),Vet=function(t){Na(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={done:4},r}return e.prototype.send=function(r,n){return Tt(this,void 0,void 0,function(){var i=this;return At(this,function(s){return[2,new Promise(function(o,a){typeof XMLHttpRequest>"u"&&a(new Error("XHRTransport is not supported."));var u=new XMLHttpRequest;u.open("POST",r,!0),u.onreadystatechange=function(){if(u.readyState===i.state.done){var f=u.responseText;try{o(i.buildResponse(JSON.parse(f)))}catch{o(i.buildResponse({code:u.status}))}}},u.setRequestHeader("Content-Type","application/json"),u.setRequestHeader("Accept","*/*"),u.send(JSON.stringify(n))})]})})},e}(t6),Get=function(t){Na(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.send=function(r,n){return Tt(this,void 0,void 0,function(){var i=this;return At(this,function(s){return[2,new Promise(function(o,a){var u=Wu();if(!(u!=null&&u.navigator.sendBeacon))throw new Error("SendBeaconTransport is not supported");try{var f=JSON.stringify(n),d=u.navigator.sendBeacon(r,JSON.stringify(n));return o(d?i.buildResponse({code:200,events_ingested:n.events.length,payload_size_bytes:f.length,server_upload_time:Date.now()}):i.buildResponse({code:500}))}catch(g){a(g)}})]})})},e}(t6),Yet=function(t,e,r){return r===void 0&&(r=!0),Tt(void 0,void 0,void 0,function(){var n,i,s,o,a,u,f,d,g;return At(this,function(y){switch(y.label){case 0:return n=det(t),[4,e.getRaw(n)];case 1:return i=y.sent(),i?r?[4,e.remove(n)]:[3,3]:[2,{optOut:!1}];case 2:y.sent(),y.label=3;case 3:return s=an(i.split("."),6),o=s[0],a=s[1],u=s[2],f=s[3],d=s[4],g=s[5],[2,{deviceId:o,userId:Zet(a),sessionId:s8(f),lastEventId:s8(g),lastEventTime:s8(d),optOut:!!u}]}})})},s8=function(t){var e=parseInt(t,32);if(!isNaN(e))return e},Zet=function(t){if(!(!atob||!escape||!t))try{return decodeURIComponent(escape(atob(t)))}catch{return}},fc="[Amplitude]",ZV="".concat(fc," Form Started"),Xet="".concat(fc," Form Submitted"),Jet="".concat(fc," File Downloaded"),XV="session_start",JV="session_end",Qet="".concat(fc," File Extension"),ett="".concat(fc," File Name"),ttt="".concat(fc," Link ID"),rtt="".concat(fc," Link Text"),ntt="".concat(fc," Link URL"),o8="".concat(fc," Form ID"),a8="".concat(fc," Form Name"),u8="".concat(fc," Form Destination"),XE="cookie",itt="US",stt=function(t){Na(e,t);function e(r,n,i,s,o,a,u,f,d,g,y,b,A,x,k,I,R,M,P,j,V,Z,G,q,ae,T,c,h,p,m,v,_,E,w){i===void 0&&(i=new hF),s===void 0&&(s={domain:"",expiration:365,sameSite:"Lax",secure:!1,upgrade:!0}),f===void 0&&(f=1e3),d===void 0&&(d=5),g===void 0&&(g=30),y===void 0&&(y=XE),I===void 0&&(I=new u0e),R===void 0&&(R=ga.Warn),P===void 0&&(P=!1),j===void 0&&(j=!1),G===void 0&&(G=""),q===void 0&&(q=itt),T===void 0&&(T=30*60*1e3),c===void 0&&(c=new b0e({loggerProvider:I})),h===void 0&&(h={ipAddress:!0,language:!0,platform:!0}),p===void 0&&(p="fetch"),m===void 0&&(m=!1),v===void 0&&(v=!1);var l=t.call(this,{apiKey:r,storageProvider:c,transportProvider:v0e(p)})||this;return l.apiKey=r,l.appVersion=n,l.cookieOptions=s,l.defaultTracking=o,l.autocapture=a,l.flushIntervalMillis=f,l.flushMaxRetries=d,l.flushQueueSize=g,l.identityStorage=y,l.ingestionMetadata=b,l.instanceName=A,l.loggerProvider=I,l.logLevel=R,l.minIdLength=M,l.offline=P,l.partnerId=V,l.plan=Z,l.serverUrl=G,l.serverZone=q,l.sessionTimeout=T,l.storageProvider=c,l.trackingOptions=h,l.transport=p,l.useBatch=m,l.fetchRemoteConfig=v,l._optOut=!1,l._cookieStorage=i,l.deviceId=u,l.lastEventId=x,l.lastEventTime=k,l.optOut=j,l.sessionId=ae,l.pageCounter=E,l.userId=_,l.debugLogsEnabled=w,l.loggerProvider.enable(w?ga.Debug:l.logLevel),l}return Object.defineProperty(e.prototype,"cookieStorage",{get:function(){return this._cookieStorage},set:function(r){this._cookieStorage!==r&&(this._cookieStorage=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"deviceId",{get:function(){return this._deviceId},set:function(r){this._deviceId!==r&&(this._deviceId=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userId",{get:function(){return this._userId},set:function(r){this._userId!==r&&(this._userId=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sessionId",{get:function(){return this._sessionId},set:function(r){this._sessionId!==r&&(this._sessionId=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(r){this._optOut!==r&&(this._optOut=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(r){this._lastEventTime!==r&&(this._lastEventTime=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastEventId",{get:function(){return this._lastEventId},set:function(r){this._lastEventId!==r&&(this._lastEventId=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageCounter",{get:function(){return this._pageCounter},set:function(r){this._pageCounter!==r&&(this._pageCounter=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"debugLogsEnabled",{set:function(r){this._debugLogsEnabled!==r&&(this._debugLogsEnabled=r,this.updateStorage())},enumerable:!1,configurable:!0}),e.prototype.updateStorage=function(){var r={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime,lastEventId:this._lastEventId,pageCounter:this._pageCounter,debugLogsEnabled:this._debugLogsEnabled};this.cookieStorage.set(d0e(this.apiKey),r)},e}(QQe),ott=function(t,e,r){return e===void 0&&(e={}),Tt(void 0,void 0,void 0,function(){var n,i,s,o,a,u,f,d,g,y,b,A,x,k,I,R,M,P,j,V,Z,G,q,ae,T,c,h,p,m,v,_,E,w,l,S,C,D,U,O,$,F,H,Q;return At(this,function(te){switch(te.label){case 0:return n=e.identityStorage||XE,j={},n===XE?[3,1]:(s="",[3,5]);case 1:return(Z=(V=e.cookieOptions)===null||V===void 0?void 0:V.domain)!==null&&Z!==void 0?(o=Z,[3,4]):[3,2];case 2:return[4,utt()];case 3:o=te.sent(),te.label=4;case 4:s=o,te.label=5;case 5:return i=Nt.apply(void 0,[(j.domain=s,j.expiration=365,j.sameSite="Lax",j.secure=!1,j.upgrade=!0,j),e.cookieOptions]),a=att(e.identityStorage,i),[4,Yet(t,a,(q=(G=e.cookieOptions)===null||G===void 0?void 0:G.upgrade)!==null&&q!==void 0?q:!0)];case 6:return u=te.sent(),[4,a.get(d0e(t))];case 7:return f=te.sent(),d=ZE(),g=(p=(h=(c=(T=(ae=e.deviceId)!==null&&ae!==void 0?ae:d.ampDeviceId)!==null&&T!==void 0?T:d.deviceId)!==null&&c!==void 0?c:f==null?void 0:f.deviceId)!==null&&h!==void 0?h:u.deviceId)!==null&&p!==void 0?p:U1(),y=(m=f==null?void 0:f.lastEventId)!==null&&m!==void 0?m:u.lastEventId,b=(v=f==null?void 0:f.lastEventTime)!==null&&v!==void 0?v:u.lastEventTime,A=(E=(_=e.optOut)!==null&&_!==void 0?_:f==null?void 0:f.optOut)!==null&&E!==void 0?E:u.optOut,x=(w=f==null?void 0:f.sessionId)!==null&&w!==void 0?w:u.sessionId,k=(S=(l=e.userId)!==null&&l!==void 0?l:f==null?void 0:f.userId)!==null&&S!==void 0?S:u.userId,r.previousSessionDeviceId=(C=f==null?void 0:f.deviceId)!==null&&C!==void 0?C:u.deviceId,r.previousSessionUserId=(D=f==null?void 0:f.userId)!==null&&D!==void 0?D:u.userId,I={ipAddress:(O=(U=e.trackingOptions)===null||U===void 0?void 0:U.ipAddress)!==null&&O!==void 0?O:!0,language:(F=($=e.trackingOptions)===null||$===void 0?void 0:$.language)!==null&&F!==void 0?F:!0,platform:(Q=(H=e.trackingOptions)===null||H===void 0?void 0:H.platform)!==null&&Q!==void 0?Q:!0},R=f==null?void 0:f.pageCounter,M=f==null?void 0:f.debugLogsEnabled,e.autocapture!==void 0&&(e.defaultTracking=e.autocapture),P=new stt(t,e.appVersion,a,i,e.defaultTracking,e.autocapture,g,e.flushIntervalMillis,e.flushMaxRetries,e.flushQueueSize,n,e.ingestionMetadata,e.instanceName,y,b,e.loggerProvider,e.logLevel,e.minIdLength,e.offline,A,e.partnerId,e.plan,e.serverUrl,e.serverZone,x,e.sessionTimeout,e.storageProvider,I,e.transport,e.useBatch,e.fetchRemoteConfig,k,R,M),[4,P.storageProvider.isEnabled()];case 8:return te.sent()||(P.loggerProvider.warn("Storage provider ".concat(P.storageProvider.constructor.name," is not enabled. Falling back to MemoryStorage.")),P.storageProvider=new hF),[2,P]}})})},att=function(t,e){switch(t===void 0&&(t=XE),e===void 0&&(e={}),t){case"localStorage":return new b0e;case"sessionStorage":return new qet;case"none":return new hF;case"cookie":default:return new U5(Nt(Nt({},e),{expirationDays:e.expiration}))}},v0e=function(t){return t==="xhr"?new Vet:t==="beacon"?new Get:new Aet},utt=function(t){return Tt(void 0,void 0,void 0,function(){var e,r,n,i,s,s,o,a,u,f;return At(this,function(d){switch(d.label){case 0:return[4,new U5().isEnabled()];case 1:if(!d.sent()||typeof location>"u"||!location.hostname)return[2,""];for(e=location.hostname,r=e.split("."),n=[],i="AMP_TLDTEST",s=r.length-2;s>=0;--s)n.push(r.slice(s).join("."));s=0,d.label=2;case 2:return s<n.length?(o=n[s],a={domain:"."+o},u=new U5(a),[4,u.set(i,1)]):[3,7];case 3:return d.sent(),[4,u.get(i)];case 4:return f=d.sent(),f?[4,u.remove(i)]:[3,6];case 5:return d.sent(),[2,"."+o];case 6:return s++,[3,2];case 7:return[2,""]}})})},ctt=function(t){var e={};for(var r in t){var n=t[r];n&&(e[r]=n)}return e},ltt="[Amplitude] Page Viewed",ftt=function(t){t===void 0&&(t={});var e,r=Wu(),n=void 0,i,s,o=t.trackOn,a=t.trackHistoryChanges,u=t.eventType,f=u===void 0?ltt:u,d=function(I){var R=I;try{R=decodeURI(I)}catch(M){n==null||n.error("Malformed URI sequence: ",M)}return R},g=function(){return Tt(void 0,void 0,void 0,function(){var I,R,M;return At(this,function(P){switch(P.label){case 0:return I=d(typeof location<"u"&&location.href||""),M={event_type:f},R=[{}],[4,dtt()];case 1:return[2,(M.event_properties=Nt.apply(void 0,[Nt.apply(void 0,R.concat([P.sent()])),{"[Amplitude] Page Domain":typeof location<"u"&&location.hostname||"","[Amplitude] Page Location":I,"[Amplitude] Page Path":typeof location<"u"&&d(location.pathname)||"","[Amplitude] Page Title":typeof document<"u"&&document.title||"","[Amplitude] Page URL":I.split("?")[0]}]),M)]}})})},y=function(){return typeof o>"u"||typeof o=="function"&&o()},b=typeof location<"u"?location.href:null,A=function(){return Tt(void 0,void 0,void 0,function(){var I,R,M,P;return At(this,function(j){switch(j.label){case 0:return I=location.href,R=ptt(a,I,b||"")&&y(),b=I,R?(n==null||n.log("Tracking page view event"),e!=null?[3,1]:[3,3]):[3,4];case 1:return P=(M=e).track,[4,g()];case 2:P.apply(M,[j.sent()]),j.label=3;case 3:j.label=4;case 4:return[2]}})})},x=function(){A()},k={name:"@amplitude/plugin-page-view-tracking-browser",type:"enrichment",setup:function(I,R){return Tt(void 0,void 0,void 0,function(){var M,P;return At(this,function(j){switch(j.label){case 0:return e=R,s=I,n=I.loggerProvider,n.log("Installing @amplitude/plugin-page-view-tracking-browser"),r&&(r.addEventListener("popstate",x),i=r.history.pushState,r.history.pushState=new Proxy(r.history.pushState,{apply:function(V,Z,G){var q=an(G,3),ae=q[0],T=q[1],c=q[2];V.apply(Z,[ae,T,c]),A()}})),y()?(n.log("Tracking page view event"),P=(M=e).track,[4,g()]):[3,2];case 1:P.apply(M,[j.sent()]),j.label=2;case 2:return[2]}})})},execute:function(I){return Tt(void 0,void 0,void 0,function(){var R;return At(this,function(M){switch(M.label){case 0:return o==="attribution"&&htt(I)?(n==null||n.log("Enriching campaign event to page view event with campaign parameters"),[4,g()]):[3,2];case 1:R=M.sent(),I.event_type=R.event_type,I.event_properties=Nt(Nt({},I.event_properties),R.event_properties),M.label=2;case 2:return s&&I.event_type===f&&(s.pageCounter=s.pageCounter?s.pageCounter+1:1,I.event_properties=Nt(Nt({},I.event_properties),{"[Amplitude] Page Counter":s.pageCounter})),[2,I]}})})},teardown:function(){return Tt(void 0,void 0,void 0,function(){return At(this,function(I){return r&&(r.removeEventListener("popstate",x),i&&(r.history.pushState=i)),[2]})})}};return k},dtt=function(){return Tt(void 0,void 0,void 0,function(){var t;return At(this,function(e){switch(e.label){case 0:return t=ctt,[4,new f0e().parse()];case 1:return[2,t.apply(void 0,[e.sent()])]}})})},htt=function(t){if(t.event_type==="$identify"&&t.user_properties){var e=t.user_properties,r=e[rs.SET]||{},n=e[rs.UNSET]||{},i=Vi(Vi([],an(Object.keys(r)),!1),an(Object.keys(n)),!1);return Object.keys(r6).every(function(s){return i.includes(s)})}return!1},ptt=function(t,e,r){switch(t){case"pathOnly":{if(r=="")return!0;var n=new URL(e),i=new URL(r),s=n.origin+n.pathname,o=i.origin+i.pathname;return s!==o}default:return e!==r}},gtt=function(){var t,e=[],r=function(f,d,g){f.addEventListener(d,g),e.push({element:f,type:d,handler:g})},n=function(){e.forEach(function(f){var d=f.element,g=f.type,y=f.handler;d==null||d.removeEventListener(g,y)}),e=[]},i="@amplitude/plugin-form-interaction-tracking-browser",s="enrichment",o=function(f,d){return Tt(void 0,void 0,void 0,function(){var g;return At(this,function(y){return(g=Wu())===null||g===void 0||g.addEventListener("load",function(){if(!d){f.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked.");return}if(!(typeof document>"u")){var b=function(x){var k=!1;r(x,"change",function(){var I;k||d.track(ZV,(I={},I[o8]=Fg(x.id),I[a8]=Fg(x.name),I[u8]=x.action,I)),k=!0}),r(x,"submit",function(){var I,R;k||d.track(ZV,(I={},I[o8]=Fg(x.id),I[a8]=Fg(x.name),I[u8]=x.action,I)),d.track(Xet,(R={},R[o8]=Fg(x.id),R[a8]=Fg(x.name),R[u8]=x.action,R)),k=!1})},A=Array.from(document.getElementsByTagName("form"));A.forEach(b),typeof MutationObserver<"u"&&(t=new MutationObserver(function(x){x.forEach(function(k){k.addedNodes.forEach(function(I){I.nodeName==="FORM"&&b(I),"querySelectorAll"in I&&typeof I.querySelectorAll=="function"&&Array.from(I.querySelectorAll("form")).map(b)})})}),t.observe(document.body,{subtree:!0,childList:!0}))}}),[2]})})},a=function(f){return Tt(void 0,void 0,void 0,function(){return At(this,function(d){return[2,f]})})},u=function(){return Tt(void 0,void 0,void 0,function(){return At(this,function(f){return t==null||t.disconnect(),n(),[2]})})};return{name:i,type:s,setup:o,execute:a,teardown:u}},Fg=function(t){if(typeof t=="string")return t},mtt=function(){var t,e=[],r=function(f,d,g){f.addEventListener(d,g),e.push({element:f,type:d,handler:g})},n=function(){e.forEach(function(f){var d=f.element,g=f.type,y=f.handler;d==null||d.removeEventListener(g,y)}),e=[]},i="@amplitude/plugin-file-download-tracking-browser",s="enrichment",o=function(f,d){return Tt(void 0,void 0,void 0,function(){var g;return At(this,function(y){return(g=Wu())===null||g===void 0||g.addEventListener("load",function(){if(!d){f.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked.");return}if(!(typeof document>"u")){var b=function(k){var I;try{I=new URL(k.href,window.location.href)}catch{return}var R=A.exec(I.href),M=R==null?void 0:R[1];M&&r(k,"click",function(){var P;M&&d.track(Jet,(P={},P[Qet]=M,P[ett]=I.pathname,P[ttt]=k.id,P[rtt]=k.text,P[ntt]=k.href,P))})},A=/\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)(\?.+)?$/,x=Array.from(document.getElementsByTagName("a"));x.forEach(b),typeof MutationObserver<"u"&&(t=new MutationObserver(function(k){k.forEach(function(I){I.addedNodes.forEach(function(R){R.nodeName==="A"&&b(R),"querySelectorAll"in R&&typeof R.querySelectorAll=="function"&&Array.from(R.querySelectorAll("a")).map(b)})})}),t.observe(document.body,{subtree:!0,childList:!0}))}}),[2]})})},a=function(f){return Tt(void 0,void 0,void 0,function(){return At(this,function(d){return[2,f]})})},u=function(){return Tt(void 0,void 0,void 0,function(){return At(this,function(f){return t==null||t.disconnect(),n(),[2]})})};return{name:i,type:s,setup:o,execute:a,teardown:u}},QV=!1,ytt=function(t){if(!(QV||t.defaultTracking!==void 0)){var e=`\`options.defaultTracking\` is set to undefined. This implicitly configures your Amplitude instance to track Page Views, Sessions, File Downloads, and Form Interactions. You can suppress this warning by explicitly setting a value to \`options.defaultTracking\`. The value must either be a boolean, to enable and disable all default events, or an object, for advanced configuration. For example:

amplitude.init(<YOUR_API_KEY>, {
  defaultTracking: true,
});

Visit https://www.docs.developers.amplitude.com/data/sdks/browser-2/#tracking-default-events for more details.`;t.loggerProvider.warn(e),QV=!0}},btt=function(){var t="@amplitude/plugin-network-checker-browser",e="before",r=Wu(),n=[],i=function(u,f){r&&(r.addEventListener(u,f),n.push({type:u,handler:f}))},s=function(){n.forEach(function(u){var f=u.type,d=u.handler;r&&r.removeEventListener(f,d)}),n=[]},o=function(u,f){return Tt(void 0,void 0,void 0,function(){return At(this,function(d){return typeof navigator>"u"?(u.loggerProvider.debug("Network connectivity checker plugin is disabled because navigator is not available."),u.offline=!1,[2]):(u.offline=!navigator.onLine,i("online",function(){u.loggerProvider.debug("Network connectivity changed to online."),u.offline=!1,setTimeout(function(){f.flush()},u.flushIntervalMillis)}),i("offline",function(){u.loggerProvider.debug("Network connectivity changed to offline."),u.offline=!0}),[2])})})},a=function(){return Tt(void 0,void 0,void 0,function(){return At(this,function(u){return s(),[2]})})};return{name:t,type:e,setup:o,teardown:a}},vtt="Network error occurred, remote config fetch failed",wtt="Remote config successfully fetched",Stt="Remote config fetch rejected due to exceeded retry count",eG="Remote config fetch rejected due to timeout after 5 seconds",tG="Unexpected error occurred",_tt="https://sr-client-cfg.amplitude.com/config",Att="https://sr-client-cfg.stag2.amplitude.com/config",xtt="https://sr-client-cfg.eu.amplitude.com/config",Ett=function(){function t(e){var r=e.localConfig,n=e.configKeys,i=this;this.retryTimeout=1e3,this.attempts=0,this.sessionTargetingMatch=!1,this.metrics={},this.getRemoteConfig=function(s,o,a){return Tt(i,void 0,void 0,function(){var u,f,d;return At(this,function(g){switch(g.label){case 0:return u=Date.now(),[4,this.fetchWithTimeout(a)];case 1:return f=g.sent(),f&&(d=f.configs&&f.configs[s],d)?(this.metrics.fetchTimeAPISuccess=Date.now()-u,[2,d[o]]):(this.metrics.fetchTimeAPIFail=Date.now()-u,[2,void 0])}})})},this.fetchWithTimeout=function(s){return Tt(i,void 0,void 0,function(){var o,a,u;return At(this,function(f){switch(f.label){case 0:return o=new AbortController,a=setTimeout(function(){return o.abort()},5e3),[4,this.fetchRemoteConfig(o.signal,s)];case 1:return u=f.sent(),clearTimeout(a),[2,u]}})})},this.fetchRemoteConfig=function(s,o){return Tt(i,void 0,void 0,function(){var a,u,f,d,g,y,b,A,x,k,I,R,M;return At(this,function(P){switch(P.label){case 0:if(o===this.lastFetchedSessionId&&this.attempts>=this.localConfig.flushMaxRetries)return[2,this.completeRequest({err:Stt})];if(s.aborted)return[2,this.completeRequest({err:eG})];o!==this.lastFetchedSessionId&&(this.lastFetchedSessionId=o,this.attempts=0),P.label=1;case 1:P.trys.push([1,3,,4]),a=new URLSearchParams({api_key:this.localConfig.apiKey});try{for(u=Ui(this.configKeys),f=u.next();!f.done;f=u.next())d=f.value,a.append("config_keys",d)}catch(j){I={error:j}}finally{try{f&&!f.done&&(R=u.return)&&R.call(u)}finally{if(I)throw I.error}}return o&&a.set("session_id",String(o)),g={headers:{Accept:"*/*"},method:"GET"},y="".concat(this.getServerUrl(),"?").concat(a.toString()),this.attempts+=1,[4,fetch(y,Nt(Nt({},g),{signal:s}))];case 2:if(b=P.sent(),b===null)return[2,this.completeRequest({err:tG})];switch(A=new t6().buildStatus(b.status),A){case hi.Success:return this.attempts=0,[2,this.parseAndStoreConfig(b)];case hi.Failed:return[2,this.retryFetch(s,o)];default:return[2,this.completeRequest({err:vtt})]}case 3:return x=P.sent(),k=x,s.aborted?[2,this.completeRequest({err:eG})]:[2,this.completeRequest({err:(M=k.message)!==null&&M!==void 0?M:tG})];case 4:return[2]}})})},this.retryFetch=function(s,o){return Tt(i,void 0,void 0,function(){var a=this;return At(this,function(u){switch(u.label){case 0:return[4,new Promise(function(f){return setTimeout(f,a.attempts*a.retryTimeout)})];case 1:return u.sent(),[2,this.fetchRemoteConfig(s,o)]}})})},this.parseAndStoreConfig=function(s){return Tt(i,void 0,void 0,function(){var o;return At(this,function(a){switch(a.label){case 0:return[4,s.json()];case 1:return o=a.sent(),this.completeRequest({success:wtt}),[2,o]}})})},this.localConfig=r,this.configKeys=n}return t.prototype.getServerUrl=function(){return this.localConfig.serverZone===YE.STAGING?Att:this.localConfig.serverZone===YE.EU?xtt:_tt},t.prototype.completeRequest=function(e){var r=e.err,n=e.success;if(r)throw new Error(r);n&&this.localConfig.loggerProvider.log(n)},t}(),ktt=function(t){var e=t.localConfig,r=t.configKeys;return Tt(void 0,void 0,void 0,function(){return At(this,function(n){return[2,new Ett({localConfig:e,configKeys:r})]})})},Ttt=ktt,Itt=function(){function t(e){this.config=e,this.config.loggerProvider.debug("Local configuration before merging with remote config",JSON.stringify(this.config,null,2))}return t.prototype.initialize=function(){return Tt(this,void 0,void 0,function(){var e;return At(this,function(r){switch(r.label){case 0:return e=this,[4,Ttt({localConfig:this.config,configKeys:["analyticsSDK"]})];case 1:return e.remoteConfigFetch=r.sent(),[2]}})})},t.prototype.generateJoinedConfig=function(){var e,r,n,i;return Tt(this,void 0,void 0,function(){var s,o,a;return At(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),o=this.remoteConfigFetch,o?[4,this.remoteConfigFetch.getRemoteConfig("analyticsSDK","browserSDK",this.config.sessionId)]:[3,2];case 1:o=u.sent(),u.label=2;case 2:return s=o,this.config.loggerProvider.debug("Remote configuration:",JSON.stringify(s,null,2)),s&&"autocapture"in s&&(typeof s.autocapture=="boolean"&&(this.config.autocapture=s.autocapture),typeof s.autocapture=="object"&&(this.config.autocapture===void 0&&(this.config.autocapture=s.autocapture),typeof this.config.autocapture=="boolean"&&(this.config.autocapture=Nt({attribution:this.config.autocapture,fileDownloads:this.config.autocapture,formInteractions:this.config.autocapture,pageViews:this.config.autocapture,sessions:this.config.autocapture,elementInteractions:this.config.autocapture},s.autocapture)),typeof this.config.autocapture=="object"&&(this.config.autocapture=Nt(Nt({},this.config.autocapture),s.autocapture))),this.config.defaultTracking=this.config.autocapture),this.config.loggerProvider.debug("Joined configuration: ",JSON.stringify(this.config,null,2)),(e=(i=this.config).requestMetadata)!==null&&e!==void 0||(i.requestMetadata=new l0e),!((r=this.remoteConfigFetch)===null||r===void 0)&&r.metrics.fetchTimeAPISuccess&&this.config.requestMetadata.recordHistogram("remote_config_fetch_time_API_success",this.remoteConfigFetch.metrics.fetchTimeAPISuccess),!((n=this.remoteConfigFetch)===null||n===void 0)&&n.metrics.fetchTimeAPIFail&&this.config.requestMetadata.recordHistogram("remote_config_fetch_time_API_fail",this.remoteConfigFetch.metrics.fetchTimeAPIFail),[3,4];case 3:return a=u.sent(),this.config.loggerProvider.error("Failed to fetch remote configuration because of error: ",a),[3,4];case 4:return[2,this.config]}})})},t}(),Rtt=function(t){return Tt(void 0,void 0,void 0,function(){var e;return At(this,function(r){switch(r.label){case 0:return e=new Itt(t),[4,e.initialize()];case 1:return r.sent(),[2,e]}})})},Mtt="@amplitude/plugin-autocapture-browser",z5="[Amplitude] Element Clicked",Ctt="[Amplitude] Element Changed",Ptt="[Amplitude] Element ID",Ntt="[Amplitude] Element Class",w0e="[Amplitude] Element Tag",S0e="[Amplitude] Element Text",Btt="[Amplitude] Element Hierarchy",Ott="[Amplitude] Element Href",Ltt="[Amplitude] Element Position Left",Dtt="[Amplitude] Element Position Top",Ftt="[Amplitude] Element Aria Label",$tt="[Amplitude] Element Attributes",_0e="[Amplitude] Element Selector",Utt="[Amplitude] Element Parent Label",A0e="[Amplitude] Page URL",ztt="[Amplitude] Page Title",Wtt="[Amplitude] Viewport Height",jtt="[Amplitude] Viewport Width",gx="https://app.amplitude.com",Ktt="https://app.eu.amplitude.com",Htt="https://apps.stag2.amplitude.com",qtt={US:gx,EU:Ktt,STAGING:Htt},Vtt="https://cdn.amplitude.com/libs/visual-tagging-selector-1.0.0-alpha.js.gz",W5="amp-visual-tagging-selector-highlight";function Pn(t){return typeof t=="function"}function x0e(t){var e=function(n){Error.call(n),n.stack=new Error().stack},r=t(e);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var c8=x0e(function(t){return function(r){t(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function j5(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var n6=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,r,n,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=Ui(o),u=a.next();!u.done;u=a.next()){var f=u.value;f.remove(this)}}catch(x){e={error:x}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}else o.remove(this);var d=this.initialTeardown;if(Pn(d))try{d()}catch(x){s=x instanceof c8?x.errors:[x]}var g=this._finalizers;if(g){this._finalizers=null;try{for(var y=Ui(g),b=y.next();!b.done;b=y.next()){var A=b.value;try{rG(A)}catch(x){s=s??[],x instanceof c8?s=Vi(Vi([],an(s)),an(x.errors)):s.push(x)}}}catch(x){n={error:x}}finally{try{b&&!b.done&&(i=y.return)&&i.call(y)}finally{if(n)throw n.error}}}if(s)throw new c8(s)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)rG(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}},t.prototype._hasParent=function(e){var r=this._parentage;return r===e||Array.isArray(r)&&r.includes(e)},t.prototype._addParent=function(e){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e},t.prototype._removeParent=function(e){var r=this._parentage;r===e?this._parentage=null:Array.isArray(r)&&j5(r,e)},t.prototype.remove=function(e){var r=this._finalizers;r&&j5(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),xSt=n6.EMPTY;function E0e(t){return t instanceof n6||t&&"closed"in t&&Pn(t.remove)&&Pn(t.add)&&Pn(t.unsubscribe)}function rG(t){Pn(t)?t():t.unsubscribe()}var Gtt={Promise:void 0},Ytt={setTimeout:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout.apply(void 0,Vi([t,e],an(r)))},clearTimeout:function(t){return clearTimeout(t)},delegate:void 0};function k0e(t){Ytt.setTimeout(function(){throw t})}function K5(){}function Ztt(t){t()}var pF=function(t){Na(e,t);function e(r){var n=t.call(this)||this;return n.isStopped=!1,r?(n.destination=r,E0e(r)&&r.add(n)):n.destination=Qtt,n}return e.create=function(r,n,i){return new H5(r,n,i)},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(n6),Xtt=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var r=this.partialObserver;if(r.next)try{r.next(e)}catch(n){a2(n)}},t.prototype.error=function(e){var r=this.partialObserver;if(r.error)try{r.error(e)}catch(n){a2(n)}else a2(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(r){a2(r)}},t}(),H5=function(t){Na(e,t);function e(r,n,i){var s=t.call(this)||this,o;return Pn(r)||!r?o={next:r??void 0,error:n??void 0,complete:i??void 0}:o=r,s.destination=new Xtt(o),s}return e}(pF);function a2(t){k0e(t)}function Jtt(t){throw t}var Qtt={closed:!0,next:K5,error:Jtt,complete:K5},gF=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function T0e(t){return t}function ert(t){return t.length===0?T0e:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var Ba=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this,s=rrt(e)?e:new H5(e,r,n);return Ztt(function(){var o=i,a=o.operator,u=o.source;s.add(a?a.call(s,u):u?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.error(r)}},t.prototype.forEach=function(e,r){var n=this;return r=nG(r),new r(function(i,s){var o=new H5({next:function(a){try{e(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});n.subscribe(o)})},t.prototype._subscribe=function(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)},t.prototype[gF]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return ert(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=nG(e),new e(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},t.create=function(e){return new t(e)},t}();function nG(t){var e;return(e=t??Gtt.Promise)!==null&&e!==void 0?e:Promise}function trt(t){return t&&Pn(t.next)&&Pn(t.error)&&Pn(t.complete)}function rrt(t){return t&&t instanceof pF||trt(t)&&E0e(t)}function nrt(t){return Pn(t==null?void 0:t.lift)}function dc(t){return function(e){if(nrt(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ea(t,e,r,n,i){return new irt(t,e,r,n,i)}var irt=function(t){Na(e,t);function e(r,n,i,s,o,a){var u=t.call(this,r)||this;return u.onFinalize=o,u.shouldUnsubscribe=a,u._next=n?function(f){try{n(f)}catch(d){r.error(d)}}:t.prototype._next,u._error=s?function(f){try{s(f)}catch(d){r.error(d)}finally{this.unsubscribe()}}:t.prototype._error,u._complete=i?function(){try{i()}catch(f){r.error(f)}finally{this.unsubscribe()}}:t.prototype._complete,u}return e.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},e}(pF),I0e={now:function(){return(I0e.delegate||Date).now()},delegate:void 0},srt=function(t){Na(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(n6),iG={setInterval:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setInterval.apply(void 0,Vi([t,e],an(r)))},clearInterval:function(t){return clearInterval(t)},delegate:void 0},ort=function(t){Na(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){var i;if(n===void 0&&(n=0),this.closed)return this;this.state=r;var s=this.id,o=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(o,s,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),iG.setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&iG.clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,s;try{this.work(r)}catch(o){i=!0,s=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s},e.prototype.unsubscribe=function(){if(!this.closed){var r=this,n=r.id,i=r.scheduler,s=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,j5(s,this),n!=null&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(srt),sG=function(){function t(e,r){r===void 0&&(r=t.now),this.schedulerActionCtor=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.schedulerActionCtor(this,e).schedule(n,r)},t.now=I0e.now,t}(),art=function(t){Na(e,t);function e(r,n){n===void 0&&(n=sG.now);var i=t.call(this,r,n)||this;return i.actions=[],i._active=!1,i}return e.prototype.flush=function(r){var n=this.actions;if(this._active){n.push(r);return}var i;this._active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this._active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(sG),i6=new art(ort),urt=i6,mF=new Ba(function(t){return t.complete()});function R0e(t){return t&&Pn(t.schedule)}function yF(t){return t[t.length-1]}function ESt(t){return Pn(yF(t))?t.pop():void 0}function crt(t){return R0e(yF(t))?t.pop():void 0}function lrt(t,e){return typeof yF(t)=="number"?t.pop():e}var bF=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function M0e(t){return Pn(t==null?void 0:t.then)}function C0e(t){return Pn(t[gF])}function P0e(t){return Symbol.asyncIterator&&Pn(t==null?void 0:t[Symbol.asyncIterator])}function N0e(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function frt(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var B0e=frt();function O0e(t){return Pn(t==null?void 0:t[B0e])}function L0e(t){return TQe(this,arguments,function(){var r,n,i,s;return At(this,function(o){switch(o.label){case 0:r=t.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,yy(r.read())];case 3:return n=o.sent(),i=n.value,s=n.done,s?[4,yy(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,yy(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function D0e(t){return Pn(t==null?void 0:t.getReader)}function hc(t){if(t instanceof Ba)return t;if(t!=null){if(C0e(t))return drt(t);if(bF(t))return hrt(t);if(M0e(t))return prt(t);if(P0e(t))return F0e(t);if(O0e(t))return grt(t);if(D0e(t))return mrt(t)}throw N0e(t)}function drt(t){return new Ba(function(e){var r=t[gF]();if(Pn(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function hrt(t){return new Ba(function(e){for(var r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()})}function prt(t){return new Ba(function(e){t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,k0e)})}function grt(t){return new Ba(function(e){var r,n;try{for(var i=Ui(t),s=i.next();!s.done;s=i.next()){var o=s.value;if(e.next(o),e.closed)return}}catch(a){r={error:a}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}e.complete()})}function F0e(t){return new Ba(function(e){yrt(t,e).catch(function(r){return e.error(r)})})}function mrt(t){return F0e(L0e(t))}function yrt(t,e){var r,n,i,s;return Tt(this,void 0,void 0,function(){var o,a;return At(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),r=IQe(t),u.label=1;case 1:return[4,r.next()];case 2:if(n=u.sent(),!!n.done)return[3,4];if(o=n.value,e.next(o),e.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=u.sent(),i={error:a},[3,11];case 6:return u.trys.push([6,,9,10]),n&&!n.done&&(s=r.return)?[4,s.call(r)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function wh(t,e,r,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var s=e.schedule(function(){r(),i?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(s),!i)return s}function $0e(t,e){return e===void 0&&(e=0),dc(function(r,n){r.subscribe(Ea(n,function(i){return wh(n,t,function(){return n.next(i)},e)},function(){return wh(n,t,function(){return n.complete()},e)},function(i){return wh(n,t,function(){return n.error(i)},e)}))})}function U0e(t,e){return e===void 0&&(e=0),dc(function(r,n){n.add(t.schedule(function(){return r.subscribe(n)},e))})}function brt(t,e){return hc(t).pipe(U0e(e),$0e(e))}function vrt(t,e){return hc(t).pipe(U0e(e),$0e(e))}function wrt(t,e){return new Ba(function(r){var n=0;return e.schedule(function(){n===t.length?r.complete():(r.next(t[n++]),r.closed||this.schedule())})})}function Srt(t,e){return new Ba(function(r){var n;return wh(r,e,function(){n=t[B0e](),wh(r,e,function(){var i,s,o;try{i=n.next(),s=i.value,o=i.done}catch(a){r.error(a);return}o?r.complete():r.next(s)},0,!0)}),function(){return Pn(n==null?void 0:n.return)&&n.return()}})}function z0e(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ba(function(r){wh(r,e,function(){var n=t[Symbol.asyncIterator]();wh(r,e,function(){n.next().then(function(i){i.done?r.complete():r.next(i.value)})},0,!0)})})}function _rt(t,e){return z0e(L0e(t),e)}function Art(t,e){if(t!=null){if(C0e(t))return brt(t,e);if(bF(t))return wrt(t,e);if(M0e(t))return vrt(t,e);if(P0e(t))return z0e(t,e);if(O0e(t))return Srt(t,e);if(D0e(t))return _rt(t,e)}throw N0e(t)}function xrt(t,e){return e?Art(t,e):hc(t)}function W0e(t){return t instanceof Date&&!isNaN(t)}var Ert=x0e(function(t){return function(r){r===void 0&&(r=null),t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=r}});function krt(t,e){var r=W0e(t)?{first:t}:typeof t=="number"?{each:t}:t,n=r.first,i=r.each,s=r.with,o=s===void 0?Trt:s,a=r.scheduler,u=a===void 0?i6:a,f=r.meta,d=f===void 0?null:f;if(n==null&&i==null)throw new TypeError("No timeout provided.");return dc(function(g,y){var b,A,x=null,k=0,I=function(R){A=wh(y,u,function(){try{b.unsubscribe(),hc(o({meta:d,lastValue:x,seen:k})).subscribe(y)}catch(M){y.error(M)}},R)};b=g.subscribe(Ea(y,function(R){A==null||A.unsubscribe(),k++,y.next(x=R),i>0&&I(i)},void 0,void 0,function(){A!=null&&A.closed||A==null||A.unsubscribe(),x=null})),!k&&I(n!=null?typeof n=="number"?n:+n-u.now():i)})}function Trt(t){throw new Ert(t)}function Xc(t,e){return dc(function(r,n){var i=0;r.subscribe(Ea(n,function(s){n.next(t.call(e,s,i++))}))})}var Irt=Array.isArray;function Rrt(t,e){return Irt(e)?t.apply(void 0,Vi([],an(e))):t(e)}function Mrt(t){return Xc(function(e){return Rrt(t,e)})}function Crt(t,e,r,n,i,s,o,a){var u=[],f=0,d=0,g=!1,y=function(){g&&!u.length&&!f&&e.complete()},b=function(x){return f<n?A(x):u.push(x)},A=function(x){f++;var k=!1;hc(r(x,d++)).subscribe(Ea(e,function(I){e.next(I)},function(){k=!0},void 0,function(){if(k)try{f--;for(var I=function(){var R=u.shift();o||A(R)};u.length&&f<n;)I();y()}catch(R){e.error(R)}}))};return t.subscribe(Ea(e,b,function(){g=!0,y()})),function(){}}function s6(t,e,r){return r===void 0&&(r=1/0),Pn(e)?s6(function(n,i){return Xc(function(s,o){return e(n,s,i,o)})(hc(t(n,i)))},r):(typeof e=="number"&&(r=e),dc(function(n,i){return Crt(n,i,t,r)}))}function Prt(t){return t===void 0&&(t=1/0),s6(T0e,t)}var Nrt=["addListener","removeListener"],Brt=["addEventListener","removeEventListener"],Ort=["on","off"];function Iw(t,e,r,n){if(Pn(r)&&(n=r,r=void 0),n)return Iw(t,e,r).pipe(Mrt(n));var i=an(Frt(t)?Brt.map(function(a){return function(u){return t[a](e,u,r)}}):Lrt(t)?Nrt.map(oG(t,e)):Drt(t)?Ort.map(oG(t,e)):[],2),s=i[0],o=i[1];if(!s&&bF(t))return s6(function(a){return Iw(a,e,r)})(hc(t));if(!s)throw new TypeError("Invalid event target");return new Ba(function(a){var u=function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];return a.next(1<f.length?f:f[0])};return s(u),function(){return o(u)}})}function oG(t,e){return function(r){return function(n){return t[r](e,n)}}}function Lrt(t){return Pn(t.addListener)&&Pn(t.removeListener)}function Drt(t){return Pn(t.on)&&Pn(t.off)}function Frt(t){return Pn(t.addEventListener)&&Pn(t.removeEventListener)}function $rt(t,e,r){r===void 0&&(r=urt);var n=-1;return e!=null&&(R0e(e)?r=e:n=e),new Ba(function(i){var s=W0e(t)?0-r.now():t;s<0&&(s=0);var o=0;return r.schedule(function(){i.closed||(i.next(o++),0<=n?this.schedule(void 0,n):i.complete())},s)})}function j0e(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=crt(t),n=lrt(t,1/0),i=t;return i.length?i.length===1?hc(i[0]):Prt(n)(xrt(i,r)):mF}function Sh(t,e){return dc(function(r,n){var i=0;r.subscribe(Ea(n,function(s){return t.call(e,s,i++)&&n.next(s)}))})}function Urt(t){return dc(function(e,r){var n=[];return e.subscribe(Ea(r,function(i){return n.push(i)},function(){r.next(n),r.complete()})),hc(t).subscribe(Ea(r,function(){var i=n;n=[],r.next(i)},K5)),function(){n=null}})}function zrt(t,e){return e===void 0&&(e=i6),dc(function(r,n){var i=null,s=null,o=null,a=function(){if(i){i.unsubscribe(),i=null;var f=s;s=null,n.next(f)}};function u(){var f=o+t,d=e.now();if(d<f){i=this.schedule(void 0,f-d),n.add(i);return}a()}r.subscribe(Ea(n,function(f){s=f,o=e.now(),i||(i=e.schedule(u,t),n.add(i))},function(){a(),n.complete()},void 0,function(){s=i=null}))})}function K0e(t){return t<=0?function(){return mF}:dc(function(e,r){var n=0;e.subscribe(Ea(r,function(i){++n<=t&&(r.next(i),t<=n&&r.complete())}))})}function Wrt(t){return Xc(function(){return t})}function jrt(t,e){return s6(function(r,n){return hc(t(r,n)).pipe(K0e(1),Wrt(r))})}function Krt(t,e){e===void 0&&(e=i6);var r=$rt(t,e);return jrt(function(){return r})}function Hrt(){return dc(function(t,e){var r,n=!1;t.subscribe(Ea(e,function(i){var s=r;r=i,n&&e.next([s,i]),n=!0}))})}function qrt(t,e){return dc(function(r,n){var i=null,s=0,o=!1,a=function(){return o&&!i&&n.complete()};r.subscribe(Ea(n,function(u){i==null||i.unsubscribe();var f=0,d=s++;hc(t(u,d)).subscribe(i=Ea(n,function(g){return n.next(e?e(u,g,d,f++):g)},function(){i=null,a()}))},function(){o=!0,a()}))})}var vl,vF;function Vrt(t,e){if(t.nodeType!==Node.ELEMENT_NODE)throw new Error("Can't generate CSS selector for non-element node type.");if(t.tagName.toLowerCase()==="html")return"html";var r={root:document.body,idName:function(s){return!0},className:function(s){return!0},tagName:function(s){return!0},attr:function(s,o){return!1},seedMinLength:1,optimizedMinLength:2,threshold:1e3,maxNumberOfTries:1e4};vl=Nt(Nt({},r),e),vF=Grt(vl.root,r);var n=u2(t,"all",function(){return u2(t,"two",function(){return u2(t,"one",function(){return u2(t,"none")})})});if(n){var i=V0e(G0e(n,t));return i.length>0&&(n=i[0]),o6(n)}else throw new Error("Selector was not found.")}function Grt(t,e){return t.nodeType===Node.DOCUMENT_NODE?t:t===e.root?t.ownerDocument:t}function u2(t,e,r){for(var n=null,i=[],s=t,o=0,a=function(){var f,d,g=l2(Yrt(s))||l2.apply(void 0,Vi([],an(Zrt(s)),!1))||l2.apply(void 0,Vi([],an(Xrt(s)),!1))||l2(Jrt(s))||[cG()],y=Qrt(s);if(e=="all")y&&(g=g.concat(g.filter(l8).map(function(I){return c2(I,y)})));else if(e=="two")g=g.slice(0,1),y&&(g=g.concat(g.filter(l8).map(function(I){return c2(I,y)})));else if(e=="one"){var b=an(g=g.slice(0,1),1),A=b[0];y&&l8(A)&&(g=[c2(A,y)])}else e=="none"&&(g=[cG()],y&&(g=[c2(g[0],y)]));try{for(var x=(f=void 0,Ui(g)),k=x.next();!k.done;k=x.next()){var A=k.value;A.level=o}}catch(I){f={error:I}}finally{try{k&&!k.done&&(d=x.return)&&d.call(x)}finally{if(f)throw f.error}}if(i.push(g),i.length>=vl.seedMinLength&&(n=aG(i,r),n))return"break";s=s.parentElement,o++};s;){var u=a();if(u==="break")break}return n||(n=aG(i,r)),!n&&r?r():n}function aG(t,e){var r,n,i=t.reduce(function(f,d){return f*d.length},1);if(i>vl.threshold)return e?e():null;var s=V0e(q0e(t));try{for(var o=Ui(s),a=o.next();!a.done;a=o.next()){var u=a.value;if(H0e(u))return u}}catch(f){r={error:f}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return null}function o6(t){for(var e=t[0],r=e.name,n=1;n<t.length;n++){var i=t[n].level||0;e.level===i-1?r="".concat(t[n].name," > ").concat(r):r="".concat(t[n].name," ").concat(r),e=t[n]}return r}function uG(t){return t.map(function(e){return e.penalty}).reduce(function(e,r){return e+r},0)}function H0e(t){var e=o6(t);switch(vF.querySelectorAll(e).length){case 0:throw new Error("Can't select any node with this selector: ".concat(e));case 1:return!0;default:return!1}}function Yrt(t){var e=t.getAttribute("id");return e&&vl.idName(e)?{name:"#"+CSS.escape(e),penalty:0}:null}function Zrt(t){var e=Array.from(t.attributes).filter(function(r){return vl.attr(r.name,r.value)});return e.map(function(r){return{name:"[".concat(CSS.escape(r.name),'="').concat(CSS.escape(r.value),'"]'),penalty:.5}})}function Xrt(t){var e=Array.from(t.classList).filter(vl.className);return e.map(function(r){return{name:"."+CSS.escape(r),penalty:1}})}function Jrt(t){var e=t.tagName.toLowerCase();return vl.tagName(e)?{name:e,penalty:2}:null}function cG(){return{name:"*",penalty:3}}function Qrt(t){var e=t.parentNode;if(!e)return null;var r=e.firstChild;if(!r)return null;for(var n=0;r&&(r.nodeType===Node.ELEMENT_NODE&&n++,r!==t);)r=r.nextSibling;return n}function c2(t,e){return{name:t.name+":nth-child(".concat(e,")"),penalty:t.penalty+1}}function l8(t){return t.name!=="html"&&!t.name.startsWith("#")}function l2(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.filter(ent);return r.length>0?r:null}function ent(t){return t!=null}function q0e(t,e){var r,n,i,s,o,a;return e===void 0&&(e=[]),At(this,function(u){switch(u.label){case 0:if(!(t.length>0))return[3,9];u.label=1;case 1:u.trys.push([1,6,7,8]),r=Ui(t[0]),n=r.next(),u.label=2;case 2:return n.done?[3,5]:(i=n.value,[5,Ui(q0e(t.slice(1,t.length),e.concat(i)))]);case 3:u.sent(),u.label=4;case 4:return n=r.next(),[3,2];case 5:return[3,8];case 6:return s=u.sent(),o={error:s},[3,8];case 7:try{n&&!n.done&&(a=r.return)&&a.call(r)}finally{if(o)throw o.error}return[7];case 8:return[3,11];case 9:return[4,e];case 10:u.sent(),u.label=11;case 11:return[2]}})}function V0e(t){return Vi([],an(t),!1).sort(function(e,r){return uG(e)-uG(r)})}function G0e(t,e,r){var n,i,s;return r===void 0&&(r={counter:0,visited:new Map}),At(this,function(o){switch(o.label){case 0:if(!(t.length>2&&t.length>vl.optimizedMinLength))return[3,5];n=1,o.label=1;case 1:return n<t.length-1?r.counter>vl.maxNumberOfTries?[2]:(r.counter+=1,i=Vi([],an(t),!1),i.splice(n,1),s=o6(i),r.visited.has(s)?[2]:H0e(i)&&tnt(i,e)?[4,i]:[3,4]):[3,5];case 2:return o.sent(),r.visited.set(s,!0),[5,Ui(G0e(i,e,r))];case 3:o.sent(),o.label=4;case 4:return n++,[3,1];case 5:return[2]}})}function tnt(t,e){return vF.querySelector(o6(t))===e}var rnt=["input","select","textarea"],f8=function(t,e){return function(r,n){var i,s,o,a=t.pageUrlAllowlist,u=t.shouldTrackEventResolver,f=(s=(i=n==null?void 0:n.tagName)===null||i===void 0?void 0:i.toLowerCase)===null||s===void 0?void 0:s.call(i);if(!f)return!1;if(u)return u(r,n);if(!int(window.location.href,a))return!1;var d=String(n==null?void 0:n.getAttribute("type"))||"";if(typeof d=="string")switch(d.toLowerCase()){case"hidden":return!1;case"password":return!1}if(e){var g=e.some(function(b){var A;return!!(!((A=n==null?void 0:n.matches)===null||A===void 0)&&A.call(n,b))});if(!g)return!1}switch(f){case"input":case"select":case"textarea":return r==="change"||r==="click";default:{var y=(o=window==null?void 0:window.getComputedStyle)===null||o===void 0?void 0:o.call(window,n);return y&&y.getPropertyValue("cursor")==="pointer"&&r==="click"?!0:r==="click"}}}},Y0e=function(t){if(t==null)return!1;if(typeof t=="string"){var e=/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/;if(e.test((t||"").replace(/[- ]/g,"")))return!1;var r=/(^\d{3}-?\d{2}-?\d{4}$)/;if(r.test(t))return!1}return!0},nnt=function(t){return!!t&&t.nodeType===3},Z0e=function(t){var e,r,n,i=(r=(e=t==null?void 0:t.tagName)===null||e===void 0?void 0:e.toLowerCase)===null||r===void 0?void 0:r.call(e),s=t instanceof HTMLElement?((n=t.getAttribute("contenteditable"))===null||n===void 0?void 0:n.toLowerCase())==="true":!1;return!rnt.includes(i)&&!s},wF=function(t){var e="";return Z0e(t)&&t.childNodes&&t.childNodes.length&&t.childNodes.forEach(function(r){var n="";nnt(r)?r.textContent&&(n=r.textContent):n=wF(r),e+=n.split(/(\s+)/).filter(Y0e).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}),e},X0e=function(t,e){var r,n,i="";try{return i=Vrt(t,{className:function(d){return d!==W5},maxNumberOfTries:1e3}),i}catch(d){if(e){var s=d;e.warn("Failed to get selector with finder, use fallback strategy instead: ".concat(s.toString()))}}var o=(n=(r=t==null?void 0:t.tagName)===null||r===void 0?void 0:r.toLowerCase)===null||n===void 0?void 0:n.call(r);o&&(i=o);var a=t.getAttribute("id"),u=t.getAttribute("class");if(a)i="#".concat(a);else if(u){var f=u.split(" ").filter(function(d){return d!==W5}).join(".");f&&(i="".concat(i,".").concat(f))}return i},int=function(t,e){return!e||!e.length?!0:e.some(function(r){return typeof r=="string"?t===r:t.match(r)})},snt=function(t,e){return t.getAttributeNames().reduce(function(r,n){if(n.startsWith(e)){var i=n.replace(e,""),s=t.getAttribute(n);i&&(r[i]=s||"")}return r},{})},ont=function(t){return t==null||typeof t=="object"&&Object.keys(t).length===0||typeof t=="string"&&t.trim().length===0},J0e=function(t){return Object.keys(t).reduce(function(e,r){var n=t[r];return ont(n)||(e[r]=n),e},{})},Q0e=function(t){var e=t.parentElement;if(!e)return"";var r;try{r=e.querySelector(":scope>span,h1,h2,h3,h4,h5,h6")}catch{r=null}if(r){var n=r.textContent||"";return Y0e(n)?n:""}return Q0e(e)},SF=function(t,e){return t?e.some(function(r){var n;return(n=t==null?void 0:t.matches)===null||n===void 0?void 0:n.call(t,r)})?t:SF(t==null?void 0:t.parentElement,e):null},ant=function(t,e){var r,n,i;if(!t)return{};var s=(i=(n=t==null?void 0:t.tagName)===null||n===void 0?void 0:n.toLowerCase)===null||i===void 0?void 0:i.call(n),o=X0e(t,e),a=(r={},r[w0e]=s,r[S0e]=wF(t),r[_0e]=o,r[A0e]=window.location.href.split("?")[0],r);return J0e(a)},unt=function(t){return new Promise(function(e,r){var n;try{var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.addEventListener("load",function(){e({status:!0})},{once:!0}),i.addEventListener("error",function(){r({status:!1,message:"Failed to load the script ".concat(t)})}),(n=document.head)===null||n===void 0||n.appendChild(i)}catch(s){r(s)}})};function cnt(){return"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9))}var _F=function(t){return!(t.event.target===null||!t.closestTrackedAncestor)},lnt=function(){function t(e){var r=e===void 0?{}:e,n=r.origin,i=n===void 0?gx:n,s=this;this.endpoint=gx,this.requestCallbacks={},this.onSelect=function(o){s.notify({action:"element-selected",data:o})},this.onTrack=function(o,a){o==="selector-mode-changed"?s.notify({action:"track-selector-mode-changed",data:a}):o==="selector-moved"&&s.notify({action:"track-selector-moved",data:a})},this.endpoint=i}return t.prototype.notify=function(e){var r,n,i,s;(n=(r=this.logger)===null||r===void 0?void 0:r.debug)===null||n===void 0||n.call(r,"Message sent: ",JSON.stringify(e)),(s=(i=window.opener)===null||i===void 0?void 0:i.postMessage)===null||s===void 0||s.call(i,e,this.endpoint)},t.prototype.sendRequest=function(e,r,n){var i=this;n===void 0&&(n={timeout:15e3});var s=cnt(),o={id:s,action:e,args:r},a=new Promise(function(u,f){i.requestCallbacks[s]={resolve:u,reject:f},i.notify(o),(n==null?void 0:n.timeout)>0&&setTimeout(function(){f(new Error("".concat(e," timed out (id: ").concat(s,")"))),delete i.requestCallbacks[s]},n.timeout)});return a},t.prototype.handleResponse=function(e){var r;if(!this.requestCallbacks[e.id]){(r=this.logger)===null||r===void 0||r.warn("No callback found for request id: ".concat(e.id));return}this.requestCallbacks[e.id].resolve(e.responseData),delete this.requestCallbacks[e.id]},t.prototype.setup=function(e){var r=this,n=e===void 0?{}:e,i=n.logger,s=n.endpoint,o=n.isElementSelectable,a=n.cssSelectorAllowlist,u=n.actionClickAllowlist;this.logger=i,s&&this.endpoint===gx&&(this.endpoint=s);var f=null;window.addEventListener("message",function(d){var g,y,b,A,x;if((y=(g=r.logger)===null||g===void 0?void 0:g.debug)===null||y===void 0||y.call(g,"Message received: ",JSON.stringify(d)),r.endpoint===d.origin){var k=d==null?void 0:d.data,I=k==null?void 0:k.action;if(I)if("id"in k)(A=(b=r.logger)===null||b===void 0?void 0:b.debug)===null||A===void 0||A.call(b,"Received Response to previous request: ",JSON.stringify(d)),r.handleResponse(k);else if(I==="ping")r.notify({action:"pong"});else if(I==="initialize-visual-tagging-selector"){var R=k==null?void 0:k.data;unt(Vtt).then(function(){var M;f=(M=window==null?void 0:window.amplitudeVisualTaggingSelector)===null||M===void 0?void 0:M.call(window,{getEventTagProps:ant,isElementSelectable:function(P){return o?o((R==null?void 0:R.actionType)||"click",P):!0},onTrack:r.onTrack,onSelect:r.onSelect,visualHighlightClass:W5,messenger:r,cssSelectorAllowlist:a,actionClickAllowlist:u}),r.notify({action:"selector-loaded"})}).catch(function(){var M;(M=r.logger)===null||M===void 0||M.warn("Failed to initialize visual tagging selector")})}else I==="close-visual-tagging-selector"&&((x=f==null?void 0:f.close)===null||x===void 0||x.call(f))}}),this.notify({action:"page-loaded"})},t}(),fnt=["id","class","style","value","onclick","onchange","oninput","onblur","onsubmit","onfocus","onkeydown","onkeyup","onkeypress","data-reactid","data-react-checksum","data-reactroot"],dnt=["type"],hnt=["svg","path","g"],pnt=["password","hidden"],gnt=128,mnt=1024;function ynt(t){var e,r,n,i,s,o;if(t===null)return null;var a=String(t.tagName).toLowerCase(),u={tag:a},f=Array.from((i=(n=t.parentElement)===null||n===void 0?void 0:n.children)!==null&&i!==void 0?i:[]);f.length&&(u.index=f.indexOf(t),u.indexOfType=f.filter(function(P){return P.tagName===t.tagName}).indexOf(t));var d=(o=(s=t.previousElementSibling)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase();d&&(u.prevSib=String(d));var g=t.getAttribute("id");g&&(u.id=String(g));var y=Array.from(t.classList);y.length&&(u.classes=y);var b={},A=Array.from(t.attributes),x=A.filter(function(P){return!fnt.includes(P.name)}),k=!Z0e(t);if(!pnt.includes(String(t.getAttribute("type")))&&!hnt.includes(a))try{for(var I=Ui(x),R=I.next();!R.done;R=I.next()){var M=R.value;k&&!dnt.includes(M.name)||(b[M.name]=String(M.value).substring(0,gnt))}}catch(P){e={error:P}}finally{try{R&&!R.done&&(r=I.return)&&r.call(I)}finally{if(e)throw e.error}}return Object.keys(b).length&&(u.attrs=b),u}function bnt(t){var e=[];if(!t)return e;e.push(t);for(var r=t.parentElement;r&&r.tagName!=="HTML";)e.push(r),r=r.parentElement;return e}var vnt=function(t){var e=[];if(!t)return[];var r=bnt(t);return e=wnt(r.map(function(n){return ynt(n)}),mnt),e};function wnt(t,e){for(var r=0,n=0;n<t.length;n++){var i=t[n];if(i===null)r+=4;else{var s=mx(i);r+=s?Array.from(s).length:4}if(r>e)return t.slice(0,n)}return t}function mx(t,e){e===void 0&&(e=!1);try{if(t==null)return e?"None":null;if(typeof t=="string")return e?(t=t.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r"),t.includes('"')?"'".concat(t,"'"):t.includes("'")?'"'.concat(t.replace(/'/g,"\\'"),'"'):"'".concat(t,"'")):t;if(typeof t=="boolean")return t?"True":"False";if(Array.isArray(t)){var r=t.map(function(s){return mx(s,!0)});return"[".concat(r.join(", "),"]")}else if(typeof t=="object"){var n=Object.entries(t).filter(function(s){var o=an(s,1),a=o[0];return a!=null}).map(function(s){var o=an(s,2),a=o[0],u=o[1];return"".concat(String(mx(a,!0)),": ").concat(String(mx(u,!0)))}),i="{".concat(n.join(", "),"}");return i.includes("\\'")&&(i=i.replace(/'/g,"'").replace(/'/g,"\\'")),i}return t.toString()}catch{return null}}var Snt=5;function _nt(t){var e=t.amplitude,r=t.allObservables,n=t.options,i=t.shouldTrackEvent,s=r.clickObservable,o=s.pipe(Hrt(),Sh(function(d){var g=an(d,2),y=g[0],b=g[1],A=y.event.target!==b.event.target,x=Math.abs(b.event.screenX-y.event.screenX)<=20&&Math.abs(b.event.screenY-y.event.screenY)<=20;return A&&!x})),a=s.pipe(zrt(n.debounceTime),Xc(function(){return"timeout"})),u=j0e(o,a),f=s.pipe(Krt(0),Sh(_F),Sh(function(d){return i("click",d.closestTrackedAncestor)}),Urt(u));return f.subscribe(function(d){var g,y,b=(d.length>=Snt,z5);try{for(var A=Ui(d),x=A.next();!x.done;x=A.next()){var k=x.value;e==null||e.track(b,k.targetElementProperties,{time:k.timestamp})}}catch(I){g={error:I}}finally{try{x&&!x.done&&(y=A.return)&&y.call(A)}finally{if(g)throw g.error}}})}function Ant(t){var e=t.amplitude,r=t.allObservables,n=t.getEventProperties,i=t.shouldTrackEvent,s=r.changeObservable,o=s.pipe(Sh(_F),Sh(function(a){return i("change",a.closestTrackedAncestor)}));return o.subscribe(function(a){e==null||e.track(Ctt,n("change",a.closestTrackedAncestor))})}function xnt(t){var e=t.amplitude,r=t.allObservables,n=t.options,i=t.getEventProperties,s=t.shouldTrackEvent,o=t.shouldTrackActionClick,a=r.clickObservable,u=r.mutationObservable,f=r.navigateObservable,d=a.pipe(Sh(function(A){return!s("click",A.closestTrackedAncestor)}),Xc(function(A){var x=SF(A.event.target,n.actionClickAllowlist);return A.closestTrackedAncestor=x,A.closestTrackedAncestor!==null&&(A.targetElementProperties=i(A.type,A.closestTrackedAncestor)),A}),Sh(_F),Sh(function(A){return o("click",A.closestTrackedAncestor)})),g=[u];f&&g.push(f);var y=j0e.apply(void 0,Vi([],an(g),!1)),b=d.pipe(qrt(function(A){return y.pipe(K0e(1),krt({first:500,with:function(){return mF}}),Xc(function(){return A}))}));return b.subscribe(function(A){e==null||e.track(z5,i("click",A.closestTrackedAncestor),{time:A.timestamp})})}var Jm;(function(t){t.ClickObservable="clickObservable",t.ChangeObservable="changeObservable",t.NavigateObservable="navigateObservable",t.MutationObservable="mutationObservable"})(Jm||(Jm={}));function Ent(t){return t.type==="click"||t.type==="change"}var knt=function(t){var e,r,n;t===void 0&&(t={});var i=t.dataAttributePrefix,s=i===void 0?FQe:i,o=t.visualTaggingOptions,a=o===void 0?{enabled:!0,messenger:new lnt}:o;t.cssSelectorAllowlist=(e=t.cssSelectorAllowlist)!==null&&e!==void 0?e:DQe,t.actionClickAllowlist=(r=t.actionClickAllowlist)!==null&&r!==void 0?r:$Qe,t.debounceTime=(n=t.debounceTime)!==null&&n!==void 0?n:0;var u=Mtt,f="enrichment",d=[],g=void 0,y=function(){var R,M=Iw(document,"click",{capture:!0}).pipe(Xc(function(Z){return A(Z,"click")})),P=Iw(document,"change",{capture:!0}).pipe(Xc(function(Z){return A(Z,"change")})),j;window.navigation&&(j=Iw(window.navigation,"navigate").pipe(Xc(function(Z){return A(Z,"navigate")})));var V=new Ba(function(Z){var G=new MutationObserver(function(q){Z.next(q)});return G.observe(document.body,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),function(){return G.disconnect()}}).pipe(Xc(function(Z){return A(Z,"mutation")}));return R={},R[Jm.ClickObservable]=M,R[Jm.ChangeObservable]=P,R[Jm.NavigateObservable]=j,R[Jm.MutationObservable]=V,R},b=function(R,M){var P,j,V,Z=(V=(j=M==null?void 0:M.tagName)===null||j===void 0?void 0:j.toLowerCase)===null||V===void 0?void 0:V.call(j),G=typeof M.getBoundingClientRect=="function"?M.getBoundingClientRect():{left:null,top:null},q=M.getAttribute("aria-label"),ae=snt(M,s),T=Q0e(M),c=X0e(M,g),h=(P={},P[Ptt]=M.getAttribute("id")||"",P[Ntt]=M.getAttribute("class"),P[Btt]=vnt(M),P[w0e]=Z,P[S0e]=wF(M),P[Ltt]=G.left==null?null:Math.round(G.left),P[Dtt]=G.top==null?null:Math.round(G.top),P[Ftt]=q,P[$tt]=ae,P[_0e]=c,P[Utt]=T,P[A0e]=window.location.href.split("?")[0],P[ztt]=typeof document<"u"&&document.title||"",P[Wtt]=window.innerHeight,P[jtt]=window.innerWidth,P);return Z==="a"&&R==="click"&&M instanceof HTMLAnchorElement&&(h[Ott]=M.href),J0e(h)},A=function(R,M){var P={event:R,timestamp:Date.now(),type:M};if(Ent(P)&&P.event.target!==null){var j=SF(P.event.target,t.cssSelectorAllowlist);return j&&(P.closestTrackedAncestor=j,P.targetElementProperties=b(P.type,j)),P}return P},x=function(R,M){return Tt(void 0,void 0,void 0,function(){var P,j,V,Z,G,q,ae,T,c,h;return At(this,function(p){return g=R.loggerProvider,typeof document>"u"?[2]:(P=f8(t,t.cssSelectorAllowlist),j=f8(t,t.actionClickAllowlist),V=y(),Z=_nt({allObservables:V,options:t,amplitude:M,shouldTrackEvent:P}),d.push(Z),G=Ant({allObservables:V,getEventProperties:b,amplitude:M,shouldTrackEvent:P}),d.push(G),q=xnt({allObservables:V,options:t,getEventProperties:b,amplitude:M,shouldTrackEvent:P,shouldTrackActionClick:j}),d.push(q),(c=R==null?void 0:R.loggerProvider)===null||c===void 0||c.log("".concat(u," has been successfully added.")),window.opener&&a.enabled&&(ae=t.cssSelectorAllowlist,T=t.actionClickAllowlist,(h=a.messenger)===null||h===void 0||h.setup(Nt(Nt({logger:R==null?void 0:R.loggerProvider},(R==null?void 0:R.serverZone)&&{endpoint:qtt[R.serverZone]}),{isElementSelectable:f8(t,Vi(Vi([],an(ae),!1),an(T),!1)),cssSelectorAllowlist:ae,actionClickAllowlist:T}))),[2])})})},k=function(R){return Tt(void 0,void 0,void 0,function(){return At(this,function(M){return[2,R]})})},I=function(){return Tt(void 0,void 0,void 0,function(){var R,M,P,j,V;return At(this,function(Z){try{for(R=Ui(d),M=R.next();!M.done;M=R.next())P=M.value,P.unsubscribe()}catch(G){j={error:G}}finally{try{M&&!M.done&&(V=R.return)&&V.call(R)}finally{if(j)throw j.error}}return[2]})})};return{name:u,type:f,setup:x,execute:k,teardown:I}},Tnt=function(t){Na(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(r,n,i){r===void 0&&(r="");var s,o;return arguments.length>2?(s=n,o=i):typeof n=="string"?(s=n,o=void 0):(s=n==null?void 0:n.userId,o=n),Co(this._init(Nt(Nt({},o),{userId:s,apiKey:r})))},e.prototype._init=function(r){var n,i,s;return Tt(this,void 0,void 0,function(){var o,a,u,f,d,g,y=this;return At(this,function(b){switch(b.label){case 0:return this.initializing?[2]:(this.initializing=!0,[4,ott(r.apiKey,r,this)]);case 1:return o=b.sent(),r.fetchRemoteConfig?[4,Rtt(o)]:[3,4];case 2:return a=b.sent(),[4,a.generateJoinedConfig()];case 3:o=b.sent(),b.label=4;case 4:return[4,t.prototype._init.call(this,o)];case 5:return b.sent(),this.logBrowserOptions(o),p0e(this.config.defaultTracking)?(u=Uet(this.config),this.webAttribution=new vet(u,this.config),[4,this.webAttribution.init()]):[3,7];case 6:b.sent(),b.label=7;case 7:return f=ZE(),d=Number.isNaN(Number(f.ampSessionId))?void 0:Number(f.ampSessionId),this.setSessionId((s=(i=(n=r.sessionId)!==null&&n!==void 0?n:d)!==null&&i!==void 0?i:this.config.sessionId)!==null&&s!==void 0?s:Date.now()),g=TS(r.instanceName),g.identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId}),this.config.offline===LQe?[3,9]:[4,this.add(btt()).promise];case 8:b.sent(),b.label=9;case 9:return[4,this.add(new ret).promise];case 10:return b.sent(),[4,this.add(new Het).promise];case 11:return b.sent(),[4,this.add(new Bet).promise];case 12:return b.sent(),ytt(this.config),Let(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding file download tracking plugin"),[4,this.add(mtt()).promise]):[3,14];case 13:b.sent(),b.label=14;case 14:return Det(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding form interaction plugin"),[4,this.add(gtt()).promise]):[3,16];case 15:b.sent(),b.label=16;case 16:return g0e(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding page view tracking plugin"),[4,this.add(ftt($et(this.config))).promise]):[3,18];case 17:b.sent(),b.label=18;case 18:return m0e(this.config.autocapture)?(this.config.loggerProvider.debug("Adding user interactions plugin (autocapture plugin)"),[4,this.add(knt(Fet(this.config))).promise]):[3,20];case 19:b.sent(),b.label=20;case 20:return this.initializing=!1,[4,this.runQueuedFunctions("dispatchQ")];case 21:return b.sent(),g.eventBridge.setEventReceiver(function(A){y.track(A.eventType,A.eventProperties)}),[2]}})})},e.prototype.getUserId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.userId},e.prototype.setUserId=function(r){if(!this.config){this.q.push(this.setUserId.bind(this,r));return}this.config.loggerProvider.debug("function setUserId: ",r),(r!==this.config.userId||r===void 0)&&(this.config.userId=r,Pet(r,this.config.instanceName))},e.prototype.getDeviceId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.deviceId},e.prototype.setDeviceId=function(r){if(!this.config){this.q.push(this.setDeviceId.bind(this,r));return}this.config.loggerProvider.debug("function setDeviceId: ",r),this.config.deviceId=r,Net(r,this.config.instanceName)},e.prototype.reset=function(){this.setDeviceId(U1()),this.setUserId(void 0)},e.prototype.getSessionId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.sessionId},e.prototype.setSessionId=function(r){var n,i=[];if(!this.config)return this.q.push(this.setSessionId.bind(this,r)),Co(Promise.resolve());if(r===this.config.sessionId)return Co(Promise.resolve());this.config.loggerProvider.debug("function setSessionId: ",r);var s=this.getSessionId(),o=this.config.lastEventTime,a=(n=this.config.lastEventId)!==null&&n!==void 0?n:-1;this.config.sessionId=r,this.config.lastEventTime=void 0,this.config.pageCounter=0,YV(this.config.defaultTracking)&&(s&&o&&i.push(this.track(JV,void 0,{device_id:this.previousSessionDeviceId,event_id:++a,session_id:s,time:o+1,user_id:this.previousSessionUserId}).promise),this.config.lastEventTime=this.config.sessionId);var u=this.trackCampaignEventIfNeeded(++a,i);return YV(this.config.defaultTracking)&&i.push(this.track(XV,void 0,{event_id:u?++a:a,session_id:this.config.sessionId,time:this.config.lastEventTime}).promise),this.previousSessionDeviceId=this.config.deviceId,this.previousSessionUserId=this.config.userId,Co(Promise.all(i))},e.prototype.extendSession=function(){if(!this.config){this.q.push(this.extendSession.bind(this));return}this.config.lastEventTime=Date.now()},e.prototype.setTransport=function(r){if(!this.config){this.q.push(this.setTransport.bind(this,r));return}this.config.transportProvider=v0e(r)},e.prototype.identify=function(r,n){if(i8(r)){var i=r._q;r._q=[],r=n8(new kS,i)}return n!=null&&n.user_id&&this.setUserId(n.user_id),n!=null&&n.device_id&&this.setDeviceId(n.device_id),t.prototype.identify.call(this,r,n)},e.prototype.groupIdentify=function(r,n,i,s){if(i8(i)){var o=i._q;i._q=[],i=n8(new kS,o)}return t.prototype.groupIdentify.call(this,r,n,i,s)},e.prototype.revenue=function(r,n){if(i8(r)){var i=r._q;r._q=[],r=n8(new XQe,i)}return t.prototype.revenue.call(this,r,n)},e.prototype.trackCampaignEventIfNeeded=function(r,n){if(!this.webAttribution||!this.webAttribution.shouldTrackNewCampaign)return!1;var i=this.webAttribution.generateCampaignEvent(r);return n?n.push(this.track(i).promise):this.track(i),this.config.loggerProvider.log("Tracking attribution."),!0},e.prototype.process=function(r){return Tt(this,void 0,void 0,function(){var n,i,s;return At(this,function(o){return n=Date.now(),i=h0e(this.config.sessionTimeout,this.config.lastEventTime),s=this.webAttribution&&this.webAttribution.shouldSetSessionIdOnNewCampaign(),r.event_type!==XV&&r.event_type!==JV&&(!r.session_id||r.session_id===this.getSessionId())&&(i||s?(this.setSessionId(n),s&&this.config.loggerProvider.log("Created a new session for new campaign.")):i||this.trackCampaignEventIfNeeded()),[2,t.prototype.process.call(this,r)]})})},e.prototype.logBrowserOptions=function(r){try{var n=Nt(Nt({},r),{apiKey:r.apiKey.substring(0,10)+"********"});this.config.loggerProvider.debug("Initialized Amplitude with BrowserConfig:",JSON.stringify(n))}catch(i){this.config.loggerProvider.error("Error logging browser config",i)}},e}(ZQe),Int=function(){var t=new Tnt;return{init:Ci(t.init.bind(t),"init",Ri(t),Mi(t,["config"])),add:Ci(t.add.bind(t),"add",Ri(t),Mi(t,["config.apiKey","timeline.plugins"])),remove:Ci(t.remove.bind(t),"remove",Ri(t),Mi(t,["config.apiKey","timeline.plugins"])),track:Ci(t.track.bind(t),"track",Ri(t),Mi(t,["config.apiKey","timeline.queue.length"])),logEvent:Ci(t.logEvent.bind(t),"logEvent",Ri(t),Mi(t,["config.apiKey","timeline.queue.length"])),identify:Ci(t.identify.bind(t),"identify",Ri(t),Mi(t,["config.apiKey","timeline.queue.length"])),groupIdentify:Ci(t.groupIdentify.bind(t),"groupIdentify",Ri(t),Mi(t,["config.apiKey","timeline.queue.length"])),setGroup:Ci(t.setGroup.bind(t),"setGroup",Ri(t),Mi(t,["config.apiKey","timeline.queue.length"])),revenue:Ci(t.revenue.bind(t),"revenue",Ri(t),Mi(t,["config.apiKey","timeline.queue.length"])),flush:Ci(t.flush.bind(t),"flush",Ri(t),Mi(t,["config.apiKey","timeline.queue.length"])),getUserId:Ci(t.getUserId.bind(t),"getUserId",Ri(t),Mi(t,["config","config.userId"])),setUserId:Ci(t.setUserId.bind(t),"setUserId",Ri(t),Mi(t,["config","config.userId"])),getDeviceId:Ci(t.getDeviceId.bind(t),"getDeviceId",Ri(t),Mi(t,["config","config.deviceId"])),setDeviceId:Ci(t.setDeviceId.bind(t),"setDeviceId",Ri(t),Mi(t,["config","config.deviceId"])),reset:Ci(t.reset.bind(t),"reset",Ri(t),Mi(t,["config","config.userId","config.deviceId"])),getSessionId:Ci(t.getSessionId.bind(t),"getSessionId",Ri(t),Mi(t,["config"])),setSessionId:Ci(t.setSessionId.bind(t),"setSessionId",Ri(t),Mi(t,["config"])),extendSession:Ci(t.extendSession.bind(t),"extendSession",Ri(t),Mi(t,["config"])),setOptOut:Ci(t.setOptOut.bind(t),"setOptOut",Ri(t),Mi(t,["config"])),setTransport:Ci(t.setTransport.bind(t),"setTransport",Ri(t),Mi(t,["config"]))}};const a6=Int();var Rnt=a6.identify,Mnt=a6.init,Cnt=a6.setUserId,f2=a6.track,ea={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Pnt=class{constructor(t){Ce(this,"mode");Ce(this,"data");this.mode=ea.MODE_8BIT_BYTE,this.data=t}getLength(){return this.data.length}write(t){for(let e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}},lw={L:1,M:0,Q:3,H:2},Za,lG=(Za=class{constructor(e,r){Ce(this,"totalCount");Ce(this,"dataCount");this.totalCount=e,this.dataCount=r}static getRSBlocks(e,r){const n=Za.getRsBlockTable(e,r);if(n==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+r);const i=n.length/3,s=[];for(let o=0;o<i;o++){const a=n[o*3+0],u=n[o*3+1],f=n[o*3+2];for(let d=0;d<a;d++)s.push(new Za(u,f))}return s}static getRsBlockTable(e,r){switch(r){case lw.L:return Za.RS_BLOCK_TABLE[(e-1)*4+0];case lw.M:return Za.RS_BLOCK_TABLE[(e-1)*4+1];case lw.Q:return Za.RS_BLOCK_TABLE[(e-1)*4+2];case lw.H:return Za.RS_BLOCK_TABLE[(e-1)*4+3];default:return}}},Ce(Za,"RS_BLOCK_TABLE",[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]]),Za),fG=class{constructor(){Ce(this,"buffer");Ce(this,"length");this.buffer=[],this.length=0}get(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1}put(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)}getLengthInBits(){return this.length}putBit(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},Ou={glog:function(t){if(t<1)throw new Error("glog("+t+")");return Ou.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return Ou.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(let t=0;t<8;t++)Ou.EXP_TABLE[t]=1<<t;for(let t=8;t<256;t++)Ou.EXP_TABLE[t]=Ou.EXP_TABLE[t-4]^Ou.EXP_TABLE[t-5]^Ou.EXP_TABLE[t-6]^Ou.EXP_TABLE[t-8];for(let t=0;t<255;t++)Ou.LOG_TABLE[Ou.EXP_TABLE[t]]=t;var Pd=Ou,q5=class V5{constructor(e,r){Ce(this,"num");if(e.length==null)throw new Error(e.length+"/"+r);let n=0;for(;n<e.length&&e[n]==0;)n++;this.num=new Array(e.length-n+r);for(let i=0;i<e.length-n;i++)this.num[i]=e[i+n]}get(e){return this.num[e]}getLength(){return this.num.length}multiply(e){const r=new Array(this.getLength()+e.getLength()-1);for(let n=0;n<this.getLength();n++)for(let i=0;i<e.getLength();i++)r[n+i]^=Pd.gexp(Pd.glog(this.get(n))+Pd.glog(e.get(i)));return new V5(r,0)}mod(e){if(this.getLength()-e.getLength()<0)return this;const r=Pd.glog(this.get(0))-Pd.glog(e.get(0)),n=new Array(this.getLength());for(let i=0;i<this.getLength();i++)n[i]=this.get(i);for(let i=0;i<e.getLength();i++)n[i]^=Pd.gexp(Pd.glog(e.get(i))+r);return new V5(n,0).mod(e)}},kd={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},As={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){let e=t<<10;for(;As.getBCHDigit(e)-As.getBCHDigit(As.G15)>=0;)e^=As.G15<<As.getBCHDigit(e)-As.getBCHDigit(As.G15);return(t<<10|e)^As.G15_MASK},getBCHTypeNumber:function(t){let e=t<<12;for(;As.getBCHDigit(e)-As.getBCHDigit(As.G18)>=0;)e^=As.G18<<As.getBCHDigit(e)-As.getBCHDigit(As.G18);return t<<12|e},getBCHDigit:function(t){let e=0;for(;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return As.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case kd.PATTERN000:return(e+r)%2==0;case kd.PATTERN001:return e%2==0;case kd.PATTERN010:return r%3==0;case kd.PATTERN011:return(e+r)%3==0;case kd.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case kd.PATTERN101:return e*r%2+e*r%3==0;case kd.PATTERN110:return(e*r%2+e*r%3)%2==0;case kd.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){let e=new q5([1],0);for(let r=0;r<t;r++)e=e.multiply(new q5([1,Pd.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case ea.MODE_NUMBER:return 10;case ea.MODE_ALPHA_NUM:return 9;case ea.MODE_8BIT_BYTE:return 8;case ea.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case ea.MODE_NUMBER:return 12;case ea.MODE_ALPHA_NUM:return 11;case ea.MODE_8BIT_BYTE:return 16;case ea.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case ea.MODE_NUMBER:return 14;case ea.MODE_ALPHA_NUM:return 13;case ea.MODE_8BIT_BYTE:return 16;case ea.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){const e=t.getModuleCount();let r=0;for(let s=0;s<e;s++)for(let o=0;o<e;o++){let a=0;const u=t.isDark(s,o);for(let f=-1;f<=1;f++)if(!(s+f<0||e<=s+f))for(let d=-1;d<=1;d++)o+d<0||e<=o+d||f==0&&d==0||u==t.isDark(s+f,o+d)&&a++;a>5&&(r+=3+a-5)}for(let s=0;s<e-1;s++)for(let o=0;o<e-1;o++){let a=0;t.isDark(s,o)&&a++,t.isDark(s+1,o)&&a++,t.isDark(s,o+1)&&a++,t.isDark(s+1,o+1)&&a++,(a==0||a==4)&&(r+=3)}for(let s=0;s<e;s++)for(let o=0;o<e-6;o++)t.isDark(s,o)&&!t.isDark(s,o+1)&&t.isDark(s,o+2)&&t.isDark(s,o+3)&&t.isDark(s,o+4)&&!t.isDark(s,o+5)&&t.isDark(s,o+6)&&(r+=40);for(let s=0;s<e;s++)for(let o=0;o<e-6;o++)t.isDark(o,s)&&!t.isDark(o+1,s)&&t.isDark(o+2,s)&&t.isDark(o+3,s)&&t.isDark(o+4,s)&&!t.isDark(o+5,s)&&t.isDark(o+6,s)&&(r+=40);let n=0;for(let s=0;s<e;s++)for(let o=0;o<e;o++)t.isDark(o,s)&&n++;const i=Math.abs(100*n/e/e-50)/5;return r+=i*10,r}},Td=As,Du,Nnt=(Du=class{constructor(e,r){Ce(this,"typeNumber");Ce(this,"errorCorrectLevel");Ce(this,"modules");Ce(this,"moduleCount");Ce(this,"dataCache");Ce(this,"dataList");this.typeNumber=e,this.errorCorrectLevel=r,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}addData(e){const r=new Pnt(e);this.dataList.push(r),this.dataCache=null}isDark(e,r){if(e<0||this.moduleCount<=e||r<0||this.moduleCount<=r)throw new Error(e+","+r);if(this.modules===null)throw new Error("this.modules is null");return this.modules[e][r]}getModuleCount(){return this.moduleCount}make(){if(this.typeNumber<1){let e=1;for(e=1;e<40;e++){const r=lG.getRSBlocks(e,this.errorCorrectLevel),n=new fG;let i=0;for(let s=0;s<r.length;s++)i+=r[s].dataCount;for(let s=0;s<this.dataList.length;s++){const o=this.dataList[s];n.put(o.mode,4),n.put(o.getLength(),Td.getLengthInBits(o.mode,e)),o.write(n)}if(n.getLengthInBits()<=i*8)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())}makeImpl(e,r){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(let n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(let i=0;i<this.moduleCount;i++)this.modules[n][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,r),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=Du.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,r)}setupPositionProbePattern(e,r){for(let n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n)){for(let i=-1;i<=7;i++)if(!(r+i<=-1||this.moduleCount<=r+i))if(0<=n&&n<=6&&(i==0||i==6)||0<=i&&i<=6&&(n==0||n==6)||2<=n&&n<=4&&2<=i&&i<=4){if(this.modules===null)throw new Error("this.modules is null");this.modules[e+n][r+i]=!0}else{if(this.modules===null)throw new Error("this.modules is null");this.modules[e+n][r+i]=!1}}}getBestMaskPattern(){let e=0,r=0;for(let n=0;n<8;n++){this.makeImpl(!0,n);const i=Td.getLostPoint(this);(n==0||e>i)&&(e=i,r=n)}return r}setupTimingPattern(){if(this.modules===null)throw new Error("this.modules is null");for(let e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(let e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)}setupPositionAdjustPattern(){if(this.modules===null)throw new Error("this.modules is null");const e=Td.getPatternPosition(this.typeNumber);for(let r=0;r<e.length;r++)for(let n=0;n<e.length;n++){const i=e[r],s=e[n];if(this.modules[i][s]==null)for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o==-2||o==2||a==-2||a==2||o==0&&a==0?this.modules[i+o][s+a]=!0:this.modules[i+o][s+a]=!1}}setupTypeNumber(e){if(this.modules===null)throw new Error("this.modules is null");const r=Td.getBCHTypeNumber(this.typeNumber);for(let n=0;n<18;n++){const i=!e&&(r>>n&1)==1;this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=i}for(let n=0;n<18;n++){const i=!e&&(r>>n&1)==1;this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=i}}setupTypeInfo(e,r){if(this.modules===null)throw new Error("this.modules is null");const n=this.errorCorrectLevel<<3|r,i=Td.getBCHTypeInfo(n);for(let s=0;s<15;s++){const o=!e&&(i>>s&1)==1;s<6?this.modules[s][8]=o:s<8?this.modules[s+1][8]=o:this.modules[this.moduleCount-15+s][8]=o}for(let s=0;s<15;s++){const o=!e&&(i>>s&1)==1;s<8?this.modules[8][this.moduleCount-s-1]=o:s<9?this.modules[8][15-s-1+1]=o:this.modules[8][15-s-1]=o}this.modules[this.moduleCount-8][8]=!e}mapData(e,r){if(this.modules===null)throw new Error("this.modules is null");let n=-1,i=this.moduleCount-1,s=7,o=0;for(let a=this.moduleCount-1;a>0;a-=2)for(a==6&&a--;;){for(let u=0;u<2;u++)if(this.modules[i][a-u]==null){let f=!1;o<e.length&&(f=(e[o]>>>s&1)==1),Td.getMask(r,i,a-u)&&(f=!f),this.modules[i][a-u]=f,s--,s==-1&&(o++,s=7)}if(i+=n,i<0||this.moduleCount<=i){i-=n,n=-n;break}}}static createData(e,r,n){const i=lG.getRSBlocks(e,r),s=new fG;for(let a=0;a<n.length;a++){const u=n[a];s.put(u.mode,4),s.put(u.getLength(),Td.getLengthInBits(u.mode,e)),u.write(s)}let o=0;for(let a=0;a<i.length;a++)o+=i[a].dataCount;if(s.getLengthInBits()>o*8)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+o*8+")");for(s.getLengthInBits()+4<=o*8&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=o*8||(s.put(Du.PAD0,8),s.getLengthInBits()>=o*8));)s.put(Du.PAD1,8);return Du.createBytes(s,i)}static createBytes(e,r){let n=0,i=0,s=0;const o=new Array(r.length),a=new Array(r.length);for(let g=0;g<r.length;g++){const y=r[g].dataCount,b=r[g].totalCount-y;i=Math.max(i,y),s=Math.max(s,b),o[g]=new Array(y);for(let I=0;I<o[g].length;I++)o[g][I]=255&e.buffer[I+n];n+=y;const A=Td.getErrorCorrectPolynomial(b),k=new q5(o[g],A.getLength()-1).mod(A);a[g]=new Array(A.getLength()-1);for(let I=0;I<a[g].length;I++){const R=I+k.getLength()-a[g].length;a[g][I]=R>=0?k.get(R):0}}let u=0;for(let g=0;g<r.length;g++)u+=r[g].totalCount;const f=new Array(u);let d=0;for(let g=0;g<i;g++)for(let y=0;y<r.length;y++)g<o[y].length&&(f[d++]=o[y][g]);for(let g=0;g<s;g++)for(let y=0;y<r.length;y++)g<a[y].length&&(f[d++]=a[y][g]);return f}},Ce(Du,"PAD0",236),Ce(Du,"PAD1",17),Du),Bnt=(t,e)=>{e=e||{};const r=new Nnt(e.typeNumber||-1,e.errorCorrectLevel||lw.H);return r.addData(t),r.make(),r},Ont=Object.defineProperty,Lnt=(t,e)=>{for(var r in e)Ont(t,r,{get:e[r],enumerable:!0})};typeof window<"u"&&(window.__ORDERLY_VERSION__=window.__ORDERLY_VERSION__||{},window.__ORDERLY_VERSION__["@orderly.network/hooks"]="2.0.2");var dG="2.0.2",AF=(t,e={},r)=>NX(t,e,r==null?void 0:r.formatter),dd=N.createContext({}),Dnt=dd.Provider;function Qu(t,e){const{configStore:r}=N.useContext(dd);if(!r)throw new Error("useConfig must be used within OrderlyConfigProvider or OrderlyAppProvider");return typeof t<"u"?r.get(t):r}var Fi=(t,e)=>{const r=Qu("apiBaseUrl"),{formatter:n,...i}=e||{};if(typeof r>"u")throw new Error("please add OrderlyConfigProvider to your app");return g1(t,(s,o)=>AF(s.startsWith("http")?s:`${r}${s}`,o,{formatter:n}),i)},kSt=(t,e)=>{const r=Qu("apiBaseUrl"),{formatter:n,init:i,...s}={};if(typeof r>"u")throw new Error("please add OrderlyConfigProvider to your app");return BX(t,(o,a)=>{if(o=o.startsWith("http")?o:`${r}${o}`,a!=null&&a.arg){const u=Object.entries(a.arg).map(([f,d])=>`${f}=${encodeURIComponent(d)}`).join("&");o=`${o}?${u}`}return AF(o,i,{formatter:n})},s)},ege=()=>{const{configStore:t,keyStore:e,walletAdapters:r}=N.useContext(dd);if(!t)throw new Error("configStore is not defined, please use OrderlyProvider");if(!e)throw new Error("keyStore is not defined, please use OrderlyProvider and provide keyStore");return Hk(()=>{let i=ba.get("account");return i||(i=new ly(t,e,r),ba.registerByName("account",i)),i})},Fnt=(t,e)=>{const r={method:e.arg.method,headers:{...e.arg.signature}};if(e.arg.data&&(r.body=JSON.stringify(e.arg.data)),typeof e.arg.params=="object"&&Object.keys(e.arg.params).length){let n=new URLSearchParams(e.arg.params);t=`${t}?${n.toString()}`}return wke(t,r)},go=(t,e="POST",r)=>{const n=Qu("apiBaseUrl");let i=t;t.startsWith("http")||(i=`${n}${t}`);const s=ege(),{trigger:o,data:a,error:u,reset:f,isMutating:d}=BX(i,Fnt,r);return[async(y,b,A)=>{let x=t;if(typeof b=="object"&&Object.keys(b).length){let M=new URLSearchParams(b);x=`${t}?${M.toString()}`}const k={method:e,url:x,data:y},R=await s.signer.sign(k,Hu());return o({data:y,params:b,method:e,signature:{...R,"orderly-account-id":s.accountId}},A)},{data:a,error:u,reset:f,isMutating:d}]},tge=t=>{const e=Qu("apiBaseUrl");return(r,n,i)=>{try{return t(r,async o=>{let a=Array.isArray(o)?o[0]:o,u=ba.get("account"),f=`${e}${a}`;const d=u.signer,g={method:"GET",url:a},y=await d.sign(g,Hu());return n(f,{headers:{...y,"orderly-account-id":u.accountId}})},i)}catch(s){throw s}}},Ml=()=>Hk(()=>{let t=ba.get("EE");return t||(t=new Dk,ba.registerByName("EE",t)),t}),hd=()=>{const{configStore:t,keyStore:e}=N.useContext(dd);if(!t)throw new Error("configStore is not defined, please use OrderlyProvider");if(!e)throw new Error("keyStore is not defined, please use OrderlyProvider and provide keyStore");const r=ege(),[n,i]=N.useState(r.stateValue),s=Ml(),o=f=>{Qr.Connected===f.status&&s.emit(fl.WALLET_CONNECT,{...f}),i(()=>f)};N.useEffect(()=>(r.on("change:status",o),()=>{r.off("change:status",o)}),[]);const a=N.useCallback(async f=>(s.emit(fl.SIGNIN_SUCCESS,{...n,...r}),r.createOrderlyKey(f?365:30)),[r,n]),u=N.useCallback(async()=>r.createAccount(),[r]);return{account:r,state:n,createOrderlyKey:a,createAccount:u}},eu=(t,e)=>{const{formatter:r,...n}=e||{},{state:i}=hd(),s=Array.isArray(e==null?void 0:e.use)?(e==null?void 0:e.use)??[]:[];return g1(()=>i.status>=Qr.EnableTrading||i.status===Qr.EnableTradingWithoutConnected?[t,i.accountId]:null,(o,a)=>AF(o,a,{formatter:r}),{...n,use:[tge,...s],onError:o=>{}})},$nt=(t,e)=>{const{formatter:r,...n}=e||{},{state:i}=hd(),s=Array.isArray(n==null?void 0:n.use)?(n==null?void 0:n.use)??[]:[];return aRe((a,u)=>{const f=t(a,u);return f&&(i.status>=Qr.EnableTrading||i.status===Qr.EnableTradingWithoutConnected)?[f,i.accountId]:null},(a,u)=>{var f;return((f=n.fetcher)==null?void 0:f.call(n,a,u))||NX(a,u,r)},{...n,use:[tge,...s]})},Unt=()=>{const[t,e]=N.useState(!1),{error:r,data:n}=Fi("https://api-evm.orderly.org/v1/public/token",{revalidateOnFocus:!1}),i=Qu("apiBaseUrl"),{data:s}=g1("/v1/public/system_info",async(a,u)=>await(await fetch(a.startsWith("http")?a:`${i}${a}`,u)).json(),{errorRetryCount:3,errorRetryInterval:500});N.useEffect(()=>{if(!t&&typeof s<"u"){const a=s.timestamp,u=Date.now(),f=a-u;if(isNaN(f))return;Wk().__ORDERLY_timestamp_offset=f,e(!0)}},[s,t]);const o=N.useMemo(()=>!!n&&t,[t,n]);return{error:r,done:o}};function rge(t){try{return t==="undefined"?void 0:JSON.parse(t??"")}catch{return}}function TSt(t,e){const r=N.useCallback(()=>{if(typeof window>"u")return e;try{const a=window.sessionStorage.getItem(t);return a?rge(a):e}catch{return e}},[e,t]),[n,i]=N.useState(r),s=a=>{try{const u=a instanceof Function?a(n):a;window.sessionStorage.setItem(t,JSON.stringify(u)),i(u)}catch{}};N.useEffect(()=>{i(r())},[]),N.useEffect(()=>{var a;if(!(typeof window>"u"))return(a=window.addEventListener)==null||a.call(window,"storage",o),()=>{var u;(u=window.removeEventListener)==null||u.call(window,"storage",o)}});const o=N.useCallback(a=>{a!=null&&a.key&&a.key!==t||i(r())},[t,r]);return[n,s]}function nge(t,e){const r=N.useCallback(()=>{if(typeof window>"u")return e;try{const o=window.localStorage.getItem(t);return o?rge(o):e}catch{return e}},[e,t]),[n,i]=N.useState(r),s=N.useCallback(o=>{try{const a=o instanceof Function?o(n):o;window.localStorage.setItem(t,JSON.stringify(a)),window.dispatchEvent(new Event("storage")),i(()=>a)}catch{}},[n]);return N.useEffect(()=>{i(r())},[]),N.useEffect(()=>{var a;const o=u=>{u!=null&&u.key&&u.key!==t||i(r())};return(a=window==null?void 0:window.addEventListener)==null||a.call(window,"storage",o),()=>{var u;(u=window==null?void 0:window.removeEventListener)==null||u.call(window,"storage",o)}},[t]),[n,s]}var znt=t=>{const[e,{findByChainId:r}]=CF(t,{pick:"network_infos",filter:n=>{var i,s;return((i=n.network_infos)==null?void 0:i.bridge_enable)||((s=n.network_infos)==null?void 0:s.bridgeless)}});return n=>{const i=r(n);return{id:n,info:i}}},hG="nativeWebsocketClient",_o=()=>{const{configStore:t}=N.useContext(dd);return Hk(()=>{let r=ba.get(hG);const n=ba.get(ly.instanceName);return r||(r=new kke({networkId:t.get("networkId"),publicUrl:t.get("publicWsUrl"),privateUrl:t.get("privateWsUrl"),onSigntureRequest:async i=>{const s=n.signer,o=Hu();return{...await s.signText(o.toString()),timestamp:o}}}),(n.stateValue.status===Qr.EnableTrading||n.stateValue.status===Qr.EnableTradingWithoutConnected)&&n.stateValue.accountId&&r.openPrivate(n.stateValue.accountId),n.on("change:status",i=>{(i.status===Qr.EnableTrading||i.status===Qr.EnableTradingWithoutConnected)&&i.accountId?r.openPrivate(i.accountId):r.closePrivate(1e3,"switch account")}),typeof window<"u"&&(Wk().__Orderly_WS=r),ba.registerByName(hG,r)),r})},ISt=()=>N.useContext(dd).keyStore,Wnt=()=>({get:ba.get,register:ba.register}),jnt=(t=>(t.Connected="connected",t.Unstable="unstable",t.Disconnected="disconnected",t))(jnt||{});function Knt(){const t=_o(),[e,r]=N.useState(t.client.public.readyState?"connected":"disconnected"),n=N.useRef(0);return N.useEffect(()=>(t.on("status:change",i=>{const{type:s,isPrivate:o}=i;if(!o)switch(s){case"open":n.current=0,r("connected");break;case"close":n.current=0,r("disconnected");break;case"reconnecting":n.current++,n.current>=3&&r("unstable");break}}),()=>t.off("websocket:status",()=>{})),[]),e}var Hnt=N.createContext({}),qnt=t=>{const e=Knt();return L.jsx(Hnt.Provider,{value:{ws:e},children:t.children})},ige=class{constructor(t){this.message=t,this.data=this.formatOrder(t)}formatOrder(t){const e=this.pre(t);return e.created_time||(e.created_time=e.timestamp),e.status===Qc.FILLED&&!e.updated_time&&(e.updated_time=e.timestamp),e.child_orders&&e.child_orders.length&&e.child_orders.map(r=>{r.algo_status===Qc.FILLED&&r.is_activated&&!r.updated_time&&(r.updated_time=e.timestamp)}),e.type&&e.type.endsWith("_ORDER")&&(e.type=e.type.replace("_ORDER","")),e}merge(t,e,r){switch(this.status){case"NEW":return t.startsWith("orders:CANCELLED")||t.startsWith("orders:FILLED")||t.startsWith("orders:REJECTED")?r:this.insetOrUpdate(r);case"CANCELLED":return t.startsWith("orders:FILLED")||t.startsWith("orders:REJECTED")?r:t.startsWith("orders:NEW")||t.startsWith("orders:INCOMPLETE")?this.remove(r):t.startsWith("orders:CANCELLED")?this.insert(r):this.update(r);case"REPLACED":return this.update(r);case"FILLED":if(this.orderIsExisting(r)){if(t.startsWith("orders:INCOMPLETE")||t.startsWith("orders:NEW")||t.startsWith("orders:"))return this.isFullFilled()?this.remove(r):this.update(r)}else return t.startsWith("orders:CANCELLED")||t.startsWith("orders:INCOMPLETE")||t.startsWith("orders:NEW")?r:this.insert(r);default:return r||[]}}insert(t){const e=YRe(0);return tMe(e,r=>({meta:{...r.meta,total:r.meta.total+1},rows:[this.data,...r.rows]}),t)}insetOrUpdate(t){return this.orderIsExisting(t)?this.update(t):this.insert(t)}update(t){const e=this.findOrderIndex(t);if(!Array.isArray(e))return t||[];const[r,n]=e;return t.map((i,s)=>({meta:{...i.meta},rows:i.rows.map((o,a)=>r===s&&n===a?{...o,...this.data}:o)}))}remove(t){const e=this.findOrderIndex(t);if(!Array.isArray(e))return t;const[r,n]=e;return t.map((i,s)=>({meta:{...i.meta,total:i.meta.total-1},rows:r===s?i.rows.filter((o,a)=>a!==n):i.rows}))}findOrderIndex(t){let e=0,r;for(;e<t.length;e++){const n=t[e];for(let i=0;i<n.rows.length;i++){const s=n.rows[i];if(s.algo_order_id===this.orderId||s.order_id===this.orderId){r=i;break}}if(typeof r<"u")break}if(!(typeof r>"u"))return[e,r]}orderIsExisting(t){const e=this.findOrderIndex(t);return Array.isArray(e)}};function vy(t){return Object.keys(t).reduce((e,r)=>(e[MEe(r)]=t[r],e),{})}var sge=class oge extends ige{get orderId(){return this.data.algo_order_id}get status(){return this.data.root_algo_status}pre(e,r){return oge.groupOrders(e)}isFullFilled(){return"total_executed_quantity"in this.data&&this.data.total_executed_quantity!==0?this.data.total_executed_quantity===this.data.quantity:"total_executed_quantity"in this.data.child_orders[0]?this.data.child_orders[0].total_executed_quantity===this.data.child_orders[0].quantity:!1}static groupOrders(e){const r=e.findIndex(i=>i.parentAlgoOrderId===0&&i.algoOrderId===i.rootAlgoOrderId);if(r===-1)throw new Error("Root order not found");const n=vy(e[r]);if(n.child_orders=e.filter((i,s)=>s!==r).map(i=>vy(i)),n.algo_type==="BRACKET"&&n.child_orders.length>0){const i=this.groupBracketChildOrders([...n.child_orders]);n.child_orders=[i]}return n}static groupBracketChildOrders(e){const r=[...e],n=r.findIndex(s=>s.algoType!==Cn.STOP_LOSS&&s.algoType!==Cn.TAKE_PROFIT);if(n===-1)throw new Error("Root order not found");const i=r.splice(n,1)[0];return i.child_orders=r,i}},Vnt=class extends ige{get orderId(){return this.data.order_id}get status(){return this.data.status}pre(t,e){return vy(t)}isFullFilled(){return"total_executed_quantity"in this.data&&this.data.total_executed_quantity===this.data.quantity}},pG=t=>(e,r)=>{var d;if(r&&!((d=r.rows)!=null&&d.length))return null;const{status:n,symbol:i,side:s,size:o=100,page:a,dateRange:u}=t,f=new URLSearchParams([["size",o.toString()],["page",`${e+1}`],["source_type","ALL"]]);return u&&(u.from&&f.set("start_t",`${u.from.getTime()}`),u.to&&f.set("end_t",`${u.to.getTime()}`)),a&&f.set("page",`${a}`),n&&f.set("status",n),i&&f.set("symbol",i),s&&f.set("side",s),`/v1/orders?${f.toString()}`},Gnt=(t,e,r)=>r?new Vnt(e).merge(t,e,r):void 0;function Ynt(t,e,r){return r?new sge(e).merge(t,e,r):void 0}function Znt(t){}var Ko=rg()(y3(t=>({portfolio:{totalCollateral:ei,totalValue:null,freeCollateral:ei,availableBalance:0,unsettledPnL:0,totalUnrealizedROI:0},appState:{positionsLoading:!1,ordersLoading:!1,fundingRatesLoading:!1,ready:!1},actions:{cleanAll:()=>{t(e=>{e.accountInfo=void 0,e.portfolio={totalCollateral:ei,totalValue:null,freeCollateral:ei,availableBalance:0,unsettledPnL:0,totalUnrealizedROI:0}},!1)},setAccountInfo:e=>{t(r=>{r.accountInfo=e},!1)},setSymbolsInfo:e=>{t(r=>{r.symbolsInfo=e},!1)},setFundingRates:e=>{t(r=>{r.fundingRates=e},!1)},updateAppStatus:(e,r)=>{t(n=>{n.appState[e]=r},!1)},updatePortfolio:(e,r)=>{t(n=>{n.portfolio[e]=r},!1)},batchUpdateForPortfolio:e=>{t(r=>{r.portfolio={...r.portfolio,...e}},!1)},restoreHolding:e=>{t(r=>{r.portfolio.holding=e},!1)},updateHolding(e){t(r=>{if(r.portfolio.holding&&r.portfolio.holding.length)for(const n in e){const i=r.portfolio.holding.find(s=>s.token===n);i&&(i.holding=e[n].holding,i.frozen=e[n].frozen)}},!1)}}}))),age=()=>Ko(t=>t.accountInfo),u6=class{cache(t){this._cache=t}},xF=rg((t,e)=>({markPrices:{},actions:{updateMarkPrice:r=>{t({markPrices:r})},getMarkPriceBySymbol:r=>e().markPrices[r]}})),uge=()=>xF(t=>t.actions),EF="markPriceCalculator",Xnt=class extends u6{constructor(){super(...arguments),this.name=EF}calc(t,e,r){return e}update(t,e){xF.getState().actions.updateMarkPrice(t)}},G5=class cge{static get instance(){return this._instance}static create(e,r){return this._instance||(this._instance=new cge(e,r)),this._instance.update(e,r)}constructor(e,r){this.setCtxData(),this.output={}}update(e,r){return this.setCtxData(),this.markPrices=e==="markPrice"?r:this.output[EF],this.portfolio=this.output.portfolio||Ko.getState().portfolio,this}setCtxData(){this.accountInfo=Ko.getState().accountInfo,this.symbolsInfo=Ko.getState().symbolsInfo,this.fundingRates=Ko.getState().fundingRates}get(e){return e(this.output)}getCacheValue(e,r){return this.output[e]||r()}clearCache(){this.output={},this.accountInfo=void 0,this.portfolio=void 0}deleteByName(e){delete this.output[e]}get isReady(){return!!this.accountInfo}saveOutput(e,r){this.output[e]=r}outputToValue(){return this.output}},Jnt=class{constructor(t,e){this.scheduler=t,this.pendingCalc=[],this.calcQueue=[],this.referenceCount=new Map,this.isPaused=!1,this.calculators=new Map(e)}register(t,e){const r=`${t}_${e.name}`,n=this.referenceCount.get(r);if(typeof n<"u"&&n>0){this.referenceCount.set(r,n+1);return}const i=this.calculators.get(t);Array.isArray(i)?i.push(e):this.calculators.set(t,[e]),this.referenceCount.set(r,1)}unregister(t,e){var s,o;const r=`${t}_${e.name}`,n=this.referenceCount.get(r);if(typeof n<"u"&&n>1){this.referenceCount.set(r,n-1);return}const i=this.calculators.get(t);if(Array.isArray(i)){const a=i.findIndex(u=>u.name===e.name);a>-1&&((o=(s=i[a]).destroy)==null||o.call(s),i.splice(a,1))}this.referenceCount.delete(r)}async calc(t,e,r){t!=="position"&&r!=null&&r.skipWhenOnPause;const n=G5.create(t,e);!n.isReady&&(r!=null&&r.skipPending)||r!=null&&r.skipWhenOnPause&&!this.windowIsVisible||(this.calcQueue.push({scope:t,data:e,options:r}),await this.handleCalcQueue(n),this.ctx=n)}async handleCalcQueue(t){const e=this.calcQueue.shift();if(e){const{scope:r,data:n,options:i}=e,s=t||G5.create(r,n),o=this.calculators.get(r);if(Array.isArray(o)&&o.length){try{await this.scheduler.calc(r,o,n,s)}catch{}i!=null&&i.skipUpdate||this.scheduler.update(r,o,s.outputToValue())}this.calcQueue.length&&this.handleCalcQueue(s)}}stop(){var t;this.calcQueue=[],(t=this.ctx)==null||t.clearCache()}get windowIsVisible(){return typeof document>"u"?!0:document.visibilityState==="visible"}},gG="CalculatorService",Qnt=(t,e)=>{const r=Date.now();return setTimeout(()=>{t({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-r))})},1)},eit=t=>{clearTimeout(t)},mG=typeof window<"u"&&window.requestIdleCallback?window.requestIdleCallback.bind(window):Qnt;typeof window<"u"&&window.cancelIdleCallback&&window.cancelIdleCallback.bind(window);var tit=class{calc(t,e,r,n){return new Promise((i,s)=>{try{this.computation(e,o=>{const a=[];for(let u=0;u<o.length;u++){const f=o[u],d=f.calc(t,r,n);d&&(n.saveOutput(f.name,d),a.push(d))}return a},o=>{i(o)})}catch(o){s(o)}})}update(t,e,r){for(let n=0;n<e.length;n++){const i=e[n],s=r[i.name];s&&i.update(s,t)}return Promise.resolve()}computation(t,e,r){let n=0;const i=[],s=Math.min(t.length,2);function o(a){let u=s;for(;n+u<=t.length&&a.timeRemaining()>0;){const f=t.slice(n,n+u),d=e(f);i.push(d),n+=u,a.timeRemaining()<1?u=Math.max(1,Math.floor(u/2)):u=Math.min(t.length-n,u*2)}n<t.length?mG(o,{timeout:1e3}):r(i.flat())}mG(o,{timeout:1e3})}},JE={rows:null,margin_ratio:0,initial_margin_ratio:0,maintenance_margin_ratio:0,open_margin_ratio:0,current_margin_ratio_with_orders:0,initial_margin_ratio_with_orders:0,maintenance_margin_ratio_with_orders:0,total_collateral_value:0,free_collateral:0,total_pnl_24_h:0,unrealPnL:0,total_unreal_pnl:0,unsettledPnL:0,total_unsettled_pnl:0,notional:0,unrealPnlROI:0},Bf=rg()(y3(t=>({positions:{all:JE},actions:{setPositions:(e,r)=>{t(n=>{n.positions[e]=r})},closePosition:e=>{t(r=>{delete r.positions[e]})},clearAll:()=>{t(e=>{e.positions={all:JE}})}}}))),kF=(t="all")=>Bf(e=>(e.positions[t]??JE).rows),rit=()=>Bf(t=>t.actions),QE=rg()(y3(t=>({apis:{positions:{loading:!1}},actions:{updateStatus:(e,r)=>{t(n=>{n.apis[e]=r})},updateApiLoading:(e,r)=>{t(n=>{n.apis[e].loading=r})},updateApiError:(e,r)=>{t(n=>{n.apis[e]={loading:!1,error:r}})}}}))),nit=()=>QE(t=>t.actions),iit="positionCalculator",kv="all",TF=class extends u6{constructor(t=kv){super(),this.name=`${iit}_${t}`,this.symbol=t}calc(t,e,r){return t==="markPrice"?this.calcByMarkPrice(e,r):t==="indexPrice"?this.calcByIndexPrice(e,r):t==="position"?this.calcByPosition(this.preprocess(e),r):e}update(t,e){!t||!Array.isArray(t.rows)||(Bf.getState().actions.setPositions(this.symbol,t),Array.isArray(t.rows)&&QE.getState().apis.positions.loading&&QE.getState().actions.updateApiLoading("positions",!1))}calcByMarkPrice(t,e){let r=this.getPosition(t,e);return!r||!Array.isArray(r.rows)||!r.rows.length?r:(r={...r,rows:r.rows.map(n=>({...n,mark_price:t[n.symbol]||n.mark_price}))},this.format(r,e))}calcByIndexPrice(t,e){let r=this.getPosition(t,e);return!r||!Array.isArray(r.rows)||!r.rows.length?r:(r={...r,rows:r.rows.map(n=>({...n,index_price:t[n.symbol]||n.index_price||n.mark_price}))},this.format(r,e))}calcByPosition(t,e){return t.rows.length===0?t:this.format(t,e)}format(t,e){const{accountInfo:r,symbolsInfo:n,fundingRates:i,portfolio:s}=e;if(!r||!i||!n)return t;let o=ei,a=ei,u=ei,f=ei,d=t.rows.map(k=>{const I=n[k.symbol],R=wc.notional(k.position_qty,k.mark_price),M=wc.unrealizedPnL({qty:k.position_qty,openPrice:k==null?void 0:k.average_open_price,markPrice:k.mark_price});let P=0,j=0;const V=fs.IMR({maxLeverage:r.max_leverage,baseIMR:I==null?void 0:I.base_imr,IMR_Factor:r.imr_factor[k.symbol],positionNotional:R,ordersNotional:0,IMR_factor_power:4/5}),Z=wc.unrealizedPnLROI({positionQty:k.position_qty,openPrice:k.average_open_price,IMR:V,unrealizedPnL:M});k.index_price&&(P=wc.unrealizedPnL({qty:k.position_qty,openPrice:k==null?void 0:k.average_open_price,markPrice:k.index_price}),j=wc.unrealizedPnLROI({positionQty:k.position_qty,openPrice:k.average_open_price,IMR:V,unrealizedPnL:P}));const G=wc.unsettlementPnL({positionQty:k.position_qty,markPrice:k.mark_price,costPosition:k.cost_position,sumUnitaryFunding:rMe(0,"sum_unitary_funding",i[k.symbol]),lastSumUnitaryFunding:k.last_sum_unitary_funding}),q=wc.MMR({baseMMR:I==null?void 0:I.base_mmr,baseIMR:I==null?void 0:I.base_imr,IMRFactor:r.imr_factor[k.symbol],positionNotional:R,IMR_factor_power:4/5});return o=o.add(M),a=a.add(P),u=u.add(R),f=f.add(G),{...k,mm:wc.maintenanceMargin({positionQty:k.position_qty,markPrice:k.mark_price,MMR:q}),mmr:q,notional:R,unsettlement_pnl:G,unrealized_pnl:M,unrealized_pnl_index:P,unrealized_pnl_ROI:Z,unrealized_pnl_ROI_index:j}});const g=o.toNumber(),y=a.toNumber(),b=f.toNumber();let A=0,x=0;if(s){const{totalValue:k,totalCollateral:I}=s;d=d.map(R=>{const M=wc.liqPrice({markPrice:R.mark_price,totalCollateral:I.toNumber(),positionQty:R.position_qty,positions:d,MMR:R.mmr});return{...R,est_liq_price:M}}),k!==null&&!k.eq(ei)&&(A=fs.totalUnrealizedROI({totalUnrealizedPnL:g,totalValue:k.toNumber()}),x=fs.totalUnrealizedROI({totalUnrealizedPnL:y,totalValue:k.toNumber()}))}return{...t,unrealPnL:g,total_unreal_pnl:g,total_unreal_pnl_index:y,notional:u.toNumber(),unsettledPnL:b,total_unsettled_pnl:b,unrealPnlROI:A,unrealPnlROI_index:x,rows:d}}preprocess(t){let e=t.rows;return this.symbol!==kv&&Array.isArray(e)&&(e=e.filter(r=>r.symbol===this.symbol)),{...t,rows:e}}getPosition(t,e){let r=e.get(n=>n[this.name])||Bf.getState().positions[this.symbol];return this.symbol===kv||r&&Array.isArray(r.rows)?r:this.preprocess(this.getAllPositions(e))}destroy(){var t;Bf.getState().actions.closePosition(this.symbol),(t=G5.instance)==null||t.deleteByName(this.name)}getAllPositions(t){return t.get(e=>e[kv])||Bf.getState().positions[kv]}};TF.logPosition=(t="all")=>Bf.getState().positions[t];var sit=(t,e)=>{const r=[];let n=0;return t.forEach(i=>{i.token==="USDC"?n=i.holding:r.push({holding:i.holding,markPrice:e[i.token]??0,discount:0})}),[n,r]};function c6(t,e=2){const r=(n,i)=>i===void 0?n:n??i;return new Proxy(t||{},{get(n,i,s){return i==="isNil"?zRe(t):e===1?o=>n?r(n[i],o):o:(o,a)=>{var u;return r(o?(u=n[i])==null?void 0:u[o]:n[i],a)}}})}var oit="portfolio",ait=class extends u6{constructor(){super(...arguments),this.name=oit}calc(t,e,r){let n,i;const s=this.getPortfolio(r);t==="markPrice"?n=e:n=r.get(f=>f[EF]),i=r.get(f=>f.positionCalculator_all);let o=s.holding;t==="portfolio"&&e.holding&&Array.isArray(o)&&(o=o.map(f=>e.holding[f.token]?{...f,holding:e.holding[f.token].holding,frozen:e.holding[f.token].frozen}:f));const a=r.accountInfo,u=r.symbolsInfo;return this.format({holding:o,positions:i,markPrices:n,accountInfo:a,symbolsInfo:u})}getPortfolio(t){return t.get(e=>e[this.name])||Ko.getState().portfolio}format(t){const{holding:e,positions:r,markPrices:n,accountInfo:i,symbolsInfo:s}=t;if(!e||!r||!Array.isArray(r.rows)||!n||!i)return null;const o=eP(0,["total_unsettled_pnl"])(r),a=eP(0,["total_unreal_pnl"])(r),[u,f]=sit(e,n),d=e.find(I=>I.token==="USDC"),g=fs.totalCollateral({USDCHolding:u,nonUSDCHolding:f,unsettlementPnL:o}),y=fs.totalValue({totalUnsettlementPnL:o,USDCHolding:u,nonUSDCHolding:f}),b=fs.totalUnrealizedROI({totalUnrealizedPnL:a,totalValue:y.toNumber()}),A=fs.totalInitialMarginWithQty({positions:r.rows,markPrices:n,IMR_Factors:i.imr_factor,maxLeverage:i.max_leverage,symbolInfo:c6({...s})}),x=fs.freeCollateral({totalCollateral:g,totalInitialMarginWithOrders:A}),k=fs.availableBalance({USDCHolding:(d==null?void 0:d.holding)??0,unsettlementPnL:r.total_unsettled_pnl??0});return{totalCollateral:g,totalValue:y,totalUnrealizedROI:b,freeCollateral:x,availableBalance:k,unsettledPnL:o,holding:e}}update(t,e){t&&Ko.getState().actions.batchUpdateForPortfolio({totalCollateral:t.totalCollateral,totalValue:t.totalValue,freeCollateral:t.freeCollateral,availableBalance:t.availableBalance,totalUnrealizedROI:t.totalUnrealizedROI,unsettledPnL:t.unsettledPnL,holding:Array.isArray(t.holding)?t.holding:[]})}},yG=rg(t=>({indexPrices:{},actions:{updateIndexPrice:e=>{t({indexPrices:e})}}})),uit="indexPriceCalculator",cit=class extends u6{constructor(){super(...arguments),this.name=uit}calc(t,e,r){return e}update(t){t&&yG.getState().actions.updateIndexPrice(t)}static getValue(){return yG.getState().indexPrices}},IF=()=>{const{get:t}=Wnt();return Hk(()=>{let r=t(gG);if(!r){const n=new TF,i=new ait,s=new Xnt,o=new cit;r=new Jnt(new tit,[["markPrice",[s,n,i,n]],["position",[n,i]],["portfolio",[i]],["indexPrice",[o,n]]]),ba.registerByName(gG,r)}return r})},l6=t=>{const e=_o(),[r,n]=N.useState(0);return N.useEffect(()=>{const i=e.subscribe(`${t}@markprice`,{onMessage:s=>{n(s.price)}});return()=>{i==null||i()}},[t]),{data:r}},lit=t=>{t=t.replace("PERP","SPOT");const e=_o();return b1(`${t}@indexprice`,(r,{next:n})=>{const i=e.subscribe(`${t}@indexprice`,{onMessage:s=>{n(null,s.price)}});return()=>{i==null||i()}})},fit=t=>{const e=_o();return b1(`${t}@openinterest`,(r,{next:n})=>{const i=e.subscribe(`${t}@openinterest`,{onMessage:s=>{n(null,s.openInterest)}});return()=>{i==null||i()}})},dit=()=>{const{data:t,isLoading:e,error:r}=Fi("/v1/public/futures",{revalidateOnFocus:!1}),[n,i]=N.useState(t);_o(),N.useEffect(()=>{},[]),N.useEffect(()=>{if(t){const a=t.sort((u,f)=>0);i(a)}},[t]);const s=N.useCallback(a=>{},[t]),o=N.useCallback(a=>{},[t]);return{data:n,sortBy:s,filterBy:o,isLoading:e,error:r}},hit=t=>{if(!t)throw new Error("useFuturesForSymbol requires a symbol");const{data:e}=Fi(`/v1/public/futures/${t}`,{revalidateOnFocus:!1}),[r,n]=N.useState(),i=_o();N.useEffect(()=>{const d=i.subscribe(`${t}@ticker`,{onMessage:g=>{g.symbol===t&&n(g)}});return()=>{n(void 0),d==null||d()}},[t]);const{data:s}=l6(t),{data:o}=lit(t),{data:a}=fit(t),{data:u}=dit();return N.useMemo(()=>{if(!e)return null;if(!r||r.symbol!==t)return e;const d=u==null?void 0:u.findIndex(b=>b.symbol===t);let g=a;!g&&d!==-1&&u&&(g=u[d].open_interest);const y={...e,mark_price:s,index_price:o,open_interest:g};return r.open!==void 0&&(y["24h_open"]=r.open),r.close!==void 0&&(y["24h_close"]=r.close),r.high!==void 0&&(y["24h_high"]=r.high),r.low!==void 0&&(y["24h_low"]=r.low),r.volume!==void 0&&(y["24h_volumn"]=r.volume,y["24h_volume"]=r.volume),r.close!==void 0&&r.open!==void 0&&(y.change=new Re(r.close).minus(r.open).div(r.open).toNumber(),y["24h_change"]=new Re(r.close).minus(r.open).toNumber()),y},[e,t,r,u,a])},Cl=()=>{const t=Ko(e=>e.symbolsInfo);return N.useMemo(()=>c6({...t}),[t])},pit={asks:[],bids:[],ts:0},git=class lge{constructor(){this.bufferedOrderBookUpdates={},this.rawOrderBook={}}static getInstance(){return this.instance||(this.instance=new lge),this.instance}sortBufferedOrderBookUpdates(e){var r;(r=this.bufferedOrderBookUpdates[e])==null||r.sort((n,i)=>n.ts-i.ts)}applyUpdateToRawOrderBook(e,r){const n=this.rawOrderBook[e];if(!n||n.ts>r.prevTs)return;const i=new Map,s=new Map;n.asks.forEach(o=>i.set(o[0],o[1])),n.bids.forEach(o=>s.set(o[0],o[1])),r.asks.forEach(o=>o[1]===0?i.delete(o[0]):i.set(o[0],o[1])),r.bids.forEach(o=>o[1]===0?s.delete(o[0]):s.set(o[0],o[1])),n.asks=Array.from(i.entries()).sort((o,a)=>o[0]-a[0]),n.bids=Array.from(s.entries()).sort((o,a)=>a[0]-o[0]),n.ts=r.ts}applyBufferedUpdatesToRawOrderBooks(e){var r;(r=this.bufferedOrderBookUpdates[e])==null||r.forEach(n=>this.applyUpdateToRawOrderBook(e,n))}deleteBufferedOrderBookUpdates(e){delete this.bufferedOrderBookUpdates[e]}commitOrderBook(e){this.rawOrderBook[e]}pushUpdateToBuffer(e,r){this.bufferedOrderBookUpdates[e]===void 0&&(this.bufferedOrderBookUpdates[e]=[]);const n=this.bufferedOrderBookUpdates[e];n.length>0&&n[n.length-1].ts!==r.prevTs&&(this.bufferedOrderBookUpdates[e]=[]),this.bufferedOrderBookUpdates[e].push(r)}isValidFullOrderBook(e,r){var n;return(((n=this.bufferedOrderBookUpdates[e])==null?void 0:n.length)??0)!==0?this.bufferedOrderBookUpdates[e][0].prevTs<=r:!0}setFullOrderbook(e,r){const{ts:n}=r;this.rawOrderBook[e]=r,this.sortBufferedOrderBookUpdates(e),this.isValidFullOrderBook(e,n)&&this.applyBufferedUpdatesToRawOrderBooks(e)}updateOrderbook(e,r,n){const{asks:i,bids:s,prevTs:o,ts:a}=r,u=this.rawOrderBook[e];if(!u)return;const f=u.ts;if(f===0){this.pushUpdateToBuffer(e,{asks:i,bids:s,prevTs:o,ts:a});return}if(o!==f){this.pushUpdateToBuffer(e,{asks:i,bids:s,prevTs:o,ts:a}),n&&n();return}this.applyUpdateToRawOrderBook(e,r),this.deleteBufferedOrderBookUpdates(e)}getRawOrderbook(e){return this.rawOrderBook[e]}resetOrderBook(e){this.rawOrderBook[e]=pit}},mit=git.getInstance(),Tv=mit,bG=t=>Array(t).fill([Number.NaN,Number.NaN,Number.NaN,Number.NaN]),vG=(t,e,r,n=!1)=>{if(!Array.isArray(r)||r.length===0)return[];let i=[...r];const s=[];if(typeof t<"u"){const o=new Map;for(let a=0;a<r.length;a++){const[u,f]=r[a];if(isNaN(u)||isNaN(f))continue;let d;if(n?d=new Re(Math.ceil(u/t)).mul(t).toNumber():d=new Re(Math.floor(u/t)).mul(t).toNumber(),t<1&&t>0&&d.toString().indexOf(".")!==-1){const g=u.toString(),y=g.indexOf("."),b=g.slice(y+1),A=kEe(t).toString().slice(2).length,x=b.slice(0,eMe(b.length,A));d=new Re(g.slice(0,y)+"."+x).toNumber()}if(o.has(d)){const g=o.get(d),y=new Re(g[1]).add(f).toNumber();o.set(d,[d,y])}else o.set(d,[d,f])}i=Array.from(o.values())}for(let o=0;o<i.length;o++){const[a,u]=i[o];if(isNaN(a)||isNaN(u))continue;const f=new Re(u).add(s.length>0?s[s.length-1][2]:0).toNumber(),d=new Re(u*a).add(s.length>0?s[s.length-1][3]:0).toNumber();s.push([a,u,f,d])}return s},yit=(t,e,r,n)=>{let i=vG(t,e,n.asks,!0),s=vG(t,e,n.bids);if(i.length!==0&&s.length!==0&&i[0][0]<=s[0][0])if(i.length===1){const[o,a,u,f]=i[0];i.shift(),i.push([o+(t===void 0?0:t),a,u,f])}else{const[o]=s[0];for(;i.length>0;){const[a,u,f,d]=i[0];if(a<=o){i.shift();let g="";for(let y=0;y<i.length;y++){if(y===0){const b=i[y][1]+u;i[y][1]=b,i[y][2]=b,i[y][3]=Math.ceil(b)*i[y][0]}else i[y][3]=i[y][0]*i[y][1]+i[y-1][3];g+=`index: ${y} ${i[y]}
`}}else break}}return i=i.reverse(),r&&(i=i.length<e?bG(e-i.length).concat(i):i,s=s.length<e?s.concat(bG(e-s.length)):s),{asks:i,bids:s}},wG={asks:[],bids:[]},RSt=(t,e=wG,r)=>{var V,Z,G,q,ae,T,c,h,p,m,v,_,E,w,l,S,C,D,U,O;if(!t)throw new Ar("useOrderbookStream requires a symbol");const n=(r==null?void 0:r.level)??10,i=(r==null?void 0:r.padding)??!0;N.useState(null);const[s,o]=N.useState(e),[a,u]=N.useState(!0),f=Cl()[t],[d,g]=N.useState(),y=N.useRef(0),b=N.useMemo(()=>{const $=f("quote_tick");if(typeof $>"u")return[];try{const F=new Re($);return[F.toNumber(),F.mul(10).toNumber(),F.mul(100).toNumber(),F.mul(1e3).toNumber()]}catch{}return[$]},[f("quote_tick")]);N.useEffect(()=>{g(f("quote_tick"))},[f("quote_tick")]);const A=_o(),x=hit(t),k=Ml();N.useEffect(()=>{let $=!0;u(!0);let F,H;return F=A.subscribe({event:"subscribe",topic:`${t}@orderbookupdate`},{formatter:Q=>Q,onMessage:Q=>{const{data:te,ts:X}=Q,{asks:K,bids:oe,prevTs:_e}=te;Tv.updateOrderbook(t,{asks:K,bids:oe,ts:X,prevTs:_e},()=>$=!0);const Se=Tv.getRawOrderbook(t);o({bids:Se.bids,asks:Se.asks})}}),$&&(u(!0),H=A.onceSubscribe({event:"request",id:`${t}@orderbook`,params:{type:"orderbook",symbol:t}},{formatter:Q=>Q,onMessage:Q=>{const{symbol:te,asks:X,bids:K,ts:oe}=Q.data;Tv.setFullOrderbook(te,{asks:X,bids:K,ts:oe});const _e=Tv.getRawOrderbook(te);o({bids:_e.bids,asks:_e.asks}),u(!1)}}),$=!1),()=>{F==null||F(),H==null||H(),Tv.resetOrderBook(t),o(wG)}},[t]);const{data:I}=l6(t),R=N.useCallback($=>{k.emit("orderbook:item:click",$)},[]),M=N.useCallback($=>{g(()=>$)},[]),P=yit(d,n,i,{asks:[...s.asks],bids:[...s.bids]});N.useEffect(()=>{var F,H,Q,te,X,K,oe,_e,Se,W,re,ne,se,Te,be,Ee,ut,le,de,Fe;const $=[[(H=(F=P.asks)==null?void 0:F[P.asks.length-1])==null?void 0:H[0],(te=(Q=P.bids)==null?void 0:Q[0])==null?void 0:te[0]],[(K=(X=P.asks)==null?void 0:X[P.asks.length-2])==null?void 0:K[0],(_e=(oe=P.bids)==null?void 0:oe[1])==null?void 0:_e[0]],[(W=(Se=P.asks)==null?void 0:Se[P.asks.length-3])==null?void 0:W[0],(ne=(re=P.bids)==null?void 0:re[2])==null?void 0:ne[0]],[(Te=(se=P.asks)==null?void 0:se[P.asks.length-4])==null?void 0:Te[0],(Ee=(be=P.bids)==null?void 0:be[3])==null?void 0:Ee[0]],[(le=(ut=P.asks)==null?void 0:ut[P.asks.length-5])==null?void 0:le[0],(Fe=(de=P.bids)==null?void 0:de[4])==null?void 0:Fe[0]]];k.emit("orderbook:update",$)},[(Z=(V=P.asks)==null?void 0:V[P.asks.length-1])==null?void 0:Z[0],(q=(G=P.asks)==null?void 0:G[P.asks.length-2])==null?void 0:q[0],(T=(ae=P.asks)==null?void 0:ae[P.asks.length-3])==null?void 0:T[0],(h=(c=P.asks)==null?void 0:c[P.asks.length-4])==null?void 0:h[0],(m=(p=P.asks)==null?void 0:p[P.asks.length-5])==null?void 0:m[0],(_=(v=P.bids)==null?void 0:v[0])==null?void 0:_[0],(w=(E=P.bids)==null?void 0:E[1])==null?void 0:w[0],(S=(l=P.bids)==null?void 0:l[2])==null?void 0:S[0],(D=(C=P.bids)==null?void 0:C[3])==null?void 0:D[0],(O=(U=P.bids)==null?void 0:U[4])==null?void 0:O[0]]);const j=N.useMemo(()=>{var H,Q;let $=0,F=0;return s.asks.length>0&&($=(Q=(H=P.asks)==null?void 0:H[P.asks.length-1])==null?void 0:Q[0]),s.bids.length>0&&(F=s.bids[0][0]),isNaN($)||isNaN(F)||!x?0:[$,F,x["24h_close"]].sort()[1]},[x==null?void 0:x["24h_close"],s]);return N.useEffect(()=>{y.current=j},[j]),[{asks:P.asks.slice(-n),bids:P.bids.slice(0,n),markPrice:I,middlePrice:[y.current,j]},{onDepthChange:M,depth:d,allDepths:b,isLoading:a,onItemClick:R}]},bit=()=>eu("/v1/client/info"),vit=()=>{const t=_o(),{data:e}=Fi("/v1/public/futures",{revalidateOnFocus:!1}),r="tickers",{data:n}=b1("tickers",(s,{next:o})=>{const a=t.subscribe(r,{onMessage:u=>{o(null,u)}});return()=>{a==null||a()}});return{data:N.useMemo(()=>e?n?e.map(s=>{const o=n.find(a=>a.symbol===s.symbol);if(o){const a={...s,"24h_close":o.close,"24h_open":o.open,"24h_volumn":o.volume,"24h_volume":o.volume,"24h_amount":o.amount,change:0};return o.close!==void 0&&o.open!==void 0&&(a.change=new Re(o.close).minus(o.open).div(o.open).toNumber()),a}return s}):e:null,[e,n])}},MSt=()=>{const t=Ko(e=>e.fundingRates);return c6({...t})},wit=(t=>(t[t.FAVORITES=0]="FAVORITES",t[t.RECENT=1]="RECENT",t[t.ALL=2]="ALL",t[t.NEW_LISTING=3]="NEW_LISTING",t))(wit||{}),Sp="orderly_markets",Qm={name:"Popular",id:1},Sit=()=>{const{configStore:t}=N.useContext(dd),e=Ml(),r=N.useId(),n=()=>t.get(Sp)||Rit(),i=(p,m)=>n()[p]||m,s=p=>{t.set(Sp,{...n(),...p})},o=()=>i("favoriteTabs",[{...Qm}]),a=()=>i("selectedFavoriteTab",{...Qm}),u=()=>{const p=i("favorites",[]),m=o();return Mit(p,m)},f=()=>i("recent",[]),d=()=>i("newListing",[]),g=()=>i("tabSort",{}),[y,b]=N.useState(o),[A,x]=N.useState(a),[k,I]=N.useState(u),[R,M]=N.useState(f),[P,j]=N.useState(d),[V,Z]=N.useState(g),G=(p,m)=>{const v=Cit(y,p,m);b(v),e.emit("markets:changed",Iv(r,"favoriteTabs",v))},q=p=>{x(p),e.emit("markets:changed",Iv(r,"lastSelectedFavoriteTab",p))},ae=(p,m,v=!1)=>{const _=Bit({favorites:k,symbol:p,tab:m,remove:v});I(_),e.emit("markets:changed",Iv(r,"favorites",_))},T=p=>{const m=Pit(R,p);M(m),e.emit("markets:changed",r),e.emit("markets:changed",Iv(r,"recent",m))},c=p=>{const m=Nit(k,p);m&&(I(m),e.emit("markets:changed",Iv(r,"favorites",m)))},h=(p,m,v)=>{const _=i("tabSort",{});_[p]={sortKey:m,sortOrder:v},Z(_)};return N.useEffect(()=>{s({favoriteTabs:y,favorites:k,recent:R,newListing:P,tabSort:V,selectedFavoriteTab:A})},[y,k,R,P,V,A]),N.useEffect(()=>{const p=({id:m,key:v,data:_})=>{m!==r&&(v==="favoriteTabs"?b(_):v==="lastSelectedFavoriteTab"?x(_):v==="favorites"?I(_):v==="recent"?M(_):v==="newListing"&&j(_))};return e.on("markets:changed",p),()=>{e.off("markets:changed",p)}},[r]),{favoriteTabs:y,favorites:k,recent:R,newListing:P,tabSort:V,selectedFavoriteTab:A,updateFavorites:I,updateFavoriteTabs:G,updateSymbolFavoriteState:ae,pinToTop:c,addToHistory:T,updateSelectedFavoriteTab:q,updateTabsSortState:h}},CSt=(t=2)=>{const{data:e}=vit(),r=Cl(),[n,i]=N.useState([]),s=Sit(),{favorites:o,recent:a,newListing:u}=s;return N.useEffect(()=>{const f=_it(e,r),d=Ait({markets:f,favorites:o,recent:a,newListing:u,type:t});i(d)},[e,r,o,a,u,t]),[n,s]},_it=(t,e)=>{var r;return(r=t||[])==null?void 0:r.map(n=>{const i=e[n.symbol];return{...n,quote_dp:i("quote_dp"),created_time:i("created_time"),leverage:Tit(i("base_imr")),openInterest:Iit(n.open_interest,n.index_price),"8h_funding":Eit(n.est_funding_rate,i("funding_period")),change:kit({change:n.change,close:n["24h_close"],open:n["24h_open"]})}})},Ait=t=>{const{markets:e,favorites:r,recent:n,newListing:i,type:s}=t;let o=[];if(s===2)o=e;else if(s===3)o=e.filter(u=>xit(u.created_time)).sort((u,f)=>f.created_time-u.created_time);else{const f=(s===0?r:s===1?n:i).map(d=>d.name);o=e==null?void 0:e.filter(d=>f.includes(d.symbol))}const a=r.map(u=>u.name);return o==null?void 0:o.map(u=>({...u,isFavorite:s===0?!0:a.includes(u.symbol)}))};function Y5(t){return t==null}var xit=t=>Date.now()-t<2592e6;function Eit(t,e){let r=0;return Y5(t)?null:(e&&(r=new Re(t||0).mul(e).div(8).toNumber()),r)}function kit(t){const{change:e,close:r,open:n}=t;if(e!==void 0)return e;if(!Y5(r)&&!Y5(n))return n===0?0:new Re(r).minus(n).div(n).toNumber()}function Tit(t){return t?1/t:void 0}function Iit(t,e){return new Re(t||0).mul(e||0).toNumber()}function Rit(){return{recent:[],favorites:[{name:"PERP_ETH_USDC",tabs:[{...Qm}]},{name:"PERP_BTC_USDC",tabs:[{...Qm}]}],favoriteTabs:[{...Qm}],selectedFavoriteTab:{...Qm},tabSort:{}}}function Mit(t,e){return t.map(r=>({...r,tabs:r.tabs.filter(n=>!!e.find(i=>i.id===n.id))})).filter(r=>!!r.tabs.length)}function Cit(t,e,r){if(Array.isArray(e))return e;const n=[...t],i=n.findIndex(s=>s.id===e.id);return r!=null&&r.add?n.push(e):r!=null&&r.update&&i!==-1?n[i]=e:r!=null&&r.delete&&i!==-1&&n.splice(i,1),n}function Pit(t,e){const r=[...t],n=r.findIndex(i=>i.name==e.symbol);return n!==-1&&r.splice(n,1),r.unshift({name:e.symbol}),r}function Nit(t,e){const r=t.findIndex(n=>n.name===e.symbol);if(r!==-1){const n=t[r],i=[...t];return i.splice(r,1),i.unshift(n),i}}function Bit(t){const{favorites:e,symbol:r,tab:n,remove:i=!1}=t,s=[...e],o=s.findIndex(u=>u.name==r.symbol),a=Array.isArray(n)?n:[n];if(o===-1)a.length&&!i&&s.unshift({name:r.symbol,tabs:a});else{const u=s[o];if(Array.isArray(n))n.length?s[o]={...u,tabs:n}:s.splice(o,1);else if(i){const f=u.tabs.filter(d=>d.id!=n.id);f.length?s[o]={...u,tabs:f}:s.splice(o,1)}else s[o]={...u,tabs:[...u.tabs,n]}}return s}function Iv(t,e,r){return{id:t,key:e,data:r}}var f6=()=>({data:xF(e=>e.markPrices)}),PSt=()=>{var o;const{data:t,mutate:e}=eu("/v1/client/info"),[r,{isMutating:n}]=go("/v1/client/leverage"),{data:i}=Fi("/v1/public/config",{revalidateOnFocus:!1}),s=N.useCallback(a=>r(a).then(u=>{if(u.success)return e();throw new Error(u.message)}),[]);return[VB("max_leverage",t),{update:s,isMutating:n,config:i?(o=i==null?void 0:i.available_futures_leverage)==null?void 0:o.split(",").map(a=>parseInt(a)):[]}]},NSt=t=>{if(!t)throw new Error("useFuturesForSymbol requires a symbol");const[e,r]=N.useState("00:00:00"),{data:n}=Fi(`/v1/public/funding_rate/${t}`,{fallbackData:{est_funding_rate:0,next_funing_time:0}});N.useEffect(()=>{if(!n)return;const{next_funding_time:s}=n;if(!s||s<=0)return;const o=setInterval(()=>{const a=new Date(s).getTime()-Hu(),u=TEe(a);u.length===3&&r(`${u[0].toString().padStart(2,"0")}:${u[1].toString().padStart(2,"0")}:${u[2].toString().padStart(2,"0")}`)},1e3);return()=>{clearInterval(o)}},[n]);const i=N.useMemo(()=>{if(!n)return;const{next_funding_time:s,est_funding_rate:o=0}=n;return Hu()>s?null:new Re(Number(o)*100).toFixed(4,Re.ROUND_DOWN)},[n]);return{...n,est_funding_rate:i,countDown:e}},Oit=(t,e)=>{if(!t||!e)return 0;const n={"1d":1,"3d":3,"7d":7,"14d":14,"30d":30,"90d":90}[e]*3;return t.positive/n},BSt=()=>{const{data:t,isLoading:e,...r}=Fi("/v1/public/market_info/funding_history");return{data:t??[],isLoading:e,getPositiveRates:(n,i)=>n!=null&&n.length?n.reduce((s,o)=>(s[o.symbol]=Oit(o.funding[i],i),s),{}):{}}},Lit=(t,e)=>{const r=RF(t,e);if(r)return d6(r)},d6=t=>{var s,o;let e,r;const n=(s=t==null?void 0:t.child_orders)==null?void 0:s.find(a=>a.algo_type===Cn.TAKE_PROFIT),i=(o=t==null?void 0:t.child_orders)==null?void 0:o.find(a=>a.algo_type===Cn.STOP_LOSS);return n&&(e=n.trigger_price),i&&(r=i.trigger_price),{tp_trigger_price:e,sl_trigger_price:r}},RF=(t,e)=>t==null?void 0:t.find(r=>r.symbol===e&&r.algo_type===$n.POSITIONAL_TP_SL&&(r.root_algo_status===Qc.NEW||r.root_algo_status===Qc.REPLACED||r.root_algo_status===Qc.PARTIAL_FILLED)),OSt=(t="all",e)=>{const{calcMode:r}=e||{},{includedPendingOrder:n=!1}=e||{},i=N.useRef(null),s=IF(),[o]=fge({symbol:t==="all"?void 0:t,status:Qc.INCOMPLETE,includes:[$n.POSITIONAL_TP_SL,$n.TP_SL],size:500},{keeplive:!0}),{positions:a}=QE(x=>x.apis);N.useEffect(()=>{if(t!=="all")return i.current=new TF(t),s.register("position",i.current),s.register("markPrice",i.current),s.register("indexPrice",i.current),()=>{s.unregister("position",i.current),s.unregister("markPrice",i.current),s.unregister("indexPrice",i.current)}},[t]);const u=Bf(x=>{const k=x.positions[t]??JE;return[k.rows,GB(["rows"],k)]}),{totalCollateral:f,totalValue:d,totalUnrealizedROI:g}=Ko(x=>x.portfolio),y=N.useMemo(()=>{let x=u[1];if(!x)return{};if(r==="markPrice")return x;const{total_unreal_pnl_index:k,unrealPnlROI_index:I,...R}=x;return{...R,unrealPnL:k,total_unreal_pnl:k,unrealPnlROI:I}},[r]);let b=u[0];b||(b=[]),n?b=b.filter(x=>x.position_qty!==0||x.pending_long_qty!==0||x.pending_short_qty!==0):b=b.filter(x=>x.position_qty!==0),r==="lastPrice"&&(b=b.map(x=>{const{unrealized_pnl_index:k,unrealized_pnl_ROI_index:I,...R}=x;return{...R,unrealized_pnl:k??0,unsettled_pnl_ROI:I??0}})),Array.isArray(o)&&o.length&&(b=b.map(x=>{const k=RF(o,x.symbol),I=k?d6(k):void 0;return{...x,tp_trigger_price:I==null?void 0:I.tp_trigger_price,sl_trigger_price:I==null?void 0:I.sl_trigger_price,algo_order:k}}));const A=c6(y,1);return[{rows:b,aggregated:(u==null?void 0:u[1])??{},totalCollateral:f,totalValue:d,totalUnrealizedROI:g},A,{loading:a.loading,isLoading:a.loading}]};eP(0,[0,"aggregated","unsettledPnL"]);var fge=(t,e)=>{var te;const{status:r,symbol:n,side:i,size:s=50,page:o,dateRange:a}=t,[u,f]=N.useState(t.includes??["ALL"]),[d,g]=N.useState(t.excludes??[]),{data:y}=f6(),{registerKeyHandler:b,unregisterKeyHandler:A}=gst(),[x,{error:k,isMutating:I}]=go("/v1/order","DELETE"),[R]=go("/v1/orders","DELETE"),[M,{error:P,isMutating:j}]=go("/v1/order","PUT"),[V,{error:Z,isMutating:G}]=go("/v1/algo/order","DELETE"),[q]=go("/v1/algo/orders","DELETE"),[ae,{error:T,isMutating:c}]=go("/v1/algo/order","PUT");N.useEffect(()=>{const X=oe=>oe?`:${oe}`:"",K=`orders${X(r)}${X(n)}${X(i)}${X(s.toString())}`;return b==null||b(K,pG({status:r,symbol:n,side:i,size:s,page:o,dateRange:a})),()=>{e!=null&&e.stopOnUnmount&&A(K)}},[r,n,i,s,o,a,e==null?void 0:e.keeplive]);const h=$nt(pG({status:r,symbol:n,side:i,size:s,page:o,dateRange:a}),{initialSize:1,formatter:X=>X,revalidateOnFocus:!1}),p=N.useMemo(()=>{var K,oe;if(!h.data)return null;let X=(oe=(K=h.data)==null?void 0:K.map(_e=>_e.rows))==null?void 0:oe.flat();return u.includes("ALL")&&d.length===0?X:u.includes("ALL")&&d.length>0?X==null?void 0:X.filter(_e=>!d.includes(_e.algo_type)):u.length>0&&d.length===0?X==null?void 0:X.filter(_e=>u.includes(_e.algo_type)):u.length>0&&d.length>0?X==null?void 0:X.filter(_e=>u.includes(_e.algo_type)&&!d.includes(_e.algo_type)):X},[h.data,u,d]),m=N.useMemo(()=>p?r!==Qc.NEW&&r!==Qc.INCOMPLETE?p:p.map(X=>{const K={...X,mark_price:(y??{})[X.symbol]??0};return(K.algo_type===$n.POSITIONAL_TP_SL||K.algo_type===$n.TP_SL)&&(K.quantity=K.child_orders[0].quantity),K}):null,[p,y,r]),v=N.useMemo(()=>(m==null?void 0:m.length)||0,[m==null?void 0:m.length]),_=X=>{if(!X)throw new Ar("types is required");if(!Array.isArray(X))throw new Ar("types should be an array");return Promise.all(X.map(K=>q(null,{algo_type:K})))},E=N.useCallback(()=>Promise.all([R(null),q(null,{algo_type:"STOP"})]),[h.data]),w=N.useCallback(()=>_([$n.POSITIONAL_TP_SL,$n.TP_SL]),[h.data]),l=N.useCallback((X,K,oe)=>{switch(oe){case"algoOrder":return ae({order_id:X,price:K.order_price,quantity:K.order_quantity,trigger_price:K.trigger_price});default:return M({...K,order_id:X})}},[]),S=N.useCallback((X,K)=>l(X,K,"normalOrder"),[]),C=N.useCallback((X,K)=>l(X,K,"algoOrder"),[]),D=N.useCallback((X,K,oe)=>{switch(K){case"algoOrder":return V(null,{order_id:X,symbol:oe,source:`SDK${dG}`}).then(_e=>{if(_e.success)return h.mutate(),_e;throw new Error(_e.message)});default:return x(null,{order_id:X,symbol:oe,source:`SDK_${dG}`}).then(_e=>{if(_e.success)return _e;throw new Error(_e.message)})}},[]),U=N.useCallback((X,K)=>D(X,"normalOrder",K),[]),O=N.useCallback((X,K)=>D(X,"algoOrder",K),[]),$=()=>{h.setSize(h.size+1)},F=N.useCallback((X,K)=>ae({order_id:K,child_orders:[{order_id:X,is_activated:!1}]}),[]),H=N.useCallback((X,K)=>{if(!Array.isArray(K))throw new Ar("children orders is required");return ae({order_id:X,child_orders:K})},[]),Q=N.useMemo(()=>{var X,K;return(K=(X=h.data)==null?void 0:X[0])==null?void 0:K.meta},[(te=h.data)==null?void 0:te[0]]);return[m,{total:v,isLoading:h.isLoading,refresh:h.mutate,loadMore:$,cancelAllOrders:E,cancelAllTPSLOrders:w,cancelAlgoOrdersByTypes:_,updateOrder:S,cancelOrder:U,updateAlgoOrder:C,cancelAlgoOrder:O,cancelTPSLChildOrder:F,updateTPSLOrder:H,meta:Q,errors:{cancelOrder:k,updateOrder:P,cancelAlgoOrder:Z,updateAlgoOrder:T},submitting:{cancelOrder:I,updateOrder:j,cancelAlgoOrder:G,updateAlglOrder:c}}]},LSt=(t,e={})=>{if(!t)throw new Error("useTradeStream: symbol is required");const[r,n]=N.useState([]),[i,s]=N.useState(!1),{limit:o=50}=e,a=_o();return N.useEffect(()=>{s(!0),n(()=>[]),a.onceSubscribe({id:`${t}@trade`,event:"request",params:{type:"trade",symbol:t,limit:o}},{onMessage:u=>{s(!1),n(()=>u)}})},[t]),N.useEffect(()=>{const u=a.subscribe({id:`${t}@trade`,event:"subscribe",topic:`${t}@trade`,ts:Hu()},{onMessage:f=>{n(d=>{const g=[{...f,ts:Hu()},...d];return g.length>o&&g.pop(),g})}});return()=>{u==null||u()}},[t]),{data:r,isLoading:i}},q_=(t={dp:6})=>{const{dp:e}=t,{totalCollateral:r,totalValue:n,freeCollateral:i,availableBalance:s,unsettledPnL:o}=Ko(u=>u.portfolio),a=Ko(u=>u.accountInfo);return{totalCollateral:r.toDecimalPlaces(e).toNumber(),freeCollateral:i.toDecimalPlaces(e).toNumber(),totalValue:(n==null?void 0:n.toDecimalPlaces(e).toNumber())??null,availableBalance:s,unsettledPnL:o,accountInfo:a}},MF=(t,e,r=!1)=>{const n=kF(),[i]=fge({status:Qc.NEW,size:500}),s=age(),o=Cl(),{totalCollateral:a}=q_(),{data:u}=f6(),f=N.useMemo(()=>{if(!t)return 0;const d=fs.getQtyFromPositions(n===null?[]:n,t);if(r)return d>0?e===zt.BUY?0:Math.abs(d):d<0&&e===zt.BUY?Math.abs(d):0;if(!u||!u[t]||!i||!s)return 0;const g=o[t],y=i.filter(R=>R.algo_order_id===void 0||R.algo_type==="BRACKET"),b=fs.getQtyFromOrdersBySide(y,t,zt.BUY),A=fs.getQtyFromOrdersBySide(y,t,zt.SELL),x=Array.isArray(n)?n.filter(R=>R.symbol!==t):[],k=y.filter(R=>R.symbol!==t),I=fs.otherIMs({orders:k,positions:x,symbolInfo:o,markPrices:u,IMR_Factors:s.imr_factor,maxLeverage:s.max_leverage});return fs.maxQty(e,{markPrice:u[t],symbol:t,baseMaxQty:g("base_max"),totalCollateral:a,maxLeverage:s.max_leverage,takerFeeRate:s.futures_taker_fee_rate,baseIMR:g("base_imr"),otherIMs:I,positionQty:d,buyOrdersQty:b,sellOrdersQty:A,IMR_Factor:s.imr_factor[t]})},[t,n,r,u,i,s,o,e,a]);return Math.max(f,0)},DSt=()=>{const t=Bf(f=>f.positions.all),{rows:e}=t,{notional:r}=t,{state:n}=hd(),{data:i}=f6(),{totalCollateral:s}=q_(),o=N.useMemo(()=>!e||!i||!s||e.length===0?0:fs.totalMarginRatio({totalCollateral:s,markPrices:i,positions:e??[]}),[e,i,s]),a=N.useMemo(()=>n.status>=Qr.EnableTrading||n.status===Qr.EnableTradingWithoutConnected?fs.currentLeverage(o):null,[o,n.status]),u=N.useMemo(()=>{if(!e||e.length<=0||r==null)return null;let f=ei;for(let d=0;d<e.length;d++){const g=e[d];g.mm!==null&&(f=f.add(g.mm))}return fs.MMR({positionsMMR:f.toNumber(),positionsNotional:r})},[e,r]);return{marginRatio:o,currentLeverage:a,mmr:u}},Dit=[421614,901901901,1516];function CF(t,e={}){const{pick:r,...n}=e,{filteredChains:i,configStore:s,customChains:o}=N.useContext(dd),a=N.useRef(e==null?void 0:e.filter);a.current=e==null?void 0:e.filter;const u=N.useRef(new Map),f={revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1,revalidateOnMount:!0,dedupingInterval:36e5,...n},{data:d,error:g}=Fi("https://api-evm.orderly.org/v1/public/token",{...f}),{data:y}=Fi("https://testnet-api-evm.orderly.org/v1/public/token",{...f}),b=s.get("brokerId"),A=e.forceAPI||!o,{data:x,error:k}=Fi(A?`https://api-evm.orderly.org/v1/public/chain_info${b!=="orderly"?`?broker_id=${b}`:""}`:null,{...f}),{data:I}=Fi(A?`https://testnet-api-evm.orderly.org/v1/public/chain_info${b!=="orderly"?`?broker_id=${b}`:""}`:null,{...f}),R=N.useMemo(()=>{const j=SG(d,a.current,x),V=SG(y,void 0,I);let Z=A?_G(V,I,void 0,!0):o==null?void 0:o.testnet;j==null||j.forEach(q=>{var T;const ae=(T=q.network_infos)==null?void 0:T.chain_id;u.current.set(ae,q)}),Z.forEach(q=>{var ae;u.current.set((ae=q.network_infos)==null?void 0:ae.chain_id,q)});let G=[];return G=_G(j,x,a.current),G=A?G:o==null?void 0:o.mainnet,G.forEach(q=>{var T;const ae=(T=q.network_infos)==null?void 0:T.chain_id;u.current.set(ae,q)}),G=AG(G,i==null?void 0:i.mainnet),Z=AG(Z,(i==null?void 0:i.testnet)??Dit.map(q=>({id:q}))),r&&(Z=Z.map(q=>q[r]),G=G.map(q=>q[r])),t==="mainnet"?G:t==="testnet"?Z:{testnet:Z,mainnet:G}},[t,d,x,I,y,o,r,i]),M=N.useCallback((j,V)=>{var G,q;const Z=u.current.get(j);return Z&&(Z.nativeToken=((G=Z.token_infos)==null?void 0:G.find(ae=>ae.address===wX))||{symbol:(q=Z.network_infos)==null?void 0:q.currency_symbol}),typeof V=="string"?VB(V,Z):Z},[R,u]),P=N.useCallback((j,V)=>{const Z=Array.isArray(R)?R:R[V];return Fit(j,Z)},[R]);return[R,{findByChainId:M,checkChainSupport:P,error:g}]}function Fit(t,e){return typeof t=="string"&&(t=parseInt(t)),e.some(r=>r.network_infos.chain_id===t)}function SG(t,e,r){let n=[];return t==null||t.forEach(i=>{i.chain_details.forEach(s=>{const o=Number(s.chain_id),a=r==null?void 0:r.find(f=>f.chain_id==o),u={network_infos:{name:s.chain_name??(a==null?void 0:a.name)??"--",chain_id:o,withdrawal_fee:s.withdrawal_fee,cross_chain_withdrawal_fee:s.cross_chain_withdrawal_fee,bridgeless:!0},token_infos:[{symbol:i.token,address:s.contract_address,decimals:s.decimals,display_name:s.display_name}]};typeof e=="function"&&!e(u)||n.push(u)})}),n}function _G(t,e,r,n){const i=[];return t.forEach(s=>{let o={...s};const a=e==null?void 0:e.find(u=>u.chain_id==s.network_infos.chain_id);if(a){const{name:u,public_rpc_url:f,currency_symbol:d,explorer_base_url:g}=a;o.network_infos={...o.network_infos,name:u,shortName:u,public_rpc_url:f,currency_symbol:d,bridge_enable:!0,mainnet:!n,explorer_base_url:g}}typeof r=="function"&&!r(o)||a&&i.push(o)}),i}function AG(t,e){return e?t.filter(r=>e.some(n=>{var i;return n.id===parseInt((i=r==null?void 0:r.network_infos)==null?void 0:i.chain_id)})):t}var $it=()=>{const t=_o(),{data:e,isLoading:r,mutate:n}=eu("/v1/client/holding",{formatter:s=>s.holding}),i=N.useMemo(()=>e==null?void 0:e.find(o=>o.token==="USDC"),[e]);return b1("holding",(s,{next:o})=>{const a=t.privateSubscribe({id:"balance",event:"subscribe",topic:"balance",ts:Hu()},{onMessage:u=>{const f=(u==null?void 0:u.balances)??{};f&&(n(d=>d==null?void 0:d.map(g=>{const y=f[g.token];return{...g,frozen:y.frozen,holding:y.holding}})),o(f))}});return()=>a()}),{data:e,usdc:i,isLoading:r}},FSt=t=>{const{account:e,state:r}=hd(),[n,i]=N.useState(!1),{unsettledPnL:s,availableBalance:o,freeCollateral:a}=q_(),u=Qu("networkId"),[f,{findByChainId:d}]=CF(void 0),g=Ml();$it();const y=N.useMemo(()=>a,[a]),b=N.useMemo(()=>s<0?a:a-s,[a,s]),A=N.useMemo(()=>{var R;let I;return u==="testnet"?I=d(_X(t==null?void 0:t.srcChainId)?t==null?void 0:t.srcChainId:oB):(I=d(t==null?void 0:t.srcChainId),(R=I==null?void 0:I.network_infos)!=null&&R.bridgeless||(I=d(vX))),I},[u,d,t==null?void 0:t.srcChainId]),x=N.useMemo(()=>{var R,M;const I=A==null?void 0:A.token_infos.find(P=>P.symbol==="USDC");return{symbol:(I==null?void 0:I.display_name)||"USDC",decimals:(I==null?void 0:I.decimals)||6,address:I==null?void 0:I.address,chainId:(R=A==null?void 0:A.network_infos)==null?void 0:R.chain_id,network:(M=A==null?void 0:A.network_infos)==null?void 0:M.shortName}},[A]),k=N.useCallback(I=>e.assetsManager.withdraw(I).then(R=>{var M;return R.success&&g.emit(fl.WITHDRAW_SUCCESS,{wallet:(M=r==null?void 0:r.connectWallet)==null?void 0:M.name,network:A==null?void 0:A.network_infos.name,quantity:I.amount}),R}).catch(R=>{var M;throw g.emit(fl.WITHDRAW_FAILED,{wallet:(M=r==null?void 0:r.connectWallet)==null?void 0:M.name,network:A==null?void 0:A.network_infos.name,msg:JSON.stringify(R)}),R}),[r,A,r]);return{dst:x,withdraw:k,isLoading:n,maxAmount:y,availableBalance:o,availableWithdraw:b,unsettledPnL:s}},$St=t=>{const e=Qu("networkId"),[r,n]=N.useState(!1),[i,s]=N.useState(!1),o=Ml(),[a,{findByChainId:u}]=CF(void 0),[f,d]=N.useState(""),[g,y]=N.useState(0n),[b,A]=N.useState(!1),[x,k]=N.useState("0"),[I,R]=N.useState("0"),{account:M,state:P}=hd(),j=N.useRef(),V=N.useRef(),Z=N.useMemo(()=>{var U;let D;return e==="testnet"?D=u(_X(t==null?void 0:t.srcChainId)?t==null?void 0:t.srcChainId:oB):(D=u(t==null?void 0:t.srcChainId),(U=D==null?void 0:D.network_infos)!=null&&U.bridgeless||(D=u(vX))),D},[e,u,t==null?void 0:t.srcChainId]),G=N.useMemo(()=>{if(!Z)throw new Error("dst chain not found");const D=Z==null?void 0:Z.token_infos.find(U=>U.symbol==="USDC");return{symbol:"USDC",address:D==null?void 0:D.address,decimals:D==null?void 0:D.decimals,chainId:Z.network_infos.chain_id,network:Z.network_infos.shortName}},[Z]),q=N.useMemo(()=>rv((t==null?void 0:t.address)||""),[t==null?void 0:t.address]),ae=N.useCallback(async(D,U)=>{let O;return D&&rv(D)?O=await M.assetsManager.getNativeBalance({decimals:U}):O=await M.assetsManager.getBalance(D,{decimals:U}),O},[]),T=N.useCallback(async(D,U)=>{if(D)try{const O=await ae(D,U);k(()=>O)}catch{k(()=>"0")}},[P]),c=N.useCallback(async D=>{const U=[];for(const O of D)rv(O.address)||U.push(M.assetsManager.getBalanceByAddress(O.address,{decimals:O==null?void 0:O.decimals}));await Promise.all(U)},[]),h=async D=>{const{address:U,vaultAddress:O,decimals:$}=D,F=`${U}-${O}`;if(j.current===F||!U||!O||U&&rv(U))return;j.current=F;const H=await M.assetsManager.getAllowance({address:U,vaultAddress:O,decimals:$});return R(()=>H),H},p=async D=>{const{address:U,decimals:O}=D;if(j.current===U||!U||rv(U))return;j.current=U;const $=await M.assetsManager.getAllowance({address:U,decimals:O});R(()=>$)},m=Mb((D,U)=>{T(D,U).finally(()=>{n(!1)})},100),v=Mb(D=>{h(D)},100);N.useEffect(()=>{var U;if(P.status<Qr.Connected)return;n(!0),m(t==null?void 0:t.address,t==null?void 0:t.decimals);const D={address:t==null?void 0:t.address,decimals:t==null?void 0:t.decimals};if(((U=M.walletAdapter)==null?void 0:U.chainNamespace)===Hf.solana){R(M.walletAdapter.formatUnits(Fx));return}G.chainId!==(t==null?void 0:t.srcChainId)||G.symbol!==(t==null?void 0:t.srcToken)?v(D):p(D)},[P.status,t==null?void 0:t.address,t==null?void 0:t.srcChainId,t==null?void 0:t.srcToken,t==null?void 0:t.decimals,M.address,G.chainId,G.symbol]);const _=N.useCallback(D=>{var U;return(U=M.walletAdapter)==null?void 0:U.pollTransactionReceiptWithBackoff(D).then(O=>{O.status===1&&M.assetsManager.getAllowance({address:t==null?void 0:t.address}).then($=>{R(()=>$)})})},[M,t==null?void 0:t.address]),E=N.useCallback(async D=>{if(!(t!=null&&t.address))throw new Error("address is required");return M.assetsManager.approve({address:t.address,amount:D}).then(U=>_(U.hash)).catch(U=>{})},[M,h,t==null?void 0:t.address,G]),w=N.useCallback(async()=>{if(!(t!=null&&t.address))throw new Error("address is required");const D=await M.assetsManager.getAllowance({address:t==null?void 0:t.address});if(R(()=>D),new Re(f).greaterThan(D))throw new Error("Insufficient allowance");return M.assetsManager.deposit(f,g).then(U=>{var O;return o.emit(fl.DEPOSIT_SUCCESS,{wallet:(O=P==null?void 0:P.connectWallet)==null?void 0:O.name,network:Z==null?void 0:Z.network_infos.name,quantity:f}),_(U.hash),k($=>new Re($).sub(f).toString()),U}).catch(U=>{var O,$;throw o.emit(fl.DEPOSIT_FAILED,{wallet:(O=P==null?void 0:P.connectWallet)==null?void 0:O.name,network:($=Z==null?void 0:Z.network_infos)==null?void 0:$.name,msg:JSON.stringify(U)}),U})},[M,T,f,g,t==null?void 0:t.address]),l=async()=>{var U;V.current&&clearTimeout(V.current);const D=((U=M.walletAdapter)==null?void 0:U.chainNamespace)===Hf.solana?1e4:3e3;V.current=setTimeout(async()=>{try{const O=await ae(t==null?void 0:t.address,t==null?void 0:t.decimals);k(O),l()}catch{}},D)},S=N.useCallback(async D=>M.assetsManager.getDepositFee(D,Z==null?void 0:Z.network_infos),[M,Z]),C=N.useCallback(()=>{if(isNaN(Number(f))||!f||Number(f)===0){y(0n),A(!1);return}A(!0),S(f).then((D=0n)=>{const U=BigInt(new Re(D.toString()).mul(vEe).toFixed(0,Re.ROUND_UP).toString());y(U)}).catch(D=>{}).finally(()=>{A(!1)})},[f]);return N.useEffect(()=>{C()},[f]),N.useEffect(()=>{if(t!=null&&t.address)return l(),()=>{V.current&&clearTimeout(V.current)}},[t==null?void 0:t.address,t==null?void 0:t.decimals]),{dst:G,balance:x,allowance:I,isNativeToken:q,balanceRevalidating:r,allowanceRevalidating:i,quantity:f,depositFee:g,depositFeeRevalidating:b,approve:E,deposit:w,fetchBalances:c,fetchBalance:ae,setQuantity:d}},USt=t=>{const e=_o();return b1("wallet",(r,{next:n})=>{const i=e.privateSubscribe({id:"wallet",event:"subscribe",topic:"wallet",ts:Date.now()},{onMessage:s=>{var o;(o=t==null?void 0:t.onMessage)==null||o.call(t,s),n(null,s)}});return()=>i()})},zSt=t=>{const e=_o();return b1("settle",(r,{next:n})=>{const i=e.privateSubscribe({id:"settle",event:"subscribe",topic:"settle",ts:Hu()},{onMessage:s=>{var o;(o=t==null?void 0:t.onMessage)==null||o.call(t,s),n(s)}});return()=>i()})},WSt=(t,e,r)=>{const n=Cl(),i=n==null?void 0:n[t]("price_range"),s=n==null?void 0:n[t]("price_scope"),{data:o}=f6(),a=r||(o==null?void 0:o[t]);return N.useMemo(()=>{if(!(n===void 0||a===void 0)&&!(i===void 0||Number.isNaN(a)))return e==="BUY"?{max:new Re(a).mul(1+i).toNumber(),min:new Re(a).mul(1-s).toNumber()}:{max:new Re(a).mul(1+s).toNumber(),min:new Re(a).mul(1-i).toNumber()}},[t,e,i,a])};function Uit(t){const{offset:e,entryPrice:r,orderType:n,orderSide:i}=t;if(e){if(i===zt.BUY)return n===Cn.TAKE_PROFIT?new Re(r).add(new Re(e)).toNumber():new Re(r).minus(new Re(e)).toNumber();if(i===zt.SELL)return n===Cn.TAKE_PROFIT?new Re(r).minus(new Re(e)).toNumber():new Re(r).add(new Re(e)).toNumber()}}function zit(t,e={}){const{price:r,entryPrice:n,orderType:i,orderSide:s}=t,{symbol:o}=e;let a;return s===zt.BUY&&(i===Cn.TAKE_PROFIT&&(a=new Re(r).minus(new Re(n))),a=new Re(r).minus(new Re(n))),s===zt.SELL&&(i===Cn.TAKE_PROFIT&&(a=new Re(r).minus(new Re(n))),a=new Re(n).minus(new Re(r))),o?a.abs().todp(o.quote_dp,Re.ROUND_UP).toNumber():a.abs().toNumber()}function Wit(t){const{percentage:e,entryPrice:r,orderType:n,orderSide:i}=t;if(e){if(i===zt.BUY)return n===Cn.TAKE_PROFIT?new Re(1).add(new Re(e)).mul(new Re(r)).toNumber():new Re(1).minus(new Re(e)).mul(new Re(r)).toNumber();if(i===zt.SELL)return n===Cn.TAKE_PROFIT?new Re(1).minus(new Re(e)).mul(new Re(r)).toNumber():new Re(1).add(new Re(e)).mul(new Re(r)).toNumber()}}function jit(t){const{price:e,entryPrice:r,orderType:n,orderSide:i}=t;if(i===zt.BUY)return r===0?0:n===Cn.TAKE_PROFIT?new Re(e).div(new Re(r)).minus(1).toDecimalPlaces(4,Re.ROUND_DOWN).toNumber():new Re(1).minus(new Re(e).div(new Re(r))).toDecimalPlaces(4,Re.ROUND_DOWN).toNumber();if(i===zt.SELL)return r===0?0:n===Cn.TAKE_PROFIT?new Re(1).minus(new Re(e).div(new Re(r))).abs().toDecimalPlaces(4,Re.ROUND_DOWN).toNumber():new Re(e).div(new Re(r)).minus(1).toDecimalPlaces(4,Re.ROUND_DOWN).toNumber()}function Kit(t){const{qty:e,pnl:r,entryPrice:n,orderType:i,orderSide:s}=t;if(r&&e!==0){if(s===zt.BUY)return i===Cn.TAKE_PROFIT?new Re(n).plus(new Re(r).div(new Re(e))).toNumber():new Re(n).add(new Re(r).div(new Re(e))).toNumber();if(s===zt.SELL)return i===Cn.TAKE_PROFIT?new Re(n).add(new Re(r).div(new Re(e))).toNumber():new Re(n).add(new Re(r).div(new Re(e))).toNumber()}}function dge(t,e={}){const{qty:r,price:n,entryPrice:i,orderType:s,orderSide:o}=t,{symbol:a}=e;let u=ei;return o===zt.BUY&&(s===Cn.TAKE_PROFIT&&(u=new Re(r).mul(new Re(n).minus(new Re(i)))),u=new Re(r).mul(new Re(n).minus(new Re(i)))),o===zt.SELL&&(s===Cn.TAKE_PROFIT&&(u=new Re(r).mul(new Re(n).minus(new Re(i)))),u=new Re(r).mul(new Re(n).minus(new Re(i)))),a?u.todp(2,Re.ROUND_DOWN).toNumber():u.toNumber()}function fw(t){const e=Number(t.qty),r=Number(t.price);return e===0||r===0?"0":new Re(t.pnl).div(new Re(e).abs().mul(new Re(r))).toString()}function hge(t,e,r={}){var y;const{symbol:n}=r;if(t!=="quantity"&&t!=="tp_trigger_price"&&t!=="sl_trigger_price"&&t!=="tp_pnl"&&t!=="sl_pnl"&&t!=="tp_offset"&&t!=="sl_offset"&&t!=="tp_offset_percentage"&&t!=="sl_offset_percentage")return{[t]:e.value};const i=t.startsWith("tp_")?Cn.TAKE_PROFIT:Cn.STOP_LOSS,s=t.slice(0,3);let o=Number(t==="quantity"?e.value:e.qty);if(o===0&&(t==="tp_pnl"||t==="sl_pnl"||t==="tp_trigger_price"||t==="sl_trigger_price"))return{[`${s}trigger_price`]:"",[`${s}pnl`]:"",[t]:e.value};let a,u,f,d;const g=new Re(e.entryPrice).todp(((y=r.symbol)==null?void 0:y.quote_dp)??2,Re.ROUND_UP).toNumber();switch(t){case"tp_trigger_price":case"sl_trigger_price":{if(a=e.value,e.value==="")return{[`${s}trigger_price`]:a,[`${s}offset`]:"",[`${s}offset_percentage`]:"",[`${s}pnl`]:"",[`${s}ROI`]:""};break}case"tp_pnl":case"sl_pnl":{d=e.value,a=Kit({qty:o,pnl:Number(e.value),entryPrice:g,orderSide:e.orderSide,orderType:i});break}case"tp_offset":case"sl_offset":{u=e.value,a=Uit({offset:Number(e.value),entryPrice:g,orderSide:e.orderSide,orderType:t==="tp_offset"?Cn.TAKE_PROFIT:Cn.STOP_LOSS});break}case"tp_offset_percentage":case"sl_offset_percentage":{f=e.value,a=Wit({percentage:Number(`${e.value}`.replace(/\.0{0,2}$/,"")),entryPrice:g,orderSide:e.orderSide,orderType:i});break}}return a?{[`${s}trigger_price`]:SX(a,(n==null?void 0:n.quote_dp)??2),[`${s}offset`]:u??zit({price:Number(a),entryPrice:g,orderSide:e.orderSide,orderType:i},r),[`${s}offset_percentage`]:f??jit({price:Number(a),entryPrice:g,orderSide:e.orderSide,orderType:i}),[`${s}pnl`]:d??dge({qty:o,price:Number(a),entryPrice:g,orderSide:e.orderSide,orderType:i},r)}:{[`${s}trigger_price`]:"",[`${s}offset`]:"",[`${s}offset_percentage`]:"",[`${s}pnl`]:"",[`${s}ROI`]:"",[t]:e.value}}function pge(t){const{price:e,base_tick:r,qty:n,min_notional:i,base_dp:s,quote_dp:o,quote_tick:a}=t;if(e!==void 0&&n!==void 0&&i!==void 0)try{const u=new Re(e).mul(new Re(n)).toNumber(),f=Number.parseFloat(`${i}`);if(u<f){let d=new Re(f).div(e).toDecimalPlaces(s,Re.ROUND_DOWN).add(r??0);return r&&r>0&&(d=new Re(Hit(d.toNumber(),r))),`The order value should be greater or equal to ${d.mul(e).add(a??0).toFixed(o)} USDC`}return}catch{return}}function Hit(t,e){const r=new Re(t),n=new Re(e);return r.dividedToIntegerBy(n).mul(n).toNumber()}var z1=class{baseOrder(t){const e={symbol:t.symbol,order_type:t.order_type===It.LIMIT&&t.order_type_ext?t.order_type_ext:t.order_type,side:t.side,reduce_only:t.reduce_only,order_quantity:t.order_quantity,total:t.total};t.visible_quantity===0&&(e.visible_quantity=t.visible_quantity);const r=this.parseBracketOrder(t);return r?{...e,algo_type:$n.BRACKET,child_orders:[r]}:e}baseValidate(t,e){const r={},{maxQty:n,symbol:i,markPrice:s}=e;let{order_quantity:o,total:a,order_price:u,reduce_only:f,order_type:d}=t;const{min_notional:g,base_tick:y,quote_dp:b,quote_tick:A,base_dp:x}=i||{};if(!o&&a&&u){const{quote_dp:R}=e.symbol;o=new Re(a).dividedBy(u).toFixed(R)}if(!o)r.order_quantity={type:"required",message:"Quantity is required"};else{const{base_min:R,quote_dp:M,base_dp:P}=e.symbol,j=new Re(o);j.lt(R)?r.order_quantity={type:"min",message:`Quantity must be greater than ${new Re(R).todp(P)}`}:j.gt(n)&&(r.order_quantity={type:"max",message:`Quantity must be less than ${new Re(n).todp(P)}`})}const k=`${d}`.includes("MARKET")?s:u,I=pge({base_tick:y,quote_tick:A,price:k,qty:o,min_notional:g,quote_dp:b,base_dp:x});return I!==void 0&&!f&&(r.total={type:"min",message:I}),this.validateBracketOrder(t,e,r),Promise.resolve(r)}totalToQuantity(t,e){if(!t.order_quantity&&t.total&&t.order_price){const{base_dp:r}=e.symbol,i=new Re(t.total).div(t.order_price).toDecimalPlaces(r);t.order_quantity=i.toNumber(),delete t.total}return t}get type(){return this.orderType}parseBracketOrder(t){const e=[],r=t.side===zt.BUY?zt.SELL:zt.BUY;if(t.tp_trigger_price){const n=t.tp_trigger_price;e.push({algo_type:Cn.TAKE_PROFIT,side:r,type:It.CLOSE_POSITION,trigger_price:n,symbol:t.symbol,reduce_only:!0})}if(t.sl_trigger_price){const n=t.sl_trigger_price;e.push({algo_type:Cn.STOP_LOSS,side:r,type:It.CLOSE_POSITION,trigger_price:n,symbol:t.symbol,reduce_only:!0})}return e.length?{symbol:t.symbol,algo_type:$n.POSITIONAL_TP_SL,child_orders:e}:null}validateBracketOrder(t,e,r){const{tp_trigger_price:n,sl_trigger_price:i,side:s,order_price:o}=t,{markPrice:a}=e;if(!n&&!i)return r;const u=!!n,f=!!i,{symbol:d}=e,{price_range:g,price_scope:y,quote_max:b,quote_min:A,quote_dp:x}=d,k=o||a;if(u){const I=new Re(n);I.gt(b)&&(r.tp_trigger_price={type:"max",message:`TP price must be less than ${b}`}),I.lt(A)&&(r.tp_trigger_price={type:"min",message:`TP price must be greater than ${A}`}),s===zt.BUY&&I.lte(k)&&(r.tp_trigger_price={type:"tpPrice < order_price",message:`TP must be greater than ${k}`}),s===zt.SELL&&I.gte(k)&&(r.tp_trigger_price={type:"tpPrice > order_price",message:`TP price must be less than ${k}`})}if(f){const I=new Re(i);I.gt(b)&&(r.sl_trigger_price={type:"max",message:`SL price must be less than ${b}`}),I.lt(A)&&(r.sl_trigger_price={type:"min",message:`SL price must be greater than ${A}`}),s===zt.BUY&&I.gte(k)&&(r.sl_trigger_price={type:"slPrice > order_price",message:`SL price must be less than ${k}`}),s===zt.SELL&&I.lte(k)&&(r.sl_trigger_price={type:"slPrice < order_price",message:`SL price must be greater than ${k}`})}return r}},gge=class extends z1{create(t){const e=this.baseOrder(t);return delete e.order_price,delete e.total,delete e.trigger_price,delete e.isStopOrder,{...e}}validate(t,e){return this.baseValidate(t,e)}},{maxPrice:qit,minPrice:Vit,scopePrice:Git}=Uf,V_=class extends z1{constructor(){super(...arguments),this.orderType=It.LIMIT}create(t,e){const r={...this.baseOrder(t),order_price:t.order_price};return this.totalToQuantity(r,e),a_(["symbol","order_price","order_quantity","visible_quantity","reduce_only","side","order_type","algo_type","child_orders"],r)}validate(t,e){return this.baseValidate(t,e).then(r=>{const{order_price:n,side:i}=t;if(!n)r.order_price={type:"required",message:"Price is required"};else{const s=new Re(n),{symbol:o}=e,{price_range:a,price_scope:u,quote_max:f,quote_min:d}=o,g=qit(e.markPrice,a),y=Vit(e.markPrice,a),b=Git(e.markPrice,u,i),A=i==="BUY"?{min:b,max:g}:{min:y,max:b};s.gt(f)?r.order_price={type:"max",message:`Price must be less than ${f}`}:s.gt(A==null?void 0:A.max)&&(r.order_price={type:"max",message:`Price must be less than ${new Re(A.max).todp(o.quote_dp)}`}),s.lt(d)?r.order_price={type:"min",message:`Price must be greater than ${d}`}:s.lt(A==null?void 0:A.min)&&(r.order_price={type:"min",message:`Price must be greater than ${new Re(A.min).todp(o.quote_dp)}`})}return r})}},{maxPrice:Yit,minPrice:Zit,scopePrice:Xit}=Uf,Jit=class extends z1{constructor(){super(...arguments),this.orderType=It.STOP_LIMIT}create(t,e){this.totalToQuantity(t,e);const r={...this.baseOrder(t),trigger_price:t.trigger_price,algo_type:$n.STOP,type:It.LIMIT,quantity:t.order_quantity,price:t.order_price,trigger_price_type:a0.MARK_PRICE};return a_(["symbol","trigger_price","algo_type","type","quantity","price","trigger_price_type","side","reduce_only","visible_quantity"],r)}validate(t,e){return this.baseValidate(t,e).then(r=>{const{order_price:n,trigger_price:i,side:s}=t,{symbol:o}=e,{price_range:a,price_scope:u,quote_max:f,quote_min:d}=o;if(i||(r.trigger_price={type:"required",message:"Trigger price is required"}),n||(r.order_price={type:"required",message:"Price is required"}),i>f)r.trigger_price={type:"max",message:`Trigger price must be less than ${f}`};else if(i<d)r.trigger_price={type:"min",message:`Trigger price must be greater than ${d}`};else if(i&&n){const g=new Re(n),y=Yit(i,a),b=Zit(i,a),A=Xit(i,u,s),x=s==="BUY"?{min:A,max:y}:{min:b,max:A};g.gt(f)?r.order_price={type:"max",message:`Price must be less than ${f}`}:g.gt(x==null?void 0:x.max)&&(r.order_price={type:"max",message:`Price must be less than ${new Re(x.max).todp(o.quote_dp)}`}),g.lt(d)?r.order_price={type:"min",message:`Price must be greater than ${d}`}:g.lt(x==null?void 0:x.min)&&(r.order_price={type:"min",message:`Price must be greater than ${new Re(x.min).todp(o.quote_dp)}`})}return r})}},Qit=class extends z1{create(t){return{...this.baseOrder(t),order_price:t.order_price,order_quantity:t.order_quantity}}validate(t,e){return super.baseValidate(t,e)}},est=class extends z1{create(t){const e={...this.baseOrder(t),trigger_price:t.trigger_price,algo_type:$n.STOP,type:It.MARKET,quantity:t.order_quantity,trigger_price_type:a0.MARK_PRICE};return a_(["symbol","trigger_price","algo_type","type","quantity","trigger_price_type","side","reduce_only","visible_quantity"],e)}validate(t,e){return this.baseValidate(t,e).then(r=>{const{order_price:n,trigger_price:i,side:s}=t,{symbol:o}=e,{quote_max:a,quote_min:u}=o;return i||(r.trigger_price={type:"required",message:"Trigger price is required"}),i>a?r.trigger_price={type:"max",message:`Trigger price must be less than ${a}`}:i<u&&(r.trigger_price={type:"min",message:`Trigger price must be greater than ${u}`}),r})}},tst=class extends V_{},rst=class extends V_{},nst=class extends V_{},mge=class{validate(t,e){const r=Object.create(null);return Promise.resolve().then(()=>{const{tp_trigger_price:n,sl_trigger_price:i,side:s}=t,o=Number(t.quantity),a=e.maxQty,u=t.order_type,{quote_max:f,quote_min:d,price_scope:g,quote_dp:y,base_min:b,min_notional:A}=e.symbol??{};!isNaN(o)&&o>a&&(r.quantity={message:`Quantity must be less than ${e.maxQty}`}),!isNaN(o)&&o<b&&(r.quantity={message:`Quantity must be greater than ${b}`}),Number(n)<0&&(r.tp_trigger_price={message:"TP Price must be greater than 0"}),Number(i)<0&&(r.sl_trigger_price={message:"SL Price must be greater than 0"});const x=u===It.MARKET||u==null?e.markPrice:t.order_price?Number(t.order_price):void 0;if(s===zt.BUY&&x){const k=new Re(x*(1-g)).toDecimalPlaces(y,Re.ROUND_DOWN).toNumber();i&&Number(i)<k&&(r.sl_trigger_price={message:`SL price must be greater than ${k}`}),i&&Number(i)>e.markPrice&&(r.sl_trigger_price={message:`SL price must be less than ${e.markPrice}`}),n&&Number(n)<=e.markPrice&&(r.tp_trigger_price={message:`TP price must be greater than ${e.markPrice}`}),n&&Number(n)>f&&(r.tp_trigger_price={message:`TP price must be less than ${f}`}),i&&Number(i)<d&&(r.sl_trigger_price={message:`TP price must be greater than ${d}`})}if(s===zt.SELL&&x){const k=new Re(x*(1+g)).toDecimalPlaces(y,Re.ROUND_DOWN).toNumber();i&&Number(i)>k&&(r.sl_trigger_price={message:`SL price must be less than ${k}`}),i&&Number(i)<e.markPrice&&(r.sl_trigger_price={message:`SL price must be greater than ${e.markPrice}`}),n&&Number(n)>=e.markPrice&&(r.tp_trigger_price={message:`TP price must be less than ${e.markPrice}`}),n&&Number(n)>f&&(r.tp_trigger_price={message:`TP price must be less than ${f}`}),i&&Number(i)<d&&(r.sl_trigger_price={message:`TP price must be greater than ${d}`})}return Object.keys(r).length>0?r:null})}},ist=class extends mge{constructor(){super(...arguments),this.type=It.MARKET}create(t,e){const r=t.side===zt.BUY?zt.SELL:zt.BUY,n=[];if(typeof t.tp_trigger_price<"u"){const i=t.tp_trigger_price?new Re(t.tp_trigger_price).todp(e.symbol.quote_dp).toNumber():t.tp_trigger_price;n.push({algo_type:Cn.TAKE_PROFIT,reduce_only:!0,side:r,type:It.MARKET,trigger_price:i,symbol:t.symbol,is_activated:!!t.tp_trigger_price})}if(typeof t.sl_trigger_price<"u"){const i=t.sl_trigger_price?new Re(t.sl_trigger_price).todp(e.symbol.quote_dp).toNumber():t.sl_trigger_price;n.push({algo_type:Cn.STOP_LOSS,reduce_only:!0,side:r,type:It.MARKET,trigger_price:i,symbol:t.symbol,is_activated:!!t.sl_trigger_price})}return{algo_type:$n.TP_SL,trigger_price_type:a0.MARK_PRICE,reduce_only:!0,quantity:t.quantity,symbol:t.symbol,child_orders:n}}crateUpdateOrder(t,e,r){const n=this.create(t,r),i=[],s=t.quantity!==e.quantity;if(n.child_orders.forEach(o=>{var f;let a=Object.create(null);s&&(a.quantity=n.quantity);const u=(f=e.child_orders)==null?void 0:f.find(d=>d.algo_type===o.algo_type);u&&(o.is_activated?u.trigger_price!==o.trigger_price&&(a.trigger_price=o.trigger_price):a.is_activated=!1,Object.keys(a).length>0&&(a.order_id=Number(u.algo_order_id),i.push(a)))}),s&&i.length<2){const o=e.child_orders.filter(a=>a.algo_order_id!==i[0].order_id);o.length&&i.push({quantity:Number(n.quantity),order_id:o[0].algo_order_id})}return[{child_orders:i},n]}},sst=class extends mge{constructor(){super(...arguments),this.type=$n.POSITIONAL_TP_SL}create(t,e){const r=t.side===zt.BUY?zt.SELL:zt.BUY,n=[];if(typeof t.tp_trigger_price<"u"){const i=t.tp_trigger_price?new Re(t.tp_trigger_price).todp(e.symbol.quote_dp).toNumber():t.tp_trigger_price;n.push({algo_type:Cn.TAKE_PROFIT,reduce_only:!0,side:r,type:It.CLOSE_POSITION,trigger_price:i,trigger_price_type:a0.MARK_PRICE,symbol:t.symbol,is_activated:!!t.tp_trigger_price})}if(typeof t.sl_trigger_price<"u"){const i=t.sl_trigger_price?new Re(t.sl_trigger_price).todp(e.symbol.quote_dp).toNumber():t.sl_trigger_price;n.push({algo_type:Cn.STOP_LOSS,reduce_only:!0,side:r,type:It.CLOSE_POSITION,trigger_price:i,trigger_price_type:a0.MARK_PRICE,symbol:t.symbol,is_activated:!!t.sl_trigger_price})}return{algo_type:$n.POSITIONAL_TP_SL,trigger_price_type:a0.MARK_PRICE,symbol:t.symbol,child_orders:n}}crateUpdateOrder(t,e,r){const n=this.create(t,r),i=[];return n.child_orders.forEach(s=>{var a;const o=(a=e.child_orders)==null?void 0:a.find(u=>u.algo_type===s.algo_type);o&&(s.is_activated?o.trigger_price!==s.trigger_price&&i.push({trigger_price:s.trigger_price,order_id:Number(o.algo_order_id)}):i.push({is_activated:!1,order_id:Number(o.algo_order_id)}))}),[{child_orders:i},n]}};async function yge(t,e){const r=Object.create(null);await Promise.resolve();const{tp_trigger_price:n,sl_trigger_price:i,side:s}=t,o=Number(t.quantity),a=e.maxQty,u=t.order_type,{quote_max:f,quote_min:d,price_scope:g,quote_dp:y}=e.symbol??{},b=u===It.MARKET?e.markPrice:t.order_price?Number(t.order_price):void 0;if(!isNaN(o)&&o>a&&(r.quantity={message:`Quantity must be less than ${e.maxQty}`}),Number(n)<0&&(r.tp_trigger_price={message:"TP Price must be greater than 0"}),Number(i)<0&&(r.sl_trigger_price={message:"SL Price must be greater than 0"}),s===zt.BUY&&b){const A=new Re(b*(1-g)).toDecimalPlaces(y,Re.ROUND_DOWN).toNumber();i&&Number(i)<A&&(r.sl_trigger_price={message:`SL price must be greater than ${A}`}),n&&Number(n)<=b&&(r.tp_trigger_price={message:`TP price must be greater than ${b}`}),n&&Number(n)>f&&(r.tp_trigger_price={message:`TP price must be less than ${f}`}),i&&Number(i)<d&&(r.sl_trigger_price={message:`TP price must be greater than ${d}`})}if(s===zt.SELL&&b){const A=new Re(b*(1+g)).toDecimalPlaces(y,Re.ROUND_DOWN).toNumber();i&&Number(i)>A&&(r.sl_trigger_price={message:`SL price must be less than ${A}`}),n&&Number(n)>=b&&(r.tp_trigger_price={message:`TP price must be less than ${b}`}),n&&Number(n)>f&&(r.tp_trigger_price={message:`TP price must be less than ${f}`}),i&&Number(i)<d&&(r.sl_trigger_price={message:`TP price must be greater than ${d}`})}return Object.keys(r).length>0?r:null}var ost=class extends V_{create(t,e){const r=super.create(t,e);return{...r,quantity:r.order_quantity,type:r.order_type,price:r.order_price}}async validate(t,e){const r=await super.validate(t,e),n=await yge(t,e);return{...r,...n}}},ast=class extends gge{constructor(){super(...arguments),this.orderType=It.MARKET}create(t){const e=super.create(t);return{...e,quantity:e.order_quantity,type:e.order_type,price:e.order_price}}async validate(t,e){const r=await super.validate(t,e),n=await yge(t,e);return{...r,...n}}},ust=class extends z1{create(t){const e={...this.baseOrder(t),level:t.level};return a_(["symbol","order_quantity","visible_quantity","reduce_only","side","order_type","level"],e)}async validate(t,e){return this.baseValidate(t,e).then(r=>{delete r.total;let{order_quantity:n,order_price:i,reduce_only:s,level:o}=t;const{symbol:a}=e,{min_notional:u,base_tick:f,quote_dp:d,quote_tick:g,base_dp:y}=a||{},b=pge({base_tick:f,quote_tick:g,price:i,qty:n,min_notional:u,quote_dp:d,base_dp:y});return b!==void 0&&!s&&(r.total={type:"min",message:b}),r})}},IS=class{static create(t){switch(t){case`${$n.BRACKET}:${It.LIMIT}`:return new ost;case`${$n.BRACKET}:${It.MARKET}`:return new ast;case It.LIMIT:return new V_;case It.MARKET:return new gge;case It.ASK:case It.BID:return new ust;case It.IOC:return new nst;case It.FOK:return new rst;case It.POST_ONLY:return new tst;case It.STOP_LIMIT:return new Jit;case It.STOP_MARKET:return new est;case $n.TP_SL:return new ist;case $n.POSITIONAL_TP_SL:return new sst;default:return new Qit}}},cst=(t,e)=>{var q,ae,T,c;const r=typeof(e==null?void 0:e.isEditing)<"u"?e.isEditing:!!(e!=null&&e.defaultOrder),[n,i]=N.useState({algo_order_id:(q=e==null?void 0:e.defaultOrder)==null?void 0:q.algo_order_id,symbol:t.symbol,side:Number(t.position_qty)>0?zt.BUY:zt.SELL,quantity:r?((ae=e==null?void 0:e.defaultOrder)==null?void 0:ae.quantity)===0?Math.abs(t.position_qty):(T=e==null?void 0:e.defaultOrder)==null?void 0:T.quantity:"",algo_type:(c=e==null?void 0:e.defaultOrder)==null?void 0:c.algo_type}),s=Cl()[t.symbol](),{data:o}=l6(n.symbol),[a,{isMutating:u}]=go("/v1/algo/order"),[f,{isMutating:d}]=go("/v1/algo/order","PUT"),[g]=go("/v1/algo/order","DELETE"),[y,b]=N.useState(null);N.useEffect(()=>{if(!r||!(e!=null&&e.defaultOrder))return;const h=d6(e.defaultOrder);h.tp_trigger_price&&x("tp_trigger_price",h.tp_trigger_price,{ignoreValidate:!0}),h.sl_trigger_price&&x("sl_trigger_price",h.sl_trigger_price,{ignoreValidate:!0})},[]);const A=(h,p,m)=>{i(v=>{const _=t.position_qty>0?zt.BUY:zt.SELL,E=hge(h,{value:p,entryPrice:t.average_open_price,qty:_===zt.BUY?Number(v.quantity):-Number(v.quantity),orderSide:_},{symbol:s});return{...v,...E,ignoreValidate:m==null?void 0:m.ignoreValidate}})},x=async(h,p,m)=>{if(h==="quantity"){i(v=>({...v,quantity:p})),typeof n.sl_trigger_price<"u"&&A("sl_trigger_price",n.sl_trigger_price,{ignoreValidate:!0}),typeof n.tp_trigger_price<"u"&&A("tp_trigger_price",n.tp_trigger_price,{ignoreValidate:!0}),A(h,p,m);return}A(h,p,m)},k={symbol:s,maxQty:Math.abs(t.position_qty),markPrice:o};N.useEffect(()=>{requestAnimationFrame(()=>{if(n.ignoreValidate)return;P().validate(n,k).then(p=>{b(p)})})},[n,k.markPrice,n.quantity]);const I=h=>{Object.keys(h).forEach(m=>{x(m,h[m])})},R=()=>{const h=P();return new Promise((p,m)=>h.validate(n,k).then(v=>{if(v)return b(v),m(v);p(h.create(n,k))}))},M=()=>{const h=Number(n.quantity);return isNaN(h)?!1:h===Math.abs(Number(t.position_qty))},P=()=>{var h;return((h=e==null?void 0:e.defaultOrder)==null?void 0:h.algo_type)===$n.TP_SL?IS.create($n.TP_SL):IS.create(M()?$n.POSITIONAL_TP_SL:$n.TP_SL)},j=async()=>{const h=e==null?void 0:e.defaultOrder,p=h==null?void 0:h.algo_order_id,m=h==null?void 0:h.algo_type;return p?m===$n.POSITIONAL_TP_SL?M()?G(p):V():G(p):V()},V=()=>{const p=P().create(n,k);if(p.child_orders.length===0)throw new Ar("No child orders");return p.child_orders=p.child_orders.filter(m=>m.is_activated),a(p)},Z=(h,p)=>g(null,{order_id:h,symbol:p}),G=h=>{const p=P(),[m,v]=p.crateUpdateOrder(n,e==null?void 0:e.defaultOrder,k);return m.child_orders.length===0?Promise.resolve("Not any order needs to update"):v.child_orders.filter(E=>typeof E.is_activated=="boolean"&&!E.is_activated).length===v.child_orders.length?Z(h,n.symbol):f({order_id:h,...m})};return[GB(["ignoreValidate"],n),{submit:j,deleteOrder:Z,setValue:x,setValues:I,validate:R,errors:y,isCreateMutating:u,isUpdateMutating:d}]},jSt=(t,e)=>{if(!t)throw new Ar("Position is required");if(!t.symbol)throw new Ar("Symbol is required");if(typeof t.average_open_price>"u")throw new Ar("Average open price is required");if(typeof t.position_qty>"u")throw new Ar("Position quantity is required");return cst(t,e)},KSt=t=>{const{data:e}=bit(),r=e==null?void 0:e.max_leverage,n=Fi(`/v1/public/info/${t}`,{dedupingInterval:1e3*60*60*24,revalidateOnFocus:!1,errorRetryCount:2,errorRetryInterval:200}),i=N.useMemo(()=>{var a;const o=(a=n==null?void 0:n.data)==null?void 0:a.base_imr;if(o)return 1/o},[n]);return N.useMemo(()=>!r||!i?"-":Math.min(r,i),[r,i])},HSt=t=>{const{page:e=1,pageSize:r=10}=t,n=Ml(),i=()=>{const f=new URLSearchParams;return f.set("page",e.toString()),f.set("size",r.toString()),t.side&&t.side!=="All"&&f.set("side",t.side),t.startTime&&f.set("start_t",t.startTime),t.endTime&&f.set("end_t",t.endTime),`/v1/asset/history?${f.toString()}`},{data:s,isLoading:o,mutate:a}=eu(i(),{formatter:f=>f,revalidateOnFocus:!1,errorRetryInterval:60*1e3}),u=Mb(f=>{a()},300);return N.useEffect(()=>(n.on("wallet:changed",u),()=>{n.off("wallet:changed",u)}),[]),[(s==null?void 0:s.rows)||[],{meta:s==null?void 0:s.meta,isLoading:o}]},qSt=(t,e)=>{const{startDate:r,endDate:n,page:i=1}=t,{ignoreAggregation:s=!1}=e||{};if(!r||!n)throw new Ar("startDate and endDate are required");const o=(d,g)=>d===g?1:(new Date(g).getTime()-new Date(d).getTime())/(1e3*60*60*24),a=N.useMemo(()=>{const d=new URLSearchParams;d.set("page",i.toString()),d.set("size",(o(r,n)+(s?0:1)).toString());const g=new Date(r);return g.setDate(new Date(r).getDate()-1),d.set("start_date",g.toISOString().split("T")[0]),d.set("end_date",t.endDate),`/v1/client/statistics/daily?${d.toString()}`},[i,r,n]),{data:u}=eu(a,{formatter:d=>d.rows.reverse(),revalidateOnFocus:!1}),f=N.useMemo(()=>{if(s)return{vol:null,pnl:null,roi:null};let d=ei,g=ei,y=ei;if(Array.isArray(u)&&u.length){const b=u.shift();u.forEach(A=>{d=d.add(A.perp_volume),g=g.add(A.pnl)}),y=g.div(b.account_value)}return{vol:d.toNumber(),pnl:g.toNumber(),roi:y.toNumber()}},[u]);return[u||[],{aggregateValue:f}]},VSt=(t,e)=>{let{symbol:r,dataRange:n,page:i=1,pageSize:s=10}=t;const o=Cl(),a=()=>{const y=new URLSearchParams;return typeof r<"u"&&r!=="All"&&y.set("symbol",r),y.set("page",`${i}`),y.set("size",`${s}`),n&&(y.set("start_t",n[0].toString()),y.set("end_t",n[1].toString())),`/v1/funding_fee/history?${y.toString()}`},{data:u,isLoading:f,isValidating:d}=eu(a(),{formatter:y=>y,revalidateOnFocus:!1,errorRetryCount:3,...e});return[N.useMemo(()=>!u||!Array.isArray(u==null?void 0:u.rows)||o.isNil?null:u.rows.map(y=>{const b=o[y.symbol];return{...y,annual_rate:y.funding_rate*(24/b("funding_period"))*365}}),[u,o]),{meta:u==null?void 0:u.meta,isLoading:f,isValidating:d}]},GSt=t=>{let{type:e,dataRange:r,page:n,pageSize:i}=t;const s=Cl(),o=()=>{const g=new URLSearchParams;return typeof e<"u"&&e!=="All"&&g.set("type",e),g.set("page",n.toString()),g.set("size",i.toString()),r&&(g.set("start_t",r[0].toString()),g.set("end_t",r[1].toString())),`/v1/client/distribution_history?${g.toString()}`},{data:a,isLoading:u,isValidating:f}=eu(o(),{formatter:g=>g,revalidateOnFocus:!1,errorRetryCount:3});return[N.useMemo(()=>!Array.isArray(a==null?void 0:a.rows)||!(a!=null&&a.rows.length)||s.isNil?[]:a.rows.map(g=>{const y=s[g.symbol];return{...g,annual_rate:g.funding_rate*(24/y("funding_period"))}}),[a,s]),{meta:a==null?void 0:a.meta,isLoading:u,isValidating:f}]};function YSt(){const[t,e]=N.useState(0),[r,n]=N.useState(),[i,s]=N.useState(),[o,a]=N.useState("Orderly network"),{data:u,mutate:f}=Fi("/v1/public/system_info?source=maintenance",{revalidateOnFocus:!1,errorRetryCount:2,errorRetryInterval:200}),d=_o(),g=Qu();return N.useEffect(()=>{if(!u)return;const y=g.get("brokerName");y&&a(y),u.scheduled_maintenance&&(n(u.scheduled_maintenance.start_time),s(u.scheduled_maintenance.end_time)),u.status===2&&e(2)},[u,g]),N.useEffect(()=>{const y=d.subscribe("maintenance_status",{onMessage:b=>{e(b.status),b.scheduled_maintenance&&(n(b.scheduled_maintenance.start_time),s(b.scheduled_maintenance.end_time))}});return()=>{y==null||y()}},[]),{status:t,brokerName:o,startTime:r,endTime:i}}var lst=t=>{const e=_o(),r=Ml(),{state:n,account:i}=hd(),{setAccountInfo:s,restoreHolding:o,cleanAll:a}=Ko(R=>R.actions),u=nit(),f=IF(),d=rit(),{data:g}=eu("/v1/client/info");N.useEffect(()=>{g&&s(g)},[g,s]);const{data:y,isLoading:b}=eu("/v1/positions",{formatter:R=>R,onError:R=>{u.updateApiError("positions",R.message)}});N.useEffect(()=>{const R=M=>{M.accountId||(f.stop(),a(),d.clearAll())};return i.on(Pi.statusChanged,R),()=>{i.off(Pi.statusChanged,R)}},[]),N.useEffect(()=>{b&&u.updateApiLoading("positions",b)},[b,u]),N.useEffect(()=>{y&&Array.isArray(y.rows)&&f.calc("position",y)},[f,y]);const{data:A}=eu("/v1/client/holding",{formatter:R=>R.holding});N.useEffect(()=>{const R=e.privateSubscribe({id:"balance",event:"subscribe",topic:"balance",ts:Date.now()},{onMessage:M=>{const P=(M==null?void 0:M.balances)??{};P&&f.calc("portfolio",{holding:P})}});return()=>R()},[]),N.useEffect(()=>{A&&o(A)},[A]);const[x,k]=nge("orderly_subscribe_order",!0),I=(R,M)=>{t.getKeysMap("orders").forEach((V,Z)=>{fC(sRe((G,q)=>[V(G,q),n.accountId]),G=>{try{return M?Ynt(Z,R,G):Gnt(Z,R,G)}catch{return G}},{revalidate:!1})});const j=M?sge.groupOrders(R):vy(R);r.emit("orders:changed",{...j,status:M?j.algo_status:R.status})};N.useEffect(()=>{if(!n.accountId||x!==!0)return;const R=e.privateSubscribe("executionreport",{onMessage:M=>{I(M,!1)}});return()=>R==null?void 0:R()},[n.accountId,x]),N.useEffect(()=>{if(!n.accountId||x!==!0)return;const R=e.privateSubscribe("algoexecutionreport",{onMessage:M=>{I(M,!0)}});return()=>R==null?void 0:R()},[n.accountId,x]),N.useEffect(()=>{if(!n.accountId)return;const R=["/v1/positions",n.accountId],M=e.privateSubscribe("position",{onMessage:P=>{const{positions:j}=P;fC(R,V=>{if(V){const Z={...V,rows:V.rows.map(G=>{const q=j.findIndex(ae=>ae.symbol===G.symbol);if(q>=0){const T=j.splice(q,1)[0];return vy(T)}return G})};return j.length>0&&(Z.rows=[...Z.rows,...j.map(G=>vy(G))]),Z}},{revalidate:!1})}});return()=>{M==null||M()}},[n.accountId])},fst=t=>{const e=_o();N.useEffect(()=>{const r=e.subscribe("markprices",{onMessage:i=>{const s=Object.create(null);for(let o=0;o<i.length;o++){const a=i[o];s[a.symbol]=a.price}t.calc("markPrice",s,{skipWhenOnPause:!0})},onError:i=>{}}),n=e.subscribe("indexprices",{onMessage:i=>{if(!Array.isArray(i))return;const s=Object.create(null);for(let o=0;o<i.length;o++){const a=i[o];s[a.symbol.replace("SPOT","PERP")]=a.price}t.calc("indexPrice",s,{skipWhenOnPause:!0})}});return()=>{r==null||r(),n==null||n()}},[])},dst=rg((t,e)=>({market:[],marketMap:null,actions:{updateMarket:r=>{const n={};r.forEach(i=>{n[i.symbol]=i}),t({market:r,marketMap:n})},updateTicker:r=>{t(co(n=>{n.market=r}))}}})),d8={focusThrottleInterval:1e3*60*60*24,revalidateOnFocus:!1,dedupingInterval:1e3*60*60*24},hst=()=>{const{setSymbolsInfo:t,setFundingRates:e}=Ko(n=>n.actions),{updateMarket:r}=dst(n=>n.actions);Fi("/v1/public/info",{...d8,onSuccess(n){if(!n||!(n!=null&&n.length))return{};const i={};for(let s=0;s<n.length;s++){const o=n[s],a=o.symbol.split("_"),u=Dw(o.base_tick),f=Dw(o.quote_tick);i[o.symbol]={...o,base_dp:u,quote_dp:f,base:a[1],quote:a[2],type:a[0],name:`${a[1]}-${a[0]}`}}t(i)}}),Fi("/v1/public/funding_rates",{...d8,onSuccess(n){if(!n||!(n!=null&&n.length))return{};const i=Object.create(null);for(let s=0;s<n.length;s++){const o=n[s];i[o.symbol]={...o,est_funding_rate:pst(o)}}e(i)}}),Fi("/v1/public/futures",{...d8,onSuccess(n){if(!n||!(n!=null&&n.length))return[];r(n)}})};function pst(t){if(!t)return;const{next_funding_time:e,est_funding_rate:r}=t;return Date.now()>e?null:r}var bge=N.createContext({}),gst=()=>N.useContext(bge),mst=({children:t})=>{const{error:e,done:r}=Unt(),n=IF();hst(),fst(n);const i=N.useRef(new Map);return lst({getKeysMap(s){return i.current}}),e?L.jsx("div",{children:"Data load failed"}):r?L.jsx(bge.Provider,{value:{registerKeyHandler:(s,o)=>{i.current.set(s,o)},unregisterKeyHandler:s=>{i.current.delete(s)}},children:t}):null},yst=class{constructor(t){this._originConfigStore=t,PEe(()=>{this._proxyConfigStore=window.__ORDERLY_CONFIG_STORE__||t})}get(t){var r;const e=(r=this._proxyConfigStore)==null?void 0:r.get(t);return typeof e>"u"?this._originConfigStore.get(t):e}getOr(t,e){return(this._proxyConfigStore??this._originConfigStore).getOr(t,e)}set(t,e){(this._proxyConfigStore??this._originConfigStore).set(t,e)}clear(){throw new Error("Method not implemented.")}getFromOrigin(t){return this._originConfigStore.get(t)}getOrFromOrigin(t,e){return this._originConfigStore.getOr(t,e)}setToOrigin(t,e){this._originConfigStore.set(t,e)}clearOrigin(){this._originConfigStore.clear()}},bst=class extends nRe{constructor(t){super(t)}get(t){if(t===Sp){const e=localStorage.getItem(Sp);if(!e){const r=localStorage.getItem(Sp.replace("orderly_",""));return r?JSON.parse(r):""}return JSON.parse(e)}return super.get(t)}set(t,e){if(t===Sp){const r=JSON.stringify(e);localStorage.setItem(Sp,r);return}super.set(t,e)}},ZSt=t=>{const[e,r]=gt.useState(null),{configStore:n,keyStore:i,walletAdapters:s,brokerId:o,brokerName:a,networkId:u,contracts:f,chainFilter:d,customChains:g}=t;if(typeof n<"u"&&!n.get("brokerId"))throw new Ar("if configStore is provided, brokerId is required in configStore");if(typeof o<"u"&&typeof n<"u"&&o!==n.get("brokerId"))throw new Ar("If you have provided a custom `configStore` and the `brokerId` is set in the `configStore`, please remove the `brokerId` prop.");const y=N.useMemo(()=>new yst(n||new bst({brokerId:o,brokerName:a,networkId:u})),[n,o,a,u]),b=N.useMemo(()=>i||new P4e(u),[u,i]),A=N.useMemo(()=>s||[new B8e(new kQe),new bQe],[s]);N.useLayoutEffect(()=>{let k=ba.get(ly.instanceName);k||(k=new ly(y,b,A,{contracts:f}),ba.registerByName(ly.instanceName,k)),r(k)},[]);const x=N.useMemo(()=>typeof d=="function"?d(y):d,[t.chainFilter,y]);return e?L.jsx(Dnt,{value:{configStore:y,keyStore:b,networkId:y.get("networkId")||u,filteredChains:x,walletAdapters:A,customChains:g},children:L.jsx(qnt,{children:L.jsx(mst,{children:t.children})})}):null},vst={dev:"4d6b7db0fdd6e9de2b6a270414fd51e0",qa:"96476b00bc2701360f9b480629ae5263",staging:"dffc00e003479b86d410c448e00f2304",prod:"3ab9ae56ed16cc57bc2ac97ffc1098c2"},wst=N.createContext({}),XSt=({children:t})=>{var g;const e=Object.keys(vA),r=Ml(),n=Fst(),i=N.useRef(!1),{account:s,state:o}=hd(),a=Qu("networkId"),u=Qu("brokerId"),f=znt(a),d=N.useCallback((y,b)=>{var A,x,k,I,R,M;if(s!=null&&s.accountId&&Cnt(s==null?void 0:s.accountId),y===fl.WALLET_CONNECT){if(i.current)return;const P=f((A=b==null?void 0:b.connectWallet)==null?void 0:A.chainId).info,{address:j="",connectWallet:V}=b,Z={address:j,broker_id:u,sdk_version:((x=window==null?void 0:window.__ORDERLY_VERSION__)==null?void 0:x["@orderly.network/net"])??""},G=new kS;Object.keys(Z).map(ae=>{G.set(ae,Z[ae])}),Rnt(G);const q={wallet:V==null?void 0:V.name,network:(k=P==null?void 0:P.network_infos)==null?void 0:k.name};f2(vA[y],q),i.current=!0;return}if(y===fl.SIGNIN_SUCCESS){const P=f((I=b==null?void 0:b.connectWallet)==null?void 0:I.chainId).info;f2(vA[y],{wallet:(R=b==null?void 0:b.connectWallet)==null?void 0:R.name,network:(M=P==null?void 0:P.network_infos)==null?void 0:M.name});return}f2(vA[y],b)},[s==null?void 0:s.accountId,u,(g=o==null?void 0:o.connectWallet)==null?void 0:g.name]);return N.useEffect(()=>(Mnt(vst[n],{serverZone:"EU"}),e.forEach(y=>{r.on(y,(b={})=>{setTimeout(()=>{d(y,b)},2e3)})}),()=>{e.forEach(y=>{r.off(y)})}),[n]),L.jsx(wst.Provider,{value:{track:(y,b)=>{f2(y,b)}},children:t})},Sst=N.createContext({}),JSt=()=>N.useContext(Sst),xG=["order_quantity","order_price","trigger_price","total"],Z5=t=>(typeof t!="string"&&(t=`${t}`),t=t.replace(/,/g,""),t=t.replace(/[^\d.]/g,"").replace(".","$#$").replace(/\./g,"").replace("$#$","."),t);function vge(t){let[e,r,n,i,s]=t;return xG.forEach(o=>{typeof e[o]<"u"&&(e[o]=Z5(e[o]))}),xG.includes(r)&&(n=Z5(n)),[{...e,[r]:n},r,n,i,s]}function _st(t){const[e,r,n,i,s]=t;return(n===It.LIMIT||n===It.STOP_LIMIT)&&e.order_price===""&&(e.total=""),(n===It.MARKET||n===It.LIMIT)&&(e.trigger_price=void 0),n===It.MARKET||It.STOP_MARKET,[e,r,n,i,s]}function Ast(t,e){return function(r){const[n,i,s,o,a]=r;return[n,i,s,o,a]}}function xst(t){const[e,r,n,i,s]=t;if(n==="")return[{...e,total:""},r,n,i,s];const o=new Re(n),a=o.dp();if(a>s.quote_dp&&(e.order_price=o.toDecimalPlaces(s.quote_dp).toString()),o.toDecimalPlaces(Math.min(a,s.quote_dp)),!e.order_quantity&&!e.total)return[e,r,n,i,s];const u={...e};return e.order_quantity?u.total=o.mul(e.order_quantity).todp(2).toString():e.total&&(u.order_quantity=new Re(e.total).div(o).todp(s.base_dp).toString()),[u,r,n,i,s]}function Est(t){const[e,r,n,i,s]=t;if(n==="")return[{...e,total:""},r,n,i,s];let o=new Re(n);if(o.dp()>s.base_dp&&(o=o.toDecimalPlaces(s.base_dp),e.order_quantity=o.toString()),e.order_type===It.MARKET||e.order_type===It.STOP_MARKET){if(!i)return[e,r,n,i,s];const u=i;e.order_price="",e.total=o.mul(u).todp(2).toString()}if(e.order_type===It.LIMIT||e.order_type===It.STOP_LIMIT)if(e.order_price){const u=Number(e.order_price),f=o.mul(u);e.total=f.todp(s.quote_dp).toString()}else e.total="";return[{...e},r,n,i,s]}function kst(t){const[e,r,n,i,s]=t;if(n==="")return[{...e,order_quantity:""},r,n,i,s];let o=i;(e.order_type===It.LIMIT||e.order_type===It.STOP_LIMIT)&&e.order_price&&(o=Number(e.order_price));let a=new Re(n);a.dp()>s.quote_dp&&(a=a.toDecimalPlaces(s.quote_dp),e.total=a.toString());const f=a.div(o);return[{...e,order_quantity:f.toDecimalPlaces(Math.min(s.base_dp,f.dp())).toString()},r,n,i,s]}function Tst(t){const[e,r,n,i,s]=t,o=e.order_type===It.MARKET||e.order_type===It.STOP_MARKET?i:e.order_price;if(!o||!e.order_quantity)return[e,r,n,i,s];const a=hge(r,{value:n,entryPrice:o,qty:e.side===zt.BUY?Number(e.order_quantity):Number(e.order_quantity)*-1,orderSide:e.side},{symbol:s});return[{...e,...a},r,n,i,s]}function Ist(t){return t}var wge=t=>{switch(t){case"order_type":return _st;case"order_quantity":return Est;case"order_price":return xst;case"total":return kst;case"tp_pnl":case"sl_pnl":case"tp_trigger_price":case"sl_trigger_price":case"tp_offset":case"sl_offset":case"tp_offset_percentage":case"sl_offset_percentage":return Tst;default:return Ist}};function Rst(t,e){if(typeof t>"u")return t;if(typeof e>"u")return`${t}`;const r=`${t}`.replace(/,/g,"");try{const n=new Re(e),i=new Re(r);if(n.lessThan(1)){if(`${r}`.endsWith("."))return`${r}`;const s=e.toString(),o=s.indexOf("."),a=o===-1?0:s.length-o-1;return i.toDecimalPlaces(a,Re.ROUND_DOWN).toString()}return i.lessThan(n)?r:i.dividedBy(n).toDecimalPlaces(0,Re.ROUND_DOWN).mul(e).toString()}catch{return}}function QSt(t,e,r,n){let i=!1;if(typeof t=="object"){if(i=!0,!t.symbol)throw new Ar("symbol is required");if(!t.side)throw new Ar("Order side is required");if(!t.order_type)throw new Ar("order_type is required")}const s=N.useRef(null),o=N.useRef(null),a=N.useRef({}),[u,f]=N.useState(null),d=Ml(),g=kF(),y=N.useRef({}),b=N.useRef(!1),A=N.useRef([]),x=Mb(te=>{A.current=te},200),{freeCollateral:k,totalCollateral:I,accountInfo:R}=q_(),M=Cl(),P=N.useMemo(()=>typeof t=="string"?t:t.symbol,[t]),j=N.useMemo(()=>typeof e=="object"?e:n,[e]),V=N.useMemo(()=>typeof r=="boolean"?r:typeof t=="object"?!!t.reduce_only:!1,[t,r]),Z=N.useMemo(()=>typeof t=="object"?t.side:e,[t,e]),G=N.useMemo(()=>Dw(M[P]("base_tick",0)),[M]),q=N.useMemo(()=>Dw(M[P]("quote_tick",0)),[M]),ae=N.useMemo(()=>M[P]("base_imr",0),[M]),T=N.useMemo(()=>M[P]("base_mmr",0),[M]),{data:c}=l6(P),h=(te,X)=>{if(!te)return null;let K,oe,_e;const Se=Object.keys(X);for(let W=0;W<Se.length;W++){const re=Se[W];let ne=te[re],se=X[re];if(!(typeof ne>"u"&&typeof se>"u")&&ne!==se){K=re,oe=se,_e=ne;break}}return K?{key:K,value:oe,preValue:_e}:null},p=MF(P,Z,V),m=(te,X,K)=>{if(typeof te[X]=="string"&&(te[X]&&te[X].startsWith(".")&&(te[X]=`0${te[X]}`),te[X]=te[X].replace(/,/g,""),K&&te[X].length>0)){const oe=`${te[X]}`.includes("."),_e=`${te[X]}`.endsWith("."),Se=`${te[X]}`.split(".");oe&&!_e&&(te[X]=`${Se[0]}.${Se[1].slice(0,q)}`)}},v=N.useMemo(()=>typeof t=="string"?null:a_(["order_price","side","order_quantity","visible_quantity","order_type","order_type_ext","symbol","total","reduce_only","trigger_price"])(t),[t]),_=N.useMemo(()=>typeof t=="string"?null:(typeof t.order_quantity=="string"?m(t,"order_quantity"):typeof t.order_quantity=="number"&&(t.order_quantity=new Re(t.order_quantity).toDecimalPlaces(G).toString()),typeof t.order_price=="string"&&m(t,"order_price",q),typeof t.total=="string"&&m(t,"total",q),typeof t.trigger_price=="string"&&m(t,"trigger_price",q),t),[v==null?void 0:v.order_price,v==null?void 0:v.order_quantity,v==null?void 0:v.total,v==null?void 0:v.trigger_price,v==null?void 0:v.order_type,v==null?void 0:v.order_type_ext,v==null?void 0:v.symbol,v==null?void 0:v.reduce_only,v==null?void 0:v.side,v==null?void 0:v.visible_quantity,q,G]),E=(_==null?void 0:_.order_type)===It.STOP_LIMIT||(_==null?void 0:_.order_type)===It.STOP_MARKET||(_==null?void 0:_.order_type)===It.CLOSE_POSITION,[w,{isMutating:l}]=go(E?"/v1/algo/order":"/v1/order"),S=te=>{if(!te.symbol)throw new Ar("symbol is error");if(!te.side)throw new Ar("side is error");if(!te||typeof te.order_type>"u")throw new Ar("order_type is error");const X=IS.create(te.order_type_ext?te.order_type_ext:te.order_type);return X?new Promise((K,oe)=>X.validate(te,{symbol:M[P](),maxQty:p,markPrice:c}).then(_e=>{var Se,W;if(b.current=!0,_e.order_price||_e.order_quantity||_e.trigger_price||_e.total)f(_e),oe(((Se=_e.order_price)==null?void 0:Se.message)||((W=_e.order_quantity)==null?void 0:W.message));else{const re=X.create(te,{symbol:M[P](),maxQty:p,markPrice:c});return w(GB(["order_type_ext"],{...re})).then(ne=>{ne&&ne.success?K(ne.data):oe(ne)},oe)}})):Promise.reject(new Ar("orderCreator is null"))},C=te=>typeof r=="boolean"&&r&&!te.reduce_only?Promise.reject(new Ar("The reduceOny parameter of hook does not match your order data")):S({...te,symbol:P}),D=N.useCallback(()=>{if(!_)throw new Ar("Function is not supported, please use onSubmit()");return S(_)},[_]),U=N.useCallback((te,X,K)=>{const oe=wge(X);return JQ(QQ,Ast(),oe,vge)([te,X,K,c,{base_dp:G,quote_dp:q}])},[c]),O=te=>{const X=IS.create(te.order_type);return X==null?void 0:X.validate(te,{symbol:M[P](),maxQty:p,markPrice:c})},$=N.useMemo(()=>{var K;if(!_)return a.current;if(!s.current)return s.current=_,o.current={..._,total:""},o.current;const te=h(s.current,_);if(!te)return o.current;typeof _.order_price<"u"&&(y.current.order_price=!0),typeof _.order_quantity<"u"&&(y.current.order_quantity=!0);const X=U(_,te.key,te.value);return X.isStopOrder=((K=X.order_type)==null?void 0:K.startsWith("STOP"))||!1,X.total=X.total||"",s.current=_,o.current=X,X},[_,c]);N.useEffect(()=>{var te;!c||M.isNil||(te=O($))==null||te.then(X=>{f(X)}).catch(X=>{})},[$.broker_id,$.order_quantity,$.total,$.trigger_price,$.order_type,c]),N.useEffect(()=>{if(i){if(!(j!=null&&j.watchOrderbook))throw new Ar("In order to calculate the estimated liquidation price, the `options.watchOrderbook` parameter must be set to true.")}else if(!(j!=null&&j.watchOrderbook))return;return d.on("orderbook:update",x),()=>{d.off("orderbook:update",x)}},[j==null?void 0:j.watchOrderbook]),N.useEffect(()=>{A.current=[]},[_==null?void 0:_.symbol]);const F=te=>{let X=Number(te.order_quantity);const K=Number(te.order_price);if(isNaN(X)||X<=0||(te.order_type===It.LIMIT||te.order_type===It.STOP_LIMIT)&&isNaN(K))return null;let oe;return te.order_type===It.MARKET||te.order_type===It.STOP_MARKET?te.side===zt.BUY?oe=A.current[0]:oe=A.current[1]:te.side===zt.BUY?K>=A.current[0]?oe=A.current[0]:oe=K:K<=A.current[1]?oe=A.current[1]:oe=K,te.side===zt.SELL&&(X=-X),{price:oe,quantity:X}},H=N.useMemo(()=>{if(!R||!_||!c)return null;const te=F($);if(te===null)return null;const{price:X,quantity:K}=te;if(!X||!K)return null;const oe=Uf.orderFee({qty:K,price:X,futuresTakeFeeRate:Number(R.futures_taker_fee_rate)/1e4}),_e=Uf.estLiqPrice({markPrice:c,baseIMR:ae,baseMMR:T,totalCollateral:I,positions:g??[],IMR_Factor:R.imr_factor[P],orderFee:oe,newOrder:{qty:K,price:X,symbol:_.symbol}});return _e<=0?null:_e},[c,ae,T,I,$==null?void 0:$.order_price,$==null?void 0:$.order_quantity,$==null?void 0:$.total,$==null?void 0:$.trigger_price,R]),Q=N.useMemo(()=>{if(!R||!_)return null;const te=F($);return te===null||!te.price||!te.quantity?null:Uf.estLeverage({totalCollateral:I,positions:g===null?[]:g,newOrder:{symbol:_.symbol,qty:te.quantity,price:te.price}})},[ae,T,I,g,$==null?void 0:$.order_price,$==null?void 0:$.order_quantity,$==null?void 0:$.total,$==null?void 0:$.trigger_price]);return{maxQty:p,freeCollateral:k,markPrice:c,onSubmit:C,submit:D,submitting:l,formattedOrder:$,estLiqPrice:H,estLeverage:Q,helper:{calculate:U,validator:O},metaState:{dirty:y.current,submitted:b.current,errors:u},symbolConfig:M[P]()}}function e_t(t){const e=s=>typeof window<"u"?window.matchMedia(s).matches:!1,[r,n]=N.useState(e(t));function i(){n(e(t))}return N.useEffect(()=>{var o;const s=window==null?void 0:window.matchMedia(t);return i(),s!=null&&s.addListener?s==null||s.addListener(i):(o=s==null?void 0:s.addEventListener)==null||o.call(s,"change",i),()=>{var a;s!=null&&s.removeListener?s==null||s.removeListener(i):(a=s==null?void 0:s.removeEventListener)==null||a.call(s,"change",i)}},[t]),r}var Sge=class{constructor(t,e){this.ctx=t,this.painter=e}},Mst=class extends Sge{constructor(){super(...arguments),this.img=null}async draw(t){if(typeof t.backgroundImg<"u"&&t.backgroundImg!=="")return this._drawImage(t);if(typeof t.backgroundColor<"u")return this._drawColor(t)}_drawColor(t){this.ctx.fillStyle=t.backgroundColor||"black",this.ctx.fillRect(0,0,this.painter.width*this.painter.ratio,this.painter.height*this.painter.ratio)}async _drawImage(t){return this.loadImg(t.backgroundImg).then(e=>{this.img=e,this.ctx.drawImage(this.img,0,0,this.painter.width*this.painter.ratio,this.painter.height*this.painter.ratio)})}loadImg(t){return new Promise((e,r)=>{const n=new Image;n.crossOrigin="anonymous",n.onload=()=>{e(n)},n.onerror=i=>{r(i)},n.src=t})}},Cst=(t,e)=>{const{size:r,left:n,top:i,data:s,padding:o}=e,a=Bnt(s),u=document.createElement("canvas");u.width=r,u.height=r;const f=u.getContext("2d"),d=a.modules;if(!d)return;const g=r/d.length,y=r/d.length;for(let b=0;b<d.length;++b){const A=d[b];for(let x=0;x<A.length;++x){f.fillStyle=A[x]?"#000":"#fff";const k=Math.ceil((x+1)*g)-Math.floor(x*g),I=Math.ceil((b+1)*y)-Math.floor(b*y);f.fillRect(Math.round(x*g),Math.round(b*y),k,I)}}t.save(),t.fillStyle="#fff",t.fillRect(n-o,i-o,r+o*2,r+o*2),t.restore(),t.drawImage(u,n,i,r,r)},Pst=class extends Sge{constructor(){super(...arguments),this.positionInfoCellWidth=110,this.DEFAULT_PROFIT_COLOR="rgb(0,181,159)",this.DEFAULT_LOSS_COLOR="rgb(255,103,194)",this.transformTop=0,this.QRCODE_SIZE=56}async draw(t){var i,s,o,a,u,f,d,g,y,b;const e=Array.isArray((s=(i=t.data)==null?void 0:i.position)==null?void 0:s.informations)&&(((u=(a=(o=t.data)==null?void 0:o.position)==null?void 0:a.informations)==null?void 0:u.length)??0)>0,r=this.hasReferral(t);this.transformTop=0;const n=0;(f=t.data)!=null&&f.message&&this.drawMessage(t),(d=t.data)!=null&&d.position&&this.drawPosition(t,e||r?0:n),e&&this.drawInformations(t),this.drawUnrealizedPnL(t,e||r?0:n),r||((g=t.data)!=null&&g.domain&&this.drawDomainUrl(t),typeof((y=t.data)==null?void 0:y.updateTime)<"u"&&this.drawPositionTime(t)),typeof((b=t.data)==null?void 0:b.referral)<"u"&&this.drawReferralCode(t)}drawMessage(t){var n;const e=ql(["layout","message"],t),{position:r}=e;this._drawText(`"${(n=t.data)==null?void 0:n.message}"`,{color:e.color,fontSize:this._ratio(e.fontSize),top:this._ratio(r.top),left:this._ratio(r.left),textBaseline:"top",fontFamily:t.fontFamily})}drawPosition(t,e=0){var u,f,d,g,y,b;const r=ql(["layout","position"],t),{position:n,fontSize:i=14}=r;let s=this._ratio(n.left),o=r.position.top+e+this.transformTop,a={};typeof((u=t.data)==null?void 0:u.position.side)<"u"&&(a=this._drawText(t.data.position.side,{color:((f=t.data)==null?void 0:f.position.side.toUpperCase())==="LONG"?this.DEFAULT_PROFIT_COLOR:this.DEFAULT_LOSS_COLOR,left:s,top:this._ratio(o),fontSize:this._ratio(i),fontFamily:t.fontFamily})),typeof((d=t.data)==null?void 0:d.position.symbol)<"u"&&(s+=(a.width??0)+this._ratio(7),a.width&&(a=this._drawText("|",{color:"rgba(255,255,255,0.2)",left:s,top:this._ratio(o),fontSize:this._ratio(i),fontFamily:t.fontFamily})),s+=(a.width??0)+this._ratio(7),a=this._drawText((g=t.data)==null?void 0:g.position.symbol,{color:r.color,left:s,top:this._ratio(o),fontSize:this._ratio(i),fontFamily:t.fontFamily})),typeof((y=t.data)==null?void 0:y.position.leverage)<"u"&&(s+=(a.width??0)+this._ratio(7),a.width&&(a=this._drawText("|",{color:"rgba(255,255,255,0.2)",left:s,top:this._ratio(o),fontSize:this._ratio(i),fontFamily:t.fontFamily})),s+=(a.width??0)+this._ratio(7),a=this._drawText(`${(b=t.data)==null?void 0:b.position.leverage}X`,{color:r.color,left:s,top:this._ratio(o),fontSize:this._ratio(i),fontFamily:t.fontFamily}))}drawUnrealizedPnL(t,e=0){var a,u,f,d,g,y,b;const r=ql(["layout","unrealizedPnl"],t),{position:n}=r;let i=this._ratio(n.left),s={};const o=(n.top??0)+e+this.transformTop;if(typeof((a=t.data)==null?void 0:a.position.ROI)<"u"){const A=((u=t.data)==null?void 0:u.position.ROI)>0?"+":"";s=this._drawText(`${A}${gb((f=t.data)==null?void 0:f.position.ROI)}%`,{color:A==="+"?t.profitColor||this.DEFAULT_PROFIT_COLOR:t.lossColor||this.DEFAULT_LOSS_COLOR,left:i,top:this._ratio(o),fontSize:this._ratio(r.fontSize),fontWeight:700,fontFamily:t.fontFamily})}if(typeof((d=t.data)==null?void 0:d.position.pnl)<"u"){const A=((g=t.data)==null?void 0:g.position.pnl)>=0?"+":"";let x=`${A}${gb((y=t.data)==null?void 0:y.position.pnl)} ${(b=t.data)==null?void 0:b.position.currency}`,k=600;s.width?(i+=(s.width??0)+this._ratio(8),x=`(${x})`):(i=this._ratio(n.left),k=700);const I=typeof t.data.position.ROI>"u"?A==="+"?t.profitColor||this.DEFAULT_PROFIT_COLOR:t.lossColor||this.DEFAULT_LOSS_COLOR:r.secondaryColor,R=typeof t.data.position.ROI>"u"?this._ratio(r.fontSize):this._ratio(r.secondaryFontSize);s=this._drawText(x,{color:I,left:i,top:this._ratio(o),fontSize:R,fontWeight:k,fontFamily:t.fontFamily})}}drawInformations(t){var n,i;const e=ql(["layout","informations"],t),{position:r}=e;(n=t.data)==null||n.position.informations.length,(i=t.data)==null||i.position.informations.forEach((s,o)=>{let a=r.left+o%2*this.positionInfoCellWidth,u=r.top+Math.floor(o/2)*38+this.transformTop;this._drawText(s.title,{left:this._ratio(a),top:this._ratio(u),fontSize:this._ratio(10),color:e.labelColor,fontFamily:t.fontFamily}),this._drawText(s.value,{left:this._ratio(a),top:this._ratio(u+17),fontSize:this._ratio(e.fontSize),fontWeight:500,color:e.color,fontFamily:t.fontFamily})})}drawDomainUrl(t,e=!1){var o;const r=ql(["layout","domain"],t),n=this.hasReferral(t),{position:i}=r,s=this.painter.height-i.bottom;return this._drawText((o=t.data)==null?void 0:o.domain,{left:n?this._ratio(this.painter.width-20):this._ratio(i.left),top:n?this._ratio(this.painter.height-16):this._ratio(s),fontSize:this._ratio(r.fontSize),color:t.brandColor??this.DEFAULT_PROFIT_COLOR,fontFamily:t.fontFamily,textBaseline:r.textBaseline,textAlign:n?"end":r.textAlign,fontWeight:600},e)}drawPositionTime(t){var o,a;const e=ql(["layout","updateTime"],t),{position:r}=e,n=this.hasReferral(t);let i=this.painter.height-r.bottom,s=this._ratio(r.left);if(n){const u=this.drawDomainUrl(t,!0);s=this._ratio(this.painter.width)-u.width-this._ratio(8+r.left),i=this.painter.height-r.bottom}this._drawText(n?`Share on ${(a=t.data)==null?void 0:a.updateTime}   |`:(o=t.data)==null?void 0:o.updateTime,{left:s,top:this._ratio(i),fontSize:this._ratio(e.fontSize),color:e.color,textAlign:n?"end":e.textAlign,fontFamily:t.fontFamily,textBaseline:e.textBaseline})}drawReferralCode(t){var a;if(!((a=t.data)!=null&&a.referral))return;const e=ql(["layout","updateTime"],t),{position:r}=e,n=this.painter.height-(r.bottom??0),i=ql(["layout","message"],t),s=new URL(t.data.referral.link),o=s.searchParams;o.append("ref",t.data.referral.code),s.search=o.toString(),Cst(this.ctx,{size:this._ratio(this.QRCODE_SIZE),padding:this._ratio(2),left:this._ratio(r.left),top:this._ratio(n-this.QRCODE_SIZE),data:`${s.toString()}`}),this._drawText(t.data.referral.slogan,{left:this._ratio(r.left+66),top:this._ratio(n-this.QRCODE_SIZE),fontSize:this._ratio(14),color:t.brandColor??this.DEFAULT_PROFIT_COLOR,fontFamily:t.fontFamily,textBaseline:"top"}),this._drawText("Referral Code",{left:this._ratio(r.left+66),top:this._ratio(n-29),fontSize:this._ratio(12),color:e.color,fontFamily:t.fontFamily,textBaseline:"middle"}),this._drawText(t.data.referral.code,{left:this._ratio(r.left+66),top:this._ratio(n),fontSize:this._ratio(16),color:i.color,fontFamily:t.fontFamily,textBaseline:"bottom"})}_drawText(t,e,r=!1){let n;const{left:i=30,top:s=30,fontSize:o=13,fontWeight:a=500,color:u="black",textBaseline:f="middle",textAlign:d="start"}=e??{};return this.ctx.save(),this.ctx.font=`${a} ${o}px ${e==null?void 0:e.fontFamily}`,this.ctx.fillStyle=u,this.ctx.textBaseline=f,this.ctx.textAlign=d,n=this.ctx.measureText(t),r||this.ctx.fillText(t,i,s),this.ctx.restore(),n}hasReferral(t){var e;return typeof((e=t.data)==null?void 0:e.referral)<"u"}_ratio(t){return t*this.painter.ratio}},Nst=class{constructor(t,e){this.canvas=t,this.width=0,this.height=0,this.ctx=this.canvas.getContext("2d"),this.width=this.canvas.width,this.height=this.canvas.height,this.ratio=Math.max((e==null?void 0:e.ratio)||1,typeof window<"u"?Math.ceil(window.devicePixelRatio):1),this.canvas.width=this.width*this.ratio,this.canvas.height=this.height*this.ratio,this.canvas.style.width=this.width+"px",this.canvas.style.height=this.height+"px"}draw(t){requestAnimationFrame(()=>this._draw.bind(this)(t))}async _draw(t){this.ctx!==null&&(await new Mst(this.ctx,this).draw(t),await new Pst(this.ctx,this).draw(t))}},Bst={domain:{fontSize:13,textBaseline:"bottom",position:{left:20,bottom:32}},message:{fontSize:20,color:"rgba(255, 255, 255, 0.98)",textBaseline:"top",position:{left:20,top:16}},position:{fontSize:14,color:"rgba(255,255,255,0.98)",position:{left:20,top:70}},unrealizedPnl:{fontSize:36,color:"rgba(255,255,255,0.5)",secondaryColor:"rgba(255,255,255,0.54)",secondaryFontSize:20,position:{left:20,top:110}},informations:{fontSize:12,color:"rgba(255, 255, 255, 0.8)",labelColor:"rgba(255,255,255,0.36)",position:{left:20,top:150}},updateTime:{fontSize:10,color:"rgba(255,255,255,0.3)",textAlign:"start",textBaseline:"bottom",position:{left:20,bottom:17}}},t_t=(t,e)=>{const[r,n]=N.useState(null),[i,s]=N.useState(()=>typeof navigator.clipboard<"u"),o=N.useRef(null),[a,u]=N.useState(null);N.useEffect(()=>{a&&(o.current||(o.current=new Nst(a,{ratio:(e==null?void 0:e.ratio)||1,...e})),o.current.draw(QRe({layout:Bst,fontFamily:"Manrope"},t)))},[a,t]);const f=(A,x)=>{if(!a)throw new Ar("The ref must be a canvas element");return a.toDataURL(A,x)},d=N.useCallback((A,x)=>new Promise(k=>{if(!a){k(null);return}a.toBlob(k,A,x)}),[a]),g=A=>{if(A){if(A.tagName.toUpperCase()!=="CANVAS"){n(new Ar("The ref must be a canvas element"));return}u(A)}},y=N.useCallback((A,x="image/png",k)=>{if(!a)throw new Ar("The ref must be a canvas element");const I=new Image;I.src=a.toDataURL(x,k);const R=document.createElement("a");R.href=I.src,R.download=A,R.click()},[a]),b=N.useCallback(()=>{if(!a)throw new Ar("The ref must be a canvas element");return new Promise((A,x)=>{if(!navigator.clipboard){x(new Ar("Clipboard API is not supported"));return}a.toBlob(k=>{if(!k){x(new Ar("Failed to create blob"));return}return navigator.clipboard.write([new ClipboardItem({[k.type]:k})]).then(A,x)})})},[a]);return{error:r,ref:g,toDataURL:f,toBlob:d,download:y,canCopy:i,copy:b}},Ost={};Lnt(Ost,{calcTPSL_ROI:()=>fw,cleanStringStyle:()=>Z5,findPositionTPSLFromOrders:()=>RF,findTPSLFromOrder:()=>d6,findTPSLFromOrders:()=>Lit,formatNumber:()=>Rst,getPositionBySymbol:()=>Znt,priceToPnl:()=>dge});var r_t=t=>{const{data:e,error:r,isLoading:n}=Fi(typeof t>"u"?null:`/v1/public/referral/check_ref_code?account_id=${t}`);return typeof t>"u"?{referral_code:void 0,error:"The account id is empty or undefined",isLoading:!1}:{referral_code:e==null?void 0:e.referral_code,error:r,isLoading:n}},n_t=()=>{const{data:t,mutate:e,isLoading:r,error:n}=eu("/v1/referral/info",{revalidateOnFocus:!0}),i=N.useMemo(()=>{var u,f,d;if(!(typeof((u=t==null?void 0:t.referee_info)==null?void 0:u.referer_code)>"u"))return(((d=(f=t==null?void 0:t.referee_info)==null?void 0:f.referer_code)==null?void 0:d.length)||0)>0},[t==null?void 0:t.referee_info]),s=N.useMemo(()=>{var u,f,d;if(!(typeof((u=t==null?void 0:t.referrer_info)==null?void 0:u.referral_codes)>"u"))return(((d=(f=t==null?void 0:t.referrer_info)==null?void 0:f.referral_codes)==null?void 0:d.length)||0)>0},[t==null?void 0:t.referrer_info]),[o]=nge("orderly_referral_codes",[]),a=N.useCallback(()=>{if(!(t!=null&&t.referrer_info.referral_codes))return;const u=[...t==null?void 0:t.referrer_info.referral_codes],f=[];for(let g=0;g<o.length;g++){const y=o[g],b=u.findIndex(A=>A.code===y);b!==-1&&(f.push({...u[b]}),u.splice(b,1))}const d=[...f,...u];return d==null?void 0:d[0]},[o,t]);return{data:t,isTrader:i,isAffiliate:s,error:n,isLoading:r,getFirstRefCode:a}},Lst=(t=>(t.normal="normal",t.mm="mm",t))(Lst||{}),i_t=t=>{const[e,r]=N.useState(void 0),n=t==="normal"?"/v1/public/trading_rewards/epoch_info":"/v1/public/market_making_rewards/epoch_info",{data:i,error:s,isLoading:o,mutate:a}=Fi(n,{formatter:f=>{if(typeof f=="object"&&"rows"in f&&"current_epoch"in f){const{rows:d,current_epoch:g}=f;if(Array.isArray(d)){const y=d.map(x=>x);y.sort((x,k)=>k.end_time-x.end_time);const b=y==null?void 0:y.findIndex(x=>x.epoch_id===g),A=y.find(x=>x.epoch_id===1);return A&&(A==null?void 0:A.start_time)>Hu()?r(A):r(b!==-1?y==null?void 0:y[b]:void 0),y}}return[]}}),u=N.useMemo(()=>{const f=i==null?void 0:i.find(d=>d.epoch_id===1);return f?f.start_time>Hu():!0},[i]);return[i,{isLoading:o,curEpochInfo:e,isNotStared:u,refresh:a}]},Dst=()=>{const{data:t}=Fi("/v1/public/broker/name",{formatter:e=>{const{rows:r}=e;return r==null?void 0:r.map(n=>({[n.broker_id]:n.broker_name})).reduce((n,i)=>({...n,...i}),{})}});return[t]},s_t=t=>{const[e,r]=N.useState(void 0),{account:n}=hd(),i=Dst(),s=n.address,o=t==="normal"?`/v1/public/trading_rewards/current_epoch_estimate?address=${s}`:`/v1/public/market_making_rewards/current_epoch_estimate?address=${s}`,{data:a}=Fi(s!==void 0?o:"",{formatter:f=>{var g;return{...f,rows:((g=f.rows)==null?void 0:g.map(y=>({...y,broker_name:y.broker_id})))||[],est_trading_volume:(f==null?void 0:f.est_maker_volume)||(f==null?void 0:f.est_trading_volume)}}});return[N.useMemo(()=>{var f;if(a){const d={...a};return d.rows=(f=d.rows)==null?void 0:f.map(g=>({...g,broker_name:i[g.broker_id]||g.broker_id})),d}return e},[a,i])]},Fst=()=>{const{configStore:t}=N.useContext(dd);switch(t.get("apiBaseUrl")||"https://api-evm.orderly.org"){case"https://testnet-api-evm.orderly.org":return"staging";case"https://dev-api-iap-v2.orderly.org":return"dev";case"https://qa-api-evm.orderly.org":return"qa";default:return"prod"}},o_t=t=>{const{account:e}=hd(),{keyInfo:r}=t||{},n=$st(r),{data:i,mutate:s,error:o,isLoading:a}=eu(`/v1/client/key_info${n.length>0?`?${n}`:""}`,{formatter:x=>x==null?void 0:x.rows}),[u]=go("/v1/client/set_orderly_key_ip_restriction","POST"),[f]=go("/v1/client/remove_orderly_key","POST"),[d]=go("/v1/client/reset_orderly_key_ip_restriction","POST"),g=N.useCallback((x,k)=>u({orderly_key:x,ip_restriction_list:k}),[]),y=N.useCallback(x=>f({orderly_key:x}),[]);return[i,{refresh:s,error:o,isLoading:a,generateOrderlyKey:x=>e==null?void 0:e.createApiKey(365,{tag:"manualCreated",scope:x}),setIPRestriction:g,removeOrderlyKey:y,resetOrderlyKeyIPRestriction:(x,k)=>d({orderly_key:x,reset_mode:k})}]};function $st(t){if(typeof t>"u")return"";const e=new URLSearchParams;for(const[r,n]of Object.entries(t))n!==void 0&&(Array.isArray(n)?n.forEach(i=>{e.append(r,i.toString())}):e.set(r,n.toString()));return e.toString()}var Ust=t=>(t==null?void 0:t.order_type)===It.STOP_LIMIT||(t==null?void 0:t.order_type)===It.STOP_MARKET||(t==null?void 0:t.order_type)===It.CLOSE_POSITION||t.algo_type&&t.algo_type===$n.BRACKET||Age(t)?"/v1/algo/order":"/v1/order",yx=t=>{let e;return Age(t)?e=`${$n.BRACKET}:${t.order_type}`:t.order_type===It.LIMIT?e=t.order_type_ext||t.order_type:e=t.order_type,IS.create(e)},_ge=["tp_trigger_price","sl_trigger_price","tp_pnl","sl_pnl","tp_offset","sl_offset","tp_offset_percentage","sl_offset_percentage"],Age=t=>!!t.tp_trigger_price||!!t.sl_trigger_price,X5=t=>_ge.some(e=>!!t[e]),xge=(t,e)=>{let r=Number(t.order_quantity);const n=Number(t.order_price);if(isNaN(r)||r<=0||e.length===0||(t.order_type===It.LIMIT||t.order_type===It.STOP_LIMIT)&&isNaN(n))return null;let i;return t.order_type===It.MARKET||t.order_type===It.STOP_MARKET?t.side===zt.BUY?i=e[0]:i=e[1]:t.side===zt.BUY?n>=e[0]?i=e[0]:i=n:n<=e[1]?i=e[1]:i=n,t.side===zt.SELL&&(r=-r),{price:i,quantity:r}},zst=(t,e,r)=>{const n=xge(t,e);if(!n)return null;const{price:i,quantity:s}=n;if(!i||!s)return null;const{symbol:o,baseIMR:a,baseMMR:u,imr_factor:f,markPrice:d,totalCollateral:g,futures_taker_fee_rate:y,positions:b}=r,A=Uf.orderFee({qty:s,price:i,futuresTakeFeeRate:Number(y)/1e4}),x=Uf.estLiqPrice({markPrice:d,baseIMR:a,baseMMR:u,totalCollateral:g,positions:b??[],IMR_Factor:f,orderFee:A,newOrder:{qty:s,price:i,symbol:o}});return x<=0?null:x},Wst=(t,e,r)=>{const n=xge(t,e),{totalCollateral:i,positions:s,symbol:o}=r;if(!n)return null;const{price:a,quantity:u}=n;return!a||!u?null:Uf.estLeverage({totalCollateral:i,positions:s,newOrder:{symbol:o,qty:n.quantity,price:n.price}})},jst={order_price:"",order_quantity:"",trigger_price:"",tp_trigger_price:"",sl_trigger_price:"",tp_pnl:"",sl_pnl:"",tp_offset_percentage:"",sl_offset_percentage:"",tp_offset:"",sl_offset:"",total:""},Kst=t=>{const[e,r]=N.useState(t),[n,i]=N.useState(null),[s,o]=N.useState(null),[a,u]=N.useState({});return{entry:e,estLeverage:n,estLiquidationPrice:s,errors:a,actions:{updateOrder:x=>{r(co(k=>({...k,...x})))},updateOrderByKey:(x,k)=>{r(co(I=>{I[x]=k}))},restoreOrder:x=>{r(co(k=>x))},updateOrderComputed:x=>{i(x.estLeverage),o(x.estLiquidationPrice)},resetOrder:x=>{r(co(k=>({...k,...x??jst})))},hasTP_SL:()=>typeof e.tp_trigger_price<"u"||typeof e.sl_trigger_price<"u"}}},Hst=(t,e={})=>{const{symbolInfo:r}=e,n={side:zt.BUY,order_type:It.LIMIT,order_price:"",symbol:t,...e.initialOrder},{actions:i,entry:s}=Kst(n),o=N.useCallback((x,k,I,R,M)=>{const P=wge(k);return JQ(QQ,P,vge)([x,k,I,R,M])},[]);N.useEffect(()=>{i.updateOrderByKey("symbol",t)},[i,t]);const a=(x,k,I)=>{if(!r){i.updateOrderByKey(x,k);return}const{markPrice:R}=I??{markPrice:0};let M=o({...s},x,k,R,r);return x==="order_type"&&(k===It.MARKET||k===It.STOP_MARKET)&&(M=o(M,"order_price",R,R,r)),(x==="order_quantity"||x==="order_price")&&X5(M)&&(M=u(x,M,R,r)),M.tp_pnl&&M.order_quantity&&(M.tp_ROI=fw({qty:M.order_quantity,price:M.order_price||R,pnl:M.tp_pnl})),M.sl_pnl&&M.order_quantity&&(M.sl_ROI=fw({qty:M.order_quantity,price:M.order_price||R,pnl:M.sl_pnl})),i.updateOrder(M),M},u=(x,k,I,R)=>(x==="order_price"?(typeof k.tp_pnl<"u"&&(k=o(k,"tp_pnl",k.tp_pnl,I,R)),typeof k.sl_pnl<"u"&&(k=o(k,"sl_pnl",k.sl_pnl,I,R))):(typeof k.tp_trigger_price<"u"&&(k=o(k,"tp_trigger_price",k.tp_trigger_price,I,R)),typeof k.sl_trigger_price<"u"&&(k=o(k,"sl_trigger_price",k.sl_trigger_price,I,R))),k),f=(x,k)=>{if(!r){i.updateOrder(x);return}let I={...s};return Object.keys(x).forEach(R=>{I=o(I,R,x[R],(k==null?void 0:k.markPrice)??0,r)}),i.updateOrder(I),I},d=N.useCallback((x,k)=>{if(!e.symbolInfo)return;let I;typeof k>"u"?I=o({...s},"order_price",x,x,e.symbolInfo):I=o({...s},k,s[k],x,e.symbolInfo),X5(I)&&(I.tp_pnl&&I.order_quantity&&(I.tp_ROI=fw({qty:I.order_quantity,price:I.order_price||x,pnl:I.tp_pnl})),I.sl_pnl&&I.order_quantity&&(I.sl_ROI=fw({qty:I.order_quantity,price:I.order_price||x,pnl:I.sl_pnl}))),i.updateOrder(I)},[o,e.symbolInfo,s,i]),g=(x,k,I)=>{const{markPrice:R,maxQty:M}=I;return k==null?void 0:k.validate(x,{symbol:r,maxQty:M,markPrice:R})},y=(x,k)=>x.create(s,{...k,symbol:r}),b=N.useCallback(()=>{},[s]);return{formattedOrder:s,setValue:a,setValues:f,submit:b,reset:x=>{i.resetOrder(x)},generateOrder:y,validate:g,onMarkPriceChange:d}},a_t=(t,e={})=>{if(!t)throw new Ar("symbol is required and must be a string");const r=Ml(),[n,i]=N.useState({dirty:{},submitted:!1,validated:!1,errors:null}),s=N.useRef([[]]),o=N.useRef(),a=N.useRef(),u=N.useRef(),f=uge(),d=Cl(),g=age(),y=kF(),b=d[t](),A=f.getMarkPriceBySymbol(t),{formattedOrder:x,setValue:k,setValues:I,validate:R,generateOrder:M,reset:P,...j}=Hst(t,{...e,symbolInfo:b}),[V,{isMutating:Z}]=go(Ust(x)),G=MF(t,x.side,x.reduce_only),q=()=>{var te,X;const $=x.order_type_ext??a.current,F=x.level??u.current;if(![It.ASK,It.BID].includes($)||F===void 0)return;a.current=$,u.current=F;const H=$===It.ASK?0:1,Q=(X=(te=s.current)==null?void 0:te[F])==null?void 0:X[H];Q&&!isNaN(Q)&&m("order_price",Q,{shouldUpdateLastChangedField:!1})},ae=()=>{const{order_type:$,order_type_ext:F,order_quantity:H}=x,Q=$===It.LIMIT&&[It.ASK,It.BID].includes(F);o.current!=="total"&&Q&&q()};N.useEffect(()=>{q()},[x.order_type_ext,x.level]);const T=Mb($=>{s.current=$,ae()},200);N.useEffect(()=>(r.on("orderbook:update",T),()=>{r.off("orderbook:update",T)}),[]),N.useEffect(()=>{(x.order_type===It.MARKET||x.order_type===It.STOP_MARKET)&&A&&j.onMarkPriceChange(A,o.current)},[A,x.order_type]);const c=N.useCallback(()=>({markPrice:f.getMarkPriceBySymbol(t),maxQty:G}),[G,t]),h=$=>{_($).then(F=>{Object.keys(F).length>0?i(co(Q=>{Q.errors=F})):i(co(Q=>{Q.errors=null}))})},p=($,F,H)=>!(_ge.includes($)&&F!==""&&F!==void 0&&F!==null&&H!==It.LIMIT&&H!==It.MARKET),m=($,F,H)=>{const{shouldUpdateLastChangedField:Q=!0,shouldUpdateDirty:te=!0}=H||{};if(!p($,F,x.order_type))return;te&&i(co(K=>{K.dirty[$]=!0}));const X=k($,F,c());X&&h(X),Q&&(o.current=$)},v=$=>{if(!Object.keys($).every(H=>p(H,$[H],x.order_type)))return;const F=I($,c());F&&h(F)};async function _($){const F=yx($);return R($,F,c())}const E=()=>new Promise(async($,F)=>{const H=yx(x),Q=await R(x,H,c());Object.keys(Q).length>0&&(i(co(K=>{K.errors=Q})),n.validated||i(co(K=>{K.validated=!0})),F(Q));const X=M(H,c());$(X)}),{freeCollateral:w,totalCollateral:l}=q_(),S=N.useMemo(()=>{const $=f.getMarkPriceBySymbol(t);return!$||!g?null:zst(x,s.current[0],{baseIMR:b==null?void 0:b.base_imr,baseMMR:b==null?void 0:b.base_mmr,markPrice:$,totalCollateral:l,futures_taker_fee_rate:g.futures_taker_fee_rate,imr_factor:g.imr_factor[t],symbol:t,positions:y})},[x,g,y,l,t]),C=N.useMemo(()=>Wst(x,s.current[0],{totalCollateral:l,positions:y,symbol:t}),[x,g,y,l,t]),D=()=>{i(co($=>{$.errors=null}))},U=()=>{i(co($=>{$.errors=null,$.submitted=!1,$.validated=!1,$.dirty={}}))};return{...j,submit:async $=>{const F=yx(x),H=await R(x,F,c()),{resetOnSuccess:Q=!0}=$||{};if(i(co(K=>{K.submitted=!0,K.validated=!0})),Object.keys(H).length>0)throw i(co(K=>{K.errors=H})),new Error("Order validation failed");const te=M(F,c()),X=await V(te);return X.success&&r.emit(fl.PLACEORDER_SUCCESS,{side:te.side,order_type:te.order_type,tp_sl:X5(x),reduce_only:!!te.reduce_only}),X.success&&Q&&(P(),U()),X},reset:P,resetErrors:D,resetMetaState:U,formattedOrder:x,maxQty:G,estLiqPrice:S,estLeverage:C,helper:{validator:E,validate:E},freeCollateral:w,setValue:m,setValues:v,symbolInfo:b||{},metaState:n,isMutating:Z,markPrice:A}},qst={order_price:"",order_quantity:"",trigger_price:"",tp_trigger_price:"",sl_trigger_price:"",total:"",symbol:""};rg()(y3((t,e)=>({entry:{side:zt.BUY,order_type:It.LIMIT,...qst},estLeverage:null,estLiquidationPrice:null,errors:{},actions:{hasTP_SL:()=>{const r=e().entry;return typeof r.tp_trigger_price<"u"||typeof r.sl_trigger_price<"u"},updateOrderComputed:r=>{t(n=>{n.estLeverage=r.estLeverage,n.estLiquidationPrice=r.estLiquidationPrice},!1)},updateOrder:r=>{t(n=>{n.entry={...n.entry,...r}},!1)},updateOrderByKey:(r,n)=>{t(i=>{i.entry[r]=n},!1)},restoreOrder:r=>{t(n=>{n.entry=r},!1)},resetOrder:r=>{t(n=>{n.entry.order_price="",n.entry.order_quantity="",n.entry.trigger_price="",n.entry.total="",n.entry.tp_trigger_price="",n.entry.tp_pnl="",n.entry.tp_offset="",n.entry.tp_offset_percentage="",n.entry.sl_trigger_price="",n.entry.sl_pnl="",n.entry.sl_offset="",n.entry.sl_offset_percentage=""},!0)}}})));var u_t=(t,e)=>{if(!t.symbol)throw new Ar("symbol is required");const[r,n]=N.useState(),i=MF(t.symbol,t.side,t.reduce_only),s=(e==null?void 0:e.maxQty)??i,o=uge(),a=o.getMarkPriceBySymbol(t.symbol),u=N.useCallback(()=>({markPrice:o.getMarkPriceBySymbol(t.symbol),maxQty:s}),[s,t.symbol,t]),f=Cl(),d=()=>new Promise(async(y,b)=>{const A=yx(t),x=f[t.symbol](),k=await(A==null?void 0:A.validate(t,{symbol:x,maxQty:s,markPrice:a}));Object.keys(k).length>0?(n(k),b(k)):n({});const R=A.create(t,{...u(),symbol:x});y(R)}),g=d8e(()=>{d().then(()=>{},y=>{})},50,{});return N.useEffect(()=>{g()},[t.order_price,t.order_quantity,t.trigger_price]),{validate:d,errors:r,markPrice:a,symbolInfo:f}},c_t=t=>{const{enableDefault:e=!1,customRestrictedIps:r=[],customRestrictedRegions:n=[],contact:i={}}=t,s=Qu("apiBaseUrl"),[o,a]=N.useState([]),[u,f]=N.useState([]),[d,g]=N.useState([]),[y,b]=N.useState([]),[A,x]=N.useState(""),[k,I]=N.useState(""),[R,M]=N.useState(""),[P,j]=N.useState(!1);return N.useEffect(()=>{(async()=>{var Z,G,q,ae,T,c,h,p,m,v,_,E,w;try{const S=await(await fetch(`${s}/v1/restricted_areas`)).json(),D=await(await fetch(`${s}/v1/ip_info`)).json();if(S.success&&D.success){const U=(q=(G=(Z=S==null?void 0:S.data)==null?void 0:Z.invalid_web_country)==null?void 0:G.toLocaleLowerCase())==null?void 0:q.replace(/\s+/g,"").split(","),O=(c=(T=(ae=S==null?void 0:S.data)==null?void 0:ae.invalid_web_city)==null?void 0:T.toLocaleLowerCase())==null?void 0:c.replace(/\s+/g,"").split(","),$=(e?O.concat(U):[]).concat(n==null?void 0:n.map(X=>{var K;return(K=X==null?void 0:X.replace(/\s+/g,""))==null?void 0:K.toLocaleLowerCase()})),F=[e?(h=S==null?void 0:S.data)==null?void 0:h.invalid_web_country:"",e?(p=S==null?void 0:S.data)==null?void 0:p.invalid_web_city:"",n==null?void 0:n.join(", ")].filter(X=>!!X);a(O),f(U),g($),b(F);const{city:H,region:Q,ip:te}=D.data;x(H),I(Q),M(te),($.includes((v=(m=D==null?void 0:D.data)==null?void 0:m.city)==null?void 0:v.replace(/\s+/g,"").toLocaleLowerCase())||$.includes((E=(_=D==null?void 0:D.data)==null?void 0:_.region)==null?void 0:E.replace(/\s+/g,"").toLocaleLowerCase())||r.includes((w=D==null?void 0:D.data)==null?void 0:w.ip))&&j(!0)}}catch{}})()},[s]),{ip:R,invalidRegions:y,restrictedAreasOpen:P,contact:i}},EG=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Io=t=>!t||typeof t!="object"||Object.keys(t).length===0,Vst=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function Ege(t,e){t.forEach(function(r){Array.isArray(r)?Ege(r,e):e.push(r)})}function kge(t){let e=[];return Ege(t,e),e}var Tge=(...t)=>kge(t).filter(Boolean),PF=(t,e)=>{let r={},n=Object.keys(t),i=Object.keys(e);for(let s of n)if(i.includes(s)){let o=t[s],a=e[s];typeof o=="object"&&typeof a=="object"?r[s]=PF(o,a):Array.isArray(o)||Array.isArray(a)?r[s]=Tge(a,o):r[s]=a+" "+o}else r[s]=t[s];for(let s of i)n.includes(s)||(r[s]=e[s]);return r},kG=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim();const NF="-",Gst=t=>{const e=Zst(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const a=o.split(NF);return a[0]===""&&a.length!==1&&a.shift(),Ige(a,e)||Yst(o)},getConflictingClassGroupIds:(o,a)=>{const u=r[o]||[];return a&&n[o]?[...u,...n[o]]:u}}},Ige=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?Ige(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(NF);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},TG=/^\[(.+)\]$/,Yst=t=>{if(TG.test(t)){const e=TG.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Zst=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Jst(Object.entries(t.classGroups),r).forEach(([s,o])=>{J5(o,n,s,e)}),n},J5=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:IG(e,i);s.classGroupId=r;return}if(typeof i=="function"){if(Xst(i)){J5(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,o])=>{J5(o,IG(e,s),r,n)})})},IG=(t,e)=>{let r=t;return e.split(NF).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Xst=t=>t.isThemeGetter,Jst=(t,e)=>e?t.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[r,i]}):t,Qst=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(s,o)=>{r.set(s,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set(s,o){r.has(s)?r.set(s,o):i(s,o)}}},Rge="!",eot=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],s=e.length,o=a=>{const u=[];let f=0,d=0,g;for(let k=0;k<a.length;k++){let I=a[k];if(f===0){if(I===i&&(n||a.slice(k,k+s)===e)){u.push(a.slice(d,k)),d=k+s;continue}if(I==="/"){g=k;continue}}I==="["?f++:I==="]"&&f--}const y=u.length===0?a:a.substring(d),b=y.startsWith(Rge),A=b?y.substring(1):y,x=g&&g>d?g-d:void 0;return{modifiers:u,hasImportantModifier:b,baseClassName:A,maybePostfixModifierPosition:x}};return r?a=>r({className:a,parseClassName:o}):o},tot=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},rot=t=>({cache:Qst(t.cacheSize),parseClassName:eot(t),...Gst(t)}),not=/\s+/,iot=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(not);let a="";for(let u=o.length-1;u>=0;u-=1){const f=o[u],{modifiers:d,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:b}=r(f);let A=!!b,x=n(A?y.substring(0,b):y);if(!x){if(!A){a=f+(a.length>0?" "+a:a);continue}if(x=n(y),!x){a=f+(a.length>0?" "+a:a);continue}A=!1}const k=tot(d).join(":"),I=g?k+Rge:k,R=I+x;if(s.includes(R))continue;s.push(R);const M=i(x,A);for(let P=0;P<M.length;++P){const j=M[P];s.push(I+j)}a=f+(a.length>0?" "+a:a)}return a};function sot(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Mge(e))&&(n&&(n+=" "),n+=r);return n}const Mge=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Mge(t[n]))&&(r&&(r+=" "),r+=e);return r};function Q5(t,...e){let r,n,i,s=o;function o(u){const f=e.reduce((d,g)=>g(d),t());return r=rot(f),n=r.cache.get,i=r.cache.set,s=a,a(u)}function a(u){const f=n(u);if(f)return f;const d=iot(u,r);return i(u,d),d}return function(){return s(sot.apply(null,arguments))}}const qn=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},Cge=/^\[(?:([a-z-]+):)?(.+)\]$/i,oot=/^\d+\/\d+$/,aot=new Set(["px","full","screen"]),uot=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cot=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lot=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,fot=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dot=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wl=t=>wy(t)||aot.has(t)||oot.test(t),Id=t=>W1(t,"length",wot),wy=t=>!!t&&!Number.isNaN(Number(t)),h8=t=>W1(t,"number",wy),Rv=t=>!!t&&Number.isInteger(Number(t)),hot=t=>t.endsWith("%")&&wy(t.slice(0,-1)),pr=t=>Cge.test(t),Rd=t=>uot.test(t),pot=new Set(["length","size","percentage"]),got=t=>W1(t,pot,Pge),mot=t=>W1(t,"position",Pge),yot=new Set(["image","url"]),bot=t=>W1(t,yot,_ot),vot=t=>W1(t,"",Sot),Mv=()=>!0,W1=(t,e,r)=>{const n=Cge.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},wot=t=>cot.test(t)&&!lot.test(t),Pge=()=>!1,Sot=t=>fot.test(t),_ot=t=>dot.test(t),eN=()=>{const t=qn("colors"),e=qn("spacing"),r=qn("blur"),n=qn("brightness"),i=qn("borderColor"),s=qn("borderRadius"),o=qn("borderSpacing"),a=qn("borderWidth"),u=qn("contrast"),f=qn("grayscale"),d=qn("hueRotate"),g=qn("invert"),y=qn("gap"),b=qn("gradientColorStops"),A=qn("gradientColorStopPositions"),x=qn("inset"),k=qn("margin"),I=qn("opacity"),R=qn("padding"),M=qn("saturate"),P=qn("scale"),j=qn("sepia"),V=qn("skew"),Z=qn("space"),G=qn("translate"),q=()=>["auto","contain","none"],ae=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",pr,e],c=()=>[pr,e],h=()=>["",Wl,Id],p=()=>["auto",wy,pr],m=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],v=()=>["solid","dashed","dotted","double","none"],_=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],E=()=>["start","end","center","between","around","evenly","stretch"],w=()=>["","0",pr],l=()=>["auto","avoid","all","avoid-page","page","left","right","column"],S=()=>[wy,pr];return{cacheSize:500,separator:":",theme:{colors:[Mv],spacing:[Wl,Id],blur:["none","",Rd,pr],brightness:S(),borderColor:[t],borderRadius:["none","","full",Rd,pr],borderSpacing:c(),borderWidth:h(),contrast:S(),grayscale:w(),hueRotate:S(),invert:w(),gap:c(),gradientColorStops:[t],gradientColorStopPositions:[hot,Id],inset:T(),margin:T(),opacity:S(),padding:c(),saturate:S(),scale:S(),sepia:w(),skew:S(),space:c(),translate:c()},classGroups:{aspect:[{aspect:["auto","square","video",pr]}],container:["container"],columns:[{columns:[Rd]}],"break-after":[{"break-after":l()}],"break-before":[{"break-before":l()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...m(),pr]}],overflow:[{overflow:ae()}],"overflow-x":[{"overflow-x":ae()}],"overflow-y":[{"overflow-y":ae()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Rv,pr]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",pr]}],grow:[{grow:w()}],shrink:[{shrink:w()}],order:[{order:["first","last","none",Rv,pr]}],"grid-cols":[{"grid-cols":[Mv]}],"col-start-end":[{col:["auto",{span:["full",Rv,pr]},pr]}],"col-start":[{"col-start":p()}],"col-end":[{"col-end":p()}],"grid-rows":[{"grid-rows":[Mv]}],"row-start-end":[{row:["auto",{span:[Rv,pr]},pr]}],"row-start":[{"row-start":p()}],"row-end":[{"row-end":p()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",pr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",pr]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...E()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...E(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...E(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[R]}],px:[{px:[R]}],py:[{py:[R]}],ps:[{ps:[R]}],pe:[{pe:[R]}],pt:[{pt:[R]}],pr:[{pr:[R]}],pb:[{pb:[R]}],pl:[{pl:[R]}],m:[{m:[k]}],mx:[{mx:[k]}],my:[{my:[k]}],ms:[{ms:[k]}],me:[{me:[k]}],mt:[{mt:[k]}],mr:[{mr:[k]}],mb:[{mb:[k]}],ml:[{ml:[k]}],"space-x":[{"space-x":[Z]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[Z]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",pr,e]}],"min-w":[{"min-w":[pr,e,"min","max","fit"]}],"max-w":[{"max-w":[pr,e,"none","full","min","max","fit","prose",{screen:[Rd]},Rd]}],h:[{h:[pr,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[pr,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[pr,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[pr,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Rd,Id]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",h8]}],"font-family":[{font:[Mv]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",pr]}],"line-clamp":[{"line-clamp":["none",wy,h8]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Wl,pr]}],"list-image":[{"list-image":["none",pr]}],"list-style-type":[{list:["none","disc","decimal",pr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[I]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[I]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...v(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Wl,Id]}],"underline-offset":[{"underline-offset":["auto",Wl,pr]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:c()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[I]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...m(),mot]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",got]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},bot]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[A]}],"gradient-via-pos":[{via:[A]}],"gradient-to-pos":[{to:[A]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[I]}],"border-style":[{border:[...v(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[I]}],"divide-style":[{divide:v()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...v()]}],"outline-offset":[{"outline-offset":[Wl,pr]}],"outline-w":[{outline:[Wl,Id]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:h()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[I]}],"ring-offset-w":[{"ring-offset":[Wl,Id]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Rd,vot]}],"shadow-color":[{shadow:[Mv]}],opacity:[{opacity:[I]}],"mix-blend":[{"mix-blend":[..._(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":_()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Rd,pr]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[g]}],saturate:[{saturate:[M]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[I]}],"backdrop-saturate":[{"backdrop-saturate":[M]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",pr]}],duration:[{duration:S()}],ease:[{ease:["linear","in","out","in-out",pr]}],delay:[{delay:S()}],animate:[{animate:["none","spin","ping","pulse","bounce",pr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[Rv,pr]}],"translate-x":[{"translate-x":[G]}],"translate-y":[{"translate-y":[G]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",pr]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pr]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":c()}],"scroll-mx":[{"scroll-mx":c()}],"scroll-my":[{"scroll-my":c()}],"scroll-ms":[{"scroll-ms":c()}],"scroll-me":[{"scroll-me":c()}],"scroll-mt":[{"scroll-mt":c()}],"scroll-mr":[{"scroll-mr":c()}],"scroll-mb":[{"scroll-mb":c()}],"scroll-ml":[{"scroll-ml":c()}],"scroll-p":[{"scroll-p":c()}],"scroll-px":[{"scroll-px":c()}],"scroll-py":[{"scroll-py":c()}],"scroll-ps":[{"scroll-ps":c()}],"scroll-pe":[{"scroll-pe":c()}],"scroll-pt":[{"scroll-pt":c()}],"scroll-pr":[{"scroll-pr":c()}],"scroll-pb":[{"scroll-pb":c()}],"scroll-pl":[{"scroll-pl":c()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pr]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Wl,Id,h8]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Aot=(t,{cacheSize:e,prefix:r,separator:n,experimentalParseClassName:i,extend:s={},override:o={}})=>{dw(t,"cacheSize",e),dw(t,"prefix",r),dw(t,"separator",n),dw(t,"experimentalParseClassName",i);for(const a in o)xot(t[a],o[a]);for(const a in s)Eot(t[a],s[a]);return t},dw=(t,e,r)=>{r!==void 0&&(t[e]=r)},xot=(t,e)=>{if(e)for(const r in e)dw(t,r,e[r])},Eot=(t,e)=>{if(e)for(const r in e){const n=e[r];n!==void 0&&(t[r]=(t[r]||[]).concat(n))}},kot=(t,...e)=>typeof t=="function"?Q5(eN,t,...e):Q5(()=>Aot(eN(),t),...e),Tot=Q5(eN);var Iot={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},Nge=t=>t||void 0,Et=(...t)=>Nge(kge(t).filter(Boolean).join(" ")),p8=null,tf={},tN=!1,Tm=(...t)=>e=>e.twMerge?((!p8||tN)&&(tN=!1,p8=Io(tf)?Tot:kot({...tf,extend:{theme:tf.theme,classGroups:tf.classGroups,conflictingClassGroupModifiers:tf.conflictingClassGroupModifiers,conflictingClassGroups:tf.conflictingClassGroups,...tf.extend}})),Nge(p8(Et(t)))):Et(t),RG=(t,e)=>{for(let r in e)t.hasOwnProperty(r)?t[r]=Et(t[r],e[r]):t[r]=e[r];return t},pc=(t,e)=>{let{extend:r=null,slots:n={},variants:i={},compoundVariants:s=[],compoundSlots:o=[],defaultVariants:a={}}=t,u={...Iot,...e},f=r!=null&&r.base?Et(r.base,t==null?void 0:t.base):t==null?void 0:t.base,d=r!=null&&r.variants&&!Io(r.variants)?PF(i,r.variants):i,g=r!=null&&r.defaultVariants&&!Io(r.defaultVariants)?{...r.defaultVariants,...a}:a;!Io(u.twMergeConfig)&&!Vst(u.twMergeConfig,tf)&&(tN=!0,tf=u.twMergeConfig);let y=Io(r==null?void 0:r.slots),b=Io(n)?{}:{base:Et(t==null?void 0:t.base,y&&(r==null?void 0:r.base)),...n},A=y?b:RG({...r==null?void 0:r.slots},Io(b)?{base:t==null?void 0:t.base}:b),x=Io(r==null?void 0:r.compoundVariants)?s:Tge(r==null?void 0:r.compoundVariants,s),k=R=>{if(Io(d)&&Io(n)&&y)return Tm(f,R==null?void 0:R.class,R==null?void 0:R.className)(u);if(x&&!Array.isArray(x))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof x}`);if(o&&!Array.isArray(o))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof o}`);let M=(c,h,p=[],m)=>{let v=p;if(typeof h=="string")v=v.concat(kG(h).split(" ").map(_=>`${c}:${_}`));else if(Array.isArray(h))v=v.concat(h.reduce((_,E)=>_.concat(`${c}:${E}`),[]));else if(typeof h=="object"&&typeof m=="string"){for(let _ in h)if(h.hasOwnProperty(_)&&_===m){let E=h[_];if(E&&typeof E=="string"){let w=kG(E);v[m]?v[m]=v[m].concat(w.split(" ").map(l=>`${c}:${l}`)):v[m]=w.split(" ").map(l=>`${c}:${l}`)}else Array.isArray(E)&&E.length>0&&(v[m]=E.reduce((w,l)=>w.concat(`${c}:${l}`),[]))}}return v},P=(c,h=d,p=null,m=null)=>{var v;let _=h[c];if(!_||Io(_))return null;let E=(v=m==null?void 0:m[c])!=null?v:R==null?void 0:R[c];if(E===null)return null;let w=EG(E),l=Array.isArray(u.responsiveVariants)&&u.responsiveVariants.length>0||u.responsiveVariants===!0,S=g==null?void 0:g[c],C=[];if(typeof w=="object"&&l)for(let[O,$]of Object.entries(w)){let F=_[$];if(O==="initial"){S=$;continue}Array.isArray(u.responsiveVariants)&&!u.responsiveVariants.includes(O)||(C=M(O,F,C,p))}let D=w!=null&&typeof w!="object"?w:EG(S),U=_[D||"false"];return typeof C=="object"&&typeof p=="string"&&C[p]?RG(C,U):C.length>0?(C.push(U),C):U},j=()=>d?Object.keys(d).map(c=>P(c,d)):null,V=(c,h)=>{if(!d||typeof d!="object")return null;let p=new Array;for(let m in d){let v=P(m,d,c,h),_=c==="base"&&typeof v=="string"?v:v&&v[c];_&&(p[p.length]=_)}return p},Z={};for(let c in R)R[c]!==void 0&&(Z[c]=R[c]);let G=(c,h)=>{var p;let m=typeof(R==null?void 0:R[c])=="object"?{[c]:(p=R[c])==null?void 0:p.initial}:{};return{...g,...Z,...m,...h}},q=(c=[],h)=>{let p=[];for(let{class:m,className:v,..._}of c){let E=!0;for(let[w,l]of Object.entries(_)){let S=G(w,h);if(Array.isArray(l)){if(!l.includes(S[w])){E=!1;break}}else if(S[w]!==l){E=!1;break}}E&&(m&&p.push(m),v&&p.push(v))}return p},ae=c=>{let h=q(x,c);if(!Array.isArray(h))return h;let p={};for(let m of h)if(typeof m=="string"&&(p.base=Tm(p.base,m)(u)),typeof m=="object")for(let[v,_]of Object.entries(m))p[v]=Tm(p[v],_)(u);return p},T=c=>{if(o.length<1)return null;let h={};for(let{slots:p=[],class:m,className:v,..._}of o){if(!Io(_)){let E=!0;for(let w of Object.keys(_)){let l=G(w,c)[w];if(l===void 0||(Array.isArray(_[w])?!_[w].includes(l):_[w]!==l)){E=!1;break}}if(!E)continue}for(let E of p)h[E]=h[E]||[],h[E].push([m,v])}return h};if(!Io(n)||!y){let c={};if(typeof A=="object"&&!Io(A))for(let h of Object.keys(A))c[h]=p=>{var m,v;return Tm(A[h],V(h,p),((m=ae(p))!=null?m:[])[h],((v=T(p))!=null?v:[])[h],p==null?void 0:p.class,p==null?void 0:p.className)(u)};return c}return Tm(f,j(),q(x),R==null?void 0:R.class,R==null?void 0:R.className)(u)},I=()=>{if(!(!d||typeof d!="object"))return Object.keys(d)};return k.variantKeys=I(),k.extend=r,k.base=f,k.slots=A,k.variants=d,k.defaultVariants=g,k.compoundSlots=o,k.compoundVariants=x,k},Rot=t=>(e,r)=>pc(e,r?PF(t,r):t);function MG(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function h6(...t){return e=>{let r=!1;const n=t.map(i=>{const s=MG(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():MG(t[i],null)}}}}function tr(...t){return N.useCallback(h6(...t),t)}var Gi=N.forwardRef((t,e)=>{const{children:r,...n}=t,i=N.Children.toArray(r),s=i.find(Mot);if(s){const o=s.props.children,a=i.map(u=>u===s?N.Children.count(o)>1?N.Children.only(null):N.isValidElement(o)?o.props.children:null:u);return L.jsx(rN,{...n,ref:e,children:N.isValidElement(o)?N.cloneElement(o,void 0,a):null})}return L.jsx(rN,{...n,ref:e,children:r})});Gi.displayName="Slot";var rN=N.forwardRef((t,e)=>{const{children:r,...n}=t;if(N.isValidElement(r)){const i=Pot(r);return N.cloneElement(r,{...Cot(n,r.props),ref:e?h6(e,i):i})}return N.Children.count(r)>1?N.Children.only(null):null});rN.displayName="SlotClone";var Bge=({children:t})=>L.jsx(L.Fragment,{children:t});function Mot(t){return N.isValidElement(t)&&t.type===Bge}function Cot(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...a)=>{s(...a),i(...a)}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function Pot(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Wr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ka(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function lo(t,e){const r=Wr(t);return isNaN(e)?ka(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function ec(t,e){const r=Wr(t);if(isNaN(e))return ka(t,NaN);if(!e)return r;const n=r.getDate(),i=ka(t,r.getTime());i.setMonth(r.getMonth()+e+1,0);const s=i.getDate();return n>=s?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const BF=6048e5,Not=864e5;let Bot={};function G_(){return Bot}function wl(t,e){var a,u,f,d;const r=G_(),n=(e==null?void 0:e.weekStartsOn)??((u=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((d=(f=r.locale)==null?void 0:f.options)==null?void 0:d.weekStartsOn)??0,i=Wr(t),s=i.getDay(),o=(s<n?7:0)+s-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function K0(t){return wl(t,{weekStartsOn:1})}function Oge(t){const e=Wr(t),r=e.getFullYear(),n=ka(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=K0(n),s=ka(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=K0(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function Jb(t){const e=Wr(t);return e.setHours(0,0,0,0),e}function ek(t){const e=Wr(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Jc(t,e){const r=Jb(t),n=Jb(e),i=+r-ek(r),s=+n-ek(n);return Math.round((i-s)/Not)}function Oot(t){const e=Oge(t),r=ka(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),K0(r)}function nN(t,e){const r=e*7;return lo(t,r)}function Lot(t,e){return ec(t,e*12)}function Dot(t){let e;return t.forEach(function(r){const n=Wr(r);(e===void 0||e<n||isNaN(Number(n)))&&(e=n)}),e||new Date(NaN)}function Fot(t){let e;return t.forEach(r=>{const n=Wr(r);(!e||e>n||isNaN(+n))&&(e=n)}),e||new Date(NaN)}function Ho(t,e){const r=Jb(t),n=Jb(e);return+r==+n}function OF(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Lge(t){if(!OF(t)&&typeof t!="number")return!1;const e=Wr(t);return!isNaN(Number(e))}function RS(t,e){const r=Wr(t),n=Wr(e),i=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return i*12+s}function $ot(t,e,r){const n=wl(t,r),i=wl(e,r),s=+n-ek(n),o=+i-ek(i);return Math.round((s-o)/BF)}function LF(t){const e=Wr(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function qo(t){const e=Wr(t);return e.setDate(1),e.setHours(0,0,0,0),e}function Dge(t){const e=Wr(t),r=ka(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function DF(t,e){var a,u,f,d;const r=G_(),n=(e==null?void 0:e.weekStartsOn)??((u=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((d=(f=r.locale)==null?void 0:f.options)==null?void 0:d.weekStartsOn)??0,i=Wr(t),s=i.getDay(),o=(s<n?-7:0)+6-(s-n);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function Fge(t){return DF(t,{weekStartsOn:1})}const Uot={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},zot=(t,e,r)=>{let n;const i=Uot[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function g8(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Wot={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},jot={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Kot={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Hot={date:g8({formats:Wot,defaultWidth:"full"}),time:g8({formats:jot,defaultWidth:"full"}),dateTime:g8({formats:Kot,defaultWidth:"full"})},qot={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Vot=(t,e,r,n)=>qot[t];function Cv(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=r!=null&&r.width?String(r.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const Got={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Yot={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Zot={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Xot={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Jot={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Qot={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},eat=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},tat={ordinalNumber:eat,era:Cv({values:Got,defaultWidth:"wide"}),quarter:Cv({values:Yot,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Cv({values:Zot,defaultWidth:"wide"}),day:Cv({values:Xot,defaultWidth:"wide"}),dayPeriod:Cv({values:Jot,defaultWidth:"wide",formattingValues:Qot,defaultFormattingWidth:"wide"})};function Pv(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(a)?nat(a,g=>g.test(o)):rat(a,g=>g.test(o));let f;f=t.valueCallback?t.valueCallback(u):u,f=r.valueCallback?r.valueCallback(f):f;const d=e.slice(o.length);return{value:f,rest:d}}}function rat(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function nat(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function iat(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const sat=/^(\d+)(th|st|nd|rd)?/i,oat=/\d+/i,aat={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},uat={any:[/^b/i,/^(a|c)/i]},cat={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},lat={any:[/1/i,/2/i,/3/i,/4/i]},fat={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},dat={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hat={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},pat={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},gat={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mat={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},yat={ordinalNumber:iat({matchPattern:sat,parsePattern:oat,valueCallback:t=>parseInt(t,10)}),era:Pv({matchPatterns:aat,defaultMatchWidth:"wide",parsePatterns:uat,defaultParseWidth:"any"}),quarter:Pv({matchPatterns:cat,defaultMatchWidth:"wide",parsePatterns:lat,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Pv({matchPatterns:fat,defaultMatchWidth:"wide",parsePatterns:dat,defaultParseWidth:"any"}),day:Pv({matchPatterns:hat,defaultMatchWidth:"wide",parsePatterns:pat,defaultParseWidth:"any"}),dayPeriod:Pv({matchPatterns:gat,defaultMatchWidth:"any",parsePatterns:mat,defaultParseWidth:"any"})},$ge={code:"en-US",formatDistance:zot,formatLong:Hot,formatRelative:Vot,localize:tat,match:yat,options:{weekStartsOn:0,firstWeekContainsDate:1}};function bat(t){const e=Wr(t);return Jc(e,Dge(e))+1}function Uge(t){const e=Wr(t),r=+K0(e)-+Oot(e);return Math.round(r/BF)+1}function zge(t,e){var d,g,y,b;const r=Wr(t),n=r.getFullYear(),i=G_(),s=(e==null?void 0:e.firstWeekContainsDate)??((g=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:g.firstWeekContainsDate)??i.firstWeekContainsDate??((b=(y=i.locale)==null?void 0:y.options)==null?void 0:b.firstWeekContainsDate)??1,o=ka(t,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const a=wl(o,e),u=ka(t,0);u.setFullYear(n,0,s),u.setHours(0,0,0,0);const f=wl(u,e);return r.getTime()>=a.getTime()?n+1:r.getTime()>=f.getTime()?n:n-1}function vat(t,e){var a,u,f,d;const r=G_(),n=(e==null?void 0:e.firstWeekContainsDate)??((u=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:u.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(f=r.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??1,i=zge(t,e),s=ka(t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),wl(s,e)}function Wge(t,e){const r=Wr(t),n=+wl(r,e)-+vat(r,e);return Math.round(n/BF)+1}function un(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Md={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return un(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):un(r+1,2)},d(t,e){return un(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return un(t.getHours()%12||12,e.length)},H(t,e){return un(t.getHours(),e.length)},m(t,e){return un(t.getMinutes(),e.length)},s(t,e){return un(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return un(i,e.length)}},$g={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},CG={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Md.y(t,e)},Y:function(t,e,r,n){const i=zge(t,n),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return un(o,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):un(s,e.length)},R:function(t,e){const r=Oge(t);return un(r,e.length)},u:function(t,e){const r=t.getFullYear();return un(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return un(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return un(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Md.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return un(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=Wge(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):un(i,e.length)},I:function(t,e,r){const n=Uge(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):un(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Md.d(t,e)},D:function(t,e,r){const n=bat(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):un(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return un(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return un(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return un(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=$g.noon:n===0?i=$g.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=$g.evening:n>=12?i=$g.afternoon:n>=4?i=$g.morning:i=$g.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Md.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Md.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):un(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):un(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Md.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Md.s(t,e)},S:function(t,e){return Md.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return NG(n);case"XXXX":case"XX":return cp(n);case"XXXXX":case"XXX":default:return cp(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return NG(n);case"xxxx":case"xx":return cp(n);case"xxxxx":case"xxx":default:return cp(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+PG(n,":");case"OOOO":default:return"GMT"+cp(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+PG(n,":");case"zzzz":default:return"GMT"+cp(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return un(n,e.length)},T:function(t,e,r){const n=t.getTime();return un(n,e.length)}};function PG(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+un(s,2)}function NG(t,e){return t%60===0?(t>0?"-":"+")+un(Math.abs(t)/60,2):cp(t,e)}function cp(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=un(Math.trunc(n/60),2),s=un(n%60,2);return r+i+e+s}const BG=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},jge=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},wat=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return BG(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",BG(n,e)).replace("{{time}}",jge(i,e))},Sat={p:jge,P:wat},_at=/^D+$/,Aat=/^Y+$/,xat=["D","DD","YY","YYYY"];function Eat(t){return _at.test(t)}function kat(t){return Aat.test(t)}function Tat(t,e,r){const n=Iat(t,e,r);if(console.warn(n),xat.includes(t))throw new RangeError(n)}function Iat(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Rat=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Mat=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Cat=/^'([^]*?)'?$/,Pat=/''/g,Nat=/[a-zA-Z]/;function Sl(t,e,r){var d,g,y,b,A,x,k,I;const n=G_(),i=(r==null?void 0:r.locale)??n.locale??$ge,s=(r==null?void 0:r.firstWeekContainsDate)??((g=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:g.firstWeekContainsDate)??n.firstWeekContainsDate??((b=(y=n.locale)==null?void 0:y.options)==null?void 0:b.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((x=(A=r==null?void 0:r.locale)==null?void 0:A.options)==null?void 0:x.weekStartsOn)??n.weekStartsOn??((I=(k=n.locale)==null?void 0:k.options)==null?void 0:I.weekStartsOn)??0,a=Wr(t);if(!Lge(a))throw new RangeError("Invalid time value");let u=e.match(Mat).map(R=>{const M=R[0];if(M==="p"||M==="P"){const P=Sat[M];return P(R,i.formatLong)}return R}).join("").match(Rat).map(R=>{if(R==="''")return{isToken:!1,value:"'"};const M=R[0];if(M==="'")return{isToken:!1,value:Bat(R)};if(CG[M])return{isToken:!0,value:R};if(M.match(Nat))throw new RangeError("Format string contains an unescaped latin alphabet character `"+M+"`");return{isToken:!1,value:R}});i.localize.preprocessor&&(u=i.localize.preprocessor(a,u));const f={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return u.map(R=>{if(!R.isToken)return R.value;const M=R.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&kat(M)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Eat(M))&&Tat(M,e,String(t));const P=CG[M[0]];return P(a,M,i.localize,f)}).join("")}function Bat(t){const e=t.match(Cat);return e?e[1].replace(Pat,"'"):t}function Oat(t){const e=Wr(t),r=e.getFullYear(),n=e.getMonth(),i=ka(t,0);return i.setFullYear(r,n+1,0),i.setHours(0,0,0,0),i.getDate()}function Lat(t){return Math.trunc(+Wr(t)/1e3)}function Dat(t){const e=Wr(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(0,0,0,0),e}function Fat(t,e){return $ot(Dat(t),qo(t),e)+1}function iN(t,e){const r=Wr(t),n=Wr(e);return r.getTime()>n.getTime()}function Kge(t,e){const r=Wr(t),n=Wr(e);return+r<+n}function FF(t,e){const r=Wr(t),n=Wr(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function $at(t,e){const r=Wr(t),n=Wr(e);return r.getFullYear()===n.getFullYear()}function m8(t,e){return lo(t,-e)}function y8(t,e){const r=Wr(t),n=r.getFullYear(),i=r.getDate(),s=ka(t,0);s.setFullYear(n,e,15),s.setHours(0,0,0,0);const o=Oat(s);return r.setMonth(e,Math.min(i,o)),r}function OG(t,e){const r=Wr(t);return isNaN(+r)?ka(t,NaN):(r.setFullYear(e),r)}function Uat(t,e){const r=N.createContext(e),n=s=>{const{children:o,...a}=s,u=N.useMemo(()=>a,Object.values(a));return L.jsx(r.Provider,{value:u,children:o})};n.displayName=t+"Provider";function i(s){const o=N.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[n,i]}function no(t,e=[]){let r=[];function n(s,o){const a=N.createContext(o),u=r.length;r=[...r,o];const f=g=>{var I;const{scope:y,children:b,...A}=g,x=((I=y==null?void 0:y[t])==null?void 0:I[u])||a,k=N.useMemo(()=>A,Object.values(A));return L.jsx(x.Provider,{value:k,children:b})};f.displayName=s+"Provider";function d(g,y){var x;const b=((x=y==null?void 0:y[t])==null?void 0:x[u])||a,A=N.useContext(b);if(A)return A;if(o!==void 0)return o;throw new Error(`\`${g}\` must be used within \`${s}\``)}return[f,d]}const i=()=>{const s=r.map(o=>N.createContext(o));return function(a){const u=(a==null?void 0:a[t])||s;return N.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return i.scopeName=t,[n,zat(i,...e)]}function zat(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((a,{useScope:u,scopeName:f})=>{const g=u(s)[`__scope${f}`];return{...a,...g}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function Di(t){const e=N.useRef(t);return N.useEffect(()=>{e.current=t}),N.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}var bs=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},Wat=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Wt=Wat.reduce((t,e)=>{const r=N.forwardRef((n,i)=>{const{asChild:s,...o}=n,a=s?Gi:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),L.jsx(a,{...o,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Hge(t,e){t&&Ak.flushSync(()=>t.dispatchEvent(e))}var $F="Avatar",[jat,l_t]=no($F),[Kat,qge]=jat($F),Vge=N.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,s]=N.useState("idle");return L.jsx(Kat,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:L.jsx(Wt.span,{...n,ref:e})})});Vge.displayName=$F;var Gge="AvatarImage",Yge=N.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...s}=t,o=qge(Gge,r),a=Hat(n,s.referrerPolicy),u=Di(f=>{i(f),o.onImageLoadingStatusChange(f)});return bs(()=>{a!=="idle"&&u(a)},[a,u]),a==="loaded"?L.jsx(Wt.img,{...s,ref:e,src:n}):null});Yge.displayName=Gge;var Zge="AvatarFallback",Xge=N.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,s=qge(Zge,r),[o,a]=N.useState(n===void 0);return N.useEffect(()=>{if(n!==void 0){const u=window.setTimeout(()=>a(!0),n);return()=>window.clearTimeout(u)}},[n]),o&&s.imageLoadingStatus!=="loaded"?L.jsx(Wt.span,{...i,ref:e}):null});Xge.displayName=Zge;function Hat(t,e){const[r,n]=N.useState("idle");return bs(()=>{if(!t){n("error");return}let i=!0;const s=new window.Image,o=a=>()=>{i&&n(a)};return n("loading"),s.onload=o("loaded"),s.onerror=o("error"),s.src=t,e&&(s.referrerPolicy=e),()=>{i=!1}},[t,e]),r}var Jge=Vge,Qge=Yge,eme=Xge,tme={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(St,function(){return function(r){var n={};function i(s){if(n[s])return n[s].exports;var o=n[s]={exports:{},id:s,loaded:!1};return r[s].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}return i.m=r,i.c=n,i.p="",i(0)}([function(r,n,i){const s=i(1),o=i(2),a=new Array(4);function u(x){for(let k=0;k<a.length;k++)a[k]=0;for(let k=0;k<x.length;k++)a[k%4]=(a[k%4]<<5)-a[k%4]+x.charCodeAt(k)}function f(){const x=a[0]^a[0]<<11;return a[0]=a[1],a[1]=a[2],a[2]=a[3],a[3]=a[3]^a[3]>>19^x^x>>8,(a[3]>>>0)/(1<<31>>>0)}function d(){const x=Math.floor(f()*360),k=f()*60+40,I=(f()+f()+f()+f())*25;return[x/360,k/100,I/100]}function g(x){const k=x,I=x,R=Math.ceil(k/2),M=k-R,P=[];for(let j=0;j<I;j++){let V=[];for(let G=0;G<R;G++)V[G]=Math.floor(f()*2.3);const Z=V.slice(0,M).reverse();V=V.concat(Z);for(let G=0;G<V.length;G++)P.push(V[G])}return P}function y(x,k,I,R,M,P){for(let j=0;j<R;j++)for(let V=0;V<M;V++)x.buffer[x.index(k+j,I+V)]=P}function b(x){if(!x.seed)throw new Error("No seed provided");return u(x.seed),Object.assign({size:8,scale:16,color:d(),bgcolor:d(),spotcolor:d()},x)}function A(x){const k=b({seed:x.toLowerCase()}),I=g(k.size),R=Math.sqrt(I.length),M=new s(k.size*k.scale,k.size*k.scale,3);M.color(...o(...k.bgcolor));const P=M.color(...o(...k.color)),j=M.color(...o(...k.spotcolor));for(let V=0;V<I.length;V++){const Z=Math.floor(V/R),G=V%R;if(I[V]){const q=I[V]==1?P:j;y(M,G*k.scale,Z*k.scale,k.scale,k.scale,q)}}return`data:image/png;base64,${M.getBase64()}`}r.exports=A},function(r,n){/**
 * A handy class to calculate color values.
 *
 * @version 1.0
 * @author Robert Eisele <robert@xarg.org>
 * @copyright Copyright (c) 2010, Robert Eisele
 * @link http://www.xarg.org/2010/03/generate-client-side-png-files-using-javascript/
 * @license http://www.opensource.org/licenses/bsd-license.php BSD License
 *
 */r.exports=function(i,s,o){function a(R,M){for(var P=2;P<arguments.length;P++)for(var j=0;j<arguments[P].length;j++)R[M++]=arguments[P].charAt(j)}function u(R){return String.fromCharCode(R>>8&255,R&255)}function f(R){return String.fromCharCode(R>>24&255,R>>16&255,R>>8&255,R&255)}function d(R){return String.fromCharCode(R&255,R>>8&255)}this.width=i,this.height=s,this.depth=o,this.pix_size=s*(i+1),this.data_size=2+this.pix_size+5*Math.floor((65534+this.pix_size)/65535)+4,this.ihdr_offs=0,this.ihdr_size=25,this.plte_offs=this.ihdr_offs+this.ihdr_size,this.plte_size=8+3*o+4,this.trns_offs=this.plte_offs+this.plte_size,this.trns_size=8+o+4,this.idat_offs=this.trns_offs+this.trns_size,this.idat_size=8+this.data_size+4,this.iend_offs=this.idat_offs+this.idat_size,this.iend_size=12,this.buffer_size=this.iend_offs+this.iend_size,this.buffer=new Array,this.palette=new Object,this.pindex=0;for(var g=new Array,y=0;y<this.buffer_size;y++)this.buffer[y]="\0";a(this.buffer,this.ihdr_offs,f(this.ihdr_size-12),"IHDR",f(i),f(s),"\b"),a(this.buffer,this.plte_offs,f(this.plte_size-12),"PLTE"),a(this.buffer,this.trns_offs,f(this.trns_size-12),"tRNS"),a(this.buffer,this.idat_offs,f(this.idat_size-12),"IDAT"),a(this.buffer,this.iend_offs,f(this.iend_size-12),"IEND");var b=30912;b+=31-b%31,a(this.buffer,this.idat_offs+8,u(b));for(var y=0;(y<<16)-1<this.pix_size;y++){var A,x;y+65535<this.pix_size?(A=65535,x="\0"):(A=this.pix_size-(y<<16)-y,x=""),a(this.buffer,this.idat_offs+8+2+(y<<16)+(y<<2),x,d(A),d(~A))}for(var y=0;y<256;y++){for(var k=y,I=0;I<8;I++)k&1?k=-306674912^k>>1&2147483647:k=k>>1&2147483647;g[y]=k}this.index=function(R,M){var P=M*(this.width+1)+R+1,j=this.idat_offs+8+2+5*Math.floor(P/65535+1)+P;return j},this.color=function(R,M,P,j){j=j>=0?j:255;var V=((j<<8|R)<<8|M)<<8|P;if(typeof this.palette[V]>"u"){if(this.pindex==this.depth)return"\0";var Z=this.plte_offs+8+3*this.pindex;this.buffer[Z+0]=String.fromCharCode(R),this.buffer[Z+1]=String.fromCharCode(M),this.buffer[Z+2]=String.fromCharCode(P),this.buffer[this.trns_offs+8+this.pindex]=String.fromCharCode(j),this.palette[V]=String.fromCharCode(this.pindex++)}return this.palette[V]},this.getBase64=function(){var R=this.getDump(),M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",P,j,V,Z,G,q,ae,T=R.length,c=0,h="";do P=R.charCodeAt(c),Z=P>>2,j=R.charCodeAt(c+1),G=(P&3)<<4|j>>4,V=R.charCodeAt(c+2),T<c+2?q=64:q=(j&15)<<2|V>>6,T<c+3?ae=64:ae=V&63,h+=M.charAt(Z)+M.charAt(G)+M.charAt(q)+M.charAt(ae);while((c+=3)<T);return h},this.getDump=function(){for(var R=65521,M=5552,P=1,j=0,V=M,Z=0;Z<this.height;Z++)for(var G=-1;G<this.width;G++)P+=this.buffer[this.index(G,Z)].charCodeAt(0),j+=P,(V-=1)==0&&(P%=R,j%=R,V=M);P%=R,j%=R,a(this.buffer,this.idat_offs+this.idat_size-8,f(j<<16|P));function q(ae,T,c){for(var h=-1,p=4;p<c-4;p+=1)h=g[(h^ae[T+p].charCodeAt(0))&255]^h>>8&16777215;a(ae,T+c-4,f(h^-1))}return q(this.buffer,this.ihdr_offs,this.ihdr_size),q(this.buffer,this.plte_offs,this.plte_size),q(this.buffer,this.trns_offs,this.trns_size),q(this.buffer,this.idat_offs,this.idat_size),q(this.buffer,this.iend_offs,this.iend_size),`PNG\r

`+this.buffer.join("")}}},function(r,n){function i(o,a,u){return u<0&&(u+=1),u>1&&(u-=1),u<1/6?o+(a-o)*6*u:u<1/2?a:u<2/3?o+(a-o)*(2/3-u)*6:o}function s(o,a,u){let f,d,g;if(a==0)f=d=g=u;else{const y=u<.5?u*(1+a):u+a-u*a,b=2*u-y;f=i(b,y,o+1/3),d=i(b,y,o),g=i(b,y,o-1/3)}return[Math.round(f*255),Math.round(d*255),Math.round(g*255),255]}r.exports=s}])})})(tme);var qat=tme.exports;const Vat=ro(qat);function MS(t,[e,r]){return Math.min(r,Math.max(e,t))}function ft(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function p6(t){const e=t+"CollectionProvider",[r,n]=no(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=b=>{const{scope:A,children:x}=b,k=gt.useRef(null),I=gt.useRef(new Map).current;return L.jsx(i,{scope:A,itemMap:I,collectionRef:k,children:x})};o.displayName=e;const a=t+"CollectionSlot",u=gt.forwardRef((b,A)=>{const{scope:x,children:k}=b,I=s(a,x),R=tr(A,I.collectionRef);return L.jsx(Gi,{ref:R,children:k})});u.displayName=a;const f=t+"CollectionItemSlot",d="data-radix-collection-item",g=gt.forwardRef((b,A)=>{const{scope:x,children:k,...I}=b,R=gt.useRef(null),M=tr(A,R),P=s(f,x);return gt.useEffect(()=>(P.itemMap.set(R,{ref:R,...I}),()=>void P.itemMap.delete(R))),L.jsx(Gi,{[d]:"",ref:M,children:k})});g.displayName=f;function y(b){const A=s(t+"CollectionConsumer",b);return gt.useCallback(()=>{const k=A.collectionRef.current;if(!k)return[];const I=Array.from(k.querySelectorAll(`[${d}]`));return Array.from(A.itemMap.values()).sort((P,j)=>I.indexOf(P.ref.current)-I.indexOf(j.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:o,Slot:u,ItemSlot:g},y,n]}var Gat=N.createContext(void 0);function j1(t){const e=N.useContext(Gat);return t||e||"ltr"}function Yat(t,e=globalThis==null?void 0:globalThis.document){const r=Di(t);N.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Zat="DismissableLayer",sN="dismissableLayer.update",Xat="dismissableLayer.pointerDownOutside",Jat="dismissableLayer.focusOutside",LG,rme=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bg=N.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...u}=t,f=N.useContext(rme),[d,g]=N.useState(null),y=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=N.useState({}),A=tr(e,Z=>g(Z)),x=Array.from(f.layers),[k]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),I=x.indexOf(k),R=d?x.indexOf(d):-1,M=f.layersWithOutsidePointerEventsDisabled.size>0,P=R>=I,j=tut(Z=>{const G=Z.target,q=[...f.branches].some(ae=>ae.contains(G));!P||q||(i==null||i(Z),o==null||o(Z),Z.defaultPrevented||a==null||a())},y),V=rut(Z=>{const G=Z.target;[...f.branches].some(ae=>ae.contains(G))||(s==null||s(Z),o==null||o(Z),Z.defaultPrevented||a==null||a())},y);return Yat(Z=>{R===f.layers.size-1&&(n==null||n(Z),!Z.defaultPrevented&&a&&(Z.preventDefault(),a()))},y),N.useEffect(()=>{if(d)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(LG=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(d)),f.layers.add(d),DG(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=LG)}},[d,y,r,f]),N.useEffect(()=>()=>{d&&(f.layers.delete(d),f.layersWithOutsidePointerEventsDisabled.delete(d),DG())},[d,f]),N.useEffect(()=>{const Z=()=>b({});return document.addEventListener(sN,Z),()=>document.removeEventListener(sN,Z)},[]),L.jsx(Wt.div,{...u,ref:A,style:{pointerEvents:M?P?"auto":"none":void 0,...t.style},onFocusCapture:ft(t.onFocusCapture,V.onFocusCapture),onBlurCapture:ft(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:ft(t.onPointerDownCapture,j.onPointerDownCapture)})});bg.displayName=Zat;var Qat="DismissableLayerBranch",eut=N.forwardRef((t,e)=>{const r=N.useContext(rme),n=N.useRef(null),i=tr(e,n);return N.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),L.jsx(Wt.div,{...t,ref:i})});eut.displayName=Qat;function tut(t,e=globalThis==null?void 0:globalThis.document){const r=Di(t),n=N.useRef(!1),i=N.useRef(()=>{});return N.useEffect(()=>{const s=a=>{if(a.target&&!n.current){let u=function(){nme(Xat,r,f,{discrete:!0})};const f={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function rut(t,e=globalThis==null?void 0:globalThis.document){const r=Di(t),n=N.useRef(!1);return N.useEffect(()=>{const i=s=>{s.target&&!n.current&&nme(Jat,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function DG(){const t=new CustomEvent(sN);document.dispatchEvent(t)}function nme(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?Hge(i,s):i.dispatchEvent(s)}var b8=0;function g6(){N.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??FG()),document.body.insertAdjacentElement("beforeend",t[1]??FG()),b8++,()=>{b8===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),b8--}},[])}function FG(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var v8="focusScope.autoFocusOnMount",w8="focusScope.autoFocusOnUnmount",$G={bubbles:!1,cancelable:!0},nut="FocusScope",Y_=N.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,u]=N.useState(null),f=Di(i),d=Di(s),g=N.useRef(null),y=tr(e,x=>u(x)),b=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(n){let x=function(M){if(b.paused||!a)return;const P=M.target;a.contains(P)?g.current=P:Nd(g.current,{select:!0})},k=function(M){if(b.paused||!a)return;const P=M.relatedTarget;P!==null&&(a.contains(P)||Nd(g.current,{select:!0}))},I=function(M){if(document.activeElement===document.body)for(const j of M)j.removedNodes.length>0&&Nd(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",k);const R=new MutationObserver(I);return a&&R.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",k),R.disconnect()}}},[n,a,b.paused]),N.useEffect(()=>{if(a){zG.add(b);const x=document.activeElement;if(!a.contains(x)){const I=new CustomEvent(v8,$G);a.addEventListener(v8,f),a.dispatchEvent(I),I.defaultPrevented||(iut(cut(ime(a)),{select:!0}),document.activeElement===x&&Nd(a))}return()=>{a.removeEventListener(v8,f),setTimeout(()=>{const I=new CustomEvent(w8,$G);a.addEventListener(w8,d),a.dispatchEvent(I),I.defaultPrevented||Nd(x??document.body,{select:!0}),a.removeEventListener(w8,d),zG.remove(b)},0)}}},[a,f,d,b]);const A=N.useCallback(x=>{if(!r&&!n||b.paused)return;const k=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,I=document.activeElement;if(k&&I){const R=x.currentTarget,[M,P]=sut(R);M&&P?!x.shiftKey&&I===P?(x.preventDefault(),r&&Nd(M,{select:!0})):x.shiftKey&&I===M&&(x.preventDefault(),r&&Nd(P,{select:!0})):I===R&&x.preventDefault()}},[r,n,b.paused]);return L.jsx(Wt.div,{tabIndex:-1,...o,ref:y,onKeyDown:A})});Y_.displayName=nut;function iut(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Nd(n,{select:e}),document.activeElement!==r)return}function sut(t){const e=ime(t),r=UG(e,t),n=UG(e.reverse(),t);return[r,n]}function ime(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function UG(t,e){for(const r of t)if(!out(r,{upTo:e}))return r}function out(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function aut(t){return t instanceof HTMLInputElement&&"select"in t}function Nd(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&aut(t)&&e&&t.select()}}var zG=uut();function uut(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=WG(t,e),t.unshift(e)},remove(e){var r;t=WG(t,e),(r=t[0])==null||r.resume()}}}function WG(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function cut(t){return t.filter(e=>e.tagName!=="A")}var lut=Qwe.useId||(()=>{}),fut=0;function tu(t){const[e,r]=N.useState(lut());return bs(()=>{r(n=>n??String(fut++))},[t]),t||(e?`radix-${e}`:"")}const dut=["top","right","bottom","left"],Bh=Math.min,ma=Math.max,tk=Math.round,d2=Math.floor,ul=t=>({x:t,y:t}),hut={left:"right",right:"left",bottom:"top",top:"bottom"},put={start:"end",end:"start"};function oN(t,e,r){return ma(t,Bh(e,r))}function rd(t,e){return typeof t=="function"?t(e):t}function nd(t){return t.split("-")[0]}function K1(t){return t.split("-")[1]}function UF(t){return t==="x"?"y":"x"}function zF(t){return t==="y"?"height":"width"}function Oh(t){return["top","bottom"].includes(nd(t))?"y":"x"}function WF(t){return UF(Oh(t))}function gut(t,e,r){r===void 0&&(r=!1);const n=K1(t),i=WF(t),s=zF(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=rk(o)),[o,rk(o)]}function mut(t){const e=rk(t);return[aN(t),e,aN(e)]}function aN(t){return t.replace(/start|end/g,e=>put[e])}function yut(t,e,r){const n=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?i:n:e?n:i;case"left":case"right":return e?s:o;default:return[]}}function but(t,e,r,n){const i=K1(t);let s=yut(nd(t),r==="start",n);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(aN)))),s}function rk(t){return t.replace(/left|right|bottom|top/g,e=>hut[e])}function vut(t){return{top:0,right:0,bottom:0,left:0,...t}}function sme(t){return typeof t!="number"?vut(t):{top:t,right:t,bottom:t,left:t}}function nk(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function jG(t,e,r){let{reference:n,floating:i}=t;const s=Oh(e),o=WF(e),a=zF(o),u=nd(e),f=s==="y",d=n.x+n.width/2-i.width/2,g=n.y+n.height/2-i.height/2,y=n[a]/2-i[a]/2;let b;switch(u){case"top":b={x:d,y:n.y-i.height};break;case"bottom":b={x:d,y:n.y+n.height};break;case"right":b={x:n.x+n.width,y:g};break;case"left":b={x:n.x-i.width,y:g};break;default:b={x:n.x,y:n.y}}switch(K1(e)){case"start":b[o]-=y*(r&&f?-1:1);break;case"end":b[o]+=y*(r&&f?-1:1);break}return b}const wut=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=r,a=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let f=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:g}=jG(f,n,u),y=n,b={},A=0;for(let x=0;x<a.length;x++){const{name:k,fn:I}=a[x],{x:R,y:M,data:P,reset:j}=await I({x:d,y:g,initialPlacement:n,placement:y,strategy:i,middlewareData:b,rects:f,platform:o,elements:{reference:t,floating:e}});d=R??d,g=M??g,b={...b,[k]:{...b[k],...P}},j&&A<=50&&(A++,typeof j=="object"&&(j.placement&&(y=j.placement),j.rects&&(f=j.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):j.rects),{x:d,y:g}=jG(f,y,u)),x=-1)}return{x:d,y:g,placement:y,strategy:i,middlewareData:b}};async function CS(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:o,elements:a,strategy:u}=t,{boundary:f="clippingAncestors",rootBoundary:d="viewport",elementContext:g="floating",altBoundary:y=!1,padding:b=0}=rd(e,t),A=sme(b),k=a[y?g==="floating"?"reference":"floating":g],I=nk(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(k)))==null||r?k:k.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:f,rootBoundary:d,strategy:u})),R=g==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,M=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),P=await(s.isElement==null?void 0:s.isElement(M))?await(s.getScale==null?void 0:s.getScale(M))||{x:1,y:1}:{x:1,y:1},j=nk(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:R,offsetParent:M,strategy:u}):R);return{top:(I.top-j.top+A.top)/P.y,bottom:(j.bottom-I.bottom+A.bottom)/P.y,left:(I.left-j.left+A.left)/P.x,right:(j.right-I.right+A.right)/P.x}}const Sut=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:s,platform:o,elements:a,middlewareData:u}=e,{element:f,padding:d=0}=rd(t,e)||{};if(f==null)return{};const g=sme(d),y={x:r,y:n},b=WF(i),A=zF(b),x=await o.getDimensions(f),k=b==="y",I=k?"top":"left",R=k?"bottom":"right",M=k?"clientHeight":"clientWidth",P=s.reference[A]+s.reference[b]-y[b]-s.floating[A],j=y[b]-s.reference[b],V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(f));let Z=V?V[M]:0;(!Z||!await(o.isElement==null?void 0:o.isElement(V)))&&(Z=a.floating[M]||s.floating[A]);const G=P/2-j/2,q=Z/2-x[A]/2-1,ae=Bh(g[I],q),T=Bh(g[R],q),c=ae,h=Z-x[A]-T,p=Z/2-x[A]/2+G,m=oN(c,p,h),v=!u.arrow&&K1(i)!=null&&p!==m&&s.reference[A]/2-(p<c?ae:T)-x[A]/2<0,_=v?p<c?p-c:p-h:0;return{[b]:y[b]+_,data:{[b]:m,centerOffset:p-m-_,...v&&{alignmentOffset:_}},reset:v}}}),_ut=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:u,elements:f}=e,{mainAxis:d=!0,crossAxis:g=!0,fallbackPlacements:y,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:x=!0,...k}=rd(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const I=nd(i),R=Oh(a),M=nd(a)===a,P=await(u.isRTL==null?void 0:u.isRTL(f.floating)),j=y||(M||!x?[rk(a)]:mut(a)),V=A!=="none";!y&&V&&j.push(...but(a,x,A,P));const Z=[a,...j],G=await CS(e,k),q=[];let ae=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&q.push(G[I]),g){const p=gut(i,o,P);q.push(G[p[0]],G[p[1]])}if(ae=[...ae,{placement:i,overflows:q}],!q.every(p=>p<=0)){var T,c;const p=(((T=s.flip)==null?void 0:T.index)||0)+1,m=Z[p];if(m)return{data:{index:p,overflows:ae},reset:{placement:m}};let v=(c=ae.filter(_=>_.overflows[0]<=0).sort((_,E)=>_.overflows[1]-E.overflows[1])[0])==null?void 0:c.placement;if(!v)switch(b){case"bestFit":{var h;const _=(h=ae.filter(E=>{if(V){const w=Oh(E.placement);return w===R||w==="y"}return!0}).map(E=>[E.placement,E.overflows.filter(w=>w>0).reduce((w,l)=>w+l,0)]).sort((E,w)=>E[1]-w[1])[0])==null?void 0:h[0];_&&(v=_);break}case"initialPlacement":v=a;break}if(i!==v)return{reset:{placement:v}}}return{}}}};function KG(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function HG(t){return dut.some(e=>t[e]>=0)}const Aut=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=rd(t,e);switch(n){case"referenceHidden":{const s=await CS(e,{...i,elementContext:"reference"}),o=KG(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:HG(o)}}}case"escaped":{const s=await CS(e,{...i,altBoundary:!0}),o=KG(s,r.floating);return{data:{escapedOffsets:o,escaped:HG(o)}}}default:return{}}}}};async function xut(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=nd(r),a=K1(r),u=Oh(r)==="y",f=["left","top"].includes(o)?-1:1,d=s&&u?-1:1,g=rd(e,t);let{mainAxis:y,crossAxis:b,alignmentAxis:A}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return a&&typeof A=="number"&&(b=a==="end"?A*-1:A),u?{x:b*d,y:y*f}:{x:y*f,y:b*d}}const Eut=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:o,middlewareData:a}=e,u=await xut(e,t);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:o}}}}},kut=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:k=>{let{x:I,y:R}=k;return{x:I,y:R}}},...u}=rd(t,e),f={x:r,y:n},d=await CS(e,u),g=Oh(nd(i)),y=UF(g);let b=f[y],A=f[g];if(s){const k=y==="y"?"top":"left",I=y==="y"?"bottom":"right",R=b+d[k],M=b-d[I];b=oN(R,b,M)}if(o){const k=g==="y"?"top":"left",I=g==="y"?"bottom":"right",R=A+d[k],M=A-d[I];A=oN(R,A,M)}const x=a.fn({...e,[y]:b,[g]:A});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[y]:s,[g]:o}}}}}},Tut=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:u=!0,crossAxis:f=!0}=rd(t,e),d={x:r,y:n},g=Oh(i),y=UF(g);let b=d[y],A=d[g];const x=rd(a,e),k=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(u){const M=y==="y"?"height":"width",P=s.reference[y]-s.floating[M]+k.mainAxis,j=s.reference[y]+s.reference[M]-k.mainAxis;b<P?b=P:b>j&&(b=j)}if(f){var I,R;const M=y==="y"?"width":"height",P=["top","left"].includes(nd(i)),j=s.reference[g]-s.floating[M]+(P&&((I=o.offset)==null?void 0:I[g])||0)+(P?0:k.crossAxis),V=s.reference[g]+s.reference[M]+(P?0:((R=o.offset)==null?void 0:R[g])||0)-(P?k.crossAxis:0);A<j?A=j:A>V&&(A=V)}return{[y]:b,[g]:A}}}},Iut=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:u=()=>{},...f}=rd(t,e),d=await CS(e,f),g=nd(i),y=K1(i),b=Oh(i)==="y",{width:A,height:x}=s.floating;let k,I;g==="top"||g==="bottom"?(k=g,I=y===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(I=g,k=y==="end"?"top":"bottom");const R=x-d.top-d.bottom,M=A-d.left-d.right,P=Bh(x-d[k],R),j=Bh(A-d[I],M),V=!e.middlewareData.shift;let Z=P,G=j;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(G=M),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(Z=R),V&&!y){const ae=ma(d.left,0),T=ma(d.right,0),c=ma(d.top,0),h=ma(d.bottom,0);b?G=A-2*(ae!==0||T!==0?ae+T:ma(d.left,d.right)):Z=x-2*(c!==0||h!==0?c+h:ma(d.top,d.bottom))}await u({...e,availableWidth:G,availableHeight:Z});const q=await o.getDimensions(a.floating);return A!==q.width||x!==q.height?{reset:{rects:!0}}:{}}}};function m6(){return typeof window<"u"}function H1(t){return ome(t)?(t.nodeName||"").toLowerCase():"#document"}function va(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Pl(t){var e;return(e=(ome(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function ome(t){return m6()?t instanceof Node||t instanceof va(t).Node:!1}function tc(t){return m6()?t instanceof Element||t instanceof va(t).Element:!1}function _l(t){return m6()?t instanceof HTMLElement||t instanceof va(t).HTMLElement:!1}function qG(t){return!m6()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof va(t).ShadowRoot}function Z_(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=rc(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function Rut(t){return["table","td","th"].includes(H1(t))}function y6(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function jF(t){const e=KF(),r=tc(t)?rc(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Mut(t){let e=Lh(t);for(;_l(e)&&!Qb(e);){if(jF(e))return e;if(y6(e))return null;e=Lh(e)}return null}function KF(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Qb(t){return["html","body","#document"].includes(H1(t))}function rc(t){return va(t).getComputedStyle(t)}function b6(t){return tc(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Lh(t){if(H1(t)==="html")return t;const e=t.assignedSlot||t.parentNode||qG(t)&&t.host||Pl(t);return qG(e)?e.host:e}function ame(t){const e=Lh(t);return Qb(e)?t.ownerDocument?t.ownerDocument.body:t.body:_l(e)&&Z_(e)?e:ame(e)}function PS(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=ame(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),o=va(i);if(s){const a=uN(o);return e.concat(o,o.visualViewport||[],Z_(i)?i:[],a&&r?PS(a):[])}return e.concat(i,PS(i,[],r))}function uN(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function ume(t){const e=rc(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=_l(t),s=i?t.offsetWidth:r,o=i?t.offsetHeight:n,a=tk(r)!==s||tk(n)!==o;return a&&(r=s,n=o),{width:r,height:n,$:a}}function HF(t){return tc(t)?t:t.contextElement}function Sy(t){const e=HF(t);if(!_l(e))return ul(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=ume(e);let o=(s?tk(r.width):r.width)/n,a=(s?tk(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Cut=ul(0);function cme(t){const e=va(t);return!KF()||!e.visualViewport?Cut:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Put(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==va(t)?!1:e}function H0(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=HF(t);let o=ul(1);e&&(n?tc(n)&&(o=Sy(n)):o=Sy(t));const a=Put(s,r,n)?cme(s):ul(0);let u=(i.left+a.x)/o.x,f=(i.top+a.y)/o.y,d=i.width/o.x,g=i.height/o.y;if(s){const y=va(s),b=n&&tc(n)?va(n):n;let A=y,x=uN(A);for(;x&&n&&b!==A;){const k=Sy(x),I=x.getBoundingClientRect(),R=rc(x),M=I.left+(x.clientLeft+parseFloat(R.paddingLeft))*k.x,P=I.top+(x.clientTop+parseFloat(R.paddingTop))*k.y;u*=k.x,f*=k.y,d*=k.x,g*=k.y,u+=M,f+=P,A=va(x),x=uN(A)}}return nk({width:d,height:g,x:u,y:f})}function qF(t,e){const r=b6(t).scrollLeft;return e?e.left+r:H0(Pl(t)).left+r}function lme(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:qF(t,n)),s=n.top+e.scrollTop;return{x:i,y:s}}function Nut(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",o=Pl(n),a=e?y6(e.floating):!1;if(n===o||a&&s)return r;let u={scrollLeft:0,scrollTop:0},f=ul(1);const d=ul(0),g=_l(n);if((g||!g&&!s)&&((H1(n)!=="body"||Z_(o))&&(u=b6(n)),_l(n))){const b=H0(n);f=Sy(n),d.x=b.x+n.clientLeft,d.y=b.y+n.clientTop}const y=o&&!g&&!s?lme(o,u,!0):ul(0);return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-u.scrollLeft*f.x+d.x+y.x,y:r.y*f.y-u.scrollTop*f.y+d.y+y.y}}function But(t){return Array.from(t.getClientRects())}function Out(t){const e=Pl(t),r=b6(t),n=t.ownerDocument.body,i=ma(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=ma(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+qF(t);const a=-r.scrollTop;return rc(n).direction==="rtl"&&(o+=ma(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:a}}function Lut(t,e){const r=va(t),n=Pl(t),i=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,a=0,u=0;if(i){s=i.width,o=i.height;const f=KF();(!f||f&&e==="fixed")&&(a=i.offsetLeft,u=i.offsetTop)}return{width:s,height:o,x:a,y:u}}function Dut(t,e){const r=H0(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=_l(t)?Sy(t):ul(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,u=i*s.x,f=n*s.y;return{width:o,height:a,x:u,y:f}}function VG(t,e,r){let n;if(e==="viewport")n=Lut(t,r);else if(e==="document")n=Out(Pl(t));else if(tc(e))n=Dut(e,r);else{const i=cme(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return nk(n)}function fme(t,e){const r=Lh(t);return r===e||!tc(r)||Qb(r)?!1:rc(r).position==="fixed"||fme(r,e)}function Fut(t,e){const r=e.get(t);if(r)return r;let n=PS(t,[],!1).filter(a=>tc(a)&&H1(a)!=="body"),i=null;const s=rc(t).position==="fixed";let o=s?Lh(t):t;for(;tc(o)&&!Qb(o);){const a=rc(o),u=jF(o);!u&&a.position==="fixed"&&(i=null),(s?!u&&!i:!u&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Z_(o)&&!u&&fme(t,o))?n=n.filter(d=>d!==o):i=a,o=Lh(o)}return e.set(t,n),n}function $ut(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?y6(e)?[]:Fut(e,this._c):[].concat(r),n],a=o[0],u=o.reduce((f,d)=>{const g=VG(e,d,i);return f.top=ma(g.top,f.top),f.right=Bh(g.right,f.right),f.bottom=Bh(g.bottom,f.bottom),f.left=ma(g.left,f.left),f},VG(e,a,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Uut(t){const{width:e,height:r}=ume(t);return{width:e,height:r}}function zut(t,e,r){const n=_l(e),i=Pl(e),s=r==="fixed",o=H0(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const u=ul(0);if(n||!n&&!s)if((H1(e)!=="body"||Z_(i))&&(a=b6(e)),n){const y=H0(e,!0,s,e);u.x=y.x+e.clientLeft,u.y=y.y+e.clientTop}else i&&(u.x=qF(i));const f=i&&!n&&!s?lme(i,a):ul(0),d=o.left+a.scrollLeft-u.x-f.x,g=o.top+a.scrollTop-u.y-f.y;return{x:d,y:g,width:o.width,height:o.height}}function S8(t){return rc(t).position==="static"}function GG(t,e){if(!_l(t)||rc(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Pl(t)===r&&(r=r.ownerDocument.body),r}function dme(t,e){const r=va(t);if(y6(t))return r;if(!_l(t)){let i=Lh(t);for(;i&&!Qb(i);){if(tc(i)&&!S8(i))return i;i=Lh(i)}return r}let n=GG(t,e);for(;n&&Rut(n)&&S8(n);)n=GG(n,e);return n&&Qb(n)&&S8(n)&&!jF(n)?r:n||Mut(t)||r}const Wut=async function(t){const e=this.getOffsetParent||dme,r=this.getDimensions,n=await r(t.floating);return{reference:zut(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function jut(t){return rc(t).direction==="rtl"}const Kut={convertOffsetParentRelativeRectToViewportRelativeRect:Nut,getDocumentElement:Pl,getClippingRect:$ut,getOffsetParent:dme,getElementRects:Wut,getClientRects:But,getDimensions:Uut,getScale:Sy,isElement:tc,isRTL:jut};function hme(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Hut(t,e){let r=null,n;const i=Pl(t);function s(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),s();const f=t.getBoundingClientRect(),{left:d,top:g,width:y,height:b}=f;if(a||e(),!y||!b)return;const A=d2(g),x=d2(i.clientWidth-(d+y)),k=d2(i.clientHeight-(g+b)),I=d2(d),M={rootMargin:-A+"px "+-x+"px "+-k+"px "+-I+"px",threshold:ma(0,Bh(1,u))||1};let P=!0;function j(V){const Z=V[0].intersectionRatio;if(Z!==u){if(!P)return o();Z?o(!1,Z):n=setTimeout(()=>{o(!1,1e-7)},1e3)}Z===1&&!hme(f,t.getBoundingClientRect())&&o(),P=!1}try{r=new IntersectionObserver(j,{...M,root:i.ownerDocument})}catch{r=new IntersectionObserver(j,M)}r.observe(t)}return o(!0),s}function qut(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,f=HF(t),d=i||s?[...f?PS(f):[],...PS(e)]:[];d.forEach(I=>{i&&I.addEventListener("scroll",r,{passive:!0}),s&&I.addEventListener("resize",r)});const g=f&&a?Hut(f,r):null;let y=-1,b=null;o&&(b=new ResizeObserver(I=>{let[R]=I;R&&R.target===f&&b&&(b.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var M;(M=b)==null||M.observe(e)})),r()}),f&&!u&&b.observe(f),b.observe(e));let A,x=u?H0(t):null;u&&k();function k(){const I=H0(t);x&&!hme(x,I)&&r(),x=I,A=requestAnimationFrame(k)}return r(),()=>{var I;d.forEach(R=>{i&&R.removeEventListener("scroll",r),s&&R.removeEventListener("resize",r)}),g==null||g(),(I=b)==null||I.disconnect(),b=null,u&&cancelAnimationFrame(A)}}const Vut=Eut,Gut=kut,Yut=_ut,Zut=Iut,Xut=Aut,YG=Sut,Jut=Tut,Qut=(t,e,r)=>{const n=new Map,i={platform:Kut,...r},s={...i.platform,_c:n};return wut(t,e,{...i,platform:s})};var bx=typeof document<"u"?N.useLayoutEffect:N.useEffect;function ik(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!ik(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!ik(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function pme(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ZG(t,e){const r=pme(t);return Math.round(e*r)/r}function _8(t){const e=N.useRef(t);return bx(()=>{e.current=t}),e}function ect(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:u,open:f}=t,[d,g]=N.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[y,b]=N.useState(n);ik(y,n)||b(n);const[A,x]=N.useState(null),[k,I]=N.useState(null),R=N.useCallback(E=>{E!==V.current&&(V.current=E,x(E))},[]),M=N.useCallback(E=>{E!==Z.current&&(Z.current=E,I(E))},[]),P=s||A,j=o||k,V=N.useRef(null),Z=N.useRef(null),G=N.useRef(d),q=u!=null,ae=_8(u),T=_8(i),c=_8(f),h=N.useCallback(()=>{if(!V.current||!Z.current)return;const E={placement:e,strategy:r,middleware:y};T.current&&(E.platform=T.current),Qut(V.current,Z.current,E).then(w=>{const l={...w,isPositioned:c.current!==!1};p.current&&!ik(G.current,l)&&(G.current=l,Ak.flushSync(()=>{g(l)}))})},[y,e,r,T,c]);bx(()=>{f===!1&&G.current.isPositioned&&(G.current.isPositioned=!1,g(E=>({...E,isPositioned:!1})))},[f]);const p=N.useRef(!1);bx(()=>(p.current=!0,()=>{p.current=!1}),[]),bx(()=>{if(P&&(V.current=P),j&&(Z.current=j),P&&j){if(ae.current)return ae.current(P,j,h);h()}},[P,j,h,ae,q]);const m=N.useMemo(()=>({reference:V,floating:Z,setReference:R,setFloating:M}),[R,M]),v=N.useMemo(()=>({reference:P,floating:j}),[P,j]),_=N.useMemo(()=>{const E={position:r,left:0,top:0};if(!v.floating)return E;const w=ZG(v.floating,d.x),l=ZG(v.floating,d.y);return a?{...E,transform:"translate("+w+"px, "+l+"px)",...pme(v.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:w,top:l}},[r,a,v.floating,d.x,d.y]);return N.useMemo(()=>({...d,update:h,refs:m,elements:v,floatingStyles:_}),[d,h,m,v,_])}const tct=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?YG({element:n.current,padding:i}).fn(r):{}:n?YG({element:n,padding:i}).fn(r):{}}}},rct=(t,e)=>({...Vut(t),options:[t,e]}),nct=(t,e)=>({...Gut(t),options:[t,e]}),ict=(t,e)=>({...Jut(t),options:[t,e]}),sct=(t,e)=>({...Yut(t),options:[t,e]}),oct=(t,e)=>({...Zut(t),options:[t,e]}),act=(t,e)=>({...Xut(t),options:[t,e]}),uct=(t,e)=>({...tct(t),options:[t,e]});var cct="Arrow",gme=N.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return L.jsx(Wt.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:L.jsx("polygon",{points:"0,0 30,0 15,10"})})});gme.displayName=cct;var lct=gme;function v6(t){const[e,r]=N.useState(void 0);return bs(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const u=s.borderBoxSize,f=Array.isArray(u)?u[0]:u;o=f.inlineSize,a=f.blockSize}else o=t.offsetWidth,a=t.offsetHeight;r({width:o,height:a})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var VF="Popper",[mme,Nl]=no(VF),[fct,yme]=mme(VF),bme=t=>{const{__scopePopper:e,children:r}=t,[n,i]=N.useState(null);return L.jsx(fct,{scope:e,anchor:n,onAnchorChange:i,children:r})};bme.displayName=VF;var vme="PopperAnchor",wme=N.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=yme(vme,r),o=N.useRef(null),a=tr(e,o);return N.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:L.jsx(Wt.div,{...i,ref:a})});wme.displayName=vme;var GF="PopperContent",[dct,hct]=mme(GF),Sme=N.forwardRef((t,e)=>{var F,H,Q,te,X,K;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:u=!0,collisionBoundary:f=[],collisionPadding:d=0,sticky:g="partial",hideWhenDetached:y=!1,updatePositionStrategy:b="optimized",onPlaced:A,...x}=t,k=yme(GF,r),[I,R]=N.useState(null),M=tr(e,oe=>R(oe)),[P,j]=N.useState(null),V=v6(P),Z=(V==null?void 0:V.width)??0,G=(V==null?void 0:V.height)??0,q=n+(s!=="center"?"-"+s:""),ae=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},T=Array.isArray(f)?f:[f],c=T.length>0,h={padding:ae,boundary:T.filter(gct),altBoundary:c},{refs:p,floatingStyles:m,placement:v,isPositioned:_,middlewareData:E}=ect({strategy:"fixed",placement:q,whileElementsMounted:(...oe)=>qut(...oe,{animationFrame:b==="always"}),elements:{reference:k.anchor},middleware:[rct({mainAxis:i+G,alignmentAxis:o}),u&&nct({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?ict():void 0,...h}),u&&sct({...h}),oct({...h,apply:({elements:oe,rects:_e,availableWidth:Se,availableHeight:W})=>{const{width:re,height:ne}=_e.reference,se=oe.floating.style;se.setProperty("--radix-popper-available-width",`${Se}px`),se.setProperty("--radix-popper-available-height",`${W}px`),se.setProperty("--radix-popper-anchor-width",`${re}px`),se.setProperty("--radix-popper-anchor-height",`${ne}px`)}}),P&&uct({element:P,padding:a}),mct({arrowWidth:Z,arrowHeight:G}),y&&act({strategy:"referenceHidden",...h})]}),[w,l]=xme(v),S=Di(A);bs(()=>{_&&(S==null||S())},[_,S]);const C=(F=E.arrow)==null?void 0:F.x,D=(H=E.arrow)==null?void 0:H.y,U=((Q=E.arrow)==null?void 0:Q.centerOffset)!==0,[O,$]=N.useState();return bs(()=>{I&&$(window.getComputedStyle(I).zIndex)},[I]),L.jsx("div",{ref:p.setFloating,"data-radix-popper-content-wrapper":"",style:{...m,transform:_?m.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:O,"--radix-popper-transform-origin":[(te=E.transformOrigin)==null?void 0:te.x,(X=E.transformOrigin)==null?void 0:X.y].join(" "),...((K=E.hide)==null?void 0:K.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:L.jsx(dct,{scope:r,placedSide:w,onArrowChange:j,arrowX:C,arrowY:D,shouldHideArrow:U,children:L.jsx(Wt.div,{"data-side":w,"data-align":l,...x,ref:M,style:{...x.style,animation:_?void 0:"none"}})})})});Sme.displayName=GF;var _me="PopperArrow",pct={top:"bottom",right:"left",bottom:"top",left:"right"},Ame=N.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=hct(_me,n),o=pct[s.placedSide];return L.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:L.jsx(lct,{...i,ref:r,style:{...i.style,display:"block"}})})});Ame.displayName=_me;function gct(t){return t!==null}var mct=t=>({name:"transformOrigin",options:t,fn(e){var k,I,R;const{placement:r,rects:n,middlewareData:i}=e,o=((k=i.arrow)==null?void 0:k.centerOffset)!==0,a=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[f,d]=xme(r),g={start:"0%",center:"50%",end:"100%"}[d],y=(((I=i.arrow)==null?void 0:I.x)??0)+a/2,b=(((R=i.arrow)==null?void 0:R.y)??0)+u/2;let A="",x="";return f==="bottom"?(A=o?g:`${y}px`,x=`${-u}px`):f==="top"?(A=o?g:`${y}px`,x=`${n.floating.height+u}px`):f==="right"?(A=`${-u}px`,x=o?g:`${b}px`):f==="left"&&(A=`${n.floating.width+u}px`,x=o?g:`${b}px`),{data:{x:A,y:x}}}});function xme(t){const[e,r="center"]=t.split("-");return[e,r]}var X_=bme,q1=wme,J_=Sme,Q_=Ame,yct="Portal",vg=N.forwardRef((t,e)=>{var a;const{container:r,...n}=t,[i,s]=N.useState(!1);bs(()=>s(!0),[]);const o=r||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?eSe.createPortal(L.jsx(Wt.div,{...n,ref:e}),o):null});vg.displayName=yct;function au({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,i]=bct({defaultProp:e,onChange:r}),s=t!==void 0,o=s?t:n,a=Di(r),u=N.useCallback(f=>{if(s){const g=typeof f=="function"?f(t):f;g!==t&&a(g)}else i(f)},[s,t,i,a]);return[o,u]}function bct({defaultProp:t,onChange:e}){const r=N.useState(t),[n]=r,i=N.useRef(n),s=Di(e);return N.useEffect(()=>{i.current!==n&&(s(n),i.current=n)},[n,i,s]),r}function w6(t){const e=N.useRef({value:t,previous:t});return N.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var vct="VisuallyHidden",YF=N.forwardRef((t,e)=>L.jsx(Wt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));YF.displayName=vct;var wct=YF,Sct=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ug=new WeakMap,h2=new WeakMap,p2={},A8=0,Eme=function(t){return t&&(t.host||Eme(t.parentNode))},_ct=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=Eme(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},Act=function(t,e,r,n){var i=_ct(e,Array.isArray(t)?t:[t]);p2[r]||(p2[r]=new WeakMap);var s=p2[r],o=[],a=new Set,u=new Set(i),f=function(g){!g||a.has(g)||(a.add(g),f(g.parentNode))};i.forEach(f);var d=function(g){!g||u.has(g)||Array.prototype.forEach.call(g.children,function(y){if(a.has(y))d(y);else try{var b=y.getAttribute(n),A=b!==null&&b!=="false",x=(Ug.get(y)||0)+1,k=(s.get(y)||0)+1;Ug.set(y,x),s.set(y,k),o.push(y),x===1&&A&&h2.set(y,!0),k===1&&y.setAttribute(r,"true"),A||y.setAttribute(n,"true")}catch(I){console.error("aria-hidden: cannot operate on ",y,I)}})};return d(e),a.clear(),A8++,function(){o.forEach(function(g){var y=Ug.get(g)-1,b=s.get(g)-1;Ug.set(g,y),s.set(g,b),y||(h2.has(g)||g.removeAttribute(n),h2.delete(g)),b||g.removeAttribute(r)}),A8--,A8||(Ug=new WeakMap,Ug=new WeakMap,h2=new WeakMap,p2={})}},S6=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=Sct(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),Act(n,i,r,"aria-hidden")):function(){return null}},vx="right-scroll-bar-position",wx="width-before-scroll-bar",xct="with-scroll-bars-hidden",Ect="--removed-body-scroll-bar-size";function x8(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function kct(t,e){var r=N.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var Tct=typeof window<"u"?N.useLayoutEffect:N.useEffect,XG=new WeakMap;function Ict(t,e){var r=kct(null,function(n){return t.forEach(function(i){return x8(i,n)})});return Tct(function(){var n=XG.get(r);if(n){var i=new Set(n),s=new Set(t),o=r.current;i.forEach(function(a){s.has(a)||x8(a,null)}),s.forEach(function(a){i.has(a)||x8(a,o)})}XG.set(r,t)},[t]),r}function Rct(t){return t}function Mct(t,e){e===void 0&&(e=Rct);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(s){var o=e(s,n);return r.push(o),function(){r=r.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(a){return s(a)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var a=r;r=[],a.forEach(s),o=r}var u=function(){var d=o;o=[],d.forEach(s)},f=function(){return Promise.resolve().then(u)};f(),r={push:function(d){o.push(d),f()},filter:function(d){return o=o.filter(d),r}}}};return i}function Cct(t){t===void 0&&(t={});var e=Mct(null);return e.options=Nt({async:!0,ssr:!1},t),e}var kme=function(t){var e=t.sideCar,r=ES(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return N.createElement(n,Nt({},r))};kme.isSideCarExport=!0;function Pct(t,e){return t.useMedium(e),kme}var Tme=Cct(),E8=function(){},_6=N.forwardRef(function(t,e){var r=N.useRef(null),n=N.useState({onScrollCapture:E8,onWheelCapture:E8,onTouchMoveCapture:E8}),i=n[0],s=n[1],o=t.forwardProps,a=t.children,u=t.className,f=t.removeScrollBar,d=t.enabled,g=t.shards,y=t.sideCar,b=t.noIsolation,A=t.inert,x=t.allowPinchZoom,k=t.as,I=k===void 0?"div":k,R=t.gapMode,M=ES(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=y,j=Ict([r,e]),V=Nt(Nt({},M),i);return N.createElement(N.Fragment,null,d&&N.createElement(P,{sideCar:Tme,removeScrollBar:f,shards:g,noIsolation:b,inert:A,setCallbacks:s,allowPinchZoom:!!x,lockRef:r,gapMode:R}),o?N.cloneElement(N.Children.only(a),Nt(Nt({},V),{ref:j})):N.createElement(I,Nt({},V,{className:u,ref:j}),a))});_6.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_6.classNames={fullWidth:wx,zeroRight:vx};var Nct=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Bct(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Nct();return e&&t.setAttribute("nonce",e),t}function Oct(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Lct(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Dct=function(){var t=0,e=null;return{add:function(r){t==0&&(e=Bct())&&(Oct(e,r),Lct(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Fct=function(){var t=Dct();return function(e,r){N.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},Ime=function(){var t=Fct(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},$ct={left:0,top:0,right:0,gap:0},k8=function(t){return parseInt(t||"",10)||0},Uct=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[k8(r),k8(n),k8(i)]},zct=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return $ct;var e=Uct(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},Wct=Ime(),_y="data-scroll-locked",jct=function(t,e,r,n){var i=t.left,s=t.top,o=t.right,a=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(xct,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(_y,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(vx,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(wx,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(vx," .").concat(vx,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(wx," .").concat(wx,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(_y,`] {
    `).concat(Ect,": ").concat(a,`px;
  }
`)},JG=function(){var t=parseInt(document.body.getAttribute(_y)||"0",10);return isFinite(t)?t:0},Kct=function(){N.useEffect(function(){return document.body.setAttribute(_y,(JG()+1).toString()),function(){var t=JG()-1;t<=0?document.body.removeAttribute(_y):document.body.setAttribute(_y,t.toString())}},[])},Hct=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;Kct();var s=N.useMemo(function(){return zct(i)},[i]);return N.createElement(Wct,{styles:jct(s,!e,i,r?"":"!important")})},cN=!1;if(typeof window<"u")try{var g2=Object.defineProperty({},"passive",{get:function(){return cN=!0,!0}});window.addEventListener("test",g2,g2),window.removeEventListener("test",g2,g2)}catch{cN=!1}var zg=cN?{passive:!1}:!1,qct=function(t){return t.tagName==="TEXTAREA"},Rme=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!qct(t)&&r[e]==="visible")},Vct=function(t){return Rme(t,"overflowY")},Gct=function(t){return Rme(t,"overflowX")},QG=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=Mme(t,n);if(i){var s=Cme(t,n),o=s[1],a=s[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Yct=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},Zct=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},Mme=function(t,e){return t==="v"?Vct(e):Gct(e)},Cme=function(t,e){return t==="v"?Yct(e):Zct(e)},Xct=function(t,e){return t==="h"&&e==="rtl"?-1:1},Jct=function(t,e,r,n,i){var s=Xct(t,window.getComputedStyle(e).direction),o=s*n,a=r.target,u=e.contains(a),f=!1,d=o>0,g=0,y=0;do{var b=Cme(t,a),A=b[0],x=b[1],k=b[2],I=x-k-s*A;(A||I)&&Mme(t,a)&&(g+=I,y+=A),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!u&&a!==document.body||u&&(e.contains(a)||e===a));return(d&&Math.abs(g)<1||!d&&Math.abs(y)<1)&&(f=!0),f},m2=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},eY=function(t){return[t.deltaX,t.deltaY]},tY=function(t){return t&&"current"in t?t.current:t},Qct=function(t,e){return t[0]===e[0]&&t[1]===e[1]},elt=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},tlt=0,Wg=[];function rlt(t){var e=N.useRef([]),r=N.useRef([0,0]),n=N.useRef(),i=N.useState(tlt++)[0],s=N.useState(Ime)[0],o=N.useRef(t);N.useEffect(function(){o.current=t},[t]),N.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var x=Vi([t.lockRef.current],(t.shards||[]).map(tY),!0).filter(Boolean);return x.forEach(function(k){return k.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=N.useCallback(function(x,k){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var I=m2(x),R=r.current,M="deltaX"in x?x.deltaX:R[0]-I[0],P="deltaY"in x?x.deltaY:R[1]-I[1],j,V=x.target,Z=Math.abs(M)>Math.abs(P)?"h":"v";if("touches"in x&&Z==="h"&&V.type==="range")return!1;var G=QG(Z,V);if(!G)return!0;if(G?j=Z:(j=Z==="v"?"h":"v",G=QG(Z,V)),!G)return!1;if(!n.current&&"changedTouches"in x&&(M||P)&&(n.current=j),!j)return!0;var q=n.current||j;return Jct(q,k,x,q==="h"?M:P)},[]),u=N.useCallback(function(x){var k=x;if(!(!Wg.length||Wg[Wg.length-1]!==s)){var I="deltaY"in k?eY(k):m2(k),R=e.current.filter(function(j){return j.name===k.type&&(j.target===k.target||k.target===j.shadowParent)&&Qct(j.delta,I)})[0];if(R&&R.should){k.cancelable&&k.preventDefault();return}if(!R){var M=(o.current.shards||[]).map(tY).filter(Boolean).filter(function(j){return j.contains(k.target)}),P=M.length>0?a(k,M[0]):!o.current.noIsolation;P&&k.cancelable&&k.preventDefault()}}},[]),f=N.useCallback(function(x,k,I,R){var M={name:x,delta:k,target:I,should:R,shadowParent:nlt(I)};e.current.push(M),setTimeout(function(){e.current=e.current.filter(function(P){return P!==M})},1)},[]),d=N.useCallback(function(x){r.current=m2(x),n.current=void 0},[]),g=N.useCallback(function(x){f(x.type,eY(x),x.target,a(x,t.lockRef.current))},[]),y=N.useCallback(function(x){f(x.type,m2(x),x.target,a(x,t.lockRef.current))},[]);N.useEffect(function(){return Wg.push(s),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:y}),document.addEventListener("wheel",u,zg),document.addEventListener("touchmove",u,zg),document.addEventListener("touchstart",d,zg),function(){Wg=Wg.filter(function(x){return x!==s}),document.removeEventListener("wheel",u,zg),document.removeEventListener("touchmove",u,zg),document.removeEventListener("touchstart",d,zg)}},[]);var b=t.removeScrollBar,A=t.inert;return N.createElement(N.Fragment,null,A?N.createElement(s,{styles:elt(i)}):null,b?N.createElement(Hct,{gapMode:t.gapMode}):null)}function nlt(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const ilt=Pct(Tme,rlt);var eA=N.forwardRef(function(t,e){return N.createElement(_6,Nt({},t,{ref:e,sideCar:ilt}))});eA.classNames=_6.classNames;var slt=[" ","Enter","ArrowUp","ArrowDown"],olt=[" ","Enter"],tA="Select",[A6,x6,alt]=p6(tA),[V1,f_t]=no(tA,[alt,Nl]),E6=Nl(),[ult,Yh]=V1(tA),[clt,llt]=V1(tA),Pme=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:u,dir:f,name:d,autoComplete:g,disabled:y,required:b,form:A}=t,x=E6(e),[k,I]=N.useState(null),[R,M]=N.useState(null),[P,j]=N.useState(!1),V=j1(f),[Z=!1,G]=au({prop:n,defaultProp:i,onChange:s}),[q,ae]=au({prop:o,defaultProp:a,onChange:u}),T=N.useRef(null),c=k?A||!!k.closest("form"):!0,[h,p]=N.useState(new Set),m=Array.from(h).map(v=>v.props.value).join(";");return L.jsx(X_,{...x,children:L.jsxs(ult,{required:b,scope:e,trigger:k,onTriggerChange:I,valueNode:R,onValueNodeChange:M,valueNodeHasChildren:P,onValueNodeHasChildrenChange:j,contentId:tu(),value:q,onValueChange:ae,open:Z,onOpenChange:G,dir:V,triggerPointerDownPosRef:T,disabled:y,children:[L.jsx(A6.Provider,{scope:e,children:L.jsx(clt,{scope:t.__scopeSelect,onNativeOptionAdd:N.useCallback(v=>{p(_=>new Set(_).add(v))},[]),onNativeOptionRemove:N.useCallback(v=>{p(_=>{const E=new Set(_);return E.delete(v),E})},[]),children:r})}),c?L.jsxs(rye,{"aria-hidden":!0,required:b,tabIndex:-1,name:d,autoComplete:g,value:q,onChange:v=>ae(v.target.value),disabled:y,form:A,children:[q===void 0?L.jsx("option",{value:""}):null,Array.from(h)]},m):null]})})};Pme.displayName=tA;var Nme="SelectTrigger",Bme=N.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,s=E6(r),o=Yh(Nme,r),a=o.disabled||n,u=tr(e,o.onTriggerChange),f=x6(r),d=N.useRef("touch"),[g,y,b]=nye(x=>{const k=f().filter(M=>!M.disabled),I=k.find(M=>M.value===o.value),R=iye(k,x,I);R!==void 0&&o.onValueChange(R.value)}),A=x=>{a||(o.onOpenChange(!0),b()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return L.jsx(q1,{asChild:!0,...s,children:L.jsx(Wt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":tye(o.value)?"":void 0,...i,ref:u,onClick:ft(i.onClick,x=>{x.currentTarget.focus(),d.current!=="mouse"&&A(x)}),onPointerDown:ft(i.onPointerDown,x=>{d.current=x.pointerType;const k=x.target;k.hasPointerCapture(x.pointerId)&&k.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(A(x),x.preventDefault())}),onKeyDown:ft(i.onKeyDown,x=>{const k=g.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&y(x.key),!(k&&x.key===" ")&&slt.includes(x.key)&&(A(),x.preventDefault())})})})});Bme.displayName=Nme;var Ome="SelectValue",Lme=N.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:o="",...a}=t,u=Yh(Ome,r),{onValueNodeHasChildrenChange:f}=u,d=s!==void 0,g=tr(e,u.onValueNodeChange);return bs(()=>{f(d)},[f,d]),L.jsx(Wt.span,{...a,ref:g,style:{pointerEvents:"none"},children:tye(u.value)?L.jsx(L.Fragment,{children:o}):s})});Lme.displayName=Ome;var flt="SelectIcon",Dme=N.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return L.jsx(Wt.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});Dme.displayName=flt;var dlt="SelectPortal",Fme=t=>L.jsx(vg,{asChild:!0,...t});Fme.displayName=dlt;var q0="SelectContent",$me=N.forwardRef((t,e)=>{const r=Yh(q0,t.__scopeSelect),[n,i]=N.useState();if(bs(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?Ak.createPortal(L.jsx(Ume,{scope:t.__scopeSelect,children:L.jsx(A6.Slot,{scope:t.__scopeSelect,children:L.jsx("div",{children:t.children})})}),s):null}return L.jsx(zme,{...t,ref:e})});$me.displayName=q0;var _u=10,[Ume,Zh]=V1(q0),hlt="SelectContentImpl",zme=N.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:u,align:f,alignOffset:d,arrowPadding:g,collisionBoundary:y,collisionPadding:b,sticky:A,hideWhenDetached:x,avoidCollisions:k,...I}=t,R=Yh(q0,r),[M,P]=N.useState(null),[j,V]=N.useState(null),Z=tr(e,F=>P(F)),[G,q]=N.useState(null),[ae,T]=N.useState(null),c=x6(r),[h,p]=N.useState(!1),m=N.useRef(!1);N.useEffect(()=>{if(M)return S6(M)},[M]),g6();const v=N.useCallback(F=>{const[H,...Q]=c().map(K=>K.ref.current),[te]=Q.slice(-1),X=document.activeElement;for(const K of F)if(K===X||(K==null||K.scrollIntoView({block:"nearest"}),K===H&&j&&(j.scrollTop=0),K===te&&j&&(j.scrollTop=j.scrollHeight),K==null||K.focus(),document.activeElement!==X))return},[c,j]),_=N.useCallback(()=>v([G,M]),[v,G,M]);N.useEffect(()=>{h&&_()},[h,_]);const{onOpenChange:E,triggerPointerDownPosRef:w}=R;N.useEffect(()=>{if(M){let F={x:0,y:0};const H=te=>{var X,K;F={x:Math.abs(Math.round(te.pageX)-(((X=w.current)==null?void 0:X.x)??0)),y:Math.abs(Math.round(te.pageY)-(((K=w.current)==null?void 0:K.y)??0))}},Q=te=>{F.x<=10&&F.y<=10?te.preventDefault():M.contains(te.target)||E(!1),document.removeEventListener("pointermove",H),w.current=null};return w.current!==null&&(document.addEventListener("pointermove",H),document.addEventListener("pointerup",Q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",Q,{capture:!0})}}},[M,E,w]),N.useEffect(()=>{const F=()=>E(!1);return window.addEventListener("blur",F),window.addEventListener("resize",F),()=>{window.removeEventListener("blur",F),window.removeEventListener("resize",F)}},[E]);const[l,S]=nye(F=>{const H=c().filter(X=>!X.disabled),Q=H.find(X=>X.ref.current===document.activeElement),te=iye(H,F,Q);te&&setTimeout(()=>te.ref.current.focus())}),C=N.useCallback((F,H,Q)=>{const te=!m.current&&!Q;(R.value!==void 0&&R.value===H||te)&&(q(F),te&&(m.current=!0))},[R.value]),D=N.useCallback(()=>M==null?void 0:M.focus(),[M]),U=N.useCallback((F,H,Q)=>{const te=!m.current&&!Q;(R.value!==void 0&&R.value===H||te)&&T(F)},[R.value]),O=n==="popper"?lN:Wme,$=O===lN?{side:a,sideOffset:u,align:f,alignOffset:d,arrowPadding:g,collisionBoundary:y,collisionPadding:b,sticky:A,hideWhenDetached:x,avoidCollisions:k}:{};return L.jsx(Ume,{scope:r,content:M,viewport:j,onViewportChange:V,itemRefCallback:C,selectedItem:G,onItemLeave:D,itemTextRefCallback:U,focusSelectedItem:_,selectedItemText:ae,position:n,isPositioned:h,searchRef:l,children:L.jsx(eA,{as:Gi,allowPinchZoom:!0,children:L.jsx(Y_,{asChild:!0,trapped:R.open,onMountAutoFocus:F=>{F.preventDefault()},onUnmountAutoFocus:ft(i,F=>{var H;(H=R.trigger)==null||H.focus({preventScroll:!0}),F.preventDefault()}),children:L.jsx(bg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:F=>F.preventDefault(),onDismiss:()=>R.onOpenChange(!1),children:L.jsx(O,{role:"listbox",id:R.contentId,"data-state":R.open?"open":"closed",dir:R.dir,onContextMenu:F=>F.preventDefault(),...I,...$,onPlaced:()=>p(!0),ref:Z,style:{display:"flex",flexDirection:"column",outline:"none",...I.style},onKeyDown:ft(I.onKeyDown,F=>{const H=F.ctrlKey||F.altKey||F.metaKey;if(F.key==="Tab"&&F.preventDefault(),!H&&F.key.length===1&&S(F.key),["ArrowUp","ArrowDown","Home","End"].includes(F.key)){let te=c().filter(X=>!X.disabled).map(X=>X.ref.current);if(["ArrowUp","End"].includes(F.key)&&(te=te.slice().reverse()),["ArrowUp","ArrowDown"].includes(F.key)){const X=F.target,K=te.indexOf(X);te=te.slice(K+1)}setTimeout(()=>v(te)),F.preventDefault()}})})})})})})});zme.displayName=hlt;var plt="SelectItemAlignedPosition",Wme=N.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,s=Yh(q0,r),o=Zh(q0,r),[a,u]=N.useState(null),[f,d]=N.useState(null),g=tr(e,Z=>d(Z)),y=x6(r),b=N.useRef(!1),A=N.useRef(!0),{viewport:x,selectedItem:k,selectedItemText:I,focusSelectedItem:R}=o,M=N.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&f&&x&&k&&I){const Z=s.trigger.getBoundingClientRect(),G=f.getBoundingClientRect(),q=s.valueNode.getBoundingClientRect(),ae=I.getBoundingClientRect();if(s.dir!=="rtl"){const X=ae.left-G.left,K=q.left-X,oe=Z.left-K,_e=Z.width+oe,Se=Math.max(_e,G.width),W=window.innerWidth-_u,re=MS(K,[_u,Math.max(_u,W-Se)]);a.style.minWidth=_e+"px",a.style.left=re+"px"}else{const X=G.right-ae.right,K=window.innerWidth-q.right-X,oe=window.innerWidth-Z.right-K,_e=Z.width+oe,Se=Math.max(_e,G.width),W=window.innerWidth-_u,re=MS(K,[_u,Math.max(_u,W-Se)]);a.style.minWidth=_e+"px",a.style.right=re+"px"}const T=y(),c=window.innerHeight-_u*2,h=x.scrollHeight,p=window.getComputedStyle(f),m=parseInt(p.borderTopWidth,10),v=parseInt(p.paddingTop,10),_=parseInt(p.borderBottomWidth,10),E=parseInt(p.paddingBottom,10),w=m+v+h+E+_,l=Math.min(k.offsetHeight*5,w),S=window.getComputedStyle(x),C=parseInt(S.paddingTop,10),D=parseInt(S.paddingBottom,10),U=Z.top+Z.height/2-_u,O=c-U,$=k.offsetHeight/2,F=k.offsetTop+$,H=m+v+F,Q=w-H;if(H<=U){const X=T.length>0&&k===T[T.length-1].ref.current;a.style.bottom="0px";const K=f.clientHeight-x.offsetTop-x.offsetHeight,oe=Math.max(O,$+(X?D:0)+K+_),_e=H+oe;a.style.height=_e+"px"}else{const X=T.length>0&&k===T[0].ref.current;a.style.top="0px";const oe=Math.max(U,m+x.offsetTop+(X?C:0)+$)+Q;a.style.height=oe+"px",x.scrollTop=H-U+x.offsetTop}a.style.margin=`${_u}px 0`,a.style.minHeight=l+"px",a.style.maxHeight=c+"px",n==null||n(),requestAnimationFrame(()=>b.current=!0)}},[y,s.trigger,s.valueNode,a,f,x,k,I,s.dir,n]);bs(()=>M(),[M]);const[P,j]=N.useState();bs(()=>{f&&j(window.getComputedStyle(f).zIndex)},[f]);const V=N.useCallback(Z=>{Z&&A.current===!0&&(M(),R==null||R(),A.current=!1)},[M,R]);return L.jsx(mlt,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:b,onScrollButtonChange:V,children:L.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:L.jsx(Wt.div,{...i,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Wme.displayName=plt;var glt="SelectPopperPosition",lN=N.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=_u,...s}=t,o=E6(r);return L.jsx(J_,{...o,...s,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});lN.displayName=glt;var[mlt,ZF]=V1(q0,{}),fN="SelectViewport",jme=N.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,s=Zh(fN,r),o=ZF(fN,r),a=tr(e,s.onViewportChange),u=N.useRef(0);return L.jsxs(L.Fragment,{children:[L.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),L.jsx(A6.Slot,{scope:r,children:L.jsx(Wt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ft(i.onScroll,f=>{const d=f.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:y}=o;if(y!=null&&y.current&&g){const b=Math.abs(u.current-d.scrollTop);if(b>0){const A=window.innerHeight-_u*2,x=parseFloat(g.style.minHeight),k=parseFloat(g.style.height),I=Math.max(x,k);if(I<A){const R=I+b,M=Math.min(A,R),P=R-M;g.style.height=M+"px",g.style.bottom==="0px"&&(d.scrollTop=P>0?P:0,g.style.justifyContent="flex-end")}}}u.current=d.scrollTop})})})]})});jme.displayName=fN;var Kme="SelectGroup",[ylt,blt]=V1(Kme),Hme=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=tu();return L.jsx(ylt,{scope:r,id:i,children:L.jsx(Wt.div,{role:"group","aria-labelledby":i,...n,ref:e})})});Hme.displayName=Kme;var qme="SelectLabel",Vme=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=blt(qme,r);return L.jsx(Wt.div,{id:i.id,...n,ref:e})});Vme.displayName=qme;var sk="SelectItem",[vlt,Gme]=V1(sk),k6=N.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...o}=t,a=Yh(sk,r),u=Zh(sk,r),f=a.value===n,[d,g]=N.useState(s??""),[y,b]=N.useState(!1),A=tr(e,R=>{var M;return(M=u.itemRefCallback)==null?void 0:M.call(u,R,n,i)}),x=tu(),k=N.useRef("touch"),I=()=>{i||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return L.jsx(vlt,{scope:r,value:n,disabled:i,textId:x,isSelected:f,onItemTextChange:N.useCallback(R=>{g(M=>M||((R==null?void 0:R.textContent)??"").trim())},[]),children:L.jsx(A6.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:L.jsx(Wt.div,{role:"option","aria-labelledby":x,"data-highlighted":y?"":void 0,"aria-selected":f&&y,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:A,onFocus:ft(o.onFocus,()=>b(!0)),onBlur:ft(o.onBlur,()=>b(!1)),onClick:ft(o.onClick,()=>{k.current!=="mouse"&&I()}),onPointerUp:ft(o.onPointerUp,()=>{k.current==="mouse"&&I()}),onPointerDown:ft(o.onPointerDown,R=>{k.current=R.pointerType}),onPointerMove:ft(o.onPointerMove,R=>{var M;k.current=R.pointerType,i?(M=u.onItemLeave)==null||M.call(u):k.current==="mouse"&&R.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ft(o.onPointerLeave,R=>{var M;R.currentTarget===document.activeElement&&((M=u.onItemLeave)==null||M.call(u))}),onKeyDown:ft(o.onKeyDown,R=>{var P;((P=u.searchRef)==null?void 0:P.current)!==""&&R.key===" "||(olt.includes(R.key)&&I(),R.key===" "&&R.preventDefault())})})})})});k6.displayName=sk;var hw="SelectItemText",XF=N.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...s}=t,o=Yh(hw,r),a=Zh(hw,r),u=Gme(hw,r),f=llt(hw,r),[d,g]=N.useState(null),y=tr(e,I=>g(I),u.onItemTextChange,I=>{var R;return(R=a.itemTextRefCallback)==null?void 0:R.call(a,I,u.value,u.disabled)}),b=d==null?void 0:d.textContent,A=N.useMemo(()=>L.jsx("option",{value:u.value,disabled:u.disabled,children:b},u.value),[u.disabled,u.value,b]),{onNativeOptionAdd:x,onNativeOptionRemove:k}=f;return bs(()=>(x(A),()=>k(A)),[x,k,A]),L.jsxs(L.Fragment,{children:[L.jsx(Wt.span,{id:u.textId,...s,ref:y}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ak.createPortal(s.children,o.valueNode):null]})});XF.displayName=hw;var Yme="SelectItemIndicator",Zme=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return Gme(Yme,r).isSelected?L.jsx(Wt.span,{"aria-hidden":!0,...n,ref:e}):null});Zme.displayName=Yme;var dN="SelectScrollUpButton",Xme=N.forwardRef((t,e)=>{const r=Zh(dN,t.__scopeSelect),n=ZF(dN,t.__scopeSelect),[i,s]=N.useState(!1),o=tr(e,n.onScrollButtonChange);return bs(()=>{if(r.viewport&&r.isPositioned){let a=function(){const f=u.scrollTop>0;s(f)};const u=r.viewport;return a(),u.addEventListener("scroll",a),()=>u.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),i?L.jsx(Qme,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:u}=r;a&&u&&(a.scrollTop=a.scrollTop-u.offsetHeight)}}):null});Xme.displayName=dN;var hN="SelectScrollDownButton",Jme=N.forwardRef((t,e)=>{const r=Zh(hN,t.__scopeSelect),n=ZF(hN,t.__scopeSelect),[i,s]=N.useState(!1),o=tr(e,n.onScrollButtonChange);return bs(()=>{if(r.viewport&&r.isPositioned){let a=function(){const f=u.scrollHeight-u.clientHeight,d=Math.ceil(u.scrollTop)<f;s(d)};const u=r.viewport;return a(),u.addEventListener("scroll",a),()=>u.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),i?L.jsx(Qme,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:u}=r;a&&u&&(a.scrollTop=a.scrollTop+u.offsetHeight)}}):null});Jme.displayName=hN;var Qme=N.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,s=Zh("SelectScrollButton",r),o=N.useRef(null),a=x6(r),u=N.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return N.useEffect(()=>()=>u(),[u]),bs(()=>{var d;const f=a().find(g=>g.ref.current===document.activeElement);(d=f==null?void 0:f.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),L.jsx(Wt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:ft(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:ft(i.onPointerMove,()=>{var f;(f=s.onItemLeave)==null||f.call(s),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:ft(i.onPointerLeave,()=>{u()})})}),wlt="SelectSeparator",eye=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return L.jsx(Wt.div,{"aria-hidden":!0,...n,ref:e})});eye.displayName=wlt;var pN="SelectArrow",Slt=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=E6(r),s=Yh(pN,r),o=Zh(pN,r);return s.open&&o.position==="popper"?L.jsx(Q_,{...i,...n,ref:e}):null});Slt.displayName=pN;function tye(t){return t===""||t===void 0}var rye=N.forwardRef((t,e)=>{const{value:r,...n}=t,i=N.useRef(null),s=tr(e,i),o=w6(r);return N.useEffect(()=>{const a=i.current,u=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==r&&d){const g=new Event("change",{bubbles:!0});d.call(a,r),a.dispatchEvent(g)}},[o,r]),L.jsx(YF,{asChild:!0,children:L.jsx("select",{...n,ref:s,defaultValue:r})})});rye.displayName="BubbleSelect";function nye(t){const e=Di(t),r=N.useRef(""),n=N.useRef(0),i=N.useCallback(o=>{const a=r.current+o;e(a),function u(f){r.current=f,window.clearTimeout(n.current),f!==""&&(n.current=window.setTimeout(()=>u(""),1e3))}(a)},[e]),s=N.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return N.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function iye(t,e,r){const i=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let o=_lt(t,Math.max(s,0));i.length===1&&(o=o.filter(f=>f!==r));const u=o.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==r?u:void 0}function _lt(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var sye=Pme,ok=Bme,Alt=Lme,oye=Dme,aye=Fme,JF=$me,uye=jme,xlt=Hme,cye=Vme,lye=k6,Elt=XF,fye=Zme,dye=Xme,hye=Jme,pye=eye;function klt(t,e){return N.useReducer((r,n)=>e[r][n]??r,t)}var ji=t=>{const{present:e,children:r}=t,n=Tlt(e),i=typeof r=="function"?r({present:n.isPresent}):N.Children.only(r),s=tr(n.ref,Ilt(i));return typeof r=="function"||n.isPresent?N.cloneElement(i,{ref:s}):null};ji.displayName="Presence";function Tlt(t){const[e,r]=N.useState(),n=N.useRef({}),i=N.useRef(t),s=N.useRef("none"),o=t?"mounted":"unmounted",[a,u]=klt(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const f=y2(n.current);s.current=a==="mounted"?f:"none"},[a]),bs(()=>{const f=n.current,d=i.current;if(d!==t){const y=s.current,b=y2(f);t?u("MOUNT"):b==="none"||(f==null?void 0:f.display)==="none"?u("UNMOUNT"):u(d&&y!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),bs(()=>{if(e){let f;const d=e.ownerDocument.defaultView??window,g=b=>{const x=y2(n.current).includes(b.animationName);if(b.target===e&&x&&(u("ANIMATION_END"),!i.current)){const k=e.style.animationFillMode;e.style.animationFillMode="forwards",f=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=k)})}},y=b=>{b.target===e&&(s.current=y2(n.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{d.clearTimeout(f),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:N.useCallback(f=>{f&&(n.current=getComputedStyle(f)),r(f)},[])}}function y2(t){return(t==null?void 0:t.animationName)||"none"}function Ilt(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var QF="Popover",[gye,d_t]=no(QF,[Nl]),rA=Nl(),[Rlt,Xh]=gye(QF),mye=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:o=!1}=t,a=rA(e),u=N.useRef(null),[f,d]=N.useState(!1),[g=!1,y]=au({prop:n,defaultProp:i,onChange:s});return L.jsx(X_,{...a,children:L.jsx(Rlt,{scope:e,contentId:tu(),triggerRef:u,open:g,onOpenChange:y,onOpenToggle:N.useCallback(()=>y(b=>!b),[y]),hasCustomAnchor:f,onCustomAnchorAdd:N.useCallback(()=>d(!0),[]),onCustomAnchorRemove:N.useCallback(()=>d(!1),[]),modal:o,children:r})})};mye.displayName=QF;var yye="PopoverAnchor",bye=N.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Xh(yye,r),s=rA(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=i;return N.useEffect(()=>(o(),()=>a()),[o,a]),L.jsx(q1,{...s,...n,ref:e})});bye.displayName=yye;var vye="PopoverTrigger",wye=N.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Xh(vye,r),s=rA(r),o=tr(e,i.triggerRef),a=L.jsx(Wt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":kye(i.open),...n,ref:o,onClick:ft(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?a:L.jsx(q1,{asChild:!0,...s,children:a})});wye.displayName=vye;var e$="PopoverPortal",[Mlt,Clt]=gye(e$,{forceMount:void 0}),Sye=t=>{const{__scopePopover:e,forceMount:r,children:n,container:i}=t,s=Xh(e$,e);return L.jsx(Mlt,{scope:e,forceMount:r,children:L.jsx(ji,{present:r||s.open,children:L.jsx(vg,{asChild:!0,container:i,children:n})})})};Sye.displayName=e$;var e1="PopoverContent",_ye=N.forwardRef((t,e)=>{const r=Clt(e1,t.__scopePopover),{forceMount:n=r.forceMount,...i}=t,s=Xh(e1,t.__scopePopover);return L.jsx(ji,{present:n||s.open,children:s.modal?L.jsx(Plt,{...i,ref:e}):L.jsx(Nlt,{...i,ref:e})})});_ye.displayName=e1;var Plt=N.forwardRef((t,e)=>{const r=Xh(e1,t.__scopePopover),n=N.useRef(null),i=tr(e,n),s=N.useRef(!1);return N.useEffect(()=>{const o=n.current;if(o)return S6(o)},[]),L.jsx(eA,{as:Gi,allowPinchZoom:!0,children:L.jsx(Aye,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ft(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),s.current||(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ft(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,u=a.button===0&&a.ctrlKey===!0,f=a.button===2||u;s.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:ft(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Nlt=N.forwardRef((t,e)=>{const r=Xh(e1,t.__scopePopover),n=N.useRef(!1),i=N.useRef(!1);return L.jsx(Aye,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var u,f;(u=t.onInteractOutside)==null||u.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((f=r.triggerRef.current)==null?void 0:f.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),Aye=N.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:d,...g}=t,y=Xh(e1,r),b=rA(r);return g6(),L.jsx(Y_,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:L.jsx(bg,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:f,onDismiss:()=>y.onOpenChange(!1),children:L.jsx(J_,{"data-state":kye(y.open),role:"dialog",id:y.contentId,...b,...g,ref:e,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),xye="PopoverClose",Blt=N.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Xh(xye,r);return L.jsx(Wt.button,{type:"button",...n,ref:e,onClick:ft(t.onClick,()=>i.onOpenChange(!1))})});Blt.displayName=xye;var Olt="PopoverArrow",Eye=N.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=rA(r);return L.jsx(Q_,{...i,...n,ref:e})});Eye.displayName=Olt;function kye(t){return t?"open":"closed"}var Llt=mye,Dlt=bye,Flt=wye,$lt=Sye,Tye=_ye,Ult=Eye;function zlt(t,e){return N.useReducer((r,n)=>e[r][n]??r,t)}var t$="ScrollArea",[Iye,h_t]=no(t$),[Wlt,mu]=Iye(t$),Rye=N.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:s=600,...o}=t,[a,u]=N.useState(null),[f,d]=N.useState(null),[g,y]=N.useState(null),[b,A]=N.useState(null),[x,k]=N.useState(null),[I,R]=N.useState(0),[M,P]=N.useState(0),[j,V]=N.useState(!1),[Z,G]=N.useState(!1),q=tr(e,T=>u(T)),ae=j1(i);return L.jsx(Wlt,{scope:r,type:n,dir:ae,scrollHideDelay:s,scrollArea:a,viewport:f,onViewportChange:d,content:g,onContentChange:y,scrollbarX:b,onScrollbarXChange:A,scrollbarXEnabled:j,onScrollbarXEnabledChange:V,scrollbarY:x,onScrollbarYChange:k,scrollbarYEnabled:Z,onScrollbarYEnabledChange:G,onCornerWidthChange:R,onCornerHeightChange:P,children:L.jsx(Wt.div,{dir:ae,...o,ref:q,style:{position:"relative","--radix-scroll-area-corner-width":I+"px","--radix-scroll-area-corner-height":M+"px",...t.style}})})});Rye.displayName=t$;var Mye="ScrollAreaViewport",Cye=N.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:i,...s}=t,o=mu(Mye,r),a=N.useRef(null),u=tr(e,a,o.onViewportChange);return L.jsxs(L.Fragment,{children:[L.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),L.jsx(Wt.div,{"data-radix-scroll-area-viewport":"",...s,ref:u,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:L.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});Cye.displayName=Mye;var Bl="ScrollAreaScrollbar",r$=N.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=mu(Bl,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=t.orientation==="horizontal";return N.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?L.jsx(jlt,{...n,ref:e,forceMount:r}):i.type==="scroll"?L.jsx(Klt,{...n,ref:e,forceMount:r}):i.type==="auto"?L.jsx(Pye,{...n,ref:e,forceMount:r}):i.type==="always"?L.jsx(n$,{...n,ref:e}):null});r$.displayName=Bl;var jlt=N.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=mu(Bl,t.__scopeScrollArea),[s,o]=N.useState(!1);return N.useEffect(()=>{const a=i.scrollArea;let u=0;if(a){const f=()=>{window.clearTimeout(u),o(!0)},d=()=>{u=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",f),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(u),a.removeEventListener("pointerenter",f),a.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),L.jsx(ji,{present:r||s,children:L.jsx(Pye,{"data-state":s?"visible":"hidden",...n,ref:e})})}),Klt=N.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=mu(Bl,t.__scopeScrollArea),s=t.orientation==="horizontal",o=I6(()=>u("SCROLL_END"),100),[a,u]=zlt("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return N.useEffect(()=>{if(a==="idle"){const f=window.setTimeout(()=>u("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(f)}},[a,i.scrollHideDelay,u]),N.useEffect(()=>{const f=i.viewport,d=s?"scrollLeft":"scrollTop";if(f){let g=f[d];const y=()=>{const b=f[d];g!==b&&(u("SCROLL"),o()),g=b};return f.addEventListener("scroll",y),()=>f.removeEventListener("scroll",y)}},[i.viewport,s,u,o]),L.jsx(ji,{present:r||a!=="hidden",children:L.jsx(n$,{"data-state":a==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:ft(t.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:ft(t.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),Pye=N.forwardRef((t,e)=>{const r=mu(Bl,t.__scopeScrollArea),{forceMount:n,...i}=t,[s,o]=N.useState(!1),a=t.orientation==="horizontal",u=I6(()=>{if(r.viewport){const f=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(a?f:d)}},10);return t1(r.viewport,u),t1(r.content,u),L.jsx(ji,{present:n||s,children:L.jsx(n$,{"data-state":s?"visible":"hidden",...i,ref:e})})}),n$=N.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,i=mu(Bl,t.__scopeScrollArea),s=N.useRef(null),o=N.useRef(0),[a,u]=N.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=Dye(a.viewport,a.content),d={...n,sizes:a,onSizesChange:u,hasThumb:f>0&&f<1,onThumbChange:y=>s.current=y,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:y=>o.current=y};function g(y,b){return Zlt(y,o.current,a,b)}return r==="horizontal"?L.jsx(Hlt,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const y=i.viewport.scrollLeft,b=rY(y,a,i.dir);s.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:y=>{i.viewport&&(i.viewport.scrollLeft=y)},onDragScroll:y=>{i.viewport&&(i.viewport.scrollLeft=g(y,i.dir))}}):r==="vertical"?L.jsx(qlt,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const y=i.viewport.scrollTop,b=rY(y,a);s.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:y=>{i.viewport&&(i.viewport.scrollTop=y)},onDragScroll:y=>{i.viewport&&(i.viewport.scrollTop=g(y))}}):null}),Hlt=N.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,s=mu(Bl,t.__scopeScrollArea),[o,a]=N.useState(),u=N.useRef(null),f=tr(e,u,s.onScrollbarXChange);return N.useEffect(()=>{u.current&&a(getComputedStyle(u.current))},[u]),L.jsx(Bye,{"data-orientation":"horizontal",...i,ref:f,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":T6(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,g)=>{if(s.viewport){const y=s.viewport.scrollLeft+d.deltaX;t.onWheelScroll(y),$ye(y,g)&&d.preventDefault()}},onResize:()=>{u.current&&s.viewport&&o&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:uk(o.paddingLeft),paddingEnd:uk(o.paddingRight)}})}})}),qlt=N.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,s=mu(Bl,t.__scopeScrollArea),[o,a]=N.useState(),u=N.useRef(null),f=tr(e,u,s.onScrollbarYChange);return N.useEffect(()=>{u.current&&a(getComputedStyle(u.current))},[u]),L.jsx(Bye,{"data-orientation":"vertical",...i,ref:f,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":T6(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,g)=>{if(s.viewport){const y=s.viewport.scrollTop+d.deltaY;t.onWheelScroll(y),$ye(y,g)&&d.preventDefault()}},onResize:()=>{u.current&&s.viewport&&o&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:uk(o.paddingTop),paddingEnd:uk(o.paddingBottom)}})}})}),[Vlt,Nye]=Iye(Bl),Bye=N.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:u,onDragScroll:f,onWheelScroll:d,onResize:g,...y}=t,b=mu(Bl,r),[A,x]=N.useState(null),k=tr(e,q=>x(q)),I=N.useRef(null),R=N.useRef(""),M=b.viewport,P=n.content-n.viewport,j=Di(d),V=Di(u),Z=I6(g,10);function G(q){if(I.current){const ae=q.clientX-I.current.left,T=q.clientY-I.current.top;f({x:ae,y:T})}}return N.useEffect(()=>{const q=ae=>{const T=ae.target;(A==null?void 0:A.contains(T))&&j(ae,P)};return document.addEventListener("wheel",q,{passive:!1}),()=>document.removeEventListener("wheel",q,{passive:!1})},[M,A,P,j]),N.useEffect(V,[n,V]),t1(A,Z),t1(b.content,Z),L.jsx(Vlt,{scope:r,scrollbar:A,hasThumb:i,onThumbChange:Di(s),onThumbPointerUp:Di(o),onThumbPositionChange:V,onThumbPointerDown:Di(a),children:L.jsx(Wt.div,{...y,ref:k,style:{position:"absolute",...y.style},onPointerDown:ft(t.onPointerDown,q=>{q.button===0&&(q.target.setPointerCapture(q.pointerId),I.current=A.getBoundingClientRect(),R.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),G(q))}),onPointerMove:ft(t.onPointerMove,G),onPointerUp:ft(t.onPointerUp,q=>{const ae=q.target;ae.hasPointerCapture(q.pointerId)&&ae.releasePointerCapture(q.pointerId),document.body.style.webkitUserSelect=R.current,b.viewport&&(b.viewport.style.scrollBehavior=""),I.current=null})})})}),ak="ScrollAreaThumb",Oye=N.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=Nye(ak,t.__scopeScrollArea);return L.jsx(ji,{present:r||i.hasThumb,children:L.jsx(Glt,{ref:e,...n})})}),Glt=N.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...i}=t,s=mu(ak,r),o=Nye(ak,r),{onThumbPositionChange:a}=o,u=tr(e,g=>o.onThumbChange(g)),f=N.useRef(void 0),d=I6(()=>{f.current&&(f.current(),f.current=void 0)},100);return N.useEffect(()=>{const g=s.viewport;if(g){const y=()=>{if(d(),!f.current){const b=Xlt(g,a);f.current=b,a()}};return a(),g.addEventListener("scroll",y),()=>g.removeEventListener("scroll",y)}},[s.viewport,d,a]),L.jsx(Wt.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ft(t.onPointerDownCapture,g=>{const b=g.target.getBoundingClientRect(),A=g.clientX-b.left,x=g.clientY-b.top;o.onThumbPointerDown({x:A,y:x})}),onPointerUp:ft(t.onPointerUp,o.onThumbPointerUp)})});Oye.displayName=ak;var i$="ScrollAreaCorner",Lye=N.forwardRef((t,e)=>{const r=mu(i$,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?L.jsx(Ylt,{...t,ref:e}):null});Lye.displayName=i$;var Ylt=N.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,i=mu(i$,r),[s,o]=N.useState(0),[a,u]=N.useState(0),f=!!(s&&a);return t1(i.scrollbarX,()=>{var g;const d=((g=i.scrollbarX)==null?void 0:g.offsetHeight)||0;i.onCornerHeightChange(d),u(d)}),t1(i.scrollbarY,()=>{var g;const d=((g=i.scrollbarY)==null?void 0:g.offsetWidth)||0;i.onCornerWidthChange(d),o(d)}),f?L.jsx(Wt.div,{...n,ref:e,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function uk(t){return t?parseInt(t,10):0}function Dye(t,e){const r=t/e;return isNaN(r)?0:r}function T6(t){const e=Dye(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function Zlt(t,e,r,n="ltr"){const i=T6(r),s=i/2,o=e||s,a=i-o,u=r.scrollbar.paddingStart+o,f=r.scrollbar.size-r.scrollbar.paddingEnd-a,d=r.content-r.viewport,g=n==="ltr"?[0,d]:[d*-1,0];return Fye([u,f],g)(t)}function rY(t,e,r="ltr"){const n=T6(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,a=s-n,u=r==="ltr"?[0,o]:[o*-1,0],f=MS(t,u);return Fye([0,o],[0,a])(f)}function Fye(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function $ye(t,e){return t>0&&t<e}var Xlt=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function i(){const s={left:t.scrollLeft,top:t.scrollTop},o=r.left!==s.left,a=r.top!==s.top;(o||a)&&e(),r=s,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function I6(t,e){const r=Di(t),n=N.useRef(0);return N.useEffect(()=>()=>window.clearTimeout(n.current),[]),N.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function t1(t,e){const r=Di(e);bs(()=>{let n=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(t),()=>{window.cancelAnimationFrame(n),i.unobserve(t)}}},[t,r])}var Uye=Rye,Jlt=Cye,Qlt=Lye,T8="rovingFocusGroup.onEntryFocus",eft={bubbles:!1,cancelable:!0},R6="RovingFocusGroup",[gN,zye,tft]=p6(R6),[rft,M6]=no(R6,[tft]),[nft,ift]=rft(R6),Wye=N.forwardRef((t,e)=>L.jsx(gN.Provider,{scope:t.__scopeRovingFocusGroup,children:L.jsx(gN.Slot,{scope:t.__scopeRovingFocusGroup,children:L.jsx(sft,{...t,ref:e})})}));Wye.displayName=R6;var sft=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:u,onEntryFocus:f,preventScrollOnEntryFocus:d=!1,...g}=t,y=N.useRef(null),b=tr(e,y),A=j1(s),[x=null,k]=au({prop:o,defaultProp:a,onChange:u}),[I,R]=N.useState(!1),M=Di(f),P=zye(r),j=N.useRef(!1),[V,Z]=N.useState(0);return N.useEffect(()=>{const G=y.current;if(G)return G.addEventListener(T8,M),()=>G.removeEventListener(T8,M)},[M]),L.jsx(nft,{scope:r,orientation:n,dir:A,loop:i,currentTabStopId:x,onItemFocus:N.useCallback(G=>k(G),[k]),onItemShiftTab:N.useCallback(()=>R(!0),[]),onFocusableItemAdd:N.useCallback(()=>Z(G=>G+1),[]),onFocusableItemRemove:N.useCallback(()=>Z(G=>G-1),[]),children:L.jsx(Wt.div,{tabIndex:I||V===0?-1:0,"data-orientation":n,...g,ref:b,style:{outline:"none",...t.style},onMouseDown:ft(t.onMouseDown,()=>{j.current=!0}),onFocus:ft(t.onFocus,G=>{const q=!j.current;if(G.target===G.currentTarget&&q&&!I){const ae=new CustomEvent(T8,eft);if(G.currentTarget.dispatchEvent(ae),!ae.defaultPrevented){const T=P().filter(v=>v.focusable),c=T.find(v=>v.active),h=T.find(v=>v.id===x),m=[c,h,...T].filter(Boolean).map(v=>v.ref.current);Hye(m,d)}}j.current=!1}),onBlur:ft(t.onBlur,()=>R(!1))})})}),jye="RovingFocusGroupItem",Kye=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,...o}=t,a=tu(),u=s||a,f=ift(jye,r),d=f.currentTabStopId===u,g=zye(r),{onFocusableItemAdd:y,onFocusableItemRemove:b}=f;return N.useEffect(()=>{if(n)return y(),()=>b()},[n,y,b]),L.jsx(gN.ItemSlot,{scope:r,id:u,focusable:n,active:i,children:L.jsx(Wt.span,{tabIndex:d?0:-1,"data-orientation":f.orientation,...o,ref:e,onMouseDown:ft(t.onMouseDown,A=>{n?f.onItemFocus(u):A.preventDefault()}),onFocus:ft(t.onFocus,()=>f.onItemFocus(u)),onKeyDown:ft(t.onKeyDown,A=>{if(A.key==="Tab"&&A.shiftKey){f.onItemShiftTab();return}if(A.target!==A.currentTarget)return;const x=uft(A,f.orientation,f.dir);if(x!==void 0){if(A.metaKey||A.ctrlKey||A.altKey||A.shiftKey)return;A.preventDefault();let I=g().filter(R=>R.focusable).map(R=>R.ref.current);if(x==="last")I.reverse();else if(x==="prev"||x==="next"){x==="prev"&&I.reverse();const R=I.indexOf(A.currentTarget);I=f.loop?cft(I,R+1):I.slice(R+1)}setTimeout(()=>Hye(I))}})})})});Kye.displayName=jye;var oft={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function aft(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function uft(t,e,r){const n=aft(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return oft[n]}function Hye(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function cft(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var qye=Wye,Vye=Kye,s$="Tabs",[lft,p_t]=no(s$,[M6]),Gye=M6(),[fft,o$]=lft(s$),Yye=N.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:u="automatic",...f}=t,d=j1(a),[g,y]=au({prop:n,onChange:i,defaultProp:s});return L.jsx(fft,{scope:r,baseId:tu(),value:g,onValueChange:y,orientation:o,dir:d,activationMode:u,children:L.jsx(Wt.div,{dir:d,"data-orientation":o,...f,ref:e})})});Yye.displayName=s$;var Zye="TabsList",Xye=N.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,s=o$(Zye,r),o=Gye(r);return L.jsx(qye,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:L.jsx(Wt.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});Xye.displayName=Zye;var Jye="TabsTrigger",Qye=N.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=t,o=o$(Jye,r),a=Gye(r),u=rbe(o.baseId,n),f=nbe(o.baseId,n),d=n===o.value;return L.jsx(Vye,{asChild:!0,...a,focusable:!i,active:d,children:L.jsx(Wt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":f,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...s,ref:e,onMouseDown:ft(t.onMouseDown,g=>{!i&&g.button===0&&g.ctrlKey===!1?o.onValueChange(n):g.preventDefault()}),onKeyDown:ft(t.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&o.onValueChange(n)}),onFocus:ft(t.onFocus,()=>{const g=o.activationMode!=="manual";!d&&!i&&g&&o.onValueChange(n)})})})});Qye.displayName=Jye;var ebe="TabsContent",tbe=N.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...o}=t,a=o$(ebe,r),u=rbe(a.baseId,n),f=nbe(a.baseId,n),d=n===a.value,g=N.useRef(d);return N.useEffect(()=>{const y=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(y)},[]),L.jsx(ji,{present:i||d,children:({present:y})=>L.jsx(Wt.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":u,hidden:!y,id:f,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:g.current?"0s":void 0},children:y&&s})})});tbe.displayName=ebe;function rbe(t,e){return`${t}-trigger-${e}`}function nbe(t,e){return`${t}-content-${e}`}var dft=Yye,ibe=Xye,sbe=Qye,obe=tbe;const hft=N.createContext(null),I8={didCatch:!1,error:null};class pft extends N.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=I8}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(e!==null){for(var r,n,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];(r=(n=this.props).onReset)===null||r===void 0||r.call(n,{args:s,reason:"imperative-api"}),this.setState(I8)}}componentDidCatch(e,r){var n,i;(n=(i=this.props).onError)===null||n===void 0||n.call(i,e,r)}componentDidUpdate(e,r){const{didCatch:n}=this.state,{resetKeys:i}=this.props;if(n&&r.error!==null&&gft(e.resetKeys,i)){var s,o;(s=(o=this.props).onReset)===null||s===void 0||s.call(o,{next:i,prev:e.resetKeys,reason:"keys"}),this.setState(I8)}}render(){const{children:e,fallbackRender:r,FallbackComponent:n,fallback:i}=this.props,{didCatch:s,error:o}=this.state;let a=e;if(s){const u={error:o,resetErrorBoundary:this.resetErrorBoundary};if(typeof r=="function")a=r(u);else if(n)a=N.createElement(n,u);else if(i!==void 0)a=i;else throw o}return N.createElement(hft.Provider,{value:{didCatch:s,error:o,resetErrorBoundary:this.resetErrorBoundary}},a)}}function gft(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return t.length!==e.length||t.some((r,n)=>!Object.is(r,e[n]))}var[C6,g_t]=no("Tooltip",[Nl]),P6=Nl(),abe="TooltipProvider",mft=700,mN="tooltip.open",[yft,a$]=C6(abe),ube=t=>{const{__scopeTooltip:e,delayDuration:r=mft,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=t,[o,a]=N.useState(!0),u=N.useRef(!1),f=N.useRef(0);return N.useEffect(()=>{const d=f.current;return()=>window.clearTimeout(d)},[]),L.jsx(yft,{scope:e,isOpenDelayed:o,delayDuration:r,onOpen:N.useCallback(()=>{window.clearTimeout(f.current),a(!1)},[]),onClose:N.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>a(!0),n)},[n]),isPointerInTransitRef:u,onPointerInTransitChange:N.useCallback(d=>{u.current=d},[]),disableHoverableContent:i,children:s})};ube.displayName=abe;var N6="Tooltip",[bft,nA]=C6(N6),cbe=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=t,u=a$(N6,t.__scopeTooltip),f=P6(e),[d,g]=N.useState(null),y=tu(),b=N.useRef(0),A=o??u.disableHoverableContent,x=a??u.delayDuration,k=N.useRef(!1),[I=!1,R]=au({prop:n,defaultProp:i,onChange:Z=>{Z?(u.onOpen(),document.dispatchEvent(new CustomEvent(mN))):u.onClose(),s==null||s(Z)}}),M=N.useMemo(()=>I?k.current?"delayed-open":"instant-open":"closed",[I]),P=N.useCallback(()=>{window.clearTimeout(b.current),b.current=0,k.current=!1,R(!0)},[R]),j=N.useCallback(()=>{window.clearTimeout(b.current),b.current=0,R(!1)},[R]),V=N.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{k.current=!0,R(!0),b.current=0},x)},[x,R]);return N.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),L.jsx(X_,{...f,children:L.jsx(bft,{scope:e,contentId:y,open:I,stateAttribute:M,trigger:d,onTriggerChange:g,onTriggerEnter:N.useCallback(()=>{u.isOpenDelayed?V():P()},[u.isOpenDelayed,V,P]),onTriggerLeave:N.useCallback(()=>{A?j():(window.clearTimeout(b.current),b.current=0)},[j,A]),onOpen:P,onClose:j,disableHoverableContent:A,children:r})})};cbe.displayName=N6;var yN="TooltipTrigger",lbe=N.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=nA(yN,r),s=a$(yN,r),o=P6(r),a=N.useRef(null),u=tr(e,a,i.onTriggerChange),f=N.useRef(!1),d=N.useRef(!1),g=N.useCallback(()=>f.current=!1,[]);return N.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),L.jsx(q1,{asChild:!0,...o,children:L.jsx(Wt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:u,onPointerMove:ft(t.onPointerMove,y=>{y.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:ft(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:ft(t.onPointerDown,()=>{f.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:ft(t.onFocus,()=>{f.current||i.onOpen()}),onBlur:ft(t.onBlur,i.onClose),onClick:ft(t.onClick,i.onClose)})})});lbe.displayName=yN;var u$="TooltipPortal",[vft,wft]=C6(u$,{forceMount:void 0}),fbe=t=>{const{__scopeTooltip:e,forceMount:r,children:n,container:i}=t,s=nA(u$,e);return L.jsx(vft,{scope:e,forceMount:r,children:L.jsx(ji,{present:r||s.open,children:L.jsx(vg,{asChild:!0,container:i,children:n})})})};fbe.displayName=u$;var r1="TooltipContent",dbe=N.forwardRef((t,e)=>{const r=wft(r1,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=t,o=nA(r1,t.__scopeTooltip);return L.jsx(ji,{present:n||o.open,children:o.disableHoverableContent?L.jsx(hbe,{side:i,...s,ref:e}):L.jsx(Sft,{side:i,...s,ref:e})})}),Sft=N.forwardRef((t,e)=>{const r=nA(r1,t.__scopeTooltip),n=a$(r1,t.__scopeTooltip),i=N.useRef(null),s=tr(e,i),[o,a]=N.useState(null),{trigger:u,onClose:f}=r,d=i.current,{onPointerInTransitChange:g}=n,y=N.useCallback(()=>{a(null),g(!1)},[g]),b=N.useCallback((A,x)=>{const k=A.currentTarget,I={x:A.clientX,y:A.clientY},R=xft(I,k.getBoundingClientRect()),M=Eft(I,R),P=kft(x.getBoundingClientRect()),j=Ift([...M,...P]);a(j),g(!0)},[g]);return N.useEffect(()=>()=>y(),[y]),N.useEffect(()=>{if(u&&d){const A=k=>b(k,d),x=k=>b(k,u);return u.addEventListener("pointerleave",A),d.addEventListener("pointerleave",x),()=>{u.removeEventListener("pointerleave",A),d.removeEventListener("pointerleave",x)}}},[u,d,b,y]),N.useEffect(()=>{if(o){const A=x=>{const k=x.target,I={x:x.clientX,y:x.clientY},R=(u==null?void 0:u.contains(k))||(d==null?void 0:d.contains(k)),M=!Tft(I,o);R?y():M&&(y(),f())};return document.addEventListener("pointermove",A),()=>document.removeEventListener("pointermove",A)}},[u,d,o,f,y]),L.jsx(hbe,{...t,ref:s})}),[_ft,Aft]=C6(N6,{isInside:!1}),hbe=N.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,u=nA(r1,r),f=P6(r),{onClose:d}=u;return N.useEffect(()=>(document.addEventListener(mN,d),()=>document.removeEventListener(mN,d)),[d]),N.useEffect(()=>{if(u.trigger){const g=y=>{const b=y.target;b!=null&&b.contains(u.trigger)&&d()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[u.trigger,d]),L.jsx(bg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:g=>g.preventDefault(),onDismiss:d,children:L.jsxs(J_,{"data-state":u.stateAttribute,...f,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[L.jsx(Bge,{children:n}),L.jsx(_ft,{scope:r,isInside:!0,children:L.jsx(wct,{id:u.contentId,role:"tooltip",children:i||n})})]})})});dbe.displayName=r1;var pbe="TooltipArrow",gbe=N.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=P6(r);return Aft(pbe,r).isInside?null:L.jsx(Q_,{...i,...n,ref:e})});gbe.displayName=pbe;function xft(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Eft(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function kft(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function Tft(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,u=e[s].y,f=e[o].x,d=e[o].y;u>n!=d>n&&r<(f-a)*(n-u)/(d-u)+a&&(i=!i)}return i}function Ift(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Rft(e)}function Rft(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const s=r[r.length-1],o=r[r.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var Mft=ube,mbe=cbe,ybe=lbe,Cft=fbe,bbe=dbe,Pft=gbe,c$="Checkbox",[Nft,m_t]=no(c$),[Bft,Oft]=Nft(c$),vbe=N.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:s,required:o,disabled:a,value:u="on",onCheckedChange:f,form:d,...g}=t,[y,b]=N.useState(null),A=tr(e,P=>b(P)),x=N.useRef(!1),k=y?d||!!y.closest("form"):!0,[I=!1,R]=au({prop:i,defaultProp:s,onChange:f}),M=N.useRef(I);return N.useEffect(()=>{const P=y==null?void 0:y.form;if(P){const j=()=>R(M.current);return P.addEventListener("reset",j),()=>P.removeEventListener("reset",j)}},[y,R]),L.jsxs(Bft,{scope:r,state:I,disabled:a,children:[L.jsx(Wt.button,{type:"button",role:"checkbox","aria-checked":_h(I)?"mixed":I,"aria-required":o,"data-state":_be(I),"data-disabled":a?"":void 0,disabled:a,value:u,...g,ref:A,onKeyDown:ft(t.onKeyDown,P=>{P.key==="Enter"&&P.preventDefault()}),onClick:ft(t.onClick,P=>{R(j=>_h(j)?!0:!j),k&&(x.current=P.isPropagationStopped(),x.current||P.stopPropagation())})}),k&&L.jsx(Lft,{control:y,bubbles:!x.current,name:n,value:u,checked:I,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"},defaultChecked:_h(s)?!1:s})]})});vbe.displayName=c$;var wbe="CheckboxIndicator",Sbe=N.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,s=Oft(wbe,r);return L.jsx(ji,{present:n||_h(s.state)||s.state===!0,children:L.jsx(Wt.span,{"data-state":_be(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});Sbe.displayName=wbe;var Lft=t=>{const{control:e,checked:r,bubbles:n=!0,defaultChecked:i,...s}=t,o=N.useRef(null),a=w6(r),u=v6(e);N.useEffect(()=>{const d=o.current,g=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(g,"checked").set;if(a!==r&&b){const A=new Event("click",{bubbles:n});d.indeterminate=_h(r),b.call(d,_h(r)?!1:r),d.dispatchEvent(A)}},[a,r,n]);const f=N.useRef(_h(r)?!1:r);return L.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??f.current,...s,tabIndex:-1,ref:o,style:{...t.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function _h(t){return t==="indeterminate"}function _be(t){return _h(t)?"indeterminate":t?"checked":"unchecked"}var Abe=vbe,Dft=Sbe,l$="Switch",[Fft,y_t]=no(l$),[$ft,Uft]=Fft(l$),xbe=N.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:s,required:o,disabled:a,value:u="on",onCheckedChange:f,form:d,...g}=t,[y,b]=N.useState(null),A=tr(e,M=>b(M)),x=N.useRef(!1),k=y?d||!!y.closest("form"):!0,[I=!1,R]=au({prop:i,defaultProp:s,onChange:f});return L.jsxs($ft,{scope:r,checked:I,disabled:a,children:[L.jsx(Wt.button,{type:"button",role:"switch","aria-checked":I,"aria-required":o,"data-state":Tbe(I),"data-disabled":a?"":void 0,disabled:a,value:u,...g,ref:A,onClick:ft(t.onClick,M=>{R(P=>!P),k&&(x.current=M.isPropagationStopped(),x.current||M.stopPropagation())})}),k&&L.jsx(zft,{control:y,bubbles:!x.current,name:n,value:u,checked:I,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});xbe.displayName=l$;var Ebe="SwitchThumb",kbe=N.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=Uft(Ebe,r);return L.jsx(Wt.span,{"data-state":Tbe(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});kbe.displayName=Ebe;var zft=t=>{const{control:e,checked:r,bubbles:n=!0,...i}=t,s=N.useRef(null),o=w6(r),a=v6(e);return N.useEffect(()=>{const u=s.current,f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(o!==r&&g){const y=new Event("click",{bubbles:n});g.call(u,r),u.dispatchEvent(y)}},[o,r,n]),L.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Tbe(t){return t?"checked":"unchecked"}var Ibe=xbe,Wft=kbe;/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function jft(){return{accessor:(t,e)=>typeof t=="function"?{...e,accessorFn:t}:{...e,accessorKey:t},display:t=>t,group:t=>t}}function lh(t,e){return typeof t=="function"?t(e):t}function Ta(t,e){return r=>{e.setState(n=>({...n,[t]:lh(r,n[t])}))}}function B6(t){return t instanceof Function}function Kft(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function Hft(t,e){const r=[],n=i=>{i.forEach(s=>{r.push(s);const o=e(s);o!=null&&o.length&&n(o)})};return n(t),r}function Yt(t,e,r){let n=[],i;return s=>{let o;r.key&&r.debug&&(o=Date.now());const a=t(s);if(!(a.length!==n.length||a.some((d,g)=>n[g]!==d)))return i;n=a;let f;if(r.key&&r.debug&&(f=Date.now()),i=e(...a),r==null||r.onChange==null||r.onChange(i),r.key&&r.debug&&r!=null&&r.debug()){const d=Math.round((Date.now()-o)*100)/100,g=Math.round((Date.now()-f)*100)/100,y=g/16,b=(A,x)=>{for(A=String(A);A.length<x;)A=" "+A;return A};console.info(`%c ${b(g,5)} /${b(d,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*y,120))}deg 100% 31%);`,r==null?void 0:r.key)}return i}}function Zt(t,e,r,n){return{debug:()=>{var i;return(i=t==null?void 0:t.debugAll)!=null?i:t[e]},key:!1,onChange:n}}function qft(t,e,r,n){const i=()=>{var o;return(o=s.getValue())!=null?o:t.options.renderFallbackValue},s={id:`${e.id}_${r.id}`,row:e,column:r,getValue:()=>e.getValue(n),renderValue:i,getContext:Yt(()=>[t,r,e,s],(o,a,u,f)=>({table:o,column:a,row:u,cell:f,getValue:f.getValue,renderValue:f.renderValue}),Zt(t.options,"debugCells"))};return t._features.forEach(o=>{o.createCell==null||o.createCell(s,r,e,t)},{}),s}function Vft(t,e,r,n){var i,s;const a={...t._getDefaultColumnDef(),...e},u=a.accessorKey;let f=(i=(s=a.id)!=null?s:u?typeof String.prototype.replaceAll=="function"?u.replaceAll(".","_"):u.replace(/\./g,"_"):void 0)!=null?i:typeof a.header=="string"?a.header:void 0,d;if(a.accessorFn?d=a.accessorFn:u&&(u.includes(".")?d=y=>{let b=y;for(const x of u.split(".")){var A;b=(A=b)==null?void 0:A[x]}return b}:d=y=>y[a.accessorKey]),!f)throw new Error;let g={id:`${String(f)}`,accessorFn:d,parent:n,depth:r,columnDef:a,columns:[],getFlatColumns:Yt(()=>[!0],()=>{var y;return[g,...(y=g.columns)==null?void 0:y.flatMap(b=>b.getFlatColumns())]},Zt(t.options,"debugColumns")),getLeafColumns:Yt(()=>[t._getOrderColumnsFn()],y=>{var b;if((b=g.columns)!=null&&b.length){let A=g.columns.flatMap(x=>x.getLeafColumns());return y(A)}return[g]},Zt(t.options,"debugColumns"))};for(const y of t._features)y.createColumn==null||y.createColumn(g,t);return g}const Ks="debugHeaders";function nY(t,e,r){var n;let s={id:(n=r.id)!=null?n:e.id,column:e,index:r.index,isPlaceholder:!!r.isPlaceholder,placeholderId:r.placeholderId,depth:r.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],a=u=>{u.subHeaders&&u.subHeaders.length&&u.subHeaders.map(a),o.push(u)};return a(s),o},getContext:()=>({table:t,header:s,column:e})};return t._features.forEach(o=>{o.createHeader==null||o.createHeader(s,t)}),s}const Gft={createTable:t=>{t.getHeaderGroups=Yt(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,r,n,i)=>{var s,o;const a=(s=n==null?void 0:n.map(g=>r.find(y=>y.id===g)).filter(Boolean))!=null?s:[],u=(o=i==null?void 0:i.map(g=>r.find(y=>y.id===g)).filter(Boolean))!=null?o:[],f=r.filter(g=>!(n!=null&&n.includes(g.id))&&!(i!=null&&i.includes(g.id)));return b2(e,[...a,...f,...u],t)},Zt(t.options,Ks)),t.getCenterHeaderGroups=Yt(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,r,n,i)=>(r=r.filter(s=>!(n!=null&&n.includes(s.id))&&!(i!=null&&i.includes(s.id))),b2(e,r,t,"center")),Zt(t.options,Ks)),t.getLeftHeaderGroups=Yt(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,r,n)=>{var i;const s=(i=n==null?void 0:n.map(o=>r.find(a=>a.id===o)).filter(Boolean))!=null?i:[];return b2(e,s,t,"left")},Zt(t.options,Ks)),t.getRightHeaderGroups=Yt(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,r,n)=>{var i;const s=(i=n==null?void 0:n.map(o=>r.find(a=>a.id===o)).filter(Boolean))!=null?i:[];return b2(e,s,t,"right")},Zt(t.options,Ks)),t.getFooterGroups=Yt(()=>[t.getHeaderGroups()],e=>[...e].reverse(),Zt(t.options,Ks)),t.getLeftFooterGroups=Yt(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),Zt(t.options,Ks)),t.getCenterFooterGroups=Yt(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),Zt(t.options,Ks)),t.getRightFooterGroups=Yt(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),Zt(t.options,Ks)),t.getFlatHeaders=Yt(()=>[t.getHeaderGroups()],e=>e.map(r=>r.headers).flat(),Zt(t.options,Ks)),t.getLeftFlatHeaders=Yt(()=>[t.getLeftHeaderGroups()],e=>e.map(r=>r.headers).flat(),Zt(t.options,Ks)),t.getCenterFlatHeaders=Yt(()=>[t.getCenterHeaderGroups()],e=>e.map(r=>r.headers).flat(),Zt(t.options,Ks)),t.getRightFlatHeaders=Yt(()=>[t.getRightHeaderGroups()],e=>e.map(r=>r.headers).flat(),Zt(t.options,Ks)),t.getCenterLeafHeaders=Yt(()=>[t.getCenterFlatHeaders()],e=>e.filter(r=>{var n;return!((n=r.subHeaders)!=null&&n.length)}),Zt(t.options,Ks)),t.getLeftLeafHeaders=Yt(()=>[t.getLeftFlatHeaders()],e=>e.filter(r=>{var n;return!((n=r.subHeaders)!=null&&n.length)}),Zt(t.options,Ks)),t.getRightLeafHeaders=Yt(()=>[t.getRightFlatHeaders()],e=>e.filter(r=>{var n;return!((n=r.subHeaders)!=null&&n.length)}),Zt(t.options,Ks)),t.getLeafHeaders=Yt(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,r,n)=>{var i,s,o,a,u,f;return[...(i=(s=e[0])==null?void 0:s.headers)!=null?i:[],...(o=(a=r[0])==null?void 0:a.headers)!=null?o:[],...(u=(f=n[0])==null?void 0:f.headers)!=null?u:[]].map(d=>d.getLeafHeaders()).flat()},Zt(t.options,Ks))}};function b2(t,e,r,n){var i,s;let o=0;const a=function(y,b){b===void 0&&(b=1),o=Math.max(o,b),y.filter(A=>A.getIsVisible()).forEach(A=>{var x;(x=A.columns)!=null&&x.length&&a(A.columns,b+1)},0)};a(t);let u=[];const f=(y,b)=>{const A={depth:b,id:[n,`${b}`].filter(Boolean).join("_"),headers:[]},x=[];y.forEach(k=>{const I=[...x].reverse()[0],R=k.column.depth===A.depth;let M,P=!1;if(R&&k.column.parent?M=k.column.parent:(M=k.column,P=!0),I&&(I==null?void 0:I.column)===M)I.subHeaders.push(k);else{const j=nY(r,M,{id:[n,b,M.id,k==null?void 0:k.id].filter(Boolean).join("_"),isPlaceholder:P,placeholderId:P?`${x.filter(V=>V.column===M).length}`:void 0,depth:b,index:x.length});j.subHeaders.push(k),x.push(j)}A.headers.push(k),k.headerGroup=A}),u.push(A),b>0&&f(x,b-1)},d=e.map((y,b)=>nY(r,y,{depth:o,index:b}));f(d,o-1),u.reverse();const g=y=>y.filter(A=>A.column.getIsVisible()).map(A=>{let x=0,k=0,I=[0];A.subHeaders&&A.subHeaders.length?(I=[],g(A.subHeaders).forEach(M=>{let{colSpan:P,rowSpan:j}=M;x+=P,I.push(j)})):x=1;const R=Math.min(...I);return k=k+R,A.colSpan=x,A.rowSpan=k,{colSpan:x,rowSpan:k}});return g((i=(s=u[0])==null?void 0:s.headers)!=null?i:[]),u}const f$=(t,e,r,n,i,s,o)=>{let a={id:e,index:n,original:r,depth:i,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:u=>{if(a._valuesCache.hasOwnProperty(u))return a._valuesCache[u];const f=t.getColumn(u);if(f!=null&&f.accessorFn)return a._valuesCache[u]=f.accessorFn(a.original,n),a._valuesCache[u]},getUniqueValues:u=>{if(a._uniqueValuesCache.hasOwnProperty(u))return a._uniqueValuesCache[u];const f=t.getColumn(u);if(f!=null&&f.accessorFn)return f.columnDef.getUniqueValues?(a._uniqueValuesCache[u]=f.columnDef.getUniqueValues(a.original,n),a._uniqueValuesCache[u]):(a._uniqueValuesCache[u]=[a.getValue(u)],a._uniqueValuesCache[u])},renderValue:u=>{var f;return(f=a.getValue(u))!=null?f:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>Hft(a.subRows,u=>u.subRows),getParentRow:()=>a.parentId?t.getRow(a.parentId,!0):void 0,getParentRows:()=>{let u=[],f=a;for(;;){const d=f.getParentRow();if(!d)break;u.push(d),f=d}return u.reverse()},getAllCells:Yt(()=>[t.getAllLeafColumns()],u=>u.map(f=>qft(t,a,f,f.id)),Zt(t.options,"debugRows")),_getAllCellsByColumnId:Yt(()=>[a.getAllCells()],u=>u.reduce((f,d)=>(f[d.column.id]=d,f),{}),Zt(t.options,"debugRows"))};for(let u=0;u<t._features.length;u++){const f=t._features[u];f==null||f.createRow==null||f.createRow(a,t)}return a},Yft={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},Rbe=(t,e,r)=>{var n,i;const s=r==null||(n=r.toString())==null?void 0:n.toLowerCase();return!!(!((i=t.getValue(e))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(s))};Rbe.autoRemove=t=>ju(t);const Mbe=(t,e,r)=>{var n;return!!(!((n=t.getValue(e))==null||(n=n.toString())==null)&&n.includes(r))};Mbe.autoRemove=t=>ju(t);const Cbe=(t,e,r)=>{var n;return((n=t.getValue(e))==null||(n=n.toString())==null?void 0:n.toLowerCase())===(r==null?void 0:r.toLowerCase())};Cbe.autoRemove=t=>ju(t);const Pbe=(t,e,r)=>{var n;return(n=t.getValue(e))==null?void 0:n.includes(r)};Pbe.autoRemove=t=>ju(t)||!(t!=null&&t.length);const Nbe=(t,e,r)=>!r.some(n=>{var i;return!((i=t.getValue(e))!=null&&i.includes(n))});Nbe.autoRemove=t=>ju(t)||!(t!=null&&t.length);const Bbe=(t,e,r)=>r.some(n=>{var i;return(i=t.getValue(e))==null?void 0:i.includes(n)});Bbe.autoRemove=t=>ju(t)||!(t!=null&&t.length);const Obe=(t,e,r)=>t.getValue(e)===r;Obe.autoRemove=t=>ju(t);const Lbe=(t,e,r)=>t.getValue(e)==r;Lbe.autoRemove=t=>ju(t);const d$=(t,e,r)=>{let[n,i]=r;const s=t.getValue(e);return s>=n&&s<=i};d$.resolveFilterValue=t=>{let[e,r]=t,n=typeof e!="number"?parseFloat(e):e,i=typeof r!="number"?parseFloat(r):r,s=e===null||Number.isNaN(n)?-1/0:n,o=r===null||Number.isNaN(i)?1/0:i;if(s>o){const a=s;s=o,o=a}return[s,o]};d$.autoRemove=t=>ju(t)||ju(t[0])&&ju(t[1]);const rf={includesString:Rbe,includesStringSensitive:Mbe,equalsString:Cbe,arrIncludes:Pbe,arrIncludesAll:Nbe,arrIncludesSome:Bbe,equals:Obe,weakEquals:Lbe,inNumberRange:d$};function ju(t){return t==null||t===""}const Zft={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:Ta("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const r=e.getCoreRowModel().flatRows[0],n=r==null?void 0:r.getValue(t.id);return typeof n=="string"?rf.includesString:typeof n=="number"?rf.inNumberRange:typeof n=="boolean"||n!==null&&typeof n=="object"?rf.equals:Array.isArray(n)?rf.arrIncludes:rf.weakEquals},t.getFilterFn=()=>{var r,n;return B6(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(r=(n=e.options.filterFns)==null?void 0:n[t.columnDef.filterFn])!=null?r:rf[t.columnDef.filterFn]},t.getCanFilter=()=>{var r,n,i;return((r=t.columnDef.enableColumnFilter)!=null?r:!0)&&((n=e.options.enableColumnFilters)!=null?n:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var r;return(r=e.getState().columnFilters)==null||(r=r.find(n=>n.id===t.id))==null?void 0:r.value},t.getFilterIndex=()=>{var r,n;return(r=(n=e.getState().columnFilters)==null?void 0:n.findIndex(i=>i.id===t.id))!=null?r:-1},t.setFilterValue=r=>{e.setColumnFilters(n=>{const i=t.getFilterFn(),s=n==null?void 0:n.find(d=>d.id===t.id),o=lh(r,s?s.value:void 0);if(iY(i,o,t)){var a;return(a=n==null?void 0:n.filter(d=>d.id!==t.id))!=null?a:[]}const u={id:t.id,value:o};if(s){var f;return(f=n==null?void 0:n.map(d=>d.id===t.id?u:d))!=null?f:[]}return n!=null&&n.length?[...n,u]:[u]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const r=t.getAllLeafColumns(),n=i=>{var s;return(s=lh(e,i))==null?void 0:s.filter(o=>{const a=r.find(u=>u.id===o.id);if(a){const u=a.getFilterFn();if(iY(u,o.value,a))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(n)},t.resetColumnFilters=e=>{var r,n;t.setColumnFilters(e?[]:(r=(n=t.initialState)==null?void 0:n.columnFilters)!=null?r:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function iY(t,e,r){return(t&&t.autoRemove?t.autoRemove(e,r):!1)||typeof e>"u"||typeof e=="string"&&!e}const Xft=(t,e,r)=>r.reduce((n,i)=>{const s=i.getValue(t);return n+(typeof s=="number"?s:0)},0),Jft=(t,e,r)=>{let n;return r.forEach(i=>{const s=i.getValue(t);s!=null&&(n>s||n===void 0&&s>=s)&&(n=s)}),n},Qft=(t,e,r)=>{let n;return r.forEach(i=>{const s=i.getValue(t);s!=null&&(n<s||n===void 0&&s>=s)&&(n=s)}),n},edt=(t,e,r)=>{let n,i;return r.forEach(s=>{const o=s.getValue(t);o!=null&&(n===void 0?o>=o&&(n=i=o):(n>o&&(n=o),i<o&&(i=o)))}),[n,i]},tdt=(t,e)=>{let r=0,n=0;if(e.forEach(i=>{let s=i.getValue(t);s!=null&&(s=+s)>=s&&(++r,n+=s)}),r)return n/r},rdt=(t,e)=>{if(!e.length)return;const r=e.map(s=>s.getValue(t));if(!Kft(r))return;if(r.length===1)return r[0];const n=Math.floor(r.length/2),i=r.sort((s,o)=>s-o);return r.length%2!==0?i[n]:(i[n-1]+i[n])/2},ndt=(t,e)=>Array.from(new Set(e.map(r=>r.getValue(t))).values()),idt=(t,e)=>new Set(e.map(r=>r.getValue(t))).size,sdt=(t,e)=>e.length,R8={sum:Xft,min:Jft,max:Qft,extent:edt,mean:tdt,median:rdt,unique:ndt,uniqueCount:idt,count:sdt},odt={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,r;return(e=(r=t.getValue())==null||r.toString==null?void 0:r.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:Ta("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(r=>r!=null&&r.includes(t.id)?r.filter(n=>n!==t.id):[...r??[],t.id])},t.getCanGroup=()=>{var r,n;return((r=t.columnDef.enableGrouping)!=null?r:!0)&&((n=e.options.enableGrouping)!=null?n:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var r;return(r=e.getState().grouping)==null?void 0:r.includes(t.id)},t.getGroupedIndex=()=>{var r;return(r=e.getState().grouping)==null?void 0:r.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const r=t.getCanGroup();return()=>{r&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const r=e.getCoreRowModel().flatRows[0],n=r==null?void 0:r.getValue(t.id);if(typeof n=="number")return R8.sum;if(Object.prototype.toString.call(n)==="[object Date]")return R8.extent},t.getAggregationFn=()=>{var r,n;if(!t)throw new Error;return B6(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(r=(n=e.options.aggregationFns)==null?void 0:n[t.columnDef.aggregationFn])!=null?r:R8[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var r,n;t.setGrouping(e?[]:(r=(n=t.initialState)==null?void 0:n.grouping)!=null?r:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=r=>{if(t._groupingValuesCache.hasOwnProperty(r))return t._groupingValuesCache[r];const n=e.getColumn(r);return n!=null&&n.columnDef.getGroupingValue?(t._groupingValuesCache[r]=n.columnDef.getGroupingValue(t.original),t._groupingValuesCache[r]):t.getValue(r)},t._groupingValuesCache={}},createCell:(t,e,r,n)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===r.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var i;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((i=r.subRows)!=null&&i.length)}}};function adt(t,e,r){if(!(e!=null&&e.length)||!r)return t;const n=t.filter(s=>!e.includes(s.id));return r==="remove"?n:[...e.map(s=>t.find(o=>o.id===s)).filter(Boolean),...n]}const udt={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:Ta("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=Yt(r=>[Rw(e,r)],r=>r.findIndex(n=>n.id===t.id),Zt(e.options,"debugColumns")),t.getIsFirstColumn=r=>{var n;return((n=Rw(e,r)[0])==null?void 0:n.id)===t.id},t.getIsLastColumn=r=>{var n;const i=Rw(e,r);return((n=i[i.length-1])==null?void 0:n.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var r;t.setColumnOrder(e?[]:(r=t.initialState.columnOrder)!=null?r:[])},t._getOrderColumnsFn=Yt(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,r,n)=>i=>{let s=[];if(!(e!=null&&e.length))s=i;else{const o=[...e],a=[...i];for(;a.length&&o.length;){const u=o.shift(),f=a.findIndex(d=>d.id===u);f>-1&&s.push(a.splice(f,1)[0])}s=[...s,...a]}return adt(s,r,n)},Zt(t.options,"debugTable"))}},M8=()=>({left:[],right:[]}),cdt={getInitialState:t=>({columnPinning:M8(),...t}),getDefaultOptions:t=>({onColumnPinningChange:Ta("columnPinning",t)}),createColumn:(t,e)=>{t.pin=r=>{const n=t.getLeafColumns().map(i=>i.id).filter(Boolean);e.setColumnPinning(i=>{var s,o;if(r==="right"){var a,u;return{left:((a=i==null?void 0:i.left)!=null?a:[]).filter(g=>!(n!=null&&n.includes(g))),right:[...((u=i==null?void 0:i.right)!=null?u:[]).filter(g=>!(n!=null&&n.includes(g))),...n]}}if(r==="left"){var f,d;return{left:[...((f=i==null?void 0:i.left)!=null?f:[]).filter(g=>!(n!=null&&n.includes(g))),...n],right:((d=i==null?void 0:i.right)!=null?d:[]).filter(g=>!(n!=null&&n.includes(g)))}}return{left:((s=i==null?void 0:i.left)!=null?s:[]).filter(g=>!(n!=null&&n.includes(g))),right:((o=i==null?void 0:i.right)!=null?o:[]).filter(g=>!(n!=null&&n.includes(g)))}})},t.getCanPin=()=>t.getLeafColumns().some(n=>{var i,s,o;return((i=n.columnDef.enablePinning)!=null?i:!0)&&((s=(o=e.options.enableColumnPinning)!=null?o:e.options.enablePinning)!=null?s:!0)}),t.getIsPinned=()=>{const r=t.getLeafColumns().map(a=>a.id),{left:n,right:i}=e.getState().columnPinning,s=r.some(a=>n==null?void 0:n.includes(a)),o=r.some(a=>i==null?void 0:i.includes(a));return s?"left":o?"right":!1},t.getPinnedIndex=()=>{var r,n;const i=t.getIsPinned();return i?(r=(n=e.getState().columnPinning)==null||(n=n[i])==null?void 0:n.indexOf(t.id))!=null?r:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=Yt(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(r,n,i)=>{const s=[...n??[],...i??[]];return r.filter(o=>!s.includes(o.column.id))},Zt(e.options,"debugRows")),t.getLeftVisibleCells=Yt(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(r,n)=>(n??[]).map(s=>r.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),Zt(e.options,"debugRows")),t.getRightVisibleCells=Yt(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(r,n)=>(n??[]).map(s=>r.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),Zt(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var r,n;return t.setColumnPinning(e?M8():(r=(n=t.initialState)==null?void 0:n.columnPinning)!=null?r:M8())},t.getIsSomeColumnsPinned=e=>{var r;const n=t.getState().columnPinning;if(!e){var i,s;return!!((i=n.left)!=null&&i.length||(s=n.right)!=null&&s.length)}return!!((r=n[e])!=null&&r.length)},t.getLeftLeafColumns=Yt(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,r)=>(r??[]).map(n=>e.find(i=>i.id===n)).filter(Boolean),Zt(t.options,"debugColumns")),t.getRightLeafColumns=Yt(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,r)=>(r??[]).map(n=>e.find(i=>i.id===n)).filter(Boolean),Zt(t.options,"debugColumns")),t.getCenterLeafColumns=Yt(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,r,n)=>{const i=[...r??[],...n??[]];return e.filter(s=>!i.includes(s.id))},Zt(t.options,"debugColumns"))}},v2={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},C8=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),ldt={getDefaultColumnDef:()=>v2,getInitialState:t=>({columnSizing:{},columnSizingInfo:C8(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Ta("columnSizing",t),onColumnSizingInfoChange:Ta("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var r,n,i;const s=e.getState().columnSizing[t.id];return Math.min(Math.max((r=t.columnDef.minSize)!=null?r:v2.minSize,(n=s??t.columnDef.size)!=null?n:v2.size),(i=t.columnDef.maxSize)!=null?i:v2.maxSize)},t.getStart=Yt(r=>[r,Rw(e,r),e.getState().columnSizing],(r,n)=>n.slice(0,t.getIndex(r)).reduce((i,s)=>i+s.getSize(),0),Zt(e.options,"debugColumns")),t.getAfter=Yt(r=>[r,Rw(e,r),e.getState().columnSizing],(r,n)=>n.slice(t.getIndex(r)+1).reduce((i,s)=>i+s.getSize(),0),Zt(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing(r=>{let{[t.id]:n,...i}=r;return i})},t.getCanResize=()=>{var r,n;return((r=t.columnDef.enableResizing)!=null?r:!0)&&((n=e.options.enableColumnResizing)!=null?n:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let r=0;const n=i=>{if(i.subHeaders.length)i.subHeaders.forEach(n);else{var s;r+=(s=i.column.getSize())!=null?s:0}};return n(t),r},t.getStart=()=>{if(t.index>0){const r=t.headerGroup.headers[t.index-1];return r.getStart()+r.getSize()}return 0},t.getResizeHandler=r=>{const n=e.getColumn(t.column.id),i=n==null?void 0:n.getCanResize();return s=>{if(!n||!i||(s.persist==null||s.persist(),P8(s)&&s.touches&&s.touches.length>1))return;const o=t.getSize(),a=t?t.getLeafHeaders().map(I=>[I.column.id,I.column.getSize()]):[[n.id,n.getSize()]],u=P8(s)?Math.round(s.touches[0].clientX):s.clientX,f={},d=(I,R)=>{typeof R=="number"&&(e.setColumnSizingInfo(M=>{var P,j;const V=e.options.columnResizeDirection==="rtl"?-1:1,Z=(R-((P=M==null?void 0:M.startOffset)!=null?P:0))*V,G=Math.max(Z/((j=M==null?void 0:M.startSize)!=null?j:0),-.999999);return M.columnSizingStart.forEach(q=>{let[ae,T]=q;f[ae]=Math.round(Math.max(T+T*G,0)*100)/100}),{...M,deltaOffset:Z,deltaPercentage:G}}),(e.options.columnResizeMode==="onChange"||I==="end")&&e.setColumnSizing(M=>({...M,...f})))},g=I=>d("move",I),y=I=>{d("end",I),e.setColumnSizingInfo(R=>({...R,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},b=r||typeof document<"u"?document:null,A={moveHandler:I=>g(I.clientX),upHandler:I=>{b==null||b.removeEventListener("mousemove",A.moveHandler),b==null||b.removeEventListener("mouseup",A.upHandler),y(I.clientX)}},x={moveHandler:I=>(I.cancelable&&(I.preventDefault(),I.stopPropagation()),g(I.touches[0].clientX),!1),upHandler:I=>{var R;b==null||b.removeEventListener("touchmove",x.moveHandler),b==null||b.removeEventListener("touchend",x.upHandler),I.cancelable&&(I.preventDefault(),I.stopPropagation()),y((R=I.touches[0])==null?void 0:R.clientX)}},k=fdt()?{passive:!1}:!1;P8(s)?(b==null||b.addEventListener("touchmove",x.moveHandler,k),b==null||b.addEventListener("touchend",x.upHandler,k)):(b==null||b.addEventListener("mousemove",A.moveHandler,k),b==null||b.addEventListener("mouseup",A.upHandler,k)),e.setColumnSizingInfo(I=>({...I,startOffset:u,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:n.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var r;t.setColumnSizing(e?{}:(r=t.initialState.columnSizing)!=null?r:{})},t.resetHeaderSizeInfo=e=>{var r;t.setColumnSizingInfo(e?C8():(r=t.initialState.columnSizingInfo)!=null?r:C8())},t.getTotalSize=()=>{var e,r;return(e=(r=t.getHeaderGroups()[0])==null?void 0:r.headers.reduce((n,i)=>n+i.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,r;return(e=(r=t.getLeftHeaderGroups()[0])==null?void 0:r.headers.reduce((n,i)=>n+i.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,r;return(e=(r=t.getCenterHeaderGroups()[0])==null?void 0:r.headers.reduce((n,i)=>n+i.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,r;return(e=(r=t.getRightHeaderGroups()[0])==null?void 0:r.headers.reduce((n,i)=>n+i.getSize(),0))!=null?e:0}}};let w2=null;function fdt(){if(typeof w2=="boolean")return w2;let t=!1;try{const e={get passive(){return t=!0,!1}},r=()=>{};window.addEventListener("test",r,e),window.removeEventListener("test",r)}catch{t=!1}return w2=t,w2}function P8(t){return t.type==="touchstart"}const ddt={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:Ta("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=r=>{t.getCanHide()&&e.setColumnVisibility(n=>({...n,[t.id]:r??!t.getIsVisible()}))},t.getIsVisible=()=>{var r,n;const i=t.columns;return(r=i.length?i.some(s=>s.getIsVisible()):(n=e.getState().columnVisibility)==null?void 0:n[t.id])!=null?r:!0},t.getCanHide=()=>{var r,n;return((r=t.columnDef.enableHiding)!=null?r:!0)&&((n=e.options.enableHiding)!=null?n:!0)},t.getToggleVisibilityHandler=()=>r=>{t.toggleVisibility==null||t.toggleVisibility(r.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=Yt(()=>[t.getAllCells(),e.getState().columnVisibility],r=>r.filter(n=>n.column.getIsVisible()),Zt(e.options,"debugRows")),t.getVisibleCells=Yt(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(r,n,i)=>[...r,...n,...i],Zt(e.options,"debugRows"))},createTable:t=>{const e=(r,n)=>Yt(()=>[n(),n().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),Zt(t.options,"debugColumns"));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=r=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(r),t.resetColumnVisibility=r=>{var n;t.setColumnVisibility(r?{}:(n=t.initialState.columnVisibility)!=null?n:{})},t.toggleAllColumnsVisible=r=>{var n;r=(n=r)!=null?n:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((i,s)=>({...i,[s.id]:r||!(s.getCanHide!=null&&s.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(r=>!(r.getIsVisible!=null&&r.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(r=>r.getIsVisible==null?void 0:r.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>r=>{var n;t.toggleAllColumnsVisible((n=r.target)==null?void 0:n.checked)}}};function Rw(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const hdt={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},pdt={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:Ta("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var r;const n=(r=t.getCoreRowModel().flatRows[0])==null||(r=r._getAllCellsByColumnId()[e.id])==null?void 0:r.getValue();return typeof n=="string"||typeof n=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var r,n,i,s;return((r=t.columnDef.enableGlobalFilter)!=null?r:!0)&&((n=e.options.enableGlobalFilter)!=null?n:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&((s=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?s:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>rf.includesString,t.getGlobalFilterFn=()=>{var e,r;const{globalFilterFn:n}=t.options;return B6(n)?n:n==="auto"?t.getGlobalAutoFilterFn():(e=(r=t.options.filterFns)==null?void 0:r[n])!=null?e:rf[n]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},gdt={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:Ta("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,r=!1;t._autoResetExpanded=()=>{var n,i;if(!e){t._queue(()=>{e=!0});return}if((n=(i=t.options.autoResetAll)!=null?i:t.options.autoResetExpanded)!=null?n:!t.options.manualExpanding){if(r)return;r=!0,t._queue(()=>{t.resetExpanded(),r=!1})}},t.setExpanded=n=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(n),t.toggleAllRowsExpanded=n=>{n??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=n=>{var i,s;t.setExpanded(n?{}:(i=(s=t.initialState)==null?void 0:s.expanded)!=null?i:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(n=>n.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>n=>{n.persist==null||n.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const n=t.getState().expanded;return n===!0||Object.values(n).some(Boolean)},t.getIsAllRowsExpanded=()=>{const n=t.getState().expanded;return typeof n=="boolean"?n===!0:!(!Object.keys(n).length||t.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},t.getExpandedDepth=()=>{let n=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(s=>{const o=s.split(".");n=Math.max(n,o.length)}),n},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=r=>{e.setExpanded(n=>{var i;const s=n===!0?!0:!!(n!=null&&n[t.id]);let o={};if(n===!0?Object.keys(e.getRowModel().rowsById).forEach(a=>{o[a]=!0}):o=n,r=(i=r)!=null?i:!s,!s&&r)return{...o,[t.id]:!0};if(s&&!r){const{[t.id]:a,...u}=o;return u}return n})},t.getIsExpanded=()=>{var r;const n=e.getState().expanded;return!!((r=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?r:n===!0||n!=null&&n[t.id])},t.getCanExpand=()=>{var r,n,i;return(r=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?r:((n=e.options.enableExpanding)!=null?n:!0)&&!!((i=t.subRows)!=null&&i.length)},t.getIsAllParentsExpanded=()=>{let r=!0,n=t;for(;r&&n.parentId;)n=e.getRow(n.parentId,!0),r=n.getIsExpanded();return r},t.getToggleExpandedHandler=()=>{const r=t.getCanExpand();return()=>{r&&t.toggleExpanded()}}}},bN=0,vN=10,N8=()=>({pageIndex:bN,pageSize:vN}),mdt={getInitialState:t=>({...t,pagination:{...N8(),...t==null?void 0:t.pagination}}),getDefaultOptions:t=>({onPaginationChange:Ta("pagination",t)}),createTable:t=>{let e=!1,r=!1;t._autoResetPageIndex=()=>{var n,i;if(!e){t._queue(()=>{e=!0});return}if((n=(i=t.options.autoResetAll)!=null?i:t.options.autoResetPageIndex)!=null?n:!t.options.manualPagination){if(r)return;r=!0,t._queue(()=>{t.resetPageIndex(),r=!1})}},t.setPagination=n=>{const i=s=>lh(n,s);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(i)},t.resetPagination=n=>{var i;t.setPagination(n?N8():(i=t.initialState.pagination)!=null?i:N8())},t.setPageIndex=n=>{t.setPagination(i=>{let s=lh(n,i.pageIndex);const o=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return s=Math.max(0,Math.min(s,o)),{...i,pageIndex:s}})},t.resetPageIndex=n=>{var i,s;t.setPageIndex(n?bN:(i=(s=t.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?i:bN)},t.resetPageSize=n=>{var i,s;t.setPageSize(n?vN:(i=(s=t.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?i:vN)},t.setPageSize=n=>{t.setPagination(i=>{const s=Math.max(1,lh(n,i.pageSize)),o=i.pageSize*i.pageIndex,a=Math.floor(o/s);return{...i,pageIndex:a,pageSize:s}})},t.setPageCount=n=>t.setPagination(i=>{var s;let o=lh(n,(s=t.options.pageCount)!=null?s:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...i,pageCount:o}}),t.getPageOptions=Yt(()=>[t.getPageCount()],n=>{let i=[];return n&&n>0&&(i=[...new Array(n)].fill(null).map((s,o)=>o)),i},Zt(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:n}=t.getState().pagination,i=t.getPageCount();return i===-1?!0:i===0?!1:n<i-1},t.previousPage=()=>t.setPageIndex(n=>n-1),t.nextPage=()=>t.setPageIndex(n=>n+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var n;return(n=t.options.pageCount)!=null?n:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var n;return(n=t.options.rowCount)!=null?n:t.getPrePaginationRowModel().rows.length}}},B8=()=>({top:[],bottom:[]}),ydt={getInitialState:t=>({rowPinning:B8(),...t}),getDefaultOptions:t=>({onRowPinningChange:Ta("rowPinning",t)}),createRow:(t,e)=>{t.pin=(r,n,i)=>{const s=n?t.getLeafRows().map(u=>{let{id:f}=u;return f}):[],o=i?t.getParentRows().map(u=>{let{id:f}=u;return f}):[],a=new Set([...o,t.id,...s]);e.setRowPinning(u=>{var f,d;if(r==="bottom"){var g,y;return{top:((g=u==null?void 0:u.top)!=null?g:[]).filter(x=>!(a!=null&&a.has(x))),bottom:[...((y=u==null?void 0:u.bottom)!=null?y:[]).filter(x=>!(a!=null&&a.has(x))),...Array.from(a)]}}if(r==="top"){var b,A;return{top:[...((b=u==null?void 0:u.top)!=null?b:[]).filter(x=>!(a!=null&&a.has(x))),...Array.from(a)],bottom:((A=u==null?void 0:u.bottom)!=null?A:[]).filter(x=>!(a!=null&&a.has(x)))}}return{top:((f=u==null?void 0:u.top)!=null?f:[]).filter(x=>!(a!=null&&a.has(x))),bottom:((d=u==null?void 0:u.bottom)!=null?d:[]).filter(x=>!(a!=null&&a.has(x)))}})},t.getCanPin=()=>{var r;const{enableRowPinning:n,enablePinning:i}=e.options;return typeof n=="function"?n(t):(r=n??i)!=null?r:!0},t.getIsPinned=()=>{const r=[t.id],{top:n,bottom:i}=e.getState().rowPinning,s=r.some(a=>n==null?void 0:n.includes(a)),o=r.some(a=>i==null?void 0:i.includes(a));return s?"top":o?"bottom":!1},t.getPinnedIndex=()=>{var r,n;const i=t.getIsPinned();if(!i)return-1;const s=(r=i==="top"?e.getTopRows():e.getBottomRows())==null?void 0:r.map(o=>{let{id:a}=o;return a});return(n=s==null?void 0:s.indexOf(t.id))!=null?n:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var r,n;return t.setRowPinning(e?B8():(r=(n=t.initialState)==null?void 0:n.rowPinning)!=null?r:B8())},t.getIsSomeRowsPinned=e=>{var r;const n=t.getState().rowPinning;if(!e){var i,s;return!!((i=n.top)!=null&&i.length||(s=n.bottom)!=null&&s.length)}return!!((r=n[e])!=null&&r.length)},t._getPinnedRows=(e,r,n)=>{var i;return((i=t.options.keepPinnedRows)==null||i?(r??[]).map(o=>{const a=t.getRow(o,!0);return a.getIsAllParentsExpanded()?a:null}):(r??[]).map(o=>e.find(a=>a.id===o))).filter(Boolean).map(o=>({...o,position:n}))},t.getTopRows=Yt(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(e,r)=>t._getPinnedRows(e,r,"top"),Zt(t.options,"debugRows")),t.getBottomRows=Yt(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(e,r)=>t._getPinnedRows(e,r,"bottom"),Zt(t.options,"debugRows")),t.getCenterRows=Yt(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,r,n)=>{const i=new Set([...r??[],...n??[]]);return e.filter(s=>!i.has(s.id))},Zt(t.options,"debugRows"))}},bdt={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:Ta("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var r;return t.setRowSelection(e?{}:(r=t.initialState.rowSelection)!=null?r:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(r=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const n={...r},i=t.getPreGroupedRowModel().flatRows;return e?i.forEach(s=>{s.getCanSelect()&&(n[s.id]=!0)}):i.forEach(s=>{delete n[s.id]}),n})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(r=>{const n=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),i={...r};return t.getRowModel().rows.forEach(s=>{wN(i,s.id,n,!0,t)}),i}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=Yt(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,r)=>Object.keys(e).length?O8(t,r):{rows:[],flatRows:[],rowsById:{}},Zt(t.options,"debugTable")),t.getFilteredSelectedRowModel=Yt(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,r)=>Object.keys(e).length?O8(t,r):{rows:[],flatRows:[],rowsById:{}},Zt(t.options,"debugTable")),t.getGroupedSelectedRowModel=Yt(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,r)=>Object.keys(e).length?O8(t,r):{rows:[],flatRows:[],rowsById:{}},Zt(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:r}=t.getState();let n=!!(e.length&&Object.keys(r).length);return n&&e.some(i=>i.getCanSelect()&&!r[i.id])&&(n=!1),n},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:r}=t.getState();let n=!!e.length;return n&&e.some(i=>!r[i.id])&&(n=!1),n},t.getIsSomeRowsSelected=()=>{var e;const r=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return r>0&&r<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(r=>r.getCanSelect()).some(r=>r.getIsSelected()||r.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(r,n)=>{const i=t.getIsSelected();e.setRowSelection(s=>{var o;if(r=typeof r<"u"?r:!i,t.getCanSelect()&&i===r)return s;const a={...s};return wN(a,t.id,r,(o=n==null?void 0:n.selectChildren)!=null?o:!0,e),a})},t.getIsSelected=()=>{const{rowSelection:r}=e.getState();return h$(t,r)},t.getIsSomeSelected=()=>{const{rowSelection:r}=e.getState();return SN(t,r)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:r}=e.getState();return SN(t,r)==="all"},t.getCanSelect=()=>{var r;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(r=e.options.enableRowSelection)!=null?r:!0},t.getCanSelectSubRows=()=>{var r;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(r=e.options.enableSubRowSelection)!=null?r:!0},t.getCanMultiSelect=()=>{var r;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(r=e.options.enableMultiRowSelection)!=null?r:!0},t.getToggleSelectedHandler=()=>{const r=t.getCanSelect();return n=>{var i;r&&t.toggleSelected((i=n.target)==null?void 0:i.checked)}}}},wN=(t,e,r,n,i)=>{var s;const o=i.getRow(e,!0);r?(o.getCanMultiSelect()||Object.keys(t).forEach(a=>delete t[a]),o.getCanSelect()&&(t[e]=!0)):delete t[e],n&&(s=o.subRows)!=null&&s.length&&o.getCanSelectSubRows()&&o.subRows.forEach(a=>wN(t,a.id,r,n,i))};function O8(t,e){const r=t.getState().rowSelection,n=[],i={},s=function(o,a){return o.map(u=>{var f;const d=h$(u,r);if(d&&(n.push(u),i[u.id]=u),(f=u.subRows)!=null&&f.length&&(u={...u,subRows:s(u.subRows)}),d)return u}).filter(Boolean)};return{rows:s(e.rows),flatRows:n,rowsById:i}}function h$(t,e){var r;return(r=e[t.id])!=null?r:!1}function SN(t,e,r){var n;if(!((n=t.subRows)!=null&&n.length))return!1;let i=!0,s=!1;return t.subRows.forEach(o=>{if(!(s&&!i)&&(o.getCanSelect()&&(h$(o,e)?s=!0:i=!1),o.subRows&&o.subRows.length)){const a=SN(o,e);a==="all"?s=!0:(a==="some"&&(s=!0),i=!1)}}),i?"all":s?"some":!1}const _N=/([0-9]+)/gm,vdt=(t,e,r)=>Dbe(Dh(t.getValue(r)).toLowerCase(),Dh(e.getValue(r)).toLowerCase()),wdt=(t,e,r)=>Dbe(Dh(t.getValue(r)),Dh(e.getValue(r))),Sdt=(t,e,r)=>p$(Dh(t.getValue(r)).toLowerCase(),Dh(e.getValue(r)).toLowerCase()),_dt=(t,e,r)=>p$(Dh(t.getValue(r)),Dh(e.getValue(r))),Adt=(t,e,r)=>{const n=t.getValue(r),i=e.getValue(r);return n>i?1:n<i?-1:0},xdt=(t,e,r)=>p$(t.getValue(r),e.getValue(r));function p$(t,e){return t===e?0:t>e?1:-1}function Dh(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function Dbe(t,e){const r=t.split(_N).filter(Boolean),n=e.split(_N).filter(Boolean);for(;r.length&&n.length;){const i=r.shift(),s=n.shift(),o=parseInt(i,10),a=parseInt(s,10),u=[o,a].sort();if(isNaN(u[0])){if(i>s)return 1;if(s>i)return-1;continue}if(isNaN(u[1]))return isNaN(o)?-1:1;if(o>a)return 1;if(a>o)return-1}return r.length-n.length}const Nv={alphanumeric:vdt,alphanumericCaseSensitive:wdt,text:Sdt,textCaseSensitive:_dt,datetime:Adt,basic:xdt},Edt={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:Ta("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const r=e.getFilteredRowModel().flatRows.slice(10);let n=!1;for(const i of r){const s=i==null?void 0:i.getValue(t.id);if(Object.prototype.toString.call(s)==="[object Date]")return Nv.datetime;if(typeof s=="string"&&(n=!0,s.split(_N).length>1))return Nv.alphanumeric}return n?Nv.text:Nv.basic},t.getAutoSortDir=()=>{const r=e.getFilteredRowModel().flatRows[0];return typeof(r==null?void 0:r.getValue(t.id))=="string"?"asc":"desc"},t.getSortingFn=()=>{var r,n;if(!t)throw new Error;return B6(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(r=(n=e.options.sortingFns)==null?void 0:n[t.columnDef.sortingFn])!=null?r:Nv[t.columnDef.sortingFn]},t.toggleSorting=(r,n)=>{const i=t.getNextSortingOrder(),s=typeof r<"u"&&r!==null;e.setSorting(o=>{const a=o==null?void 0:o.find(b=>b.id===t.id),u=o==null?void 0:o.findIndex(b=>b.id===t.id);let f=[],d,g=s?r:i==="desc";if(o!=null&&o.length&&t.getCanMultiSort()&&n?a?d="toggle":d="add":o!=null&&o.length&&u!==o.length-1?d="replace":a?d="toggle":d="replace",d==="toggle"&&(s||i||(d="remove")),d==="add"){var y;f=[...o,{id:t.id,desc:g}],f.splice(0,f.length-((y=e.options.maxMultiSortColCount)!=null?y:Number.MAX_SAFE_INTEGER))}else d==="toggle"?f=o.map(b=>b.id===t.id?{...b,desc:g}:b):d==="remove"?f=o.filter(b=>b.id!==t.id):f=[{id:t.id,desc:g}];return f})},t.getFirstSortDir=()=>{var r,n;return((r=(n=t.columnDef.sortDescFirst)!=null?n:e.options.sortDescFirst)!=null?r:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=r=>{var n,i;const s=t.getFirstSortDir(),o=t.getIsSorted();return o?o!==s&&((n=e.options.enableSortingRemoval)==null||n)&&(!(r&&(i=e.options.enableMultiRemove)!=null)||i)?!1:o==="desc"?"asc":"desc":s},t.getCanSort=()=>{var r,n;return((r=t.columnDef.enableSorting)!=null?r:!0)&&((n=e.options.enableSorting)!=null?n:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var r,n;return(r=(n=t.columnDef.enableMultiSort)!=null?n:e.options.enableMultiSort)!=null?r:!!t.accessorFn},t.getIsSorted=()=>{var r;const n=(r=e.getState().sorting)==null?void 0:r.find(i=>i.id===t.id);return n?n.desc?"desc":"asc":!1},t.getSortIndex=()=>{var r,n;return(r=(n=e.getState().sorting)==null?void 0:n.findIndex(i=>i.id===t.id))!=null?r:-1},t.clearSorting=()=>{e.setSorting(r=>r!=null&&r.length?r.filter(n=>n.id!==t.id):[])},t.getToggleSortingHandler=()=>{const r=t.getCanSort();return n=>{r&&(n.persist==null||n.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(n):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var r,n;t.setSorting(e?[]:(r=(n=t.initialState)==null?void 0:n.sorting)!=null?r:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},kdt=[Gft,ddt,udt,cdt,Yft,Zft,hdt,pdt,Edt,odt,gdt,mdt,ydt,bdt,ldt];function Tdt(t){var e,r;const n=[...kdt,...(e=t._features)!=null?e:[]];let i={_features:n};const s=i._features.reduce((y,b)=>Object.assign(y,b.getDefaultOptions==null?void 0:b.getDefaultOptions(i)),{}),o=y=>i.options.mergeOptions?i.options.mergeOptions(s,y):{...s,...y};let u={...{},...(r=t.initialState)!=null?r:{}};i._features.forEach(y=>{var b;u=(b=y.getInitialState==null?void 0:y.getInitialState(u))!=null?b:u});const f=[];let d=!1;const g={_features:n,options:{...s,...t},initialState:u,_queue:y=>{f.push(y),d||(d=!0,Promise.resolve().then(()=>{for(;f.length;)f.shift()();d=!1}).catch(b=>setTimeout(()=>{throw b})))},reset:()=>{i.setState(i.initialState)},setOptions:y=>{const b=lh(y,i.options);i.options=o(b)},getState:()=>i.options.state,setState:y=>{i.options.onStateChange==null||i.options.onStateChange(y)},_getRowId:(y,b,A)=>{var x;return(x=i.options.getRowId==null?void 0:i.options.getRowId(y,b,A))!=null?x:`${A?[A.id,b].join("."):b}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(y,b)=>{let A=(b?i.getPrePaginationRowModel():i.getRowModel()).rowsById[y];if(!A&&(A=i.getCoreRowModel().rowsById[y],!A))throw new Error;return A},_getDefaultColumnDef:Yt(()=>[i.options.defaultColumn],y=>{var b;return y=(b=y)!=null?b:{},{header:A=>{const x=A.header.column.columnDef;return x.accessorKey?x.accessorKey:x.accessorFn?x.id:null},cell:A=>{var x,k;return(x=(k=A.renderValue())==null||k.toString==null?void 0:k.toString())!=null?x:null},...i._features.reduce((A,x)=>Object.assign(A,x.getDefaultColumnDef==null?void 0:x.getDefaultColumnDef()),{}),...y}},Zt(t,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:Yt(()=>[i._getColumnDefs()],y=>{const b=function(A,x,k){return k===void 0&&(k=0),A.map(I=>{const R=Vft(i,I,k,x),M=I;return R.columns=M.columns?b(M.columns,R,k+1):[],R})};return b(y)},Zt(t,"debugColumns")),getAllFlatColumns:Yt(()=>[i.getAllColumns()],y=>y.flatMap(b=>b.getFlatColumns()),Zt(t,"debugColumns")),_getAllFlatColumnsById:Yt(()=>[i.getAllFlatColumns()],y=>y.reduce((b,A)=>(b[A.id]=A,b),{}),Zt(t,"debugColumns")),getAllLeafColumns:Yt(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(y,b)=>{let A=y.flatMap(x=>x.getLeafColumns());return b(A)},Zt(t,"debugColumns")),getColumn:y=>i._getAllFlatColumnsById()[y]};Object.assign(i,g);for(let y=0;y<i._features.length;y++){const b=i._features[y];b==null||b.createTable==null||b.createTable(i)}return i}function Idt(){return t=>Yt(()=>[t.options.data],e=>{const r={rows:[],flatRows:[],rowsById:{}},n=function(i,s,o){s===void 0&&(s=0);const a=[];for(let f=0;f<i.length;f++){const d=f$(t,t._getRowId(i[f],f,o),i[f],f,s,void 0,o==null?void 0:o.id);if(r.flatRows.push(d),r.rowsById[d.id]=d,a.push(d),t.options.getSubRows){var u;d.originalSubRows=t.options.getSubRows(i[f],f),(u=d.originalSubRows)!=null&&u.length&&(d.subRows=n(d.originalSubRows,s+1,d))}}return a};return r.rows=n(e),r},Zt(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function Rdt(){return t=>Yt(()=>[t.getState().expanded,t.getPreExpandedRowModel(),t.options.paginateExpandedRows],(e,r,n)=>!r.rows.length||e!==!0&&!Object.keys(e??{}).length||!n?r:Fbe(r),Zt(t.options,"debugTable"))}function Fbe(t){const e=[],r=n=>{var i;e.push(n),(i=n.subRows)!=null&&i.length&&n.getIsExpanded()&&n.subRows.forEach(r)};return t.rows.forEach(r),{rows:e,flatRows:t.flatRows,rowsById:t.rowsById}}function Mdt(t,e,r){return r.options.filterFromLeafRows?Cdt(t,e,r):Pdt(t,e,r)}function Cdt(t,e,r){var n;const i=[],s={},o=(n=r.options.maxLeafRowFilterDepth)!=null?n:100,a=function(u,f){f===void 0&&(f=0);const d=[];for(let y=0;y<u.length;y++){var g;let b=u[y];const A=f$(r,b.id,b.original,b.index,b.depth,void 0,b.parentId);if(A.columnFilters=b.columnFilters,(g=b.subRows)!=null&&g.length&&f<o){if(A.subRows=a(b.subRows,f+1),b=A,e(b)&&!A.subRows.length){d.push(b),s[b.id]=b,i.push(b);continue}if(e(b)||A.subRows.length){d.push(b),s[b.id]=b,i.push(b);continue}}else b=A,e(b)&&(d.push(b),s[b.id]=b,i.push(b))}return d};return{rows:a(t),flatRows:i,rowsById:s}}function Pdt(t,e,r){var n;const i=[],s={},o=(n=r.options.maxLeafRowFilterDepth)!=null?n:100,a=function(u,f){f===void 0&&(f=0);const d=[];for(let y=0;y<u.length;y++){let b=u[y];if(e(b)){var g;if((g=b.subRows)!=null&&g.length&&f<o){const x=f$(r,b.id,b.original,b.index,b.depth,void 0,b.parentId);x.subRows=a(b.subRows,f+1),b=x}d.push(b),i.push(b),s[b.id]=b}}return d};return{rows:a(t),flatRows:i,rowsById:s}}function Ndt(){return t=>Yt(()=>[t.getPreFilteredRowModel(),t.getState().columnFilters,t.getState().globalFilter],(e,r,n)=>{if(!e.rows.length||!(r!=null&&r.length)&&!n){for(let y=0;y<e.flatRows.length;y++)e.flatRows[y].columnFilters={},e.flatRows[y].columnFiltersMeta={};return e}const i=[],s=[];(r??[]).forEach(y=>{var b;const A=t.getColumn(y.id);if(!A)return;const x=A.getFilterFn();x&&i.push({id:y.id,filterFn:x,resolvedValue:(b=x.resolveFilterValue==null?void 0:x.resolveFilterValue(y.value))!=null?b:y.value})});const o=(r??[]).map(y=>y.id),a=t.getGlobalFilterFn(),u=t.getAllLeafColumns().filter(y=>y.getCanGlobalFilter());n&&a&&u.length&&(o.push("__global__"),u.forEach(y=>{var b;s.push({id:y.id,filterFn:a,resolvedValue:(b=a.resolveFilterValue==null?void 0:a.resolveFilterValue(n))!=null?b:n})}));let f,d;for(let y=0;y<e.flatRows.length;y++){const b=e.flatRows[y];if(b.columnFilters={},i.length)for(let A=0;A<i.length;A++){f=i[A];const x=f.id;b.columnFilters[x]=f.filterFn(b,x,f.resolvedValue,k=>{b.columnFiltersMeta[x]=k})}if(s.length){for(let A=0;A<s.length;A++){d=s[A];const x=d.id;if(d.filterFn(b,x,d.resolvedValue,k=>{b.columnFiltersMeta[x]=k})){b.columnFilters.__global__=!0;break}}b.columnFilters.__global__!==!0&&(b.columnFilters.__global__=!1)}}const g=y=>{for(let b=0;b<o.length;b++)if(y.columnFilters[o[b]]===!1)return!1;return!0};return Mdt(e.rows,g,t)},Zt(t.options,"debugTable","getFilteredRowModel",()=>t._autoResetPageIndex()))}function Bdt(t){return e=>Yt(()=>[e.getState().pagination,e.getPrePaginationRowModel(),e.options.paginateExpandedRows?void 0:e.getState().expanded],(r,n)=>{if(!n.rows.length)return n;const{pageSize:i,pageIndex:s}=r;let{rows:o,flatRows:a,rowsById:u}=n;const f=i*s,d=f+i;o=o.slice(f,d);let g;e.options.paginateExpandedRows?g={rows:o,flatRows:a,rowsById:u}:g=Fbe({rows:o,flatRows:a,rowsById:u}),g.flatRows=[];const y=b=>{g.flatRows.push(b),b.subRows.length&&b.subRows.forEach(y)};return g.rows.forEach(y),g},Zt(e.options,"debugTable"))}function Odt(){return t=>Yt(()=>[t.getState().sorting,t.getPreSortedRowModel()],(e,r)=>{if(!r.rows.length||!(e!=null&&e.length))return r;const n=t.getState().sorting,i=[],s=n.filter(u=>{var f;return(f=t.getColumn(u.id))==null?void 0:f.getCanSort()}),o={};s.forEach(u=>{const f=t.getColumn(u.id);f&&(o[u.id]={sortUndefined:f.columnDef.sortUndefined,invertSorting:f.columnDef.invertSorting,sortingFn:f.getSortingFn()})});const a=u=>{const f=u.map(d=>({...d}));return f.sort((d,g)=>{for(let b=0;b<s.length;b+=1){var y;const A=s[b],x=o[A.id],k=x.sortUndefined,I=(y=A==null?void 0:A.desc)!=null?y:!1;let R=0;if(k){const M=d.getValue(A.id),P=g.getValue(A.id),j=M===void 0,V=P===void 0;if(j||V){if(k==="first")return j?-1:1;if(k==="last")return j?1:-1;R=j&&V?0:j?k:-k}}if(R===0&&(R=x.sortingFn(d,g,A.id)),R!==0)return I&&(R*=-1),x.invertSorting&&(R*=-1),R}return d.index-g.index}),f.forEach(d=>{var g;i.push(d),(g=d.subRows)!=null&&g.length&&(d.subRows=a(d.subRows))}),f};return{rows:a(r.rows),flatRows:i,rowsById:r.rowsById}},Zt(t.options,"debugTable","getSortedRowModel",()=>t._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Ldt(t,e){return t?Ddt(t)?N.createElement(t,e):t:null}function Ddt(t){return Fdt(t)||typeof t=="function"||$dt(t)}function Fdt(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function $dt(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function Udt(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[r]=N.useState(()=>({current:Tdt(e)})),[n,i]=N.useState(()=>r.current.initialState);return r.current.setOptions(s=>({...s,...t,state:{...n,...t.state},onStateChange:o=>{i(o),t.onStateChange==null||t.onStateChange(o)}})),r.current}var er=function(){return er=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},er.apply(this,arguments)};function zdt(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function $be(t,e,r){for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function iA(t){return t.mode==="multiple"}function sA(t){return t.mode==="range"}function O6(t){return t.mode==="single"}var Wdt={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function jdt(t,e){return Sl(t,"LLLL y",e)}function Kdt(t,e){return Sl(t,"d",e)}function Hdt(t,e){return Sl(t,"LLLL",e)}function qdt(t){return"".concat(t)}function Vdt(t,e){return Sl(t,"cccccc",e)}function Gdt(t,e){return Sl(t,"yyyy",e)}var Ydt=Object.freeze({__proto__:null,formatCaption:jdt,formatDay:Kdt,formatMonthCaption:Hdt,formatWeekNumber:qdt,formatWeekdayName:Vdt,formatYearCaption:Gdt}),Zdt=function(t,e,r){return Sl(t,"do MMMM (EEEE)",r)},Xdt=function(){return"Month: "},Jdt=function(){return"Go to next month"},Qdt=function(){return"Go to previous month"},eht=function(t,e){return Sl(t,"cccc",e)},tht=function(t){return"Week n. ".concat(t)},rht=function(){return"Year: "},nht=Object.freeze({__proto__:null,labelDay:Zdt,labelMonthDropdown:Xdt,labelNext:Jdt,labelPrevious:Qdt,labelWeekNumber:tht,labelWeekday:eht,labelYearDropdown:rht});function iht(){var t="buttons",e=Wdt,r=$ge,n={},i={},s=1,o={},a=new Date;return{captionLayout:t,classNames:e,formatters:Ydt,labels:nht,locale:r,modifiersClassNames:n,modifiers:i,numberOfMonths:s,styles:o,today:a,mode:"default"}}function sht(t){var e=t.fromYear,r=t.toYear,n=t.fromMonth,i=t.toMonth,s=t.fromDate,o=t.toDate;return n?s=qo(n):e&&(s=new Date(e,0,1)),i?o=LF(i):r&&(o=new Date(r,11,31)),{fromDate:s?Jb(s):void 0,toDate:o?Jb(o):void 0}}var Ube=N.createContext(void 0);function oht(t){var e,r=t.initialProps,n=iht(),i=sht(r),s=i.fromDate,o=i.toDate,a=(e=r.captionLayout)!==null&&e!==void 0?e:n.captionLayout;a!=="buttons"&&(!s||!o)&&(a="buttons");var u;(O6(r)||iA(r)||sA(r))&&(u=r.onSelect);var f=er(er(er({},n),r),{captionLayout:a,classNames:er(er({},n.classNames),r.classNames),components:er({},r.components),formatters:er(er({},n.formatters),r.formatters),fromDate:s,labels:er(er({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:er(er({},n.modifiers),r.modifiers),modifiersClassNames:er(er({},n.modifiersClassNames),r.modifiersClassNames),onSelect:u,styles:er(er({},n.styles),r.styles),toDate:o});return L.jsx(Ube.Provider,{value:f,children:t.children})}function Hn(){var t=N.useContext(Ube);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function zbe(t){var e=Hn(),r=e.locale,n=e.classNames,i=e.styles,s=e.formatters.formatCaption;return L.jsx("div",{className:n.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:s(t.displayMonth,{locale:r})})}function aht(t){return L.jsx("svg",er({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:L.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Wbe(t){var e,r,n=t.onChange,i=t.value,s=t.children,o=t.caption,a=t.className,u=t.style,f=Hn(),d=(r=(e=f.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&r!==void 0?r:aht;return L.jsxs("div",{className:a,style:u,children:[L.jsx("span",{className:f.classNames.vhidden,children:t["aria-label"]}),L.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:f.classNames.dropdown,style:f.styles.dropdown,value:i,onChange:n,children:s}),L.jsxs("div",{className:f.classNames.caption_label,style:f.styles.caption_label,"aria-hidden":"true",children:[o,L.jsx(d,{className:f.classNames.dropdown_icon,style:f.styles.dropdown_icon})]})]})}function uht(t){var e,r=Hn(),n=r.fromDate,i=r.toDate,s=r.styles,o=r.locale,a=r.formatters.formatMonthCaption,u=r.classNames,f=r.components,d=r.labels.labelMonthDropdown;if(!n)return L.jsx(L.Fragment,{});if(!i)return L.jsx(L.Fragment,{});var g=[];if($at(n,i))for(var y=qo(n),b=n.getMonth();b<=i.getMonth();b++)g.push(y8(y,b));else for(var y=qo(new Date),b=0;b<=11;b++)g.push(y8(y,b));var A=function(k){var I=Number(k.target.value),R=y8(qo(t.displayMonth),I);t.onChange(R)},x=(e=f==null?void 0:f.Dropdown)!==null&&e!==void 0?e:Wbe;return L.jsx(x,{name:"months","aria-label":d(),className:u.dropdown_month,style:s.dropdown_month,onChange:A,value:t.displayMonth.getMonth(),caption:a(t.displayMonth,{locale:o}),children:g.map(function(k){return L.jsx("option",{value:k.getMonth(),children:a(k,{locale:o})},k.getMonth())})})}function cht(t){var e,r=t.displayMonth,n=Hn(),i=n.fromDate,s=n.toDate,o=n.locale,a=n.styles,u=n.classNames,f=n.components,d=n.formatters.formatYearCaption,g=n.labels.labelYearDropdown,y=[];if(!i)return L.jsx(L.Fragment,{});if(!s)return L.jsx(L.Fragment,{});for(var b=i.getFullYear(),A=s.getFullYear(),x=b;x<=A;x++)y.push(OG(Dge(new Date),x));var k=function(R){var M=OG(qo(r),Number(R.target.value));t.onChange(M)},I=(e=f==null?void 0:f.Dropdown)!==null&&e!==void 0?e:Wbe;return L.jsx(I,{name:"years","aria-label":g(),className:u.dropdown_year,style:a.dropdown_year,onChange:k,value:r.getFullYear(),caption:d(r,{locale:o}),children:y.map(function(R){return L.jsx("option",{value:R.getFullYear(),children:d(R,{locale:o})},R.getFullYear())})})}function lht(t,e){var r=N.useState(t),n=r[0],i=r[1],s=e===void 0?n:e;return[s,i]}function fht(t){var e=t.month,r=t.defaultMonth,n=t.today,i=e||r||n||new Date,s=t.toDate,o=t.fromDate,a=t.numberOfMonths,u=a===void 0?1:a;if(s&&RS(s,i)<0){var f=-1*(u-1);i=ec(s,f)}return o&&RS(i,o)<0&&(i=o),qo(i)}function dht(){var t=Hn(),e=fht(t),r=lht(e,t.month),n=r[0],i=r[1],s=function(o){var a;if(!t.disableNavigation){var u=qo(o);i(u),(a=t.onMonthChange)===null||a===void 0||a.call(t,u)}};return[n,s]}function hht(t,e){for(var r=e.reverseMonths,n=e.numberOfMonths,i=qo(t),s=qo(ec(i,n)),o=RS(s,i),a=[],u=0;u<o;u++){var f=ec(i,u);a.push(f)}return r&&(a=a.reverse()),a}function pht(t,e){if(!e.disableNavigation){var r=e.toDate,n=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,o=n?s:1,a=qo(t);if(!r)return ec(a,o);var u=RS(r,t);if(!(u<s))return ec(a,o)}}function ght(t,e){if(!e.disableNavigation){var r=e.fromDate,n=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,o=n?s:1,a=qo(t);if(!r)return ec(a,-o);var u=RS(a,r);if(!(u<=0))return ec(a,-o)}}var jbe=N.createContext(void 0);function mht(t){var e=Hn(),r=dht(),n=r[0],i=r[1],s=hht(n,e),o=pht(n,e),a=ght(n,e),u=function(g){return s.some(function(y){return FF(g,y)})},f=function(g,y){u(g)||(y&&Kge(g,y)?i(ec(g,1+e.numberOfMonths*-1)):i(g))},d={currentMonth:n,displayMonths:s,goToMonth:i,goToDate:f,previousMonth:a,nextMonth:o,isDateDisplayed:u};return L.jsx(jbe.Provider,{value:d,children:t.children})}function oA(){var t=N.useContext(jbe);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function sY(t){var e,r=Hn(),n=r.classNames,i=r.styles,s=r.components,o=oA().goToMonth,a=function(d){o(ec(d,t.displayIndex?-t.displayIndex:0))},u=(e=s==null?void 0:s.CaptionLabel)!==null&&e!==void 0?e:zbe,f=L.jsx(u,{id:t.id,displayMonth:t.displayMonth});return L.jsxs("div",{className:n.caption_dropdowns,style:i.caption_dropdowns,children:[L.jsx("div",{className:n.vhidden,children:f}),L.jsx(uht,{onChange:a,displayMonth:t.displayMonth}),L.jsx(cht,{onChange:a,displayMonth:t.displayMonth})]})}function yht(t){return L.jsx("svg",er({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:L.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function bht(t){return L.jsx("svg",er({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:L.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var ck=N.forwardRef(function(t,e){var r=Hn(),n=r.classNames,i=r.styles,s=[n.button_reset,n.button];t.className&&s.push(t.className);var o=s.join(" "),a=er(er({},i.button_reset),i.button);return t.style&&Object.assign(a,t.style),L.jsx("button",er({},t,{ref:e,type:"button",className:o,style:a}))});function vht(t){var e,r,n=Hn(),i=n.dir,s=n.locale,o=n.classNames,a=n.styles,u=n.labels,f=u.labelPrevious,d=u.labelNext,g=n.components;if(!t.nextMonth&&!t.previousMonth)return L.jsx(L.Fragment,{});var y=f(t.previousMonth,{locale:s}),b=[o.nav_button,o.nav_button_previous].join(" "),A=d(t.nextMonth,{locale:s}),x=[o.nav_button,o.nav_button_next].join(" "),k=(e=g==null?void 0:g.IconRight)!==null&&e!==void 0?e:bht,I=(r=g==null?void 0:g.IconLeft)!==null&&r!==void 0?r:yht;return L.jsxs("div",{className:o.nav,style:a.nav,children:[!t.hidePrevious&&L.jsx(ck,{name:"previous-month","aria-label":y,className:b,style:a.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?L.jsx(k,{className:o.nav_icon,style:a.nav_icon}):L.jsx(I,{className:o.nav_icon,style:a.nav_icon})}),!t.hideNext&&L.jsx(ck,{name:"next-month","aria-label":A,className:x,style:a.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?L.jsx(I,{className:o.nav_icon,style:a.nav_icon}):L.jsx(k,{className:o.nav_icon,style:a.nav_icon})})]})}function oY(t){var e=Hn().numberOfMonths,r=oA(),n=r.previousMonth,i=r.nextMonth,s=r.goToMonth,o=r.displayMonths,a=o.findIndex(function(A){return FF(t.displayMonth,A)}),u=a===0,f=a===o.length-1,d=e>1&&(u||!f),g=e>1&&(f||!u),y=function(){n&&s(n)},b=function(){i&&s(i)};return L.jsx(vht,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:g,nextMonth:i,previousMonth:n,onPreviousClick:y,onNextClick:b})}function wht(t){var e,r=Hn(),n=r.classNames,i=r.disableNavigation,s=r.styles,o=r.captionLayout,a=r.components,u=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:zbe,f;return i?f=L.jsx(u,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?f=L.jsx(sY,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?f=L.jsxs(L.Fragment,{children:[L.jsx(sY,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),L.jsx(oY,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):f=L.jsxs(L.Fragment,{children:[L.jsx(u,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),L.jsx(oY,{displayMonth:t.displayMonth,id:t.id})]}),L.jsx("div",{className:n.caption,style:s.caption,children:f})}function Sht(t){var e=Hn(),r=e.footer,n=e.styles,i=e.classNames.tfoot;return r?L.jsx("tfoot",{className:i,style:n.tfoot,children:L.jsx("tr",{children:L.jsx("td",{colSpan:8,children:r})})}):L.jsx(L.Fragment,{})}function _ht(t,e,r){for(var n=r?K0(new Date):wl(new Date,{locale:t,weekStartsOn:e}),i=[],s=0;s<7;s++){var o=lo(n,s);i.push(o)}return i}function Aht(){var t=Hn(),e=t.classNames,r=t.styles,n=t.showWeekNumber,i=t.locale,s=t.weekStartsOn,o=t.ISOWeek,a=t.formatters.formatWeekdayName,u=t.labels.labelWeekday,f=_ht(i,s,o);return L.jsxs("tr",{style:r.head_row,className:e.head_row,children:[n&&L.jsx("td",{style:r.head_cell,className:e.head_cell}),f.map(function(d,g){return L.jsx("th",{scope:"col",className:e.head_cell,style:r.head_cell,"aria-label":u(d,{locale:i}),children:a(d,{locale:i})},g)})]})}function xht(){var t,e=Hn(),r=e.classNames,n=e.styles,i=e.components,s=(t=i==null?void 0:i.HeadRow)!==null&&t!==void 0?t:Aht;return L.jsx("thead",{style:n.head,className:r.head,children:L.jsx(s,{})})}function Eht(t){var e=Hn(),r=e.locale,n=e.formatters.formatDay;return L.jsx(L.Fragment,{children:n(t.date,{locale:r})})}var g$=N.createContext(void 0);function kht(t){if(!iA(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return L.jsx(g$.Provider,{value:e,children:t.children})}return L.jsx(Tht,{initialProps:t.initialProps,children:t.children})}function Tht(t){var e=t.initialProps,r=t.children,n=e.selected,i=e.min,s=e.max,o=function(f,d,g){var y,b;(y=e.onDayClick)===null||y===void 0||y.call(e,f,d,g);var A=!!(d.selected&&i&&(n==null?void 0:n.length)===i);if(!A){var x=!!(!d.selected&&s&&(n==null?void 0:n.length)===s);if(!x){var k=n?$be([],n):[];if(d.selected){var I=k.findIndex(function(R){return Ho(f,R)});k.splice(I,1)}else k.push(f);(b=e.onSelect)===null||b===void 0||b.call(e,k,f,d,g)}}},a={disabled:[]};n&&a.disabled.push(function(f){var d=s&&n.length>s-1,g=n.some(function(y){return Ho(y,f)});return!!(d&&!g)});var u={selected:n,onDayClick:o,modifiers:a};return L.jsx(g$.Provider,{value:u,children:r})}function m$(){var t=N.useContext(g$);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function Iht(t,e){var r=e||{},n=r.from,i=r.to;return n&&i?Ho(i,t)&&Ho(n,t)?void 0:Ho(i,t)?{from:i,to:void 0}:Ho(n,t)?void 0:iN(n,t)?{from:t,to:i}:{from:n,to:t}:i?iN(t,i)?{from:i,to:t}:{from:t,to:i}:n?Kge(t,n)?{from:t,to:n}:{from:n,to:t}:{from:t,to:void 0}}var y$=N.createContext(void 0);function Rht(t){if(!sA(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return L.jsx(y$.Provider,{value:e,children:t.children})}return L.jsx(Mht,{initialProps:t.initialProps,children:t.children})}function Mht(t){var e=t.initialProps,r=t.children,n=e.selected,i=n||{},s=i.from,o=i.to,a=e.min,u=e.max,f=function(b,A,x){var k,I;(k=e.onDayClick)===null||k===void 0||k.call(e,b,A,x);var R=Iht(b,n);(I=e.onSelect)===null||I===void 0||I.call(e,R,b,A,x)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(d.range_start=[s],o?(d.range_end=[o],Ho(s,o)||(d.range_middle=[{after:s,before:o}])):d.range_end=[s]):o&&(d.range_start=[o],d.range_end=[o]),a&&(s&&!o&&d.disabled.push({after:m8(s,a-1),before:lo(s,a-1)}),s&&o&&d.disabled.push({after:s,before:lo(s,a-1)}),!s&&o&&d.disabled.push({after:m8(o,a-1),before:lo(o,a-1)})),u){if(s&&!o&&(d.disabled.push({before:lo(s,-u+1)}),d.disabled.push({after:lo(s,u-1)})),s&&o){var g=Jc(o,s)+1,y=u-g;d.disabled.push({before:m8(s,y)}),d.disabled.push({after:lo(o,y)})}!s&&o&&(d.disabled.push({before:lo(o,-u+1)}),d.disabled.push({after:lo(o,u-1)}))}return L.jsx(y$.Provider,{value:{selected:n,onDayClick:f,modifiers:d},children:r})}function b$(){var t=N.useContext(y$);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Sx(t){return Array.isArray(t)?$be([],t):t!==void 0?[t]:[]}function Cht(t){var e={};return Object.entries(t).forEach(function(r){var n=r[0],i=r[1];e[n]=Sx(i)}),e}var nc;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(nc||(nc={}));var Pht=nc.Selected,jl=nc.Disabled,Nht=nc.Hidden,Bht=nc.Today,L8=nc.RangeEnd,D8=nc.RangeMiddle,F8=nc.RangeStart,Oht=nc.Outside;function Lht(t,e,r){var n,i=(n={},n[Pht]=Sx(t.selected),n[jl]=Sx(t.disabled),n[Nht]=Sx(t.hidden),n[Bht]=[t.today],n[L8]=[],n[D8]=[],n[F8]=[],n[Oht]=[],n);return t.fromDate&&i[jl].push({before:t.fromDate}),t.toDate&&i[jl].push({after:t.toDate}),iA(t)?i[jl]=i[jl].concat(e.modifiers[jl]):sA(t)&&(i[jl]=i[jl].concat(r.modifiers[jl]),i[F8]=r.modifiers[F8],i[D8]=r.modifiers[D8],i[L8]=r.modifiers[L8]),i}var Kbe=N.createContext(void 0);function Dht(t){var e=Hn(),r=m$(),n=b$(),i=Lht(e,r,n),s=Cht(e.modifiers),o=er(er({},i),s);return L.jsx(Kbe.Provider,{value:o,children:t.children})}function Hbe(){var t=N.useContext(Kbe);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function Fht(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function $ht(t){return!!(t&&typeof t=="object"&&"from"in t)}function Uht(t){return!!(t&&typeof t=="object"&&"after"in t)}function zht(t){return!!(t&&typeof t=="object"&&"before"in t)}function Wht(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function jht(t,e){var r,n=e.from,i=e.to;if(n&&i){var s=Jc(i,n)<0;s&&(r=[i,n],n=r[0],i=r[1]);var o=Jc(t,n)>=0&&Jc(i,t)>=0;return o}return i?Ho(i,t):n?Ho(n,t):!1}function Kht(t){return OF(t)}function Hht(t){return Array.isArray(t)&&t.every(OF)}function qht(t,e){return e.some(function(r){if(typeof r=="boolean")return r;if(Kht(r))return Ho(t,r);if(Hht(r))return r.includes(t);if($ht(r))return jht(t,r);if(Wht(r))return r.dayOfWeek.includes(t.getDay());if(Fht(r)){var n=Jc(r.before,t),i=Jc(r.after,t),s=n>0,o=i<0,a=iN(r.before,r.after);return a?o&&s:s||o}return Uht(r)?Jc(t,r.after)>0:zht(r)?Jc(r.before,t)>0:typeof r=="function"?r(t):!1})}function v$(t,e,r){var n=Object.keys(e).reduce(function(s,o){var a=e[o];return qht(t,a)&&s.push(o),s},[]),i={};return n.forEach(function(s){return i[s]=!0}),r&&!FF(t,r)&&(i.outside=!0),i}function Vht(t,e){for(var r=qo(t[0]),n=LF(t[t.length-1]),i,s,o=r;o<=n;){var a=v$(o,e),u=!a.disabled&&!a.hidden;if(!u){o=lo(o,1);continue}if(a.selected)return o;a.today&&!s&&(s=o),i||(i=o),o=lo(o,1)}return s||i}var Ght=365;function qbe(t,e){var r=e.moveBy,n=e.direction,i=e.context,s=e.modifiers,o=e.retry,a=o===void 0?{count:0,lastFocused:t}:o,u=i.weekStartsOn,f=i.fromDate,d=i.toDate,g=i.locale,y={day:lo,week:nN,month:ec,year:Lot,startOfWeek:function(k){return i.ISOWeek?K0(k):wl(k,{locale:g,weekStartsOn:u})},endOfWeek:function(k){return i.ISOWeek?Fge(k):DF(k,{locale:g,weekStartsOn:u})}},b=y[r](t,n==="after"?1:-1);n==="before"&&f?b=Dot([f,b]):n==="after"&&d&&(b=Fot([d,b]));var A=!0;if(s){var x=v$(b,s);A=!x.disabled&&!x.hidden}return A?b:a.count>Ght?a.lastFocused:qbe(b,{moveBy:r,direction:n,context:i,modifiers:s,retry:er(er({},a),{count:a.count+1})})}var Vbe=N.createContext(void 0);function Yht(t){var e=oA(),r=Hbe(),n=N.useState(),i=n[0],s=n[1],o=N.useState(),a=o[0],u=o[1],f=Vht(e.displayMonths,r),d=i??(a&&e.isDateDisplayed(a))?a:f,g=function(){u(i),s(void 0)},y=function(k){s(k)},b=Hn(),A=function(k,I){if(i){var R=qbe(i,{moveBy:k,direction:I,context:b,modifiers:r});Ho(i,R)||(e.goToDate(R,i),y(R))}},x={focusedDay:i,focusTarget:d,blur:g,focus:y,focusDayAfter:function(){return A("day","after")},focusDayBefore:function(){return A("day","before")},focusWeekAfter:function(){return A("week","after")},focusWeekBefore:function(){return A("week","before")},focusMonthBefore:function(){return A("month","before")},focusMonthAfter:function(){return A("month","after")},focusYearBefore:function(){return A("year","before")},focusYearAfter:function(){return A("year","after")},focusStartOfWeek:function(){return A("startOfWeek","before")},focusEndOfWeek:function(){return A("endOfWeek","after")}};return L.jsx(Vbe.Provider,{value:x,children:t.children})}function w$(){var t=N.useContext(Vbe);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function Zht(t,e){var r=Hbe(),n=v$(t,r,e);return n}var S$=N.createContext(void 0);function Xht(t){if(!O6(t.initialProps)){var e={selected:void 0};return L.jsx(S$.Provider,{value:e,children:t.children})}return L.jsx(Jht,{initialProps:t.initialProps,children:t.children})}function Jht(t){var e=t.initialProps,r=t.children,n=function(s,o,a){var u,f,d;if((u=e.onDayClick)===null||u===void 0||u.call(e,s,o,a),o.selected&&!e.required){(f=e.onSelect)===null||f===void 0||f.call(e,void 0,s,o,a);return}(d=e.onSelect)===null||d===void 0||d.call(e,s,s,o,a)},i={selected:e.selected,onDayClick:n};return L.jsx(S$.Provider,{value:i,children:r})}function Gbe(){var t=N.useContext(S$);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function Qht(t,e){var r=Hn(),n=Gbe(),i=m$(),s=b$(),o=w$(),a=o.focusDayAfter,u=o.focusDayBefore,f=o.focusWeekAfter,d=o.focusWeekBefore,g=o.blur,y=o.focus,b=o.focusMonthBefore,A=o.focusMonthAfter,x=o.focusYearBefore,k=o.focusYearAfter,I=o.focusStartOfWeek,R=o.focusEndOfWeek,M=function(_){var E,w,l,S;O6(r)?(E=n.onDayClick)===null||E===void 0||E.call(n,t,e,_):iA(r)?(w=i.onDayClick)===null||w===void 0||w.call(i,t,e,_):sA(r)?(l=s.onDayClick)===null||l===void 0||l.call(s,t,e,_):(S=r.onDayClick)===null||S===void 0||S.call(r,t,e,_)},P=function(_){var E;y(t),(E=r.onDayFocus)===null||E===void 0||E.call(r,t,e,_)},j=function(_){var E;g(),(E=r.onDayBlur)===null||E===void 0||E.call(r,t,e,_)},V=function(_){var E;(E=r.onDayMouseEnter)===null||E===void 0||E.call(r,t,e,_)},Z=function(_){var E;(E=r.onDayMouseLeave)===null||E===void 0||E.call(r,t,e,_)},G=function(_){var E;(E=r.onDayPointerEnter)===null||E===void 0||E.call(r,t,e,_)},q=function(_){var E;(E=r.onDayPointerLeave)===null||E===void 0||E.call(r,t,e,_)},ae=function(_){var E;(E=r.onDayTouchCancel)===null||E===void 0||E.call(r,t,e,_)},T=function(_){var E;(E=r.onDayTouchEnd)===null||E===void 0||E.call(r,t,e,_)},c=function(_){var E;(E=r.onDayTouchMove)===null||E===void 0||E.call(r,t,e,_)},h=function(_){var E;(E=r.onDayTouchStart)===null||E===void 0||E.call(r,t,e,_)},p=function(_){var E;(E=r.onDayKeyUp)===null||E===void 0||E.call(r,t,e,_)},m=function(_){var E;switch(_.key){case"ArrowLeft":_.preventDefault(),_.stopPropagation(),r.dir==="rtl"?a():u();break;case"ArrowRight":_.preventDefault(),_.stopPropagation(),r.dir==="rtl"?u():a();break;case"ArrowDown":_.preventDefault(),_.stopPropagation(),f();break;case"ArrowUp":_.preventDefault(),_.stopPropagation(),d();break;case"PageUp":_.preventDefault(),_.stopPropagation(),_.shiftKey?x():b();break;case"PageDown":_.preventDefault(),_.stopPropagation(),_.shiftKey?k():A();break;case"Home":_.preventDefault(),_.stopPropagation(),I();break;case"End":_.preventDefault(),_.stopPropagation(),R();break}(E=r.onDayKeyDown)===null||E===void 0||E.call(r,t,e,_)},v={onClick:M,onFocus:P,onBlur:j,onKeyDown:m,onKeyUp:p,onMouseEnter:V,onMouseLeave:Z,onPointerEnter:G,onPointerLeave:q,onTouchCancel:ae,onTouchEnd:T,onTouchMove:c,onTouchStart:h};return v}function ept(){var t=Hn(),e=Gbe(),r=m$(),n=b$(),i=O6(t)?e.selected:iA(t)?r.selected:sA(t)?n.selected:void 0;return i}function tpt(t){return Object.values(nc).includes(t)}function rpt(t,e){var r=[t.classNames.day];return Object.keys(e).forEach(function(n){var i=t.modifiersClassNames[n];if(i)r.push(i);else if(tpt(n)){var s=t.classNames["day_".concat(n)];s&&r.push(s)}}),r}function npt(t,e){var r=er({},t.styles.day);return Object.keys(e).forEach(function(n){var i;r=er(er({},r),(i=t.modifiersStyles)===null||i===void 0?void 0:i[n])}),r}function ipt(t,e,r){var n,i,s,o=Hn(),a=w$(),u=Zht(t,e),f=Qht(t,u),d=ept(),g=!!(o.onDayClick||o.mode!=="default");N.useEffect(function(){var V;u.outside||a.focusedDay&&g&&Ho(a.focusedDay,t)&&((V=r.current)===null||V===void 0||V.focus())},[a.focusedDay,t,r,g,u.outside]);var y=rpt(o,u).join(" "),b=npt(o,u),A=!!(u.outside&&!o.showOutsideDays||u.hidden),x=(s=(i=o.components)===null||i===void 0?void 0:i.DayContent)!==null&&s!==void 0?s:Eht,k=L.jsx(x,{date:t,displayMonth:e,activeModifiers:u}),I={style:b,className:y,children:k,role:"gridcell"},R=a.focusTarget&&Ho(a.focusTarget,t)&&!u.outside,M=a.focusedDay&&Ho(a.focusedDay,t),P=er(er(er({},I),(n={disabled:u.disabled,role:"gridcell"},n["aria-selected"]=u.selected,n.tabIndex=M||R?0:-1,n)),f),j={isButton:g,isHidden:A,activeModifiers:u,selectedDays:d,buttonProps:P,divProps:I};return j}function spt(t){var e=N.useRef(null),r=ipt(t.date,t.displayMonth,e);return r.isHidden?L.jsx("div",{role:"gridcell"}):r.isButton?L.jsx(ck,er({name:"day",ref:e},r.buttonProps)):L.jsx("div",er({},r.divProps))}function opt(t){var e=t.number,r=t.dates,n=Hn(),i=n.onWeekNumberClick,s=n.styles,o=n.classNames,a=n.locale,u=n.labels.labelWeekNumber,f=n.formatters.formatWeekNumber,d=f(Number(e),{locale:a});if(!i)return L.jsx("span",{className:o.weeknumber,style:s.weeknumber,children:d});var g=u(Number(e),{locale:a}),y=function(b){i(e,r,b)};return L.jsx(ck,{name:"week-number","aria-label":g,className:o.weeknumber,style:s.weeknumber,onClick:y,children:d})}function apt(t){var e,r,n=Hn(),i=n.styles,s=n.classNames,o=n.showWeekNumber,a=n.components,u=(e=a==null?void 0:a.Day)!==null&&e!==void 0?e:spt,f=(r=a==null?void 0:a.WeekNumber)!==null&&r!==void 0?r:opt,d;return o&&(d=L.jsx("td",{className:s.cell,style:i.cell,children:L.jsx(f,{number:t.weekNumber,dates:t.dates})})),L.jsxs("tr",{className:s.row,style:i.row,children:[d,t.dates.map(function(g){return L.jsx("td",{className:s.cell,style:i.cell,role:"presentation",children:L.jsx(u,{displayMonth:t.displayMonth,date:g})},Lat(g))})]})}function aY(t,e,r){for(var n=r!=null&&r.ISOWeek?Fge(e):DF(e,r),i=r!=null&&r.ISOWeek?K0(t):wl(t,r),s=Jc(n,i),o=[],a=0;a<=s;a++)o.push(lo(i,a));var u=o.reduce(function(f,d){var g=r!=null&&r.ISOWeek?Uge(d):Wge(d,r),y=f.find(function(b){return b.weekNumber===g});return y?(y.dates.push(d),f):(f.push({weekNumber:g,dates:[d]}),f)},[]);return u}function upt(t,e){var r=aY(qo(t),LF(t),e);if(e!=null&&e.useFixedWeeks){var n=Fat(t,e);if(n<6){var i=r[r.length-1],s=i.dates[i.dates.length-1],o=nN(s,6-n),a=aY(nN(s,1),o,e);r.push.apply(r,a)}}return r}function cpt(t){var e,r,n,i=Hn(),s=i.locale,o=i.classNames,a=i.styles,u=i.hideHead,f=i.fixedWeeks,d=i.components,g=i.weekStartsOn,y=i.firstWeekContainsDate,b=i.ISOWeek,A=upt(t.displayMonth,{useFixedWeeks:!!f,ISOWeek:b,locale:s,weekStartsOn:g,firstWeekContainsDate:y}),x=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:xht,k=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:apt,I=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:Sht;return L.jsxs("table",{id:t.id,className:o.table,style:a.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!u&&L.jsx(x,{}),L.jsx("tbody",{className:o.tbody,style:a.tbody,children:A.map(function(R){return L.jsx(k,{displayMonth:t.displayMonth,dates:R.dates,weekNumber:R.weekNumber},R.weekNumber)})}),L.jsx(I,{displayMonth:t.displayMonth})]})}function lpt(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var fpt=lpt()?N.useLayoutEffect:N.useEffect,$8=!1,dpt=0;function uY(){return"react-day-picker-".concat(++dpt)}function hpt(t){var e,r=t??($8?uY():null),n=N.useState(r),i=n[0],s=n[1];return fpt(function(){i===null&&s(uY())},[]),N.useEffect(function(){$8===!1&&($8=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function ppt(t){var e,r,n=Hn(),i=n.dir,s=n.classNames,o=n.styles,a=n.components,u=oA().displayMonths,f=hpt(n.id?"".concat(n.id,"-").concat(t.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(t.displayIndex):void 0,g=[s.month],y=o.month,b=t.displayIndex===0,A=t.displayIndex===u.length-1,x=!b&&!A;i==="rtl"&&(e=[b,A],A=e[0],b=e[1]),b&&(g.push(s.caption_start),y=er(er({},y),o.caption_start)),A&&(g.push(s.caption_end),y=er(er({},y),o.caption_end)),x&&(g.push(s.caption_between),y=er(er({},y),o.caption_between));var k=(r=a==null?void 0:a.Caption)!==null&&r!==void 0?r:wht;return L.jsxs("div",{className:g.join(" "),style:y,children:[L.jsx(k,{id:f,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),L.jsx(cpt,{id:d,"aria-labelledby":f,displayMonth:t.displayMonth})]},t.displayIndex)}function gpt(t){var e=Hn(),r=e.classNames,n=e.styles;return L.jsx("div",{className:r.months,style:n.months,children:t.children})}function mpt(t){var e,r,n=t.initialProps,i=Hn(),s=w$(),o=oA(),a=N.useState(!1),u=a[0],f=a[1];N.useEffect(function(){i.initialFocus&&s.focusTarget&&(u||(s.focus(s.focusTarget),f(!0)))},[i.initialFocus,u,s.focus,s.focusTarget,s]);var d=[i.classNames.root,i.className];i.numberOfMonths>1&&d.push(i.classNames.multiple_months),i.showWeekNumber&&d.push(i.classNames.with_weeknumber);var g=er(er({},i.styles.root),i.style),y=Object.keys(n).filter(function(A){return A.startsWith("data-")}).reduce(function(A,x){var k;return er(er({},A),(k={},k[x]=n[x],k))},{}),b=(r=(e=n.components)===null||e===void 0?void 0:e.Months)!==null&&r!==void 0?r:gpt;return L.jsx("div",er({className:d.join(" "),style:g,dir:i.dir,id:i.id,nonce:n.nonce,title:n.title,lang:n.lang},y,{children:L.jsx(b,{children:o.displayMonths.map(function(A,x){return L.jsx(ppt,{displayIndex:x,displayMonth:A},x)})})}))}function ypt(t){var e=t.children,r=zdt(t,["children"]);return L.jsx(oht,{initialProps:r,children:L.jsx(mht,{children:L.jsx(Xht,{initialProps:r,children:L.jsx(kht,{initialProps:r,children:L.jsx(Rht,{initialProps:r,children:L.jsx(Dht,{children:L.jsx(Yht,{children:e})})})})})})})}function bpt(t){return L.jsx(ypt,er({},t,{children:L.jsx(mpt,{initialProps:t})}))}var _$="Dialog",[Ybe,b_t]=no(_$),[vpt,gc]=Ybe(_$),Zbe=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=N.useRef(null),u=N.useRef(null),[f=!1,d]=au({prop:n,defaultProp:i,onChange:s});return L.jsx(vpt,{scope:e,triggerRef:a,contentRef:u,contentId:tu(),titleId:tu(),descriptionId:tu(),open:f,onOpenChange:d,onOpenToggle:N.useCallback(()=>d(g=>!g),[d]),modal:o,children:r})};Zbe.displayName=_$;var Xbe="DialogTrigger",Jbe=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=gc(Xbe,r),s=tr(e,i.triggerRef);return L.jsx(Wt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":E$(i.open),...n,ref:s,onClick:ft(t.onClick,i.onOpenToggle)})});Jbe.displayName=Xbe;var A$="DialogPortal",[wpt,Qbe]=Ybe(A$,{forceMount:void 0}),e1e=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,s=gc(A$,e);return L.jsx(wpt,{scope:e,forceMount:r,children:N.Children.map(n,o=>L.jsx(ji,{present:r||s.open,children:L.jsx(vg,{asChild:!0,container:i,children:o})}))})};e1e.displayName=A$;var lk="DialogOverlay",t1e=N.forwardRef((t,e)=>{const r=Qbe(lk,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=gc(lk,t.__scopeDialog);return s.modal?L.jsx(ji,{present:n||s.open,children:L.jsx(Spt,{...i,ref:e})}):null});t1e.displayName=lk;var Spt=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=gc(lk,r);return L.jsx(eA,{as:Gi,allowPinchZoom:!0,shards:[i.contentRef],children:L.jsx(Wt.div,{"data-state":E$(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),V0="DialogContent",r1e=N.forwardRef((t,e)=>{const r=Qbe(V0,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=gc(V0,t.__scopeDialog);return L.jsx(ji,{present:n||s.open,children:s.modal?L.jsx(_pt,{...i,ref:e}):L.jsx(Apt,{...i,ref:e})})});r1e.displayName=V0;var _pt=N.forwardRef((t,e)=>{const r=gc(V0,t.__scopeDialog),n=N.useRef(null),i=tr(e,r.contentRef,n);return N.useEffect(()=>{const s=n.current;if(s)return S6(s)},[]),L.jsx(n1e,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ft(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ft(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:ft(t.onFocusOutside,s=>s.preventDefault())})}),Apt=N.forwardRef((t,e)=>{const r=gc(V0,t.__scopeDialog),n=N.useRef(!1),i=N.useRef(!1);return L.jsx(n1e,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var u,f;(u=t.onInteractOutside)==null||u.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((f=r.triggerRef.current)==null?void 0:f.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),n1e=N.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=gc(V0,r),u=N.useRef(null),f=tr(e,u);return g6(),L.jsxs(L.Fragment,{children:[L.jsx(Y_,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:L.jsx(bg,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":E$(a.open),...o,ref:f,onDismiss:()=>a.onOpenChange(!1)})}),L.jsxs(L.Fragment,{children:[L.jsx(xpt,{titleId:a.titleId}),L.jsx(kpt,{contentRef:u,descriptionId:a.descriptionId})]})]})}),x$="DialogTitle",i1e=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=gc(x$,r);return L.jsx(Wt.h2,{id:i.titleId,...n,ref:e})});i1e.displayName=x$;var s1e="DialogDescription",o1e=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=gc(s1e,r);return L.jsx(Wt.p,{id:i.descriptionId,...n,ref:e})});o1e.displayName=s1e;var a1e="DialogClose",u1e=N.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=gc(a1e,r);return L.jsx(Wt.button,{type:"button",...n,ref:e,onClick:ft(t.onClick,()=>i.onOpenChange(!1))})});u1e.displayName=a1e;function E$(t){return t?"open":"closed"}var c1e="DialogTitleWarning",[v_t,l1e]=Uat(c1e,{contentName:V0,titleName:x$,docsSlug:"dialog"}),xpt=({titleId:t})=>{const e=l1e(c1e),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return N.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},Ept="DialogDescriptionWarning",kpt=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${l1e(Ept).contentName}}.`;return N.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},f1e=Zbe,Tpt=Jbe,d1e=e1e,L6=t1e,D6=r1e,k$=i1e,F6=o1e,h1e=u1e,U8,T$="HoverCard",[p1e,w_t]=no(T$,[Nl]),$6=Nl(),[Ipt,U6]=p1e(T$),g1e=t=>{const{__scopeHoverCard:e,children:r,open:n,defaultOpen:i,onOpenChange:s,openDelay:o=700,closeDelay:a=300}=t,u=$6(e),f=N.useRef(0),d=N.useRef(0),g=N.useRef(!1),y=N.useRef(!1),[b=!1,A]=au({prop:n,defaultProp:i,onChange:s}),x=N.useCallback(()=>{clearTimeout(d.current),f.current=window.setTimeout(()=>A(!0),o)},[o,A]),k=N.useCallback(()=>{clearTimeout(f.current),!g.current&&!y.current&&(d.current=window.setTimeout(()=>A(!1),a))},[a,A]),I=N.useCallback(()=>A(!1),[A]);return N.useEffect(()=>()=>{clearTimeout(f.current),clearTimeout(d.current)},[]),L.jsx(Ipt,{scope:e,open:b,onOpenChange:A,onOpen:x,onClose:k,onDismiss:I,hasSelectionRef:g,isPointerDownOnContentRef:y,children:L.jsx(X_,{...u,children:r})})};g1e.displayName=T$;var m1e="HoverCardTrigger",y1e=N.forwardRef((t,e)=>{const{__scopeHoverCard:r,...n}=t,i=U6(m1e,r),s=$6(r);return L.jsx(q1,{asChild:!0,...s,children:L.jsx(Wt.a,{"data-state":i.open?"open":"closed",...n,ref:e,onPointerEnter:ft(t.onPointerEnter,dk(i.onOpen)),onPointerLeave:ft(t.onPointerLeave,dk(i.onClose)),onFocus:ft(t.onFocus,i.onOpen),onBlur:ft(t.onBlur,i.onClose),onTouchStart:ft(t.onTouchStart,o=>o.preventDefault())})})});y1e.displayName=m1e;var I$="HoverCardPortal",[Rpt,Mpt]=p1e(I$,{forceMount:void 0}),b1e=t=>{const{__scopeHoverCard:e,forceMount:r,children:n,container:i}=t,s=U6(I$,e);return L.jsx(Rpt,{scope:e,forceMount:r,children:L.jsx(ji,{present:r||s.open,children:L.jsx(vg,{asChild:!0,container:i,children:n})})})};b1e.displayName=I$;var fk="HoverCardContent",v1e=N.forwardRef((t,e)=>{const r=Mpt(fk,t.__scopeHoverCard),{forceMount:n=r.forceMount,...i}=t,s=U6(fk,t.__scopeHoverCard);return L.jsx(ji,{present:n||s.open,children:L.jsx(Cpt,{"data-state":s.open?"open":"closed",...i,onPointerEnter:ft(t.onPointerEnter,dk(s.onOpen)),onPointerLeave:ft(t.onPointerLeave,dk(s.onClose)),ref:e})})});v1e.displayName=fk;var Cpt=N.forwardRef((t,e)=>{const{__scopeHoverCard:r,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,...a}=t,u=U6(fk,r),f=$6(r),d=N.useRef(null),g=tr(e,d),[y,b]=N.useState(!1);return N.useEffect(()=>{if(y){const A=document.body;return U8=A.style.userSelect||A.style.webkitUserSelect,A.style.userSelect="none",A.style.webkitUserSelect="none",()=>{A.style.userSelect=U8,A.style.webkitUserSelect=U8}}},[y]),N.useEffect(()=>{if(d.current){const A=()=>{b(!1),u.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var k;((k=document.getSelection())==null?void 0:k.toString())!==""&&(u.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",A),()=>{document.removeEventListener("pointerup",A),u.hasSelectionRef.current=!1,u.isPointerDownOnContentRef.current=!1}}},[u.isPointerDownOnContentRef,u.hasSelectionRef]),N.useEffect(()=>{d.current&&Npt(d.current).forEach(x=>x.setAttribute("tabindex","-1"))}),L.jsx(bg,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:o,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:ft(s,A=>{A.preventDefault()}),onDismiss:u.onDismiss,children:L.jsx(J_,{...f,...a,onPointerDown:ft(a.onPointerDown,A=>{A.currentTarget.contains(A.target)&&b(!0),u.hasSelectionRef.current=!1,u.isPointerDownOnContentRef.current=!0}),ref:g,style:{...a.style,userSelect:y?"text":void 0,WebkitUserSelect:y?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),Ppt="HoverCardArrow",w1e=N.forwardRef((t,e)=>{const{__scopeHoverCard:r,...n}=t,i=$6(r);return L.jsx(Q_,{...i,...n,ref:e})});w1e.displayName=Ppt;function dk(t){return e=>e.pointerType==="touch"?void 0:t()}function Npt(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;r.nextNode();)e.push(r.currentNode);return e}var Bpt=g1e,Opt=y1e,Lpt=b1e,S1e=v1e,Dpt=w1e,_1e=["PageUp","PageDown"],A1e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],x1e={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},G1="Slider",[AN,Fpt,$pt]=p6(G1),[E1e,S_t]=no(G1,[$pt]),[Upt,z6]=E1e(G1),k1e=N.forwardRef((t,e)=>{const{name:r,min:n=0,max:i=100,step:s=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:u=0,defaultValue:f=[n],value:d,onValueChange:g=()=>{},onValueCommit:y=()=>{},inverted:b=!1,form:A,...x}=t,k=N.useRef(new Set),I=N.useRef(0),M=o==="horizontal"?zpt:Wpt,[P=[],j]=au({prop:d,defaultProp:f,onChange:T=>{var h;(h=[...k.current][I.current])==null||h.focus(),g(T)}}),V=N.useRef(P);function Z(T){const c=Vpt(P,T);ae(T,c)}function G(T){ae(T,I.current)}function q(){const T=V.current[I.current];P[I.current]!==T&&y(P)}function ae(T,c,{commit:h}={commit:!1}){const p=Xpt(s),m=Jpt(Math.round((T-n)/s)*s+n,p),v=MS(m,[n,i]);j((_=[])=>{const E=Hpt(_,v,c);if(Zpt(E,u*s)){I.current=E.indexOf(v);const w=String(E)!==String(_);return w&&h&&y(E),w?E:_}else return _})}return L.jsx(Upt,{scope:t.__scopeSlider,name:r,disabled:a,min:n,max:i,valueIndexToChangeRef:I,thumbs:k.current,values:P,orientation:o,form:A,children:L.jsx(AN.Provider,{scope:t.__scopeSlider,children:L.jsx(AN.Slot,{scope:t.__scopeSlider,children:L.jsx(M,{"aria-disabled":a,"data-disabled":a?"":void 0,...x,ref:e,onPointerDown:ft(x.onPointerDown,()=>{a||(V.current=P)}),min:n,max:i,inverted:b,onSlideStart:a?void 0:Z,onSlideMove:a?void 0:G,onSlideEnd:a?void 0:q,onHomeKeyDown:()=>!a&&ae(n,0,{commit:!0}),onEndKeyDown:()=>!a&&ae(i,P.length-1,{commit:!0}),onStepKeyDown:({event:T,direction:c})=>{if(!a){const m=_1e.includes(T.key)||T.shiftKey&&A1e.includes(T.key)?10:1,v=I.current,_=P[v],E=s*m*c;ae(_+E,v,{commit:!0})}}})})})})});k1e.displayName=G1;var[T1e,I1e]=E1e(G1,{startEdge:"left",endEdge:"right",size:"width",direction:1}),zpt=N.forwardRef((t,e)=>{const{min:r,max:n,dir:i,inverted:s,onSlideStart:o,onSlideMove:a,onSlideEnd:u,onStepKeyDown:f,...d}=t,[g,y]=N.useState(null),b=tr(e,M=>y(M)),A=N.useRef(void 0),x=j1(i),k=x==="ltr",I=k&&!s||!k&&s;function R(M){const P=A.current||g.getBoundingClientRect(),j=[0,P.width],Z=R$(j,I?[r,n]:[n,r]);return A.current=P,Z(M-P.left)}return L.jsx(T1e,{scope:t.__scopeSlider,startEdge:I?"left":"right",endEdge:I?"right":"left",direction:I?1:-1,size:"width",children:L.jsx(R1e,{dir:x,"data-orientation":"horizontal",...d,ref:b,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:M=>{const P=R(M.clientX);o==null||o(P)},onSlideMove:M=>{const P=R(M.clientX);a==null||a(P)},onSlideEnd:()=>{A.current=void 0,u==null||u()},onStepKeyDown:M=>{const j=x1e[I?"from-left":"from-right"].includes(M.key);f==null||f({event:M,direction:j?-1:1})}})})}),Wpt=N.forwardRef((t,e)=>{const{min:r,max:n,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:a,onStepKeyDown:u,...f}=t,d=N.useRef(null),g=tr(e,d),y=N.useRef(void 0),b=!i;function A(x){const k=y.current||d.current.getBoundingClientRect(),I=[0,k.height],M=R$(I,b?[n,r]:[r,n]);return y.current=k,M(x-k.top)}return L.jsx(T1e,{scope:t.__scopeSlider,startEdge:b?"bottom":"top",endEdge:b?"top":"bottom",size:"height",direction:b?1:-1,children:L.jsx(R1e,{"data-orientation":"vertical",...f,ref:g,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const k=A(x.clientY);s==null||s(k)},onSlideMove:x=>{const k=A(x.clientY);o==null||o(k)},onSlideEnd:()=>{y.current=void 0,a==null||a()},onStepKeyDown:x=>{const I=x1e[b?"from-bottom":"from-top"].includes(x.key);u==null||u({event:x,direction:I?-1:1})}})})}),R1e=N.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:u,...f}=t,d=z6(G1,r);return L.jsx(Wt.span,{...f,ref:e,onKeyDown:ft(t.onKeyDown,g=>{g.key==="Home"?(o(g),g.preventDefault()):g.key==="End"?(a(g),g.preventDefault()):_1e.concat(A1e).includes(g.key)&&(u(g),g.preventDefault())}),onPointerDown:ft(t.onPointerDown,g=>{const y=g.target;y.setPointerCapture(g.pointerId),g.preventDefault(),d.thumbs.has(y)?y.focus():n(g)}),onPointerMove:ft(t.onPointerMove,g=>{g.target.hasPointerCapture(g.pointerId)&&i(g)}),onPointerUp:ft(t.onPointerUp,g=>{const y=g.target;y.hasPointerCapture(g.pointerId)&&(y.releasePointerCapture(g.pointerId),s(g))})})}),M1e="SliderTrack",C1e=N.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,i=z6(M1e,r);return L.jsx(Wt.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:e})});C1e.displayName=M1e;var xN="SliderRange",P1e=N.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,i=z6(xN,r),s=I1e(xN,r),o=N.useRef(null),a=tr(e,o),u=i.values.length,f=i.values.map(y=>B1e(y,i.min,i.max)),d=u>1?Math.min(...f):0,g=100-Math.max(...f);return L.jsx(Wt.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:a,style:{...t.style,[s.startEdge]:d+"%",[s.endEdge]:g+"%"}})});P1e.displayName=xN;var EN="SliderThumb",N1e=N.forwardRef((t,e)=>{const r=Fpt(t.__scopeSlider),[n,i]=N.useState(null),s=tr(e,a=>i(a)),o=N.useMemo(()=>n?r().findIndex(a=>a.ref.current===n):-1,[r,n]);return L.jsx(jpt,{...t,ref:s,index:o})}),jpt=N.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:i,...s}=t,o=z6(EN,r),a=I1e(EN,r),[u,f]=N.useState(null),d=tr(e,R=>f(R)),g=u?o.form||!!u.closest("form"):!0,y=v6(u),b=o.values[n],A=b===void 0?0:B1e(b,o.min,o.max),x=qpt(n,o.values.length),k=y==null?void 0:y[a.size],I=k?Gpt(k,A,a.direction):0;return N.useEffect(()=>{if(u)return o.thumbs.add(u),()=>{o.thumbs.delete(u)}},[u,o.thumbs]),L.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${A}% + ${I}px)`},children:[L.jsx(AN.ItemSlot,{scope:t.__scopeSlider,children:L.jsx(Wt.span,{role:"slider","aria-label":t["aria-label"]||x,"aria-valuemin":o.min,"aria-valuenow":b,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:d,style:b===void 0?{display:"none"}:t.style,onFocus:ft(t.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),g&&L.jsx(Kpt,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:b},n)]})});N1e.displayName=EN;var Kpt=t=>{const{value:e,...r}=t,n=N.useRef(null),i=w6(e);return N.useEffect(()=>{const s=n.current,o=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(o,"value").set;if(i!==e&&u){const f=new Event("input",{bubbles:!0});u.call(s,e),s.dispatchEvent(f)}},[i,e]),L.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:e})};function Hpt(t=[],e,r){const n=[...t];return n[r]=e,n.sort((i,s)=>i-s)}function B1e(t,e,r){const s=100/(r-e)*(t-e);return MS(s,[0,100])}function qpt(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function Vpt(t,e){if(t.length===1)return 0;const r=t.map(i=>Math.abs(i-e)),n=Math.min(...r);return r.indexOf(n)}function Gpt(t,e,r){const n=t/2,s=R$([0,50],[0,n]);return(n-s(e)*r)*r}function Ypt(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function Zpt(t,e){if(e>0){const r=Ypt(t);return Math.min(...r)>=e}return!0}function R$(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function Xpt(t){return(String(t).split(".")[1]||"").length}function Jpt(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var O1e=k1e,Qpt=C1e,e0t=P1e,t0t=N1e;let r0t={data:""},n0t=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||r0t,i0t=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,s0t=/\/\*[^]*?\*\/|  +/g,cY=/\n+/g,Ud=(t,e)=>{let r="",n="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?r=s+" "+o+";":n+=s[1]=="f"?Ud(o,s):s+"{"+Ud(o,s[1]=="k"?"":e)+"}":typeof o=="object"?n+=Ud(o,e?e.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,a):a?a+" "+u:u)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ud.p?Ud.p(s,o):s+":"+o+";")}return r+(e&&i?e+"{"+i+"}":i)+n},Kl={},L1e=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+L1e(t[r]);return e}return t},o0t=(t,e,r,n,i)=>{let s=L1e(t),o=Kl[s]||(Kl[s]=(u=>{let f=0,d=11;for(;f<u.length;)d=101*d+u.charCodeAt(f++)>>>0;return"go"+d})(s));if(!Kl[o]){let u=s!==t?t:(f=>{let d,g,y=[{}];for(;d=i0t.exec(f.replace(s0t,""));)d[4]?y.shift():d[3]?(g=d[3].replace(cY," ").trim(),y.unshift(y[0][g]=y[0][g]||{})):y[0][d[1]]=d[2].replace(cY," ").trim();return y[0]})(t);Kl[o]=Ud(i?{["@keyframes "+o]:u}:u,r?"":"."+o)}let a=r&&Kl.g?Kl.g:null;return r&&(Kl.g=Kl[o]),((u,f,d,g)=>{g?f.data=f.data.replace(g,u):f.data.indexOf(u)===-1&&(f.data=d?u+f.data:f.data+u)})(Kl[o],e,n,a),o},a0t=(t,e,r)=>t.reduce((n,i,s)=>{let o=e[s];if(o&&o.call){let a=o(r),u=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=u?"."+u:a&&typeof a=="object"?a.props?"":Ud(a,""):a===!1?"":a}return n+i+(o??"")},"");function W6(t){let e=this||{},r=t.call?t(e.p):t;return o0t(r.unshift?r.raw?a0t(r,[].slice.call(arguments,1),e.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(e.p):i),{}):r,n0t(e.target),e.g,e.o,e.k)}let D1e,kN,TN;W6.bind({g:1});let id=W6.bind({k:1});function u0t(t,e,r,n){Ud.p=e,D1e=t,kN=r,TN=n}function Jh(t,e){let r=this||{};return function(){let n=arguments;function i(s,o){let a=Object.assign({},s),u=a.className||i.className;r.p=Object.assign({theme:kN&&kN()},a),r.o=/ *go\d+/.test(u),a.className=W6.apply(r,n)+(u?" "+u:"");let f=t;return t[0]&&(f=a.as||t,delete a.as),TN&&f[0]&&TN(a),D1e(f,a)}return e?e(i):i}}var c0t=t=>typeof t=="function",hk=(t,e)=>c0t(t)?t(e):t,l0t=(()=>{let t=0;return()=>(++t).toString()})(),F1e=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),f0t=20,$1e=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,f0t)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:r}=e;return $1e(t,{type:t.toasts.find(s=>s.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(s=>s.id===n||n===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},_x=[],Ax={toasts:[],pausedAt:void 0},wg=t=>{Ax=$1e(Ax,t),_x.forEach(e=>{e(Ax)})},d0t={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},h0t=(t={})=>{let[e,r]=N.useState(Ax);N.useEffect(()=>(_x.push(r),()=>{let i=_x.indexOf(r);i>-1&&_x.splice(i,1)}),[e]);let n=e.toasts.map(i=>{var s,o,a;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((s=t[i.type])==null?void 0:s.removeDelay)||(t==null?void 0:t.removeDelay),duration:i.duration||((o=t[i.type])==null?void 0:o.duration)||(t==null?void 0:t.duration)||d0t[i.type],style:{...t.style,...(a=t[i.type])==null?void 0:a.style,...i.style}}});return{...e,toasts:n}},p0t=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||l0t()}),aA=t=>(e,r)=>{let n=p0t(e,t,r);return wg({type:2,toast:n}),n.id},Js=(t,e)=>aA("blank")(t,e);Js.error=aA("error");Js.success=aA("success");Js.loading=aA("loading");Js.custom=aA("custom");Js.dismiss=t=>{wg({type:3,toastId:t})};Js.remove=t=>wg({type:4,toastId:t});Js.promise=(t,e,r)=>{let n=Js.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?hk(e.success,i):void 0;return s?Js.success(s,{id:n,...r,...r==null?void 0:r.success}):Js.dismiss(n),i}).catch(i=>{let s=e.error?hk(e.error,i):void 0;s?Js.error(s,{id:n,...r,...r==null?void 0:r.error}):Js.dismiss(n)}),t};var g0t=(t,e)=>{wg({type:1,toast:{id:t,height:e}})},m0t=()=>{wg({type:5,time:Date.now()})},Mw=new Map,y0t=1e3,b0t=(t,e=y0t)=>{if(Mw.has(t))return;let r=setTimeout(()=>{Mw.delete(t),wg({type:4,toastId:t})},e);Mw.set(t,r)},v0t=t=>{let{toasts:e,pausedAt:r}=h0t(t);N.useEffect(()=>{if(r)return;let s=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let u=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(u<0){a.visible&&Js.dismiss(a.id);return}return setTimeout(()=>Js.dismiss(a.id),u)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,r]);let n=N.useCallback(()=>{r&&wg({type:6,time:Date.now()})},[r]),i=N.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:u=8,defaultPosition:f}=o||{},d=e.filter(b=>(b.position||f)===(s.position||f)&&b.height),g=d.findIndex(b=>b.id===s.id),y=d.filter((b,A)=>A<g&&b.visible).length;return d.filter(b=>b.visible).slice(...a?[y+1]:[0,y]).reduce((b,A)=>b+(A.height||0)+u,0)},[e]);return N.useEffect(()=>{e.forEach(s=>{if(s.dismissed)b0t(s.id,s.removeDelay);else{let o=Mw.get(s.id);o&&(clearTimeout(o),Mw.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:g0t,startPause:m0t,endPause:n,calculateOffset:i}}},w0t=id`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,S0t=id`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,_0t=id`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,A0t=Jh("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${w0t} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${S0t} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${_0t} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,x0t=id`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,E0t=Jh("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${x0t} 1s linear infinite;
`,k0t=id`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,T0t=id`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,I0t=Jh("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${k0t} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${T0t} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,R0t=Jh("div")`
  position: absolute;
`,M0t=Jh("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,C0t=id`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,P0t=Jh("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${C0t} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,N0t=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?N.createElement(P0t,null,e):e:r==="blank"?null:N.createElement(M0t,null,N.createElement(E0t,{...n}),r!=="loading"&&N.createElement(R0t,null,r==="error"?N.createElement(A0t,{...n}):N.createElement(I0t,{...n})))},B0t=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,O0t=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,L0t="0%{opacity:0;} 100%{opacity:1;}",D0t="0%{opacity:1;} 100%{opacity:0;}",F0t=Jh("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,$0t=Jh("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,U0t=(t,e)=>{let r=t.includes("top")?1:-1,[n,i]=F1e()?[L0t,D0t]:[B0t(r),O0t(r)];return{animation:e?`${id(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${id(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},U1e=N.memo(({toast:t,position:e,style:r,children:n})=>{let i=t.height?U0t(t.position||e||"top-center",t.visible):{opacity:0},s=N.createElement(N0t,{toast:t}),o=N.createElement($0t,{...t.ariaProps},hk(t.message,t));return N.createElement(F0t,{className:t.className,style:{...i,...r,...t.style}},typeof n=="function"?n({icon:s,message:o}):N.createElement(N.Fragment,null,s,o))});u0t(N.createElement);var z0t=({id:t,className:e,style:r,onHeightUpdate:n,children:i})=>{let s=N.useCallback(o=>{if(o){let a=()=>{let u=o.getBoundingClientRect().height;n(t,u)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return N.createElement("div",{ref:s,className:e,style:r},i)},W0t=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:F1e()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...i}},j0t=W6`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,S2=16,K0t=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:u}=v0t(r);return N.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:S2,left:S2,right:S2,bottom:S2,pointerEvents:"none",...s},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},a.map(f=>{let d=f.position||e,g=u.calculateOffset(f,{reverseOrder:t,gutter:n,defaultPosition:e}),y=W0t(d,g);return N.createElement(z0t,{id:f.id,key:f.id,onHeightUpdate:u.updateHeight,className:f.visible?j0t:"",style:y},f.type==="custom"?hk(f.message,f):i?i(f):N.createElement(U1e,{toast:f,position:d}))}))},__t=Js,IN=["Enter"," "],H0t=["ArrowDown","PageUp","Home"],z1e=["ArrowUp","PageDown","End"],q0t=[...H0t,...z1e],V0t={ltr:[...IN,"ArrowRight"],rtl:[...IN,"ArrowLeft"]},G0t={ltr:["ArrowLeft"],rtl:["ArrowRight"]},uA="Menu",[NS,Y0t,Z0t]=p6(uA),[Sg,W1e]=no(uA,[Z0t,Nl,M6]),j6=Nl(),j1e=M6(),[X0t,_g]=Sg(uA),[J0t,cA]=Sg(uA),K1e=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:s,modal:o=!0}=t,a=j6(e),[u,f]=N.useState(null),d=N.useRef(!1),g=Di(s),y=j1(i);return N.useEffect(()=>{const b=()=>{d.current=!0,document.addEventListener("pointerdown",A,{capture:!0,once:!0}),document.addEventListener("pointermove",A,{capture:!0,once:!0})},A=()=>d.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",A,{capture:!0}),document.removeEventListener("pointermove",A,{capture:!0})}},[]),L.jsx(X_,{...a,children:L.jsx(X0t,{scope:e,open:r,onOpenChange:g,content:u,onContentChange:f,children:L.jsx(J0t,{scope:e,onClose:N.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:d,dir:y,modal:o,children:n})})})};K1e.displayName=uA;var Q0t="MenuAnchor",M$=N.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=j6(r);return L.jsx(q1,{...i,...n,ref:e})});M$.displayName=Q0t;var C$="MenuPortal",[egt,H1e]=Sg(C$,{forceMount:void 0}),q1e=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,s=_g(C$,e);return L.jsx(egt,{scope:e,forceMount:r,children:L.jsx(ji,{present:r||s.open,children:L.jsx(vg,{asChild:!0,container:i,children:n})})})};q1e.displayName=C$;var ru="MenuContent",[tgt,P$]=Sg(ru),V1e=N.forwardRef((t,e)=>{const r=H1e(ru,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=_g(ru,t.__scopeMenu),o=cA(ru,t.__scopeMenu);return L.jsx(NS.Provider,{scope:t.__scopeMenu,children:L.jsx(ji,{present:n||s.open,children:L.jsx(NS.Slot,{scope:t.__scopeMenu,children:o.modal?L.jsx(rgt,{...i,ref:e}):L.jsx(ngt,{...i,ref:e})})})})}),rgt=N.forwardRef((t,e)=>{const r=_g(ru,t.__scopeMenu),n=N.useRef(null),i=tr(e,n);return N.useEffect(()=>{const s=n.current;if(s)return S6(s)},[]),L.jsx(N$,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ft(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),ngt=N.forwardRef((t,e)=>{const r=_g(ru,t.__scopeMenu);return L.jsx(N$,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),N$=N.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:u,onEscapeKeyDown:f,onPointerDownOutside:d,onFocusOutside:g,onInteractOutside:y,onDismiss:b,disableOutsideScroll:A,...x}=t,k=_g(ru,r),I=cA(ru,r),R=j6(r),M=j1e(r),P=Y0t(r),[j,V]=N.useState(null),Z=N.useRef(null),G=tr(e,Z,k.onContentChange),q=N.useRef(0),ae=N.useRef(""),T=N.useRef(0),c=N.useRef(null),h=N.useRef("right"),p=N.useRef(0),m=A?eA:N.Fragment,v=A?{as:Gi,allowPinchZoom:!0}:void 0,_=w=>{var F,H;const l=ae.current+w,S=P().filter(Q=>!Q.disabled),C=document.activeElement,D=(F=S.find(Q=>Q.ref.current===C))==null?void 0:F.textValue,U=S.map(Q=>Q.textValue),O=ggt(U,l,D),$=(H=S.find(Q=>Q.textValue===O))==null?void 0:H.ref.current;(function Q(te){ae.current=te,window.clearTimeout(q.current),te!==""&&(q.current=window.setTimeout(()=>Q(""),1e3))})(l),$&&setTimeout(()=>$.focus())};N.useEffect(()=>()=>window.clearTimeout(q.current),[]),g6();const E=N.useCallback(w=>{var S,C;return h.current===((S=c.current)==null?void 0:S.side)&&ygt(w,(C=c.current)==null?void 0:C.area)},[]);return L.jsx(tgt,{scope:r,searchRef:ae,onItemEnter:N.useCallback(w=>{E(w)&&w.preventDefault()},[E]),onItemLeave:N.useCallback(w=>{var l;E(w)||((l=Z.current)==null||l.focus(),V(null))},[E]),onTriggerLeave:N.useCallback(w=>{E(w)&&w.preventDefault()},[E]),pointerGraceTimerRef:T,onPointerGraceIntentChange:N.useCallback(w=>{c.current=w},[]),children:L.jsx(m,{...v,children:L.jsx(Y_,{asChild:!0,trapped:i,onMountAutoFocus:ft(s,w=>{var l;w.preventDefault(),(l=Z.current)==null||l.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:L.jsx(bg,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:f,onPointerDownOutside:d,onFocusOutside:g,onInteractOutside:y,onDismiss:b,children:L.jsx(qye,{asChild:!0,...M,dir:I.dir,orientation:"vertical",loop:n,currentTabStopId:j,onCurrentTabStopIdChange:V,onEntryFocus:ft(u,w=>{I.isUsingKeyboardRef.current||w.preventDefault()}),preventScrollOnEntryFocus:!0,children:L.jsx(J_,{role:"menu","aria-orientation":"vertical","data-state":cve(k.open),"data-radix-menu-content":"",dir:I.dir,...R,...x,ref:G,style:{outline:"none",...x.style},onKeyDown:ft(x.onKeyDown,w=>{const S=w.target.closest("[data-radix-menu-content]")===w.currentTarget,C=w.ctrlKey||w.altKey||w.metaKey,D=w.key.length===1;S&&(w.key==="Tab"&&w.preventDefault(),!C&&D&&_(w.key));const U=Z.current;if(w.target!==U||!q0t.includes(w.key))return;w.preventDefault();const $=P().filter(F=>!F.disabled).map(F=>F.ref.current);z1e.includes(w.key)&&$.reverse(),hgt($)}),onBlur:ft(t.onBlur,w=>{w.currentTarget.contains(w.target)||(window.clearTimeout(q.current),ae.current="")}),onPointerMove:ft(t.onPointerMove,BS(w=>{const l=w.target,S=p.current!==w.clientX;if(w.currentTarget.contains(l)&&S){const C=w.clientX>p.current?"right":"left";h.current=C,p.current=w.clientX}}))})})})})})})});V1e.displayName=ru;var igt="MenuGroup",B$=N.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return L.jsx(Wt.div,{role:"group",...n,ref:e})});B$.displayName=igt;var sgt="MenuLabel",G1e=N.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return L.jsx(Wt.div,{...n,ref:e})});G1e.displayName=sgt;var pk="MenuItem",lY="menu.itemSelect",K6=N.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,s=N.useRef(null),o=cA(pk,t.__scopeMenu),a=P$(pk,t.__scopeMenu),u=tr(e,s),f=N.useRef(!1),d=()=>{const g=s.current;if(!r&&g){const y=new CustomEvent(lY,{bubbles:!0,cancelable:!0});g.addEventListener(lY,b=>n==null?void 0:n(b),{once:!0}),Hge(g,y),y.defaultPrevented?f.current=!1:o.onClose()}};return L.jsx(Y1e,{...i,ref:u,disabled:r,onClick:ft(t.onClick,d),onPointerDown:g=>{var y;(y=t.onPointerDown)==null||y.call(t,g),f.current=!0},onPointerUp:ft(t.onPointerUp,g=>{var y;f.current||(y=g.currentTarget)==null||y.click()}),onKeyDown:ft(t.onKeyDown,g=>{const y=a.searchRef.current!=="";r||y&&g.key===" "||IN.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});K6.displayName=pk;var Y1e=N.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...s}=t,o=P$(pk,r),a=j1e(r),u=N.useRef(null),f=tr(e,u),[d,g]=N.useState(!1),[y,b]=N.useState("");return N.useEffect(()=>{const A=u.current;A&&b((A.textContent??"").trim())},[s.children]),L.jsx(NS.ItemSlot,{scope:r,disabled:n,textValue:i??y,children:L.jsx(Vye,{asChild:!0,...a,focusable:!n,children:L.jsx(Wt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:f,onPointerMove:ft(t.onPointerMove,BS(A=>{n?o.onItemLeave(A):(o.onItemEnter(A),A.defaultPrevented||A.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ft(t.onPointerLeave,BS(A=>o.onItemLeave(A))),onFocus:ft(t.onFocus,()=>g(!0)),onBlur:ft(t.onBlur,()=>g(!1))})})})}),ogt="MenuCheckboxItem",Z1e=N.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return L.jsx(tve,{scope:t.__scopeMenu,checked:r,children:L.jsx(K6,{role:"menuitemcheckbox","aria-checked":gk(r)?"mixed":r,...i,ref:e,"data-state":L$(r),onSelect:ft(i.onSelect,()=>n==null?void 0:n(gk(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Z1e.displayName=ogt;var X1e="MenuRadioGroup",[agt,ugt]=Sg(X1e,{value:void 0,onValueChange:()=>{}}),J1e=N.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,s=Di(n);return L.jsx(agt,{scope:t.__scopeMenu,value:r,onValueChange:s,children:L.jsx(B$,{...i,ref:e})})});J1e.displayName=X1e;var Q1e="MenuRadioItem",eve=N.forwardRef((t,e)=>{const{value:r,...n}=t,i=ugt(Q1e,t.__scopeMenu),s=r===i.value;return L.jsx(tve,{scope:t.__scopeMenu,checked:s,children:L.jsx(K6,{role:"menuitemradio","aria-checked":s,...n,ref:e,"data-state":L$(s),onSelect:ft(n.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,r)},{checkForDefaultPrevented:!1})})})});eve.displayName=Q1e;var O$="MenuItemIndicator",[tve,cgt]=Sg(O$,{checked:!1}),rve=N.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,s=cgt(O$,r);return L.jsx(ji,{present:n||gk(s.checked)||s.checked===!0,children:L.jsx(Wt.span,{...i,ref:e,"data-state":L$(s.checked)})})});rve.displayName=O$;var lgt="MenuSeparator",nve=N.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return L.jsx(Wt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});nve.displayName=lgt;var fgt="MenuArrow",ive=N.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=j6(r);return L.jsx(Q_,{...i,...n,ref:e})});ive.displayName=fgt;var dgt="MenuSub",[A_t,sve]=Sg(dgt),pw="MenuSubTrigger",ove=N.forwardRef((t,e)=>{const r=_g(pw,t.__scopeMenu),n=cA(pw,t.__scopeMenu),i=sve(pw,t.__scopeMenu),s=P$(pw,t.__scopeMenu),o=N.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:u}=s,f={__scopeMenu:t.__scopeMenu},d=N.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return N.useEffect(()=>d,[d]),N.useEffect(()=>{const g=a.current;return()=>{window.clearTimeout(g),u(null)}},[a,u]),L.jsx(M$,{asChild:!0,...f,children:L.jsx(Y1e,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":cve(r.open),...t,ref:h6(e,i.onTriggerChange),onClick:g=>{var y;(y=t.onClick)==null||y.call(t,g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ft(t.onPointerMove,BS(g=>{s.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:ft(t.onPointerLeave,BS(g=>{var b,A;d();const y=(b=r.content)==null?void 0:b.getBoundingClientRect();if(y){const x=(A=r.content)==null?void 0:A.dataset.side,k=x==="right",I=k?-5:5,R=y[k?"left":"right"],M=y[k?"right":"left"];s.onPointerGraceIntentChange({area:[{x:g.clientX+I,y:g.clientY},{x:R,y:y.top},{x:M,y:y.top},{x:M,y:y.bottom},{x:R,y:y.bottom}],side:x}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(g),g.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:ft(t.onKeyDown,g=>{var b;const y=s.searchRef.current!=="";t.disabled||y&&g.key===" "||V0t[n.dir].includes(g.key)&&(r.onOpenChange(!0),(b=r.content)==null||b.focus(),g.preventDefault())})})})});ove.displayName=pw;var ave="MenuSubContent",uve=N.forwardRef((t,e)=>{const r=H1e(ru,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=_g(ru,t.__scopeMenu),o=cA(ru,t.__scopeMenu),a=sve(ave,t.__scopeMenu),u=N.useRef(null),f=tr(e,u);return L.jsx(NS.Provider,{scope:t.__scopeMenu,children:L.jsx(ji,{present:n||s.open,children:L.jsx(NS.Slot,{scope:t.__scopeMenu,children:L.jsx(N$,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:f,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var g;o.isUsingKeyboardRef.current&&((g=u.current)==null||g.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ft(t.onFocusOutside,d=>{d.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:ft(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:ft(t.onKeyDown,d=>{var b;const g=d.currentTarget.contains(d.target),y=G0t[o.dir].includes(d.key);g&&y&&(s.onOpenChange(!1),(b=a.trigger)==null||b.focus(),d.preventDefault())})})})})})});uve.displayName=ave;function cve(t){return t?"open":"closed"}function gk(t){return t==="indeterminate"}function L$(t){return gk(t)?"indeterminate":t?"checked":"unchecked"}function hgt(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function pgt(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function ggt(t,e,r){const i=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let o=pgt(t,Math.max(s,0));i.length===1&&(o=o.filter(f=>f!==r));const u=o.find(f=>f.toLowerCase().startsWith(i.toLowerCase()));return u!==r?u:void 0}function mgt(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,u=e[s].y,f=e[o].x,d=e[o].y;u>n!=d>n&&r<(f-a)*(n-u)/(d-u)+a&&(i=!i)}return i}function ygt(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return mgt(r,e)}function BS(t){return e=>e.pointerType==="mouse"?t(e):void 0}var bgt=K1e,vgt=M$,wgt=q1e,Sgt=V1e,_gt=B$,Agt=G1e,xgt=K6,Egt=Z1e,kgt=J1e,Tgt=eve,Igt=rve,Rgt=nve,Mgt=ive,Cgt=ove,Pgt=uve,D$="DropdownMenu",[Ngt,x_t]=no(D$,[W1e]),Ao=W1e(),[Bgt,lve]=Ngt(D$),fve=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,u=Ao(e),f=N.useRef(null),[d=!1,g]=au({prop:i,defaultProp:s,onChange:o});return L.jsx(Bgt,{scope:e,triggerId:tu(),triggerRef:f,contentId:tu(),open:d,onOpenChange:g,onOpenToggle:N.useCallback(()=>g(y=>!y),[g]),modal:a,children:L.jsx(bgt,{...u,open:d,onOpenChange:g,dir:n,modal:a,children:r})})};fve.displayName=D$;var dve="DropdownMenuTrigger",hve=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,s=lve(dve,r),o=Ao(r);return L.jsx(vgt,{asChild:!0,...o,children:L.jsx(Wt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:h6(e,s.triggerRef),onPointerDown:ft(t.onPointerDown,a=>{!n&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:ft(t.onKeyDown,a=>{n||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});hve.displayName=dve;var Ogt="DropdownMenuPortal",pve=t=>{const{__scopeDropdownMenu:e,...r}=t,n=Ao(e);return L.jsx(wgt,{...n,...r})};pve.displayName=Ogt;var gve="DropdownMenuContent",mve=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=lve(gve,r),s=Ao(r),o=N.useRef(!1);return L.jsx(Sgt,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...n,ref:e,onCloseAutoFocus:ft(t.onCloseAutoFocus,a=>{var u;o.current||(u=i.triggerRef.current)==null||u.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:ft(t.onInteractOutside,a=>{const u=a.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0,d=u.button===2||f;(!i.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});mve.displayName=gve;var Lgt="DropdownMenuGroup",yve=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ao(r);return L.jsx(_gt,{...i,...n,ref:e})});yve.displayName=Lgt;var Dgt="DropdownMenuLabel",bve=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ao(r);return L.jsx(Agt,{...i,...n,ref:e})});bve.displayName=Dgt;var Fgt="DropdownMenuItem",vve=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ao(r);return L.jsx(xgt,{...i,...n,ref:e})});vve.displayName=Fgt;var $gt="DropdownMenuCheckboxItem",Ugt=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ao(r);return L.jsx(Egt,{...i,...n,ref:e})});Ugt.displayName=$gt;var zgt="DropdownMenuRadioGroup",Wgt=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ao(r);return L.jsx(kgt,{...i,...n,ref:e})});Wgt.displayName=zgt;var jgt="DropdownMenuRadioItem",Kgt=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ao(r);return L.jsx(Tgt,{...i,...n,ref:e})});Kgt.displayName=jgt;var Hgt="DropdownMenuItemIndicator",qgt=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ao(r);return L.jsx(Igt,{...i,...n,ref:e})});qgt.displayName=Hgt;var Vgt="DropdownMenuSeparator",wve=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ao(r);return L.jsx(Rgt,{...i,...n,ref:e})});wve.displayName=Vgt;var Ggt="DropdownMenuArrow",Ygt=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ao(r);return L.jsx(Mgt,{...i,...n,ref:e})});Ygt.displayName=Ggt;var Zgt="DropdownMenuSubTrigger",Xgt=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ao(r);return L.jsx(Cgt,{...i,...n,ref:e})});Xgt.displayName=Zgt;var Jgt="DropdownMenuSubContent",Qgt=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ao(r);return L.jsx(Pgt,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Qgt.displayName=Jgt;var emt=fve,tmt=hve,Sve=pve,_ve=mve,rmt=yve,Ave=bve,xve=vve,Eve=wve,nmt=Object.defineProperty,F$=(t,e)=>{for(var r in e)nmt(t,r,{get:e[r],enumerable:!0})},kve={variants:{gap:{0:"oui-gap-0",1:"oui-gap-1",2:"oui-gap-2",3:"oui-gap-3",4:"oui-gap-4",5:"oui-gap-5",6:"oui-gap-6",8:"oui-gap-8",10:"oui-gap-10"},gapX:{0:"oui-gap-x-0",1:"oui-gap-x-1",2:"oui-gap-x-2",3:"oui-gap-x-3",4:"oui-gap-x-4",5:"oui-gap-x-5",6:"oui-gap-x-6",8:"oui-gap-x-8",10:"oui-gap-x-10"},gapY:{0:"oui-gap-y-0",1:"oui-gap-y-1",2:"oui-gap-y-2",3:"oui-gap-y-3",4:"oui-gap-y-4",5:"oui-gap-y-5",6:"oui-gap-y-6",8:"oui-gap-y-8",10:"oui-gap-y-10"}}},Si=Rot({twMergeConfig:{prefix:"oui-"}}),imt={variants:{p:{0:"oui-p-0",1:"oui-p-1",2:"oui-p-2",3:"oui-p-3",4:"oui-p-4",5:"oui-p-5",6:"oui-p-6",7:"oui-p-7",8:"oui-p-8",9:"oui-p-9",10:"oui-p-10"},px:{0:"oui-px-0",1:"oui-px-1",2:"oui-px-2",3:"oui-px-3",4:"oui-px-4",5:"oui-px-5",6:"oui-px-6",7:"oui-px-7",8:"oui-px-8",9:"oui-px-9",10:"oui-px-10"},py:{0:"oui-py-0",1:"oui-py-1",2:"oui-py-2",3:"oui-py-3",4:"oui-py-4",5:"oui-py-5",6:"oui-py-6",7:"oui-py-7",8:"oui-py-8",9:"oui-py-9",10:"oui-py-10"},pt:{0:"oui-pt-0",1:"oui-pt-1",2:"oui-pt-2",3:"oui-pt-3",4:"oui-pt-4",5:"oui-pt-5",6:"oui-pt-6",7:"oui-pt-7",8:"oui-pt-8",9:"oui-pt-9",10:"oui-pt-10"},pb:{0:"oui-pb-0",1:"oui-pb-1",2:"oui-pb-2",3:"oui-pb-3",4:"oui-pb-4",5:"oui-pb-5",6:"oui-pb-6",7:"oui-pb-7",8:"oui-pb-8",9:"oui-pb-9",10:"oui-pb-10"},pl:{0:"oui-pl-0",1:"oui-pl-1",2:"oui-pl-2",3:"oui-pl-3",4:"oui-pl-4",5:"oui-pl-5",6:"oui-pl-6",7:"oui-pl-7",8:"oui-pl-8",9:"oui-pl-9",10:"oui-pl-10"},pr:{0:"oui-pr-0",1:"oui-pr-1",2:"oui-pr-2",3:"oui-pr-3",4:"oui-pr-4",5:"oui-pr-5",6:"oui-pr-6",7:"oui-pr-7",8:"oui-pr-8",9:"oui-pr-9",10:"oui-pr-10"},m:{0:"oui-m-0",1:"oui-m-1",2:"oui-m-2",3:"oui-m-3",4:"oui-m-4",5:"oui-m-5",6:"oui-m-6",7:"oui-m-7",8:"oui-m-8",9:"oui-m-9",10:"oui-m-10"},mx:{0:"oui-mx-0",1:"oui-mx-1",2:"oui-mx-2",3:"oui-mx-3",4:"oui-mx-4",5:"oui-mx-5",6:"oui-mx-6",7:"oui-mx-7",8:"oui-mx-8",9:"oui-mx-9",10:"oui-mx-10"},my:{0:"oui-my-0",1:"oui-my-1",2:"oui-my-2",3:"oui-my-3",4:"oui-my-4",5:"oui-my-5",6:"oui-my-6",7:"oui-my-7",8:"oui-my-8",9:"oui-my-9",10:"oui-my-10"},mt:{0:"oui-mt-0",1:"oui-mt-1",2:"oui-mt-2",3:"oui-mt-3",4:"oui-mt-4",5:"oui-mt-5",6:"oui-mt-6",7:"oui-mt-7",8:"oui-mt-8",9:"oui-mt-9",10:"oui-mt-10"},mb:{0:"oui-mb-0",1:"oui-mb-1",2:"oui-mb-2",3:"oui-mb-3",4:"oui-mb-4",5:"oui-mb-5",6:"oui-mb-6",7:"oui-mb-7",8:"oui-mb-8",9:"oui-mb-9",10:"oui-mb-10"},ml:{0:"oui-ml-0",1:"oui-ml-1",2:"oui-ml-2",3:"oui-ml-3",4:"oui-ml-4",5:"oui-ml-5",6:"oui-ml-6",7:"oui-ml-7",8:"oui-ml-8",9:"oui-ml-9",10:"oui-ml-10"},mr:{0:"oui-mr-0",1:"oui-mr-1",2:"oui-mr-2",3:"oui-mr-3",4:"oui-mr-4",5:"oui-mr-5",6:"oui-mr-6",7:"oui-mr-7",8:"oui-mr-8",9:"oui-mr-9",10:"oui-mr-10"},grow:{true:"oui-grow"}}},smt=t=>{let{width:e,height:r,angle:n,left:i,top:s,bottom:o,right:a,...u}=t,f=Object.create(null);return n&&(f["--oui-gradient-angle"]=`${n}deg`),jg("--oui-width",e,f),jg("--oui-height",r,f),jg("--oui-left",i,f),jg("--oui-right",a,f),jg("--oui-top",s,f),jg("--oui-bottom",o,f),{...u,style:{...u.style,...f}}};function jg(t,e,r){typeof e<"u"&&(r[t]=omt(e))}function omt(t){return typeof t=="number"?`${t}px`:t}var Tve=t=>{let{angle:e}=t;return{"--oui-gradient-angle":e?`${e}deg`:"180deg"}},Ive={variants:{shadow:{sm:"oui-shadow-sm",base:"oui-shadow",md:"oui-shadow-md",lg:"oui-shadow-lg",xl:"oui-shadow-xl","2xl":"oui-shadow-2xl",inner:"oui-shadow-inner",none:"oui-shadow-none"}}},Rve={variants:{border:{true:"oui-border oui-border-line"},r:{none:"oui-rounded-none",sm:"oui-rounded-sm",base:"oui-rounded",md:"oui-rounded-md",lg:"oui-rounded-lg",xl:"oui-rounded-xl","2xl":"oui-rounded-2xl",full:"oui-rounded-full"},gradient:{primary:"oui-gradient-primary",secondary:"oui-gradient-secondary",brand:"oui-gradient-brand",success:"oui-gradient-success",warning:"oui-gradient-warning",danger:"oui-gradient-danger",neutral:"oui-gradient-neutral"},intensity:{100:"oui-bg-base-1",200:"oui-bg-base-2",300:"oui-bg-base-3",400:"oui-bg-base-4",500:"oui-bg-base-5",600:"oui-bg-base-6",700:"oui-bg-base-7",800:"oui-bg-base-8",900:"oui-bg-base-9"},borderColor:{4:"oui-border-line-4",6:"oui-border-line-6",8:"oui-border-line",12:"oui-border-line-12",16:"oui-border-line-16"}}},amt={variants:{position:{static:"oui-static",fixed:"oui-fixed",absolute:"oui-absolute",relative:"oui-relative",sticky:"oui-sticky"},zIndex:{0:"oui-z-0",10:"oui-z-10",20:"oui-z-20",30:"oui-z-30",40:"oui-z-40",50:"oui-z-50",auto:"oui-z-auto"}}},umt={variants:{invisible:{true:"oui-invisible"}}},cmt=Si({base:["oui-box"],variants:{...imt.variants,...Ive.variants,...Rve.variants,...amt.variants,...umt.variants,__position:{true:"oui-position"},__size_width:{true:"oui-size-width"},__size_height:{true:"oui-size-height"}},defaultVariants:{__position:!1,__size:!1}}),pd=gt.forwardRef((t,e)=>{let{asChild:r=!1,as:n="div",className:i,p:s,px:o,py:a,pt:u,pb:f,pl:d,pr:g,m:y,mx:b,my:A,mr:x,mt:k,mb:I,ml:R,grow:M,zIndex:P,style:j,shadow:V,border:Z,gradient:G,r:q,invisible:ae,intensity:T,position:c,borderColor:h,...p}=smt(t);return L.jsx(r?Gi:n,{style:j,className:cmt({className:i,p:s,r:q,px:o,py:a,pt:u,pb:f,pr:g,pl:d,m:y,mx:b,my:A,mt:k,mb:I,ml:R,mr:x,zIndex:P,shadow:V,border:Z,gradient:G,position:c,intensity:T,invisible:ae,grow:M,borderColor:h,__position:typeof c<"u",__size_width:typeof t.width<"u",__size_height:typeof t.height<"u"}),...p,ref:e})});pd.displayName="Box";var lmt=Si({variants:{...kve.variants}}),fmt=Si({extend:lmt,base:["oui-flex"],variants:{display:{flex:"oui-flex",inlineFlex:"oui-inline-flex"},direction:{row:"oui-flex-row",rowReverse:"oui-flex-row-reverse",column:"oui-flex-col",columnReverse:"oui-flex-col-reverse"},itemAlign:{start:"oui-items-start",end:"oui-items-end",center:"oui-items-center",baseline:"oui-items-baseline",stretch:"oui-items-stretch"},justify:{start:"oui-justify-start",end:"oui-justify-end",center:"oui-justify-center",between:"oui-justify-between",around:"oui-justify-around",evenly:"oui-justify-evenly",stretch:"oui-justify-stretch"},wrap:{noWrap:"oui-flex-nowrap",wrap:"oui-flex-wrap",wrapReverse:"oui-flex-wrap-reverse"}},defaultVariants:{display:"flex",direction:"row",itemAlign:"center",justify:"start",wrap:"noWrap"}},{responsiveVariants:!0}),Bs=N.forwardRef((t,e)=>{let{className:r,display:n,gap:i,gapX:s,gapY:o,wrap:a,justify:u,itemAlign:f,direction:d,...g}=t;return L.jsx(pd,{ref:e,className:fmt({className:r,display:n,gap:i,gapX:s,gapY:o,wrap:a,justify:u,itemAlign:f,direction:d}),...g})});Bs.displayName="Flex";var dmt=pc({base:"oui-text-gray-200 oui-animate-spin dark:oui-text-gray-600 oui-fill-primary-darken",variants:{size:{xs:"oui-w-3 oui-h-3",sm:"oui-w-4 oui-h-4",md:"oui-w-6 oui-h-6",lg:"oui-w-8 oui-h-8",xl:"oui-w-10 oui-h-10"},color:{primary:"oui-fill-primary-darken",success:"oui-fill-success",danger:"oui-fill-danger",warning:"oui-fill-warning-darken",gray:"oui-fill-gray",darkGray:"oui-fill-darkGray",white:"oui-fill-white"}},defaultVariants:{size:"lg",color:"primary"}}),$$=t=>{let{size:e,color:r,loading:n=!0,children:i,className:s}=t;return n?L.jsxs("span",{role:"status",className:"oui-inline-block",children:[L.jsxs("svg",{"aria-hidden":"true",className:dmt({size:e,className:s,color:r}),viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[L.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor",fillOpacity:.2}),L.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),L.jsx("span",{className:"oui-sr-only",children:"Loading..."})]}):L.jsx(L.Fragment,{children:i})},Mve=gt.forwardRef((t,e)=>{let{asChild:r=!1,children:n,loading:i,leading:s,trailing:o,size:a,icon:u,disabled:f,...d}=t,g=r?Gi:"button",y=typeof f<"u"?f:i,b=N.useMemo(()=>u?gt.cloneElement(u,{size:a==="xs"||a==="sm"?12:a==="md"?14:a==="lg"?16:a==="xl"?18:12,className:"oui-text-inherit",opacity:i?0:1}):null,[a,u]),A=N.useMemo(()=>!s&&!o&&!b?n:L.jsxs(Bs,{as:"span",itemAlign:"center",className:"oui-space-x-1",children:[s,b,L.jsx("span",{children:n}),o]}),[n,s,o,b]),x=N.useMemo(()=>{switch(a){case"xl":return"md";case"lg":return"md";case"md":return"sm";case"sm":case"xs":return"xs";default:return"md"}},[a]);return L.jsx(g,{...d,disabled:y,ref:e,children:i?L.jsxs(L.Fragment,{children:[L.jsx("span",{className:"oui-invisible",children:A}),L.jsx(Bs,{itemAlign:"center",justify:"center",position:"absolute",as:"span",children:L.jsx($$,{size:x,color:"white"})})]}):A})});Mve.displayName="BaseButton";var Cve=pc({base:["oui-button","oui-inline-flex","oui-items-center","oui-justify-center","oui-whitespace-nowrap","oui-transition-colors","disabled:oui-cursor-not-allowed","disabled:oui-bg-base-3","disabled:oui-text-base-contrast-36","disabled:hover:oui-bg-base-3"],variants:{...Ive.variants,variant:{text:"oui-bg-transparent",outlined:"oui-border",contained:"oui-text-white",gradient:"oui-gradient-brand oui-text-[rgba(0,0,0,0.88)]"},size:{xs:["oui-px-2","oui-rounded","oui-h-6","oui-text-2xs"],sm:["oui-px-3","oui-rounded","oui-h-7","oui-text-2xs"],md:["oui-px-3","oui-rounded-md","oui-h-8","oui-text-sm"],lg:["oui-px-3","oui-rounded-md","oui-h-10","oui-text-base"],xl:["oui-px-4","oui-rounded-lg","oui-h-13","oui-text-lg"]},color:{primary:["hover:oui-bg-primary-darken/80 active:oui-bg-primary-darken/70"],secondary:"hover:oui-bg-base-4/80 active:oui-bg-base-4/70",success:"hover:oui-bg-success/80 active:oui-bg-success/70",buy:"hover:oui-bg-success/80 active:oui-bg-success/70",danger:"hover:oui-bg-danger/80 active:oui-bg-danger/70",sell:"hover:oui-bg-danger/80 active:oui-bg-danger/70",warning:"hover:oui-bg-warning-darken/80 active:oui-bg-warning-darken/70",gray:"hover:oui-bg-base-2/80 active:oui-bg-base-2/70",light:"hover:oui-bg-white/80 active:oui-bg-white/50 disable:oui-bg-white/20"},fullWidth:{true:"oui-w-full"}},compoundVariants:[{variant:"contained",color:"primary",className:["oui-bg-primary-darken","oui-text-primary-contrast"]},{variant:"contained",color:"secondary",className:["oui-bg-base-4","oui-text-primary-contrast"]},{variant:"contained",color:"success",className:["oui-bg-success","oui-text-success-contrast"]},{variant:"contained",color:"buy",className:["oui-bg-trade-profit","oui-text-success-contrast"]},{variant:"contained",color:"warning",className:["oui-bg-warning-darken","oui-text-warning-contrast"]},{variant:"contained",color:"danger",className:["oui-bg-danger","oui-text-danger-contrast"]},{variant:"contained",color:"sell",className:["oui-bg-trade-loss","oui-text-danger-contrast"]},{variant:"contained",color:"gray",className:["oui-bg-base-2","oui-text-base-contrast"]},{variant:"contained",color:"light",className:["oui-bg-white","oui-text-black/[.88]","disabled:oui-bg-white/30 hover:disabled:oui-bg-white/30 disabled:oui-text-black/[.36]"]},{variant:"outlined",color:"primary",className:["oui-border-primary-darken","oui-text-primary-darken","hover:oui-bg-primary-darken/20"]},{variant:"outlined",color:"secondary",className:["oui-border-base-4","oui-text-base-contrast-54","hover:oui-bg-base-4/20"]},{variant:"outlined",color:"success",className:["oui-border-success","oui-text-success","hover:oui-bg-success/20"]},{variant:"outlined",color:"warning",className:["oui-border-warning-darken","oui-text-warning-contrast","hover:oui-bg-warning-darken/20"]},{variant:"outlined",color:"danger",className:["oui-border-danger","oui-text-danger","hover:oui-bg-danger/20"]},{variant:"outlined",color:"gray",className:["oui-border-base-2","oui-text-base"]},{variant:"text",color:"primary",className:["oui-text-primary-darken hover:oui-bg-primary-darken/10"]},{variant:"text",color:"success",className:["oui-text-success hover:oui-bg-success/10"]},{variant:"text",color:"warning",className:["oui-text-warning-contrast hover:oui-bg-warning-darken/10"]},{variant:"text",color:"danger",className:["oui-text-danger hover:oui-bg-danger/10"]},{variant:"text",color:"gray",className:["oui-text-base hover:oui-bg-base-2/10"]},{variant:"text",color:"secondary",className:["oui-text-base-contrast-36 hover:oui-bg-base-2/10"]}],defaultVariants:{size:"lg",variant:"contained",color:"primary"}},{responsiveVariants:["md","lg"]}),U$=gt.forwardRef(({className:t,variant:e,size:r,color:n,fullWidth:i,shadow:s,angle:o,style:a,...u},f)=>{let d=Tve({angle:o});return L.jsx(Mve,{className:Cve({variant:e,size:r,color:n,className:t,fullWidth:i,shadow:s}),size:r,ref:f,style:{...a,...d},...u})});U$.displayName="Button";var hmt=gt.forwardRef(({onClick:t,throttleDuration:e=700,...r},n)=>{let i=N.useRef(0),s=N.useCallback((o,a)=>function(...u){let f=Date.now();f-i.current>=o&&(i.current=f,a==null||a(...u))},[e])(e,t);return L.jsx(U$,{onClick:s,ref:n,...r})}),pmt=Si({extend:kve,base:["oui-grid"],variants:{cols:{1:"oui-grid-cols-1",2:"oui-grid-cols-2",3:"oui-grid-cols-3",4:"oui-grid-cols-4",5:"oui-grid-cols-5",6:"oui-grid-cols-6",7:"oui-grid-cols-7",8:"oui-grid-cols-8",9:"oui-grid-cols-9",none:"oui-grid-cols-none"},rows:{1:"oui-grid-rows-1",2:"oui-grid-rows-2",3:"oui-grid-rows-3",4:"oui-grid-rows-4",5:"oui-grid-rows-5",6:"oui-grid-rows-6",7:"oui-grid-rows-7",8:"oui-grid-rows-8",9:"oui-grid-rows-9",none:"oui-grid-rows-none"},autoFlow:{row:"oui-grid-flow-row",col:"oui-grid-flow-col",rowDense:"oui-grid-flow-row-dense",colDense:"oui-grid-flow-col-dense"},gap:{0:"oui-gap-0",1:"oui-gap-1",2:"oui-gap-2",3:"oui-gap-3",4:"oui-gap-4",5:"oui-gap-5"},gapX:{0:"oui-gap-x-0",1:"oui-gap-x-1",2:"oui-gap-x-2",3:"oui-gap-x-3",4:"oui-gap-x-4",5:"oui-gap-x-5"},gapY:{0:"oui-gap-y-0",1:"oui-gap-y-1",2:"oui-gap-y-2",3:"oui-gap-y-3",4:"oui-gap-y-4",5:"oui-gap-y-5"}},defaultVariants:{}}),Pve=gt.forwardRef((t,e)=>{let{className:r,cols:n,rows:i,gap:s,gapX:o,gapY:a,autoFlow:u,...f}=t;return L.jsx(pd,{ref:e,...f,className:pmt({className:r,cols:n,rows:i,gap:s,gapX:o,gapY:a,autoFlow:u})})});Pve.displayName="Grid";var gmt=Si({variants:{colSpan:{auto:"oui-col-auto",1:"oui-col-span-1",2:"oui-col-span-2",3:"oui-col-span-3",4:"oui-col-span-4",5:"oui-col-span-5",6:"oui-col-span-6",7:"oui-col-span-7",8:"oui-col-span-8",9:"oui-col-span-9"},rowSpan:{auto:"oui-row-auto",1:"oui-row-span-1",2:"oui-row-span-2",3:"oui-row-span-3",4:"oui-row-span-4",5:"oui-row-span-5",6:"oui-row-span-6",7:"oui-row-span-7",8:"oui-row-span-8",9:"oui-row-span-9"}}}),mmt=t=>{let{colSpan:e,rowSpan:r,className:n,...i}=t,s=N.useRef(null);return N.useEffect(()=>{if(s.current){let o=s.current.parentElement;!o||o.classList.contains("oui-grid")}},[]),L.jsx(pd,{ref:s,...i,className:gmt({colSpan:e,rowSpan:r,className:n})})},ymt=Pve;ymt.span=mmt;var bmt=Si({variants:{size:{"3xs":["oui-text-3xs"],"2xs":["oui-text-2xs"],xs:["oui-text-xs"],sm:["oui-text-sm"],base:["oui-text-base"],lg:["oui-text-lg"],xl:["oui-text-xl"],"2xl":["oui-text-2xl"],"3xl":["oui-text-3xl"],"4xl":["oui-text-4xl"],"5xl":["oui-text-5xl"],"6xl":["oui-text-6xl"]},weight:{regular:["oui-font-normal"],semibold:["oui-font-semibold"],bold:["oui-font-bold"]},color:{inherit:"oui-text-inherit",neutral:"oui-text-base-contrast-54",primary:"oui-text-primary",primaryLight:"oui-text-primary-light",secondary:"oui-text-secondary",tertiary:"oui-text-tertiary",warning:"oui-text-warning-darken",danger:"oui-text-danger",success:"oui-text-success",buy:"oui-text-trade-profit",sell:"oui-text-trade-loss",lose:"oui-text-trade-loss",withdraw:"oui-text-trade-loss",profit:"oui-text-trade-profit",deposit:"oui-text-trade-profit"},intensity:{12:"oui-text-base-contrast-12",20:"oui-text-base-contrast-20",36:"oui-text-base-contrast-36",54:"oui-text-base-contrast-54",80:"oui-text-base-contrast-80",98:"oui-text-base-contrast"},dashBoard:{default:"oui-border-b oui-border-dashed oui-border-base-contrast-12"}}}),Y1=gt.forwardRef((t,e)=>{let{children:r,className:n,asChild:i,as:s="span",color:o,size:a,weight:u,intensity:f,...d}=t;return L.jsx(Gi,{"data-accent-color":o,...d,ref:e,className:bmt({className:n,color:o,size:a,weight:u,intensity:f}),children:i?r:L.jsx(s,{children:r})})});Y1.displayName="Text";var vmt=(t,e={})=>{var d;let{rule:r,dp:n,tick:i,rm:s=Re.ROUND_DOWN,padding:o=!0,abs:a}=e;if(Number.isNaN(t))return"--";if(n=typeof n<"u"?n:i?Dw(i):2,r==="human")return EEe(typeof t=="number"?t:Number(t),n);let u=new Re(t);if(a&&(u=u.abs()),r==="percentages")return fY(u.mul(100),{dp:n,rm:s,padding:o})+"%";let f=fY(u,{dp:n,rm:s,padding:o});return r==="price"?gb(f):f!=null&&f.includes("e")?(d=new Re(f))==null?void 0:d.toFixed():f};function fY(t,e){let{dp:r,rm:n,padding:i}=e;return n==="truncate"?SX(t.toString(),r):i?t.toFixed(r,n):t.todp(r,n).toString()}function E_t(t,e){if(t==null)return"";let[r,n]=e??[6,4],i=new RegExp(`^(.{${r}})(.*)(.{${n}})$`);return`${t.replace(i,"$1...$3")}`}var wmt=t=>["percentages","price","human"].includes(t),z$=t=>{let{rule:e="price",coloring:r,dp:n,tick:i,suffix:s,prefix:o,visible:a,unit:u,currency:f,rm:d,padding:g=!0,showIdentifier:y=!1,identifiers:b,className:A,unitClassName:x,placeholder:k,masking:I,ignoreDP:R,...M}=t,P=Number(t.children),j=N.useMemo(()=>t.children==="-"?t.children:isNaN(P)?k??"--":typeof a<"u"&&!a?I??"*****":R?t.showIdentifier?Math.abs(P).toString():P:vmt(P,{rule:e,dp:n,tick:i,rm:d,padding:g,abs:y}),[P,a,i,n]),V=M.color||"inherit",Z=N.useMemo(()=>!r||typeof a<"u"&&!a||Number.isNaN(P)?V:P===0?"neutral":P<0?"lose":"profit",[r,P,M.color,t.visible]),G=N.useMemo(()=>!y||Number.isNaN(P)||P===0||typeof a<"u"&&!a?null:P<0?b!=null&&b.loss?b.loss:L.jsx("span",{children:"-"}):b!=null&&b.profit?b.profit:L.jsx("span",{children:"+"}),[P,t.visible,y]),q=N.useMemo(()=>{if(typeof s>"u"&&typeof o>"u"&&typeof u>"u"&&typeof f>"u"&&!y)return j;let ae=s?typeof s=="string"?L.jsx("span",{children:s}):s:void 0,T=u?L.jsx("span",{className:Et("orderly-numeral-unit",x),children:u}):void 0,c=o||(f?L.jsx("span",{children:f}):void 0),h=L.jsxs(L.Fragment,{children:[j,T]});return L.jsxs(L.Fragment,{children:[c,typeof G<"u"?L.jsxs("span",{children:[G,L.jsx("span",{children:h})]}):L.jsx("span",{children:h}),ae]})},[j,s,u,o,G,x]);return L.jsx(Y1,{...M,color:Z,children:q,className:Et("oui-tabular-nums",A)})},Nve=Si({slots:{root:"oui-text-base oui-flex oui-flex-col",label:"oui-text-xs oui-text-base-contrast-36",value:""},variants:{align:{start:{root:"oui-items-start"},end:{root:"oui-items-end"}}},defaultVariants:{align:"start"}}),Bve=gt.forwardRef((t,e)=>{let{label:r}=Nve({});return L.jsx("div",{ref:e,className:r({className:Et("oui-statistic-label",t.className)}),children:t.children})});Bve.displayName="StatisticLabel";var Smt=gt.forwardRef((t,e)=>{let{label:r,valueProps:n,align:i,className:s,classNames:o,children:a,...u}=t,{root:f,value:d}=Nve({align:i}),g=N.useMemo(()=>{if(typeof a=="string"||typeof a=="number"){let{className:y,...b}=n??{};return L.jsx(z$,{...b,className:Et(d({className:y}),"oui-font-semibold",!(n!=null&&n.coloring)&&"oui-text-base-contrast-80"),children:a})}return a},[a,n]);return L.jsxs("div",{...u,className:f({className:Et(s,o==null?void 0:o.root)}),ref:e,children:[L.jsx(Bve,{className:o==null?void 0:o.label,children:r}),g]})});Smt.displayName="Statistic";var _mt=pc({variants:{color:{primary:"oui-text-primary-darken",success:"oui-text-success",danger:"oui-text-danger",warning:"oui-text-warning-darken",white:"oui-text-white",black:"oui-text-black",inherit:"oui-text-inherit"}},defaultVariants:{color:"black"}}),Jr=gt.forwardRef((t,e)=>{let{size:r=24,color:n,className:i,...s}=t;return L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,fill:"none",viewBox:"0 0 24 24",ref:e,className:_mt({className:i,color:n}),...s})}),xo=gt.forwardRef((t,e)=>{let{opacity:r=.54,d:n,...i}=t;return L.jsx(Jr,{ref:e,...i,children:L.jsx("path",{fill:"currentcolor",fillOpacity:r,fillRule:"evenodd",clipRule:"evenodd",d:n})})}),Ove=gt.forwardRef((t,e)=>L.jsx(xo,{ref:e,...t,d:"M6.998 2.99a4 4 0 00-4 4v6a4 4 0 004 4 4 4 0 004 4h6a4 4 0 004-4v-6a4 4 0 00-4-4 4 4 0 00-4-4h-6zm10 6a2 2 0 012 2v6a2 2 0 01-2 2h-6a2 2 0 01-2-2h4a4 4 0 004-4v-4z"}));Ove.displayName="CopyIcon";var H6=gt.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return L.jsx(Jr,{ref:e,...n,children:L.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M4.994 3.906c-.256 0-.523.086-.718.281a1.029 1.029 0 0 0 0 1.438l6.28 6.281-6.28 6.281a1.029 1.029 0 0 0 0 1.438c.39.39 1.047.39 1.437 0l6.281-6.28 6.282 6.28c.39.39 1.047.39 1.437 0 .39-.39.39-1.047 0-1.438l-6.281-6.28 6.281-6.282c.39-.39.39-1.047 0-1.438a1.013 1.013 0 0 0-.719-.28c-.256 0-.523.085-.718.28l-6.282 6.281-6.28-6.28a1.013 1.013 0 0 0-.72-.282Z"})})});H6.displayName="CloseIcon";var Amt=gt.forwardRef((t,e)=>L.jsx(xo,{d:"M19.018 5.997c-.256 0-.523.084-.718.276l-8.707 8.594c-.257.253-.515.206-.717-.092l-2.996-4.42a1.034 1.034 0 0 0-1.405-.276.996.996 0 0 0-.28 1.38l2.995 4.42c.902 1.33 2.659 1.499 3.808.369l8.738-8.563a1 1 0 0 0 0-1.412 1.02 1.02 0 0 0-.718-.276Z",ref:e,...t}));Amt.displayName="CheckIcon";var Lve=gt.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return L.jsx(Jr,{ref:e,...n,children:L.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M5.827 9.03c-.25.05-.502.175-.655.404a1.019 1.019 0 0 0 .28 1.401l5.992 3.985c.334.223.787.223 1.122 0l5.992-3.985c.459-.305.587-.943.28-1.4a1.023 1.023 0 0 0-1.404-.28l-5.43 3.61-5.428-3.61c-.23-.154-.498-.176-.75-.126Z"})})});Lve.displayName="ChevronDownIcon";var Dve=gt.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return L.jsx(Jr,{ref:e,...n,children:L.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"m11.443 9.17-5.991 3.986a1.02 1.02 0 0 0-.28 1.4c.305.458.945.586 1.404.281l5.429-3.612 5.428 3.612a1.025 1.025 0 0 0 1.404-.28 1.02 1.02 0 0 0-.28-1.401l-5.99-3.986a1.028 1.028 0 0 0-1.124 0Z"})})});Dve.displayName="ChevronUpIcon";var Fve=gt.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return L.jsx(Jr,{ref:e,...n,children:L.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M12.017 5.997c-.3 0-.612.14-.812.406l-6 8c-.495.66-.012 1.594.812 1.594h12c.824 0 1.307-.935.812-1.594l-6-8a1.022 1.022 0 0 0-.812-.406Z"})})});Fve.displayName="CaretUpIcon";var Z1=gt.forwardRef((t,e)=>L.jsx(xo,{ref:e,...t,d:"M6.007 7.996c-.824 0-1.276.935-.781 1.594l6 8a.994.994 0 0 0 1.593 0l6-8c.495-.66.012-1.594-.812-1.594h-12Z"}));Z1.displayName="CaretDownIcon";var xmt=gt.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return L.jsx(Jr,{ref:e,...n,children:L.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M15.475 5.113a1.014 1.014 0 0 0-1.063.094l-8 6a1.025 1.025 0 0 0 0 1.624l8 6c.659.495 1.594.012 1.594-.812v-12c0-.412-.214-.747-.531-.906Z"})})});xmt.displayName="CaretLeftIcon";var Emt=gt.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return L.jsx(Jr,{ref:e,...n,children:L.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M8.558 5.113a1.015 1.015 0 0 0-.562.906v12c0 .824.966 1.307 1.625.812l8-6c.533-.4.533-1.224 0-1.624l-8-6a1.014 1.014 0 0 0-1.063-.094Z"})})});Emt.displayName="CaretRightIcon";var W$=gt.forwardRef((t,e)=>L.jsx(xo,{ref:e,...t,d:"M13.778 5.022c-.25.05-.5.176-.653.406l-3.986 6a1.03 1.03 0 0 0 0 1.125l3.986 6c.305.459.943.588 1.401.28.457-.305.585-.946.28-1.405l-3.612-5.438 3.612-5.437c.305-.46.177-1.1-.28-1.406-.229-.154-.498-.176-.748-.125Z"}));W$.displayName="ChevronLeftIcon";var j$=gt.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return L.jsx(Jr,{ref:e,...n,children:L.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M10.166 5.022c-.25-.051-.519-.03-.748.125a1.027 1.027 0 0 0-.28 1.406l3.612 5.437-3.612 5.438c-.305.459-.177 1.1.28 1.406a1.019 1.019 0 0 0 1.401-.281l3.986-6a1.03 1.03 0 0 0 0-1.125l-3.986-6c-.152-.23-.403-.356-.653-.406Z"})})});j$.displayName="ChevronRightIcon";var kmt=gt.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return L.jsx(Jr,{ref:e,...n,children:L.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M8.968 2.455a9.671 9.671 0 0 0-3.72 2.188c-.332.31-.434.818-.218 1.218.8 1.481-.037 3.066-1.844 3.157-.442.022-.833.35-.937.781a8.71 8.71 0 0 0-.25 2.188c0 .687.074 1.464.219 2.156.09.432.466.743.906.781 1.818.158 2.718 1.544 1.906 3.313-.18.393-.098.863.219 1.157 1.062.982 2.282 1.675 3.719 2.125.41.128.873-.027 1.125-.375 1.112-1.54 2.725-1.544 3.78 0 .25.363.706.538 1.126.405a10.1 10.1 0 0 0 3.75-2.155c.33-.301.417-.788.219-1.188-.832-1.68.125-3.22 1.843-3.25.456-.008.862-.307.969-.75.173-.717.219-1.341.219-2.22 0-.754-.09-1.497-.25-2.218a.994.994 0 0 0-.97-.782c-1.69-.003-2.638-1.665-1.811-3.125a.977.977 0 0 0-.188-1.218c-1.09-.99-2.42-1.764-3.812-2.188a.986.986 0 0 0-1.125.406c-.966 1.501-2.77 1.527-3.72.032a1.023 1.023 0 0 0-1.155-.438Zm6.078 2.124a7.904 7.904 0 0 1 1.84 1.054c-.725 2.297.506 4.683 3.056 5.265.063.412.057.662.057 1.088 0 .51.007.688-.051 1.056-2.54.527-3.795 2.845-3.088 5.296-.608.441-1.043.747-1.806 1.043-1.792-1.825-4.28-1.904-6.11.011-.714-.314-1.263-.593-1.818-1.061.688-2.49-.475-4.638-3.057-5.29-.115-.457-.07-1.745-.003-2.136 2.67-.64 3.722-3.003 3.059-5.279.586-.44 1.113-.762 1.798-1.04 1.725 1.755 4.315 1.93 6.123-.007Zm-3.047 3.407a4 4 0 1 0 0 8 4 4 0 0 0 0-8Zm0 2a2 2 0 1 1 0 4 2 2 0 0 1 0-4Z"})})});kmt.displayName="SettingIcon";var Tmt=gt.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return L.jsx(Jr,{ref:e,...n,children:L.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M8.968 2.456a9.669 9.669 0 0 0-3.72 2.187c-.332.31-.434.818-.218 1.219.8 1.48-.037 3.065-1.843 3.156-.443.023-.834.35-.938.78a8.712 8.712 0 0 0-.25 2.188c0 .688.074 1.464.219 2.156.09.433.466.744.906.783 1.818.156 2.718 1.543 1.906 3.311-.18.393-.098.863.219 1.156 1.062.983 2.282 1.675 3.719 2.125.41.13.873-.026 1.125-.375 1.112-1.537 2.725-1.543 3.78 0 .25.364.706.54 1.126.407a10.072 10.072 0 0 0 3.75-2.157c.33-.3.417-.787.219-1.186-.832-1.68.125-3.221 1.843-3.25.456-.008.862-.308.969-.75.173-.717.219-1.342.219-2.22 0-.754-.09-1.497-.25-2.218a.994.994 0 0 0-.97-.781c-1.69-.003-2.638-1.665-1.811-3.125a.979.979 0 0 0-.188-1.22 10.153 10.153 0 0 0-3.812-2.186.986.986 0 0 0-1.125.406c-.966 1.5-2.77 1.527-3.72.03-.242-.382-.723-.574-1.155-.436Zm3.03 5.53a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z"})})});Tmt.displayName="SettingFillIcon";var Imt=gt.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return L.jsx(Jr,{ref:e,...n,children:L.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M7.006 2.93a4 4 0 0 0-4 4v10a4 4 0 0 0 4 4h10a4 4 0 0 0 4-4v-10a4 4 0 0 0-4-4h-10Zm2 5c.256 0 .523.086.719.28l2.28 2.282 2.282-2.281c.195-.195.463-.281.719-.281.256 0 .523.086.719.28a1.03 1.03 0 0 1 0 1.439l-2.281 2.28 2.28 2.282a1.03 1.03 0 0 1 0 1.438 1.03 1.03 0 0 1-1.437 0l-2.281-2.281-2.281 2.28a1.03 1.03 0 0 1-1.438 0 1.03 1.03 0 0 1 0-1.437l2.28-2.281-2.28-2.281a1.03 1.03 0 0 1 0-1.438c.195-.195.463-.281.719-.281Z"})})});Imt.displayName="CloseSquareFillIcon";var Rmt=gt.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return L.jsx(Jr,{ref:e,...n,children:L.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M11.999 1.953c-5.523 0-10 4.477-10 10s4.477 10 10 10 10-4.477 10-10-4.477-10-10-10Zm-3 6c.256 0 .523.086.719.281l2.28 2.281 2.282-2.28c.196-.196.463-.282.719-.282.256 0 .523.086.719.281a1.03 1.03 0 0 1 0 1.438l-2.281 2.281 2.28 2.281a1.03 1.03 0 0 1 0 1.438 1.03 1.03 0 0 1-1.437 0l-2.281-2.28-2.281 2.28a1.03 1.03 0 0 1-1.438 0 1.029 1.029 0 0 1 0-1.438l2.28-2.28-2.28-2.282a1.029 1.029 0 0 1 0-1.438c.196-.195.463-.28.719-.28Z"})})});Rmt.displayName="CloseCircleFillIcon";var Mmt=gt.forwardRef((t,e)=>L.jsx(xo,{ref:e,...t,d:"M2.014 11.999c0-5.523 4.477-10 10-10s10 4.477 10 10-4.477 10-10 10-10-4.477-10-10Zm14.971-4.687c.227-.217.539-.312.837-.312.298 0 .61.095.836.312a1.102 1.102 0 0 1 0 1.595l-8.15 7.768a1.24 1.24 0 0 1-1.673 0l-3.494-3.33a1.104 1.104 0 0 1 0-1.594 1.24 1.24 0 0 1 1.674 0l2.656 2.531 7.314-6.97Z"}));Mmt.displayName="CheckedCircleFillIcon";var Cmt=gt.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return L.jsx(Jr,{ref:e,...n,children:L.jsx("path",{fill:"currentcolor",fillOpacity:r,fillRule:"evenodd",clipRule:"evenodd",d:"M6.99 2.93a4 4 0 0 0-4 4v10a4 4 0 0 0 4 4h10a4 4 0 0 0 4-4v-10a4 4 0 0 0-4-4h-10Zm9.995 4.382c.227-.217.539-.312.837-.312.298 0 .61.095.836.312a1.102 1.102 0 0 1 0 1.595l-8.15 7.768a1.24 1.24 0 0 1-1.673 0l-3.494-3.33a1.104 1.104 0 0 1 0-1.594 1.24 1.24 0 0 1 1.674 0l2.656 2.531 7.314-6.97Z"})})});Cmt.displayName="CheckSquareFillIcon";var Pmt=gt.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return L.jsx(Jr,{ref:e,...n,children:L.jsx("path",{fill:"currentcolor",fillOpacity:r,fillRule:"evenodd",clipRule:"evenodd",d:"M6.99 2.93a4 4 0 0 0-4 4v10a4 4 0 0 0 4 4h10a4 4 0 0 0 4-4v-10a4 4 0 0 0-4-4h-10Zm0 2h10a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-10a2 2 0 0 1-2-2v-10a2 2 0 0 1 2-2Z"})})});Pmt.displayName="CheckSquareEmptyIcon";var k_t=gt.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return L.jsx(Jr,{ref:e,...n,children:L.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M11.99 2.93a1 1 0 0 0-1 1v7h-7a1 1 0 0 0 0 2h7v7a1 1 0 0 0 2 0v-7h7a1 1 0 0 0 0-2h-7v-7a1 1 0 0 0-1-1Z"})})}),Nmt=gt.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return L.jsx(Jr,{ref:e,...n,children:L.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M12.014 1.999c-5.523 0-10 4.477-10 10s4.477 10 10 10 10-4.477 10-10-4.477-10-10-10Zm0 2a8 8 0 1 1 0 16 8 8 0 0 1 0-16Z"})})});Nmt.displayName="CircleOutlinedIcon";var Bmt=gt.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return L.jsx(Jr,{ref:e,...n,children:L.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M6.99 2.93a4 4 0 0 0-4 4v10a4 4 0 0 0 4 4h10a4 4 0 0 0 4-4v-10a4 4 0 0 0-4-4h-10Zm0 2h10a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-10a2 2 0 0 1-2-2v-10a2 2 0 0 1 2-2Z"})})});Bmt.displayName="SquareOutlinedIcon";var Omt=gt.forwardRef((t,e)=>{let{...r}=t;return L.jsx(Jr,{ref:e,...r,children:L.jsx("path",{fill:"currentcolor",d:"M12.014 1.999c-5.523 0-10 4.477-10 10s4.477 10 10 10 10-4.477 10-10-4.477-10-10-10Zm0 5a1 1 0 0 1 1 1v5a1 1 0 0 1-2 0v-5a1 1 0 0 1 1-1Zm0 8a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"})})});Omt.displayName="ExclamationFillIcon";var Lmt=gt.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return L.jsx(Jr,{ref:e,...n,children:L.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M12.014 1.953c-5.523 0-10 4.477-10 10s4.477 10 10 10 10-4.477 10-10-4.477-10-10-10Zm0 5a3.006 3.006 0 0 1 3 3c.004 1.11-.516 2.044-1.375 2.906-.18.181-.353.355-.563.532-.099.084-.376.287-.406.312-.422.356-1.05.33-1.406-.094a1.035 1.035 0 0 1 .125-1.437l.375-.313c.168-.14.335-.272.47-.406.518-.522.782-1.022.78-1.5a1 1 0 0 0-1.969-.25c-.14.534-.685.86-1.219.72a1.034 1.034 0 0 1-.718-1.25 2.995 2.995 0 0 1 2.906-2.22Zm0 8a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"})})});Lmt.displayName="ExclamationFillIcon";var Dmt=gt.forwardRef((t,e)=>L.jsx(xo,{d:"M21.995 16.007c0-.256-.086-.523-.28-.719l-3.72-3.687-1.406 1.406 1.968 2H3.995a1 1 0 000 2h14.562l-1.968 2 1.406 1.406 3.72-3.687c.194-.196.28-.463.28-.719zm-1-8a1 1 0 00-1-1H5.432l1.97-2-1.407-1.406-3.719 3.687a1.03 1.03 0 000 1.438l3.72 3.687L7.4 11.007l-1.969-2h14.563a1 1 0 001-1z",ref:e,...t}));Dmt.displayName="ArrowLeftRightIcon";var Fmt=gt.forwardRef((t,e)=>L.jsx(xo,{d:"M16.007 2.014c-.256 0-.523.086-.718.281L11.6 6.015l1.406 1.405 2-1.968v14.562a1 1 0 002 0V5.452l2 1.968 1.407-1.406-3.688-3.719a1.012 1.012 0 00-.719-.28zm-8 1a1 1 0 00-1 1v14.562l-2-1.968-1.406 1.406 3.688 3.72c.39.39 1.047.39 1.437 0l3.688-3.72-1.407-1.406-2 1.968V4.014a1 1 0 00-1-1z",ref:e,...t}));Fmt.displayName="ArrowDownUpIconIcon";var $mt=gt.forwardRef((t,e)=>L.jsx(xo,{ref:e,...t,d:"M6.99 20.99a4 4 0 01-4-4v-10a4 4 0 014-4h10a4 4 0 014 4v10a4 4 0 01-4 4h-10zm5-4a1 1 0 001-1v-5h3l-4-4-4 4h3v5a1 1 0 001 1z"}));$mt.displayName="ArrowUpSquareFillIconIcon";var Umt=gt.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return L.jsx(Jr,{ref:e,...n,children:L.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M6.99 2.99a4 4 0 00-4 4v10a4 4 0 004 4h10a4 4 0 004-4v-10a4 4 0 00-4-4h-10zm5 4a1 1 0 011 1v5h3l-4 4-4-4h3v-5a1 1 0 011-1z"})})});Umt.displayName="ArrowDownSquareFillIconIcon";var zmt=gt.forwardRef((t,e)=>L.jsx(xo,{d:"M7.998 2.014a4 4 0 00-4 4v12a4 4 0 004 4h8a4 4 0 004-4v-12a4 4 0 00-4-4h-8zm0 2h8a2 2 0 012 2v12a2 2 0 01-2 2h-8a2 2 0 01-2-2v-12a2 2 0 012-2zm1 2a1 1 0 00-1 1v1a1 1 0 001 1h6a1 1 0 001-1v-1a1 1 0 00-1-1h-6zm0 4a1 1 0 100 2 1 1 0 000-2zm3 0a1 1 0 100 2 1 1 0 000-2zm3 0a1 1 0 100 2 1 1 0 000-2zm-6 3a1 1 0 100 2 1 1 0 000-2zm3 0a1 1 0 100 2 1 1 0 000-2zm3 0a1 1 0 00-1 1v3a1 1 0 002 0v-3a1 1 0 00-1-1zm-6 3a1 1 0 100 2 1 1 0 000-2zm3 0a1 1 0 100 2 1 1 0 000-2z",ref:e,...t}));zmt.displayName="FeeTierIconIcon";var Wmt=gt.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return L.jsx(Jr,{ref:e,...n,children:L.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M16.995 1.953a1.02 1.02 0 00-.719.281l-3 3.002-9.006 9.005-1 1c-.14.14-.212.338-.25.532l-1 5.003a.974.974 0 001.155 1.157l5.003-1c.194-.04.392-.112.532-.25l1-1.002 9.005-9.005c.445-.444 2.447-2.446 3.003-3a1.02 1.02 0 00.28-.72c0-1.637-.417-2.807-1.282-3.69-.873-.89-2.039-1.313-3.72-1.313zm.395 2.02c.902.052 1.488.26 1.889.67.41.417.669.997.724 1.882-.547.547-1.35 1.337-2.006 1.994l-2.565-2.564c.658-.657 1.41-1.436 1.958-1.983zm-3.396 3.42l2.564 2.564-7.567 7.567-2.564-2.564 7.568-7.567zM4.99 16.398l2.564 2.564-.094.094c-.66.132-1.993.411-3.22.657l.656-3.22.094-.095z"})})});Wmt.displayName="EditIcon";var jmt=gt.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return L.jsx(Jr,{ref:e,...n,children:L.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M12.001 3.998c-2.959 0-5.452 1.454-7.5 3.844a16.652 16.652 0 00-1.812 2.562c-.302.528-.486.936-.594 1.188a1.058 1.058 0 000 .812c.108.252.292.66.594 1.188a16.652 16.652 0 001.812 2.562c2.048 2.39 4.541 3.844 7.5 3.844 2.96 0 5.452-1.454 7.5-3.844a16.652 16.652 0 001.812-2.562c.302-.528.486-.936.594-1.188a1.058 1.058 0 000-.812c-.108-.252-.292-.66-.594-1.188a16.652 16.652 0 00-1.812-2.562c-2.048-2.39-4.54-3.844-7.5-3.844zm0 4a4 4 0 110 8 4 4 0 010-8zm0 2a2 2 0 100 3.999 2 2 0 000-4z"})})});jmt.displayName="EyeIcon";var Kmt=gt.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return L.jsx(Jr,{ref:e,...n,children:L.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M16.998 1.953a3 3 0 0 0-3 3c0 .257.04.577.102.815L8.747 9.504a3.25 3.25 0 0 0-1.75-.55 3 3 0 1 0 0 6c.633 0 1.257-.236 1.74-.569l5.365 3.766a3.2 3.2 0 0 0-.104.802 3 3 0 1 0 3-3c-.632 0-1.248.228-1.731.562l-5.378-3.763a3.2 3.2 0 0 0 .109-.799c0-.268-.038-.557-.104-.804l5.365-3.752c.479.323 1.118.556 1.739.556a3 3 0 1 0 0-6"})})});Kmt.displayName="ShareIcon";var Hmt=gt.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return L.jsx(Jr,{ref:e,...n,children:L.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M12.001 3.998c-2.959-.007-5.452 1.454-7.5 3.844a16.654 16.654 0 00-1.812 2.562c-.302.528-.486.936-.594 1.188a1.058 1.058 0 000 .812c.108.252.292.66.594 1.188.401.703.87 1.419 1.406 2.094.085.107.76.873 1.344 1.468l-1.157 1.125a1.03 1.03 0 000 1.438 1.03 1.03 0 001.438 0l14-14a1.03 1.03 0 000-1.438 1.014 1.014 0 00-.719-.281c-.256 0-.523.086-.719.28l-1.28 1.314c-1.654-1.106-3.298-1.59-5-1.594zm0 4c.518 0 1.31.137 2.031.562l-1.53 1.532c-.158-.082-.457-.094-.5-.094a2 2 0 00-2 2c0 .044-.015.347.03.53-.192.234-1.5 1.5-1.5 1.5a4.204 4.204 0 01-.53-2.03c-.012-2.21 1.79-4 4-4zm7.938.344s-9.755 9.718-11.063 11.03c1.44.572 2.918.626 3.125.626 2.96 0 5.452-1.454 7.5-3.844a16.652 16.652 0 001.812-2.562c.302-.528.486-.936.594-1.188a1.04 1.04 0 000-.812c-.227-.52-.654-1.347-1.312-2.313-.177-.26-.656-.937-.656-.937z"})})});Hmt.displayName="EyeCloseIcon";var qmt=gt.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return L.jsx(Jr,{ref:e,...n,children:L.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M12.007 2.99a9 9 0 0 0-5.594 1.94 1 1 0 1 0 1.25 1.562 6.97 6.97 0 0 1 4.344-1.5 7 7 0 0 1 7 7h-2l3 4 3-4h-2a9 9 0 0 0-9-9m-8 5-3 4h2a9 9 0 0 0 9 9 9 9 0 0 0 5.594-1.937 1 1 0 1 0-1.25-1.562 6.96 6.96 0 0 1-4.344 1.5 7 7 0 0 1-7-7h2z"})})});qmt.displayName="RefreshIcon";var K$=Si({slots:{root:"oui-relative oui-flex oui-shrink-0 oui-overflow-hidden oui-rounded-full",image:"oui-aspect-square oui-h-full oui-w-full",fallback:"oui-flex oui-h-full oui-w-full oui-items-center oui-justify-center oui-rounded-full oui-bg-base-2"},variants:{size:{"2xs":{root:"oui-w-4 oui-h-4"},xs:{root:"oui-w-5 oui-h-5"},sm:{root:"oui-w-6 oui-h-6"},md:{root:"oui-w-8 oui-h-8"},lg:{root:"oui-w-10 oui-h-10"},xl:{root:"oui-w-12 oui-h-12"}}},defaultVariants:{size:"sm"}}),$ve=N.forwardRef(({className:t,size:e,...r},n)=>{let{root:i}=K$({size:e});return L.jsx(Jge,{ref:n,...r,className:i({className:t})})});$ve.displayName=Jge.displayName;var Uve=N.forwardRef(({className:t,...e},r)=>{let{image:n}=K$();return L.jsx(Qge,{ref:r,className:n({className:t}),...e})});Uve.displayName=Qge.displayName;var zve=N.forwardRef(({className:t,...e},r)=>{let{fallback:n}=K$({className:t});return L.jsx(eme,{ref:r,className:n(),...e})});zve.displayName=eme.displayName;var q6=N.forwardRef((t,e)=>{let{size:r,src:n,fallback:i,delayMs:s,alt:o,onLoadingStatusChange:a,...u}=t;return L.jsxs($ve,{...u,ref:e,size:r,children:[L.jsx(Uve,{src:n,onLoadingStatusChange:a,alt:o}),typeof i<"u"&&L.jsx(zve,{delayMs:s,children:i})]})}),T_t=N.forwardRef((t,e)=>{let{address:r,...n}=t,i=N.useMemo(()=>Vat(r),[t.address]);return L.jsx(q6,{...n,src:i})}),V6=t=>{let e=N.useMemo(()=>{var n;let r=t.name;return typeof t.symbol=="string"&&(r=((n=t.symbol)==null?void 0:n.split("_"))[1]),`https://oss.orderly.network/static/symbol_logo/${r}.png`},[t.name,t.symbol]);return L.jsx(q6,{size:t.size,src:e,alt:t.name,className:t.className})},G6=t=>{let e=N.useMemo(()=>`https://oss.orderly.network/static/network_logo/${t.chainId}.png`,[t.chainId]);return L.jsx(q6,{size:t.size,src:e,alt:`${t.chainId}`,className:t.className})},I_t=t=>{let e=N.useMemo(()=>{var r,n,i;return`https://oss.orderly.network/static/wallet_icon/${(i=(n=(r=t.name)==null?void 0:r.split(" "))==null?void 0:n[0])==null?void 0:i.toLowerCase()}.png`},[t.name]);return L.jsx(q6,{size:t.size,src:e,alt:`${t.name}`})},H$=gt.forwardRef((t,e)=>L.jsx(xo,{d:"M8.006 2.014a1 1 0 0 0-1 1 4 4 0 0 0-4 4v10a4 4 0 0 0 4 4h10a4 4 0 0 0 4-4v-10c0-2.205-1.792-4-4-4a1 1 0 0 0-2 0h-6a1 1 0 0 0-1-1Zm-1 3a1 1 0 0 0 2 0h6a1 1 0 0 0 2 0 2 2 0 0 1 2 2v1h-14v-1a2 2 0 0 1 2-2Zm-2 5h14v7a2 2 0 0 1-2 2h-10a2 2 0 0 1-2-2v-7Zm3 2a1 1 0 1 0 0 2 1 1 0 0 0 0-2Zm4 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2Zm4 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2Zm-8 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Zm4 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2Zm4 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z",ref:e,...t}));H$.displayName="CaretLeftIcon";var Vmt=gt.forwardRef((t,e)=>L.jsx(xo,{d:"M11.998 1.953c-4.362 0-8 1.56-8 4s3.638 4 8 4 8-1.559 8-4-3.638-4-8-4m-8 7.625v2.375c0 2.441 3.638 4 8 4s8-1.559 8-4V9.578c-1.814 1.49-4.642 2.375-8 2.375s-6.186-.885-8-2.375m0 6v2.375c0 2.441 3.638 4 8 4s8-1.559 8-4v-2.375c-1.814 1.49-4.642 2.375-8 2.375s-6.186-.885-8-2.375",ref:e,...t}));Vmt.displayName="ServerFillIcon";var Gmt=gt.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return L.jsxs(Jr,{ref:e,...n,children:[L.jsx("path",{d:"M12 2.5c-.3 0-.611.112-.81.325l-5.99 6.4c-.495.527-.013 1.275.81 1.275h11.98c.823 0 1.305-.748.81-1.275l-5.99-6.4c-.198-.213-.51-.325-.81-.325",fill:"currentcolor",fillOpacity:".98"}),L.jsx("path",{d:"M12 21.5c-.3 0-.611-.112-.81-.325l-5.99-6.4c-.495-.527-.013-1.275.81-1.275h11.98c.823 0 1.305.748.81 1.275l-5.99 6.4c-.198.213-.51.325-.81.325",fill:"currentcolor",fillOpacity:".36"})]})});Gmt.displayName="SortingAscIcon";var Ymt=gt.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return L.jsxs(Jr,{ref:e,...n,children:[L.jsx("path",{d:"M12 2.5c-.3 0-.611.112-.81.325l-5.99 6.4c-.495.527-.013 1.275.81 1.275h11.98c.823 0 1.305-.748.81-1.275l-5.99-6.4c-.198-.213-.51-.325-.81-.325",fill:"currentcolor",fillOpacity:".36"}),L.jsx("path",{d:"M12 21.5c-.3 0-.611-.112-.81-.325l-5.99-6.4c-.495-.527-.013-1.275.81-1.275h11.98c.823 0 1.305.748.81 1.275l-5.99 6.4c-.198.213-.51.325-.81.325",fill:"currentcolor",fillOpacity:".98"})]})});Ymt.displayName="SortingDescIcon";var Zmt=gt.forwardRef((t,e)=>L.jsx(xo,{d:"M11.993 18.012a1 1 0 0 1-.999-.999V9.458l-2.997 2.966-1.405-1.405 4.683-4.714a1 1 0 0 1 .72-.293c.26 0 .521.098.716.293l4.683 4.714-1.405 1.405-2.997-2.966v7.555a1 1 0 0 1-.999.999",ref:e,...t})),Xmt=gt.forwardRef((t,e)=>L.jsx(xo,{d:"M11.993 6.012a1 1 0 0 0-1 .999v7.555L7.998 11.6l-1.405 1.405 4.683 4.714c.195.196.457.293.719.293.26 0 .522-.098.717-.293l4.683-4.714L15.99 11.6l-2.997 2.966V7.011a1 1 0 0 0-1-.999",ref:e,...t})),Jmt=gt.forwardRef((t,e)=>L.jsx(xo,{d:"M18.012 11.993a1 1 0 0 0-.999-1H9.458l2.966-2.996-1.405-1.405-4.714 4.683a1 1 0 0 0-.293.719c0 .26.098.522.293.717l4.714 4.683 1.405-1.405-2.966-2.997h7.555a1 1 0 0 0 .999-1",ref:e,...t})),Qmt=gt.forwardRef((t,e)=>L.jsx(xo,{d:"M6.012 11.993a1 1 0 0 1 .999-1h7.555L11.6 7.998l1.405-1.405 4.714 4.683c.196.195.293.457.293.719 0 .26-.098.522-.293.717l-4.714 4.683L11.6 15.99l2.966-2.997H7.011a1 1 0 0 1-.999-1",ref:e,...t}));Zmt.displayName="ArrowUpShortIcon";Xmt.displayName="ArrowDownShortIcon";Jmt.displayName="ArrowLeftShortIcon";Qmt.displayName="ArrowRightShortIcon";var eyt=gt.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return L.jsx(Jr,{ref:e,...n,children:L.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M12 2.5c-.3 0-.611.112-.81.325l-5.99 6.4c-.495.527-.013 1.275.81 1.275h11.98c.823 0 1.305-.748.81-1.275l-5.99-6.4c-.198-.213-.51-.325-.81-.325m0 19c-.3 0-.611-.112-.81-.325l-5.99-6.4c-.495-.527-.013-1.275.81-1.275h11.98c.823 0 1.305.748.81 1.275l-5.99 6.4c-.198.213-.51.325-.81.325"})})});eyt.displayName="SortingIconIcon";var tyt=t=>{let{secondary:e}=t,r=N.useMemo(()=>{let n="oui-bg-base-6 oui-absolute oui-bottom-0 oui-right-0 oui-outline oui-outline-2 oui-outline-base-1 oui-z-10";return e.component?L.jsx("div",{className:Et(n,e==null?void 0:e.className),children:e.component}):"chainId"in e?L.jsx(G6,{...e,className:Et(n,e==null?void 0:e.className)}):L.jsx(V6,{...e,className:Et(n,e==null?void 0:e.className)})},[e]);return L.jsxs("div",{className:"oui-relative",children:[t.children,r]})},ryt=Jr;ryt.combine=tyt;var nyt=t=>["date","address","symbol","status","txId"].includes(t),iyt="base-quote",syt="yyyy-MM-dd HH:mm:ss",q$=gt.forwardRef((t,e)=>{let{rule:r,children:n,prefix:i,symbolElement:s,formatString:o,range:a,capitalize:u,copyable:f,copyIconSize:d,onCopy:g,showIcon:y,iconSize:b="xs",copyIconTestid:A,isIcon:x,...k}=t,I=N.useMemo(()=>r==="symbol"&&y?L.jsx(V6,{symbol:n,size:b}):i,[i,y,r,b,n]),R=N.useMemo(()=>{if(typeof t.suffix<"u")return t.suffix;if(f)return L.jsx("button",{className:"oui-cursor-pointer oui-text-sm","data-testid":A,onClick:j=>{navigator.clipboard.writeText(n),g==null||g(j)},children:L.jsx(Ove,{size:d??12,color:"white"})})},[t.suffix,f,n]),M=N.useMemo(()=>{if(typeof n>"u")return"--";if(typeof r>"u")return n;if(r==="address"||r==="txId"){let j=n,[V,Z]=a??(r==="address"?[6,4]:[6,6]),G=new RegExp(`^(.{${V}})(.*)(.{${Z}})$`);return`${j.replace(G,"$1...$3")}`}if(r==="date"){let j=new Date(n);return Lge(j)?Sl(new Date(n),o??syt):"Error: Invalid Date"}if(r==="symbol"){let j=n.split("_"),V=j[0],Z=j[1],G=j[2];return(o??iyt).replace("type",V).replace("base",Z).replace("quote",G)}return n},[n,r,o,a,s]),P=N.useMemo(()=>typeof R>"u"&&typeof I>"u"?M:L.jsxs("span",{className:"oui-flex oui-gap-1 oui-items-center",children:[I,M,R]}),[M,R,I]);return L.jsx(Y1,{...k,ref:e,children:P})});q$.displayName="FormattedText";var oyt=Si({base:"oui-text-transparent oui-bg-clip-text",variants:{color:{primary:"oui-gradient-primary",brand:"oui-gradient-brand",success:"oui-gradient-success",warning:"oui-gradient-warning",danger:"oui-gradient-danger",neutral:"oui-gradient-neutral",inherit:"oui-text-inherit"}}}),Wve=gt.forwardRef((t,e)=>{let{color:r,className:n,angle:i,...s}=t,o=Tve({angle:i});return L.jsx(Y1,{...s,ref:e,className:oyt({color:r,className:n}),style:o})});Wve.displayName="GradientText";var Ag=Y1;Ag.formatted=q$;Ag.numeral=z$;Ag.gradient=Wve;var jve=N.forwardRef((t,e)=>{let{clearable:r,onClean:n,fixClassName:i,helpText:s,loading:o,inputMode:a,containerClassName:u,onValueChange:f,onChange:d,id:g,formatters:y,value:b,...A}=t,[x,k]=N.useState(null),I=N.useRef(null),R=N.useRef(null),M=N.useRef(!1),P=N.useMemo(()=>y??[],[y]);N.useEffect(()=>{e&&(typeof e=="function"?e(I.current):e.current=I.current)},[I,e]);let j=N.useCallback(G=>{if(!Array.isArray(P)||P.length===0)return G;if(G==null)return"";let q=0;for(;q<P.length;)G=P[q].onRenderBefore(G,{isFocused:M.current}),q++;return G},[P]),V=N.useCallback((G,q)=>{if(!Array.isArray(P)||P.length===0)return G;if(G==null)return"";let ae=P.length-1;for(;ae>-1;)G=P[ae].onSendBefore(G,{isFocused:M.current,originValue:q}),ae--;return G},[P]),Z=N.useMemo(()=>typeof b>"u"?b:j(b),[b]);return N.useEffect(()=>{var T,c;if(document.activeElement!==I.current)return;let G=`${Z}`.length,q=((T=R.current)==null?void 0:T.length)||0,ae=x?x+(G-q):0;(c=I.current)==null||c.setSelectionRange(ae,ae)},[Z]),L.jsx("input",{type:"text",...A,ref:I,onBlur:G=>{var q;M.current=!1,(q=A.onBlur)==null||q.call(A,G)},onFocus:G=>{var q;M.current=!0,(q=A.onFocus)==null||q.call(A,G)},onChange:G=>{var q;if(G.target.value.length<((q=t.value)==null?void 0:q.length)){let ae=G.target.selectionStart,T=CEe(`${t.value}`,G.target.value);T>-1&&`${t.value}`.at(T)===","&&(G.target.value=`${G.target.value.substring(0,T-1)}${G.target.value.substring(T)}`,G.target.selectionStart=ae?ae-1:0)}if(typeof d=="function"&&d(G),typeof f=="function"){let ae=G.target.value;ae=V(ae,String(t.value)),f(ae)}R.current=G.target.value,k(G.target.selectionStart)},value:Z,id:g})});jve.displayName="BaseInput";var Kve=t=>{let{asChild:e,as:r="label"}=t;return L.jsx(e?Gi:"label",{htmlFor:t.name,className:t.className,children:t.children})},ayt=t=>{let{prefix:e,id:r}=t;return typeof e>"u"?null:typeof e=="string"?L.jsx(Kve,{name:r,className:t.className,children:e}):e},uyt=t=>{let{suffix:e,id:r}=t;return typeof e>"u"?null:typeof e=="string"?L.jsx(Kve,{name:r,className:t.className,children:e}):e},cyt=Si({slots:{input:["oui-w-full oui-bg-transparent","oui-bg-transparent","oui-flex-1","focus-visible:oui-outline-none","oui-flex","placeholder:oui-text-base-contrast-20","placeholder:oui-text-xs","oui-tabular-nums","oui-text-white","autofill:oui-bg-transparent","oui-input-input","disabled:oui-cursor-not-allowed","oui-peer"],box:["oui-rounded","oui-bg-base-6","oui-flex","oui-items-center","oui-outline","oui-outline-offset-0","oui-outline-1","oui-outline-transparent","focus-within:oui-outline-primary-light","oui-input-root"],additional:["oui-h-full oui-flex oui-flex-col oui-justify-center oui-px-2 oui-text-base-contrast"],closeButton:["oui-cursor-pointer","oui-invisible","peer-focus:oui-visible"]},variants:{size:{xs:{input:["oui-h-6","oui-text-2xs","placeholder:oui-text-2xs"],box:["oui-h-6"],additional:["oui-text-2xs"]},sm:{input:["oui-h-7","oui-text-2xs","placeholder:oui-text-2xs"],box:["oui-h-7"],additional:["oui-text-2xs"]},md:{input:["oui-h-8","oui-text-2xs","placeholder:oui-text-2xs"],box:["oui-h-8"],additional:["oui-text-2xs"]},lg:{input:["oui-h-10","oui-text-sm","placeholder:oui-text-sm"],box:["oui-h-10 oui-rounded-md"],additional:["oui-text-sm"]},xl:{input:["oui-h-12","oui-text-base","placeholder:oui-text-base"],box:["oui-h-12 oui-rounded-md"],additional:["oui-text-sm"]}},color:{success:{box:["oui-outline-success","focus-within:oui-outline-success"],input:["oui-text-success"]},danger:{box:["oui-outline-danger","focus-within:oui-outline-danger"],input:["oui-text-danger"]},warning:{box:["oui-outline-warning-darken","focus-within:oui-outline-warning-darken"],input:["oui-text-warning-darken"]},default:{box:["oui-outline-transparent"]}},disabled:{true:{input:["oui-cursor-not-allowed","oui-text-base-contrast-20"],box:["oui-bg-base-5"]}},pl:{true:{box:"oui-pl-3"},false:{box:"oui-pl-0"}},pr:{true:{box:"oui-pr-3"},false:{box:"oui-pr-0"}},fullWidth:{true:{box:"oui-w-full"}},align:{center:{input:"oui-text-center"},left:{input:"oui-text-left"},right:{input:"oui-text-right"}}},defaultVariants:{size:"lg"}},{responsiveVariants:["md","lg"]}),lA=gt.forwardRef((t,e)=>{let{size:r,disabled:n,color:i,suffix:s,prefix:o,id:a,pl:u,pr:f,fullWidth:d,className:g,classNames:y,onClear:b,align:A,...x}=t,{input:k,box:I,additional:R,closeButton:M}=cyt({size:r,disabled:n,color:i,fullWidth:d,align:A,pl:typeof o>"u"||u,pr:typeof s>"u"||f}),P=N.useId(),j=typeof b<"u"?L.jsx(Hve,{className:M({className:y==null?void 0:y.clearButton}),onClick:()=>{b==null||b()},value:x.value}):s;return L.jsxs("div",{className:I({className:Et(g,y==null?void 0:y.root)}),children:[L.jsx(ayt,{id:a||P,prefix:o,className:R({className:Et(y==null?void 0:y.additional,y==null?void 0:y.prefix)})}),L.jsx(jve,{...x,id:a||P,disabled:n,ref:e,className:k({align:A,className:y==null?void 0:y.input})}),L.jsx(uyt,{id:a||P,suffix:j,className:R({className:Et(y==null?void 0:y.additional,y==null?void 0:y.suffix)})})]})}),Hve=gt.forwardRef((t,e)=>L.jsx("button",{onMouseDown:r=>{r.preventDefault(),t.onClick()},ref:e,className:t.className,children:L.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L.jsx("path",{d:"M8 1.302a6.667 6.667 0 1 0 0 13.333A6.667 6.667 0 0 0 8 1.302m-2 4c.17 0 .349.057.479.187l1.52 1.521L9.52 5.49a.68.68 0 0 1 .48-.188c.17 0 .348.057.479.187.26.261.26.698 0 .96l-1.52 1.52 1.52 1.52c.26.261.26.698 0 .96a.687.687 0 0 1-.959 0L8 8.926l-1.521 1.521a.686.686 0 0 1-.959 0 .686.686 0 0 1 0-.959l1.521-1.52-1.52-1.52a.686.686 0 0 1 0-.96A.68.68 0 0 1 6 5.302",fill:"#fff",fillOpacity:".2"})})}));Hve.displayName="ClearButton";lA.displayName="Input";var lyt=Si({base:["oui-z-50","oui-w-72","oui-rounded-md","oui-border","oui-border-line-6","oui-p-4","oui-bg-base-8","oui-shadow-md","oui-outline-none","data-[state=open]:oui-animate-in","data-[state=closed]:oui-animate-out","data-[state=closed]:oui-fade-out-0","data-[state=open]:oui-fade-in-0","data-[state=closed]:oui-zoom-out-95","data-[state=open]:oui-zoom-in-95","data-[side=bottom]:oui-slide-in-from-top-2","data-[side=left]:oui-slide-in-from-right-2","data-[side=right]:oui-slide-in-from-left-2","data-[side=top]:oui-slide-in-from-bottom-2"]}),qve=Llt,fyt=Flt,dyt=Dlt,V$=N.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},i)=>L.jsx($lt,{children:L.jsx(Tye,{ref:i,align:e,sideOffset:r,className:lyt({className:t}),...n})}));V$.displayName=Tye.displayName;var Vve=t=>{let{arrow:e,content:r,contentProps:n,...i}=t;return L.jsxs(qve,{...i,children:[L.jsx(fyt,{asChild:!0,children:t.children}),L.jsxs(V$,{...n,children:[r,e&&L.jsx(Ult,{className:"oui-fill-base-8",width:10,height:6})]})]})},Jo=Si({slots:{trigger:["oui-flex","oui-group","oui-w-full","oui-items-center","oui-justify-between","oui-whitespace-nowrap","oui-rounded-md","oui-px-2","oui-space-x-2","oui-shadow-sm","oui-text-base-contrast-54","placeholder:oui-text-base-contrast-54","data-[state=open]:oui-text-base-contrast-80","focus:oui-outline-none","focus:oui-ring-1","focus:oui-ring-ring","disabled:oui-cursor-not-allowed","disabled:oui-opacity-50","[&>span]:oui-line-clamp-1"],scrollUpButton:"oui-flex oui-cursor-default oui-items-center oui-justify-center oui-py-1",scrollDownButton:"oui-flex oui-cursor-default oui-items-center oui-justify-center oui-py-1",content:["oui-relative","oui-z-50","oui-max-h-96","oui-overflow-hidden","oui-rounded-md","oui-bg-base-8","oui-text-base-contrast","oui-shadow-md","data-[state=open]:oui-animate-in","data-[state=closed]:aoui-nimate-out","data-[state=closed]:oui-fade-out-0","data-[state=open]:oui-fade-in-0","data-[state=closed]:oui-zoom-out-95","data-[state=open]:oui-zoom-in-95","data-[side=bottom]:oui-slide-in-from-top-2","data-[side=left]:oui-slide-in-from-right-2","data-[side=right]:oui-slide-in-from-left-2","data-[side=top]:oui-slide-in-from-bottom-2"],viewport:["oui-p-1"],label:"oui-px-2 oui-py-1.5 oui-text-sm oui-font-semibold",item:["oui-option-item","oui-relative","oui-flex","oui-cursor-default","oui-select-none","oui-items-center","oui-rounded-sm","oui-py-1","oui-pl-2","oui-pr-8","oui-text-sm","oui-text-base-contrast-54","oui-outline-none","hover:oui-bg-base-6","hover:oui-rounded","focus:oui-bg-accent","focus:oui-text-accent-foreground","data-[state=checked]:oui-bg-base-5","data-[state=checked]:oui-text-base-contrast-80","data-[disabled]:oui-pointer-events-none","data-[disabled]:oui-opacity-50"],separator:"-oui-mx-1 oui-my-1 oui-h-px oui-bg-muted",icon:""},variants:{variant:{outlined:{trigger:["oui-border oui-border-line-6 oui-bg-line-4"]},contained:{trigger:["oui-bg-base-4"]},text:{trigger:[]}},position:{popper:{content:["data-[side=bottom]:oui-translate-y-1","data-[side=left]:-oui-translate-x-1","data-[side=right]:oui-translate-x-1","data-[side=top]:-oui-translate-y-1"],viewport:"oui-h-[var(--radix-select-trigger-height)] oui-w-full oui-min-w-[var(--radix-select-trigger-width)]"},"item-aligned":{content:"",viewport:""}},size:{xs:{trigger:["oui-h-6","oui-text-2xs"],item:["oui-h-6","oui-text-2xs"],icon:["oui-w-3","oui-h-3"]},sm:{trigger:["oui-h-7","oui-text-2xs"],item:["oui-h-7","oui-text-2xs"],icon:["oui-w-4","oui-h-4"]},md:{trigger:["oui-h-8","oui-text-xs"],item:["oui-h-7","oui-text-xs"],icon:["oui-w-4","oui-h-4"]},lg:{trigger:["oui-h-10","oui-text-sm","oui-px-3"],item:["oui-h-8","oui-text-2xs"],icon:["oui-w-5","oui-h-5"]},xl:{trigger:["oui-h-12","oui-text-2xs","oui-px-3"],item:["oui-h-12","oui-text-2xs"],icon:["oui-w-6","oui-h-6"]}},error:{true:{trigger:["oui-border-danger","focus:oui-ring-danger","focus:oui-ring-ring-danger"]}}},defaultVariants:{size:"lg",variant:"outlined"}},{responsiveVariants:["md","lg"]}),hyt=sye,pyt=xlt,gyt=Alt,Gve=N.forwardRef(({className:t,children:e,size:r,error:n,variant:i,asChild:s,showCaret:o=!0,...a},u)=>{let{trigger:f}=Jo({size:r,error:n,variant:i});return s?L.jsx(ok,{ref:u,className:f({className:t}),asChild:s,...a,children:e}):L.jsxs(ok,{ref:u,className:f({className:t}),asChild:s,...a,children:[e,L.jsx(L.Fragment,{children:o&&L.jsx(oye,{asChild:!0,className:"oui-transition-transform group-data-[state=open]:oui-rotate-180 group-data-[state=closed]:oui-rotate-0",children:L.jsx(Z1,{size:12,className:"oui-text-inherit",opacity:1})})})]})});Gve.displayName=ok.displayName;var myt=N.forwardRef(({className:t,...e},r)=>{let{scrollUpButton:n}=Jo();return L.jsx(dye,{ref:r,className:n({className:t}),...e,children:L.jsx(Fve,{size:16,color:"white"})})});myt.displayName=dye.displayName;var yyt=N.forwardRef(({className:t,...e},r)=>{let{scrollDownButton:n}=Jo();return L.jsx(hye,{ref:r,className:n({className:t}),...e,children:L.jsx(Z1,{size:16,color:"white"})})});yyt.displayName=hye.displayName;var Yve=N.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>{let{content:s,viewport:o}=Jo({position:r,className:t});return L.jsx(aye,{children:L.jsx(JF,{ref:i,className:s({className:t}),position:r,...n,children:L.jsx(uye,{className:o(),children:e})})})});Yve.displayName=JF.displayName;var byt=N.forwardRef(({className:t,...e},r)=>{let{label:n}=Jo();return L.jsx(cye,{ref:r,className:n({className:t}),...e})});byt.displayName=cye.displayName;var Zve=N.forwardRef(({className:t,children:e,size:r,...n},i)=>{let{item:s}=Jo({size:r});return L.jsx(lye,{ref:i,className:s({className:t}),...n,children:L.jsx(Elt,{children:e})})});Zve.displayName=lye.displayName;var vyt=N.forwardRef(({className:t,...e},r)=>{let{separator:n}=Jo();return L.jsx(pye,{ref:r,className:n({className:t}),...e})});vyt.displayName=pye.displayName;var Xve=Si({slots:{root:"oui-relative oui-overflow-hidden oui-scroll-area-root",viewport:"oui-h-full oui-w-full oui-rounded-[inherit]",bar:["oui-flex","oui-touch-none","oui-select-none","oui-transition-colors"],tumb:"oui-relative oui-flex-1 oui-rounded-full oui-bg-base-10"},variants:{orientation:{vertical:{bar:"oui-h-full oui-w-2 oui-border-l oui-border-l-transparent oui-p-[1px]"},horizontal:{bar:"oui-h-2 oui-flex-col oui-border-t oui-border-t-transparent oui-p-[1px]"}}}}),G$=gt.forwardRef(({className:t,children:e,orientation:r="vertical",...n},i)=>{let{root:s,viewport:o,bar:a}=Xve({orientation:r});return L.jsxs(Uye,{ref:i,className:s({className:t}),...n,children:[L.jsx(Jlt,{className:o(),children:e}),L.jsx(Jve,{orientation:r}),L.jsx(Qlt,{})]})});G$.displayName=Uye.displayName;var Jve=gt.forwardRef(({className:t,orientation:e="vertical",...r},n)=>{let{bar:i,tumb:s}=Xve({className:t,orientation:e});return L.jsx(r$,{ref:n,orientation:e,className:i({className:t}),...r,children:L.jsx(Oye,{className:s()})})});Jve.displayName=r$.displayName;var Qve=t=>{let{options:e,variant:r,valueFormatter:n,...i}=t,[s,o]=N.useState(""),[a,u]=N.useState(t.value??""),{trigger:f}=Jo({size:t.size,variant:r}),[d,g]=N.useState(()=>typeof t.value>"u"?-1:e.findIndex(I=>I.value===t.value)),[y,b]=N.useState(!1),A=N.useRef(null),x=()=>{b(!0)},k=s?e.filter(I=>{if(I.value.toLowerCase().includes(s.toLowerCase()))return!0}):e;return L.jsxs(qve,{open:y,children:[L.jsx(dyt,{children:L.jsx(Q$,{ref:A,size:t.size,autoComplete:"off",onFocus:x,onBlur:()=>{b(!1)},placeholder:t.placeholder??"All",value:y?s:typeof n=="function"?n(a??"",{placeholder:t.placeholder}):a,onValueChange:I=>{o(I)},classNames:{root:f({className:"oui-w-24 oui-peer"}),input:"oui-text-base-contrast-54 oui-font-semibold"},"data-state":y?"open":"closed",suffix:L.jsx(oye,{onMouseDown:I=>{var R,M;I.preventDefault(),y?(R=A.current)==null||R.blur():(M=A.current)==null||M.focus()},asChild:!0,className:"oui-transition-transform peer-data-[state=open]:oui-rotate-180 peer-data-[state=closed]:oui-rotate-0 oui-mx-2",children:L.jsx(Z1,{size:12,className:"oui-text-inherit"})})})}),L.jsx(V$,{onOpenAutoFocus:I=>{I.preventDefault(),o("")},className:"oui-w-[var(_--radix-popover-trigger-width)] oui-p-1",children:L.jsx(G$,{className:"oui-h-[200px]",children:k.map((I,R)=>L.jsx(wyt,{option:I,size:t.size,activated:d===R,onClick:M=>{var P,j;u(M.value),g(R),(P=t.onValueChange)==null||P.call(t,M.value),(j=A.current)==null||j.blur()}},R))})})]})},wyt=t=>{let{item:e}=Jo({size:t.size});return L.jsx("button",{className:e({className:`oui-text-base-contrast-54 oui-w-full ${t.activated?"oui-bg-base-7":""}`}),onMouseDown:r=>{r.preventDefault(),t.onClick(t.option)},children:t.option.label})},Y$=Si({slots:{list:["oui-header-list","oui-flex","oui-items-center"],content:["oui-ring-offset-background","focus-visible:oui-outline-none","focus-visible:oui-ring-2","focus-visible:oui-ring-ring","focus-visible:oui-ring-offset-2"],trigger:["oui-tab-trigger","oui-inline-flex","oui-items-center","oui-justify-center","oui-whitespace-nowrap","oui-box-content","oui-font-medium","oui-text-base-contrast-36 hover:oui-text-base-contrast-54","oui-ring-offset-background","oui-transition-all","oui-space-x-1","focus-visible:oui-outline-none","focus-visible:oui-ring-2","focus-visible:oui-ring-ring","focus-visible:oui-ring-offset-2","disabled:oui-pointer-events-none","disabled:oui-opacity-50"],icon:["oui-text-inherit"]},variants:{variant:{text:{list:["oui-space-x-6","oui-border-b","oui-border-line-6","oui-px-1"],trigger:["oui-pb-2","oui-relative","data-[state=active]:oui-text-base-contrast","data-[state=active]:after:oui-content-['']","data-[state=active]:after:oui-block","data-[state=active]:after:oui-h-[3px]","data-[state=active]:after:oui-bg-white","data-[state=active]:after:oui-absolute","data-[state=active]:after:oui-rounded-full","data-[state=active]:after:-oui-bottom-0","data-[state=active]:after:oui-left-0","data-[state=active]:after:oui-right-0"]},contained:{list:["oui-space-x-[6px]"],trigger:["oui-rounded","oui-px-3","oui-bg-base-7 hover:oui-bg-base-5","oui-text-base-contrast-36","data-[state=active]:oui-bg-base-5","data-[state=active]:oui-text-base-contrast"],icon:["oui-text-inherit"]}},size:{sm:{},md:{},lg:{},xl:{}}},compoundVariants:[{size:"sm",variant:"text",className:{trigger:["oui-text-sm","oui-h-5"],icon:["oui-w-[10px]","oui-h-[10px]"]}},{size:"md",variant:"text",className:{trigger:["oui-text-base","oui-h-6"],icon:["oui-w-3","oui-h-3"]}},{size:"lg",variant:"text",className:{trigger:["oui-text-lg","oui-h-7"],icon:["oui-w-[14px]","oui-h-[14px]"]}},{size:"xl",variant:"text",className:{trigger:["oui-text-lg","oui-h-7"],icon:["oui-w-4","oui-h-4"]}},{size:"sm",variant:"contained",className:{list:["oui-space-x-1"],trigger:["oui-text-2xs","oui-h-6"],icon:["oui-w-[10px]","oui-h-[10px]"]}},{size:"md",variant:"contained",className:{trigger:["oui-text-2xs","oui-h-7"],icon:["oui-w-3","oui-h-3"]}},{size:"lg",variant:"contained",className:{trigger:["oui-text-sm","oui-h-8","oui-rounded-md"],icon:["oui-w-[14px]","oui-h-[14px]"]}},{size:"xl",variant:"contained",className:{trigger:["oui-text-base","oui-h-9","oui-rounded-md"],icon:["oui-w-4","oui-h-4"]}}],defaultVariants:{size:"md",variant:"text"}}),Syt=dft,ewe=N.forwardRef(({className:t,size:e,variant:r,...n},i)=>{let{list:s}=Y$({size:e,variant:r});return L.jsx(ibe,{ref:i,className:s({className:t}),...n})});ewe.displayName=ibe.displayName;var twe=N.forwardRef(({className:t,size:e,children:r,icon:n,variant:i,...s},o)=>{let{trigger:a,icon:u}=Y$({size:e,variant:i});return L.jsxs(sbe,{ref:o,className:a({className:t}),...s,children:[typeof n<"u"?N.cloneElement(n,{className:u(),opacity:1}):null,L.jsx("span",{children:r})]})});twe.displayName=sbe.displayName;var rwe=N.forwardRef(({className:t,size:e,...r},n)=>{let{content:i}=Y$({size:e});return L.jsx(obe,{ref:n,className:i({className:t}),...r})});rwe.displayName=obe.displayName;var _yt=t=>t||{},Z$=class nwe{constructor(){Ce(this,"extensionMap",new Map)}static getInstance(){let e=Wk();return e.__ORDERLY_EXTENSION_REGISTRY__||(e.__ORDERLY_EXTENSION_REGISTRY__=new nwe),e.__ORDERLY_EXTENSION_REGISTRY__}register(e){var r;e.builder;for(let n=0;n<e.positions.length;n++){if(typeof e.builder!="function"){let s=(r=this.extensionMap.get(e.positions[n]))==null?void 0:r.builder;e.builder=typeof s>"u"?_yt:s}let i=e.positions[n];this.registerToPosition(i,e)}}registerToPosition(e,r){var n;this.extensionMap.has(e)&&!((n=this.extensionMap.get(e))!=null&&n.__isInternal)||this.extensionMap.set(e,r)}setBuilder(e,r){let n=this.extensionMap.get(e);n&&(n.builder=r)}unregister(e){for(let r=0;r<e.positions.length;r++){let n=e.positions[r];this.unregisterFromPosition(n)}}unregisterFromPosition(e){this.extensionMap.delete(e)}getPluginsByPosition(e){return this.extensionMap.get(e)}getFormatterByPosition(e){return this.extensionMap.get(e)}},iwe=t=>e=>{Z$.getInstance().register({name:t.name,positions:t.positions,__isInternal:!!t.__isInternal,builder:t.builder,render:e})},Ayt=(t,e)=>{let r=Z$.getInstance().getPluginsByPosition(t);return()=>{var n;return((n=r==null?void 0:r.builder)==null?void 0:n.call(r,e))||e}},xyt=(t,e)=>Ayt(t,e)(),Eyt=t=>{let{position:e}=t;return L.jsxs("div",{className:"oui-text-danger",children:[L.jsx("strong",{children:`[${e}] `}),L.jsx("span",{children:"Not found!"})]})},kyt=t=>{let{position:e,scope:r,defaultWidget:n,...i}=t,s=xyt(e,i),o=N.useMemo(()=>{var a;return((a=Z$.getInstance().getPluginsByPosition(e))==null?void 0:a.render)??n??Eyt},[]);return L.jsx(pft,{fallback:L.jsx("div",{children:`Component: [${e}] went wrong`}),children:L.jsx(Gi,{...s,position:e,children:L.jsx(o,{})})})},Tyt=(t=>(t.DepositForm="depositForm",t.WithdrawForm="withdrawForm",t.AccountMenu="accountMenu",t.MainMenus="mainMenus",t.EmptyDataIdentifier="emptyDataIdentifier",t))(Tyt||{}),Iyt=t=>(N.useEffect(()=>{if(t.components&&Object.keys(t.components).length)for(let e in t.components){let r=t.components[e];iwe({name:r.displayName??`custom-component-${e}`,positions:[e],__isInternal:!1})(n=>L.jsx(r,{...n}))}},[t.components]),t.children),swe=N.createContext({}),Ryt=()=>N.useContext(swe),R_t=t=>L.jsx(swe.Provider,{value:{getComponentTheme:(e,r)=>{var n;return((n=t.overrides)==null?void 0:n[e])||r}},children:L.jsx(Iyt,{components:t.components,children:t.children})}),owe=N.createContext({}),awe=t=>{var d;let{getComponentTheme:e}=Ryt(),{classNames:r,contentVisible:n=!0,variant:i,...s}=t,o=e("tabs",i??"contained"),[a,u]=N.useState({}),f=g=>{u(y=>({...y,[g.value]:g}))};return L.jsxs(owe.Provider,{value:{registerTab:f},children:[t.children,L.jsxs(Syt,{...s,children:[L.jsxs(Bs,{justify:"between",itemAlign:"center",width:"100%",className:Et(o!=="contained"&&"oui-border-b oui-border-b-line-6"),children:[t.leading,L.jsx(ewe,{className:Et("oui-flex-1 oui-border-0",(d=t.classNames)==null?void 0:d.tabsList),variant:o,size:s.size,children:Object.keys(a).map(g=>{let y=a[g];return L.jsx(twe,{value:y.value,icon:y.icon,variant:o,size:s.size,"data-testid":y.testid,children:y.title},g)})}),t.trailing]}),n&&Object.keys(a).map(g=>{var b;let y=a[g];return L.jsx(rwe,{value:y.value,className:(b=t.classNames)==null?void 0:b.tabsContent,children:y.content},g)})]})]})};awe.displayName="Tabs";var RN=t=>{let{title:e,value:r,icon:n,testid:i}=t,{registerTab:s}=N.useContext(owe);return N.useEffect(()=>{let o={title:e,value:r,icon:n,testid:i,content:t.children};s(o)},[t.children,e,r]),null};RN.displayName="TabPanel";var Myt=Si({extend:Jo,slots:{icon:"",item:["oui-text-2xs","oui-rounded-lg","hover:oui-rounded-lg","oui-cursor-pointer"],itemSize:"",tag:"oui-bg-success/20 oui-text-success oui-px-2 oui-rounded oui-font-semibold"},variants:{size:{xs:{icon:""},sm:{icon:""},md:{icon:"oui-w-5 oui-h-5",item:"oui-px-4 oui-py-3 oui-h-6 oui-box-content",itemSize:"oui-w-6 oui-h-6"},lg:{icon:"oui-w-6 oui-h-6"},xl:{icon:"oui-w-7 oui-h-7"}}},defaultVariants:{size:"md"}}),ip={Mainnet:"Mainnet",Testnet:"Testnet"};function dY(t){return L.jsx(k6,{value:`${t.chain.id}`,className:t.itemClassName,children:L.jsxs(Bs,{itemAlign:"center",justify:"between",width:"100%",children:[L.jsxs(Bs,{gap:2,itemAlign:"center",children:[L.jsx(G6,{chainId:t.chain.id,className:t.iconClassName}),L.jsx(Ag,{size:"2xs",children:t.chain.name})]}),L.jsx(fye,{children:L.jsx(pd,{width:"6px",height:"6px",gradient:"brand",r:"full"})})]})})}var Cyt=t=>{let{item:e}=t;return L.jsx("button",{className:t.selected?"oui-border oui-border-line-12 oui-rounded-md oui-border-primary-light":"oui-border oui-border-line-12 oui-rounded-md hover:oui-border-primary-light",onClick:()=>{var r;(r=t.onClick)==null||r.call(t,e)},children:L.jsx(Bs,{justify:"between",children:L.jsx(Bs,{itemAlign:"center",width:"100%",p:2,gap:1,children:L.jsx(G6,{chainId:e.id,className:"oui-w-[18px] oui-h-[18px]"})})})})},uwe=t=>{var ae,T,c,h;let{chains:e={mainnet:[],testnet:[]},size:r,error:n,variant:i,position:s,contentProps:o,value:a,storageChains:u,...f}=t,[d,g]=N.useState(!1),y=N.useMemo(()=>[...e.mainnet,...e.testnet],[e]),{trigger:b,icon:A,content:x,item:k,itemSize:I,viewport:R,tag:M}=Myt({size:r,variant:i,error:n}),[P,j]=N.useState(t.value),[V,Z]=N.useState(ip.Mainnet);N.useEffect(()=>{t.value!==P&&j(t.value)},[t.value]);let G=p=>{var v;if(!e||!Array.isArray(y))return;let m=y.find(_=>_.id===Number(p));j(m==null?void 0:m.id),m&&((v=t.onChange)==null||v.call(t,m),g(!1))},q=p=>{Z(p)};return N.useEffect(()=>{var p,m;if(P){let v=(p=t.chains.mainnet)==null?void 0:p.some(E=>E.id===P),_=(m=t.chains.testnet)==null?void 0:m.some(E=>E.id===P);v?q(ip.Mainnet):_&&q(ip.Testnet)}},[P,t.chains]),L.jsxs(sye,{...f,value:`${P}`,onValueChange:G,children:[L.jsx(ok,{className:b(),asChild:!0,children:L.jsxs("button",{className:"oui-relative oui-px-3 oui-box-border oui-min-w-11",onClick:()=>g(!0),children:[!!P&&L.jsx(G6,{chainId:P,className:A()}),L.jsxs("svg",{width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg",className:"oui-absolute oui-right-0 oui-bottom-0",children:[L.jsx("defs",{children:L.jsxs("linearGradient",{id:"paint0_linear_490_5080",x1:"10",y1:"5",x2:"-5.79673e-08",y2:"5",gradientUnits:"userSpaceOnUse",children:[L.jsx("stop",{stopColor:"rgb(var(--oui-gradient-brand-end))"}),L.jsx("stop",{offset:"1",stopColor:"rgb(var(--oui-gradient-brand-start))"})]})}),L.jsx("path",{d:"M10 7V0L0 10H7C8.65685 10 10 8.65685 10 7Z",fill:"url(#paint0_linear_490_5080)"})]})]})}),L.jsx(aye,{children:L.jsx(JF,{position:"popper",className:x({className:"oui-bg-base-9 oui-w-[456px]"}),align:"end",sideOffset:12,onCloseAutoFocus:p=>{p.preventDefault()},...o,children:L.jsx(uye,{className:R(),children:L.jsxs(awe,{value:V,variant:"contained",size:"sm",classNames:{tabsList:"oui-my-3 lg:oui-pl-4 sm:oui-pl-0"},onValueChange:p=>q(p),children:[L.jsxs(RN,{value:ip.Mainnet,title:ip.Mainnet,children:[(ae=t.storageChains)!=null&&ae.length?L.jsx(Bs,{gap:2,className:"oui-text-center oui-mb-3 lg:oui-pl-4 sm:oui-pl-0",children:(T=t.storageChains)==null?void 0:T.map(p=>L.jsx(Cyt,{item:p,selected:P===p.id,onClick:m=>G(m.id)},p.id))}):L.jsx(Bs,{className:"oui-mt-2"}),L.jsx("div",{className:"oui-grid oui-grid-cols-1 lg:oui-grid-cols-3 oui-pl-4 oui-pr-4 oui-pb-3.5 oui-gap-1",children:(c=t.chains.mainnet)==null?void 0:c.map((p,m)=>L.jsx(dY,{chain:p,itemClassName:k({className:"oui-rounded-md hover:oui-rounded-md"}),iconClassName:I()},p.id))})]}),L.jsx(RN,{value:ip.Testnet,title:ip.Testnet,children:L.jsx("div",{className:"oui-grid oui-grid-cols-1 lg:oui-grid-cols-2 oui-pl-4 oui-pr-4 oui-pb-3.5 oui-gap-1",children:(h=t.chains.testnet)==null?void 0:h.map((p,m)=>L.jsx(dY,{chain:p,itemClassName:k({className:"oui-rounded-md hover:oui-rounded-md"}),iconClassName:I()},p.id))})})]})})})})]})};uwe.displayName="ChainSelect";var cwe=t=>{let{children:e,size:r,error:n,placeholder:i,variant:s,contentProps:o,valueFormatter:a,showCaret:u,maxHeight:f,testid:d,classNames:g,...y}=t;return L.jsxs(hyt,{...y,children:[L.jsx(Gve,{size:r,error:n,variant:s,showCaret:u,className:Et("oui-font-semibold focus:oui-ring-transparent oui-cursor-pointer",g==null?void 0:g.trigger),"data-testid":d,children:typeof a=="function"?a(t.value||t.defaultValue,{placeholder:i}):L.jsx(gyt,{placeholder:i})}),L.jsx(Yve,{...o,children:L.jsx(G$,{children:L.jsxs("div",{style:{maxHeight:f},children:[" ",e]})})})]})},Pyt=(t,e)=>L.jsxs(Zve,{value:t.value,className:Et("oui-relative oui-cursor-pointer"),"data-testid":`oui-testid-selectItem-${t.value.toLowerCase().replace(" ","_")}`,children:[t.label,e==t.value&&L.jsx(pd,{width:4,height:4,gradient:"brand",r:"full",className:"oui-absolute oui-right-2 oui-top-1/2 -oui-translate-y-1/2"})]},t.value),X$=t=>{let{children:e,options:r,optionRenderer:n=Pyt,currentValue:i,...s}=t;return L.jsx(cwe,{...s,children:L.jsx(pyt,{children:r.map((o,a)=>gt.cloneElement(n(o,i),{size:t.size,key:a,index:a}))})})},Nyt=t=>{let{tokens:e,showIcon:r=!0,...n}=t,{icon:i}=Jo(),s=N.useMemo(()=>e.map(a=>({...a,label:a.name,value:a.name})),[e]),o=s.length>1;return L.jsx(X$,{...n,showCaret:o,options:s,valueFormatter:r?a=>typeof t.valueFormatter=="function"?t.valueFormatter(a,{}):L.jsxs(Bs,{gapX:1,children:[L.jsx(V6,{name:a,className:i({size:t.size})}),L.jsx(Ag,{weight:"semibold",intensity:54,children:a})]}):void 0,optionRenderer:a=>typeof t.optionRenderer=="function"?t.optionRenderer(a):L.jsx(Byt,{...a}),maxHeight:254})},Byt=t=>{let{size:e,label:r,value:n}=t,{item:i,icon:s}=Jo();return L.jsxs(k6,{value:n,className:i({size:e,className:"oui-space-x-1 oui-flex oui-flex-row oui-items-center"}),children:[L.jsx(V6,{name:n,className:s({size:e})}),L.jsx(XF,{children:r}),L.jsx(fye,{})]})},X1=cwe;X1.options=X$;X1.chains=uwe;X1.combine=Qve;X1.tokens=Nyt;var lwe=N.forwardRef((t,e)=>{let{tokens:r,...n}=t,[i,s]=N.useState(r[0]),o=N.useMemo(()=>t.tokens.map(u=>({name:u})),[t.tokens]),a=N.useRef(null);return L.jsx(lA,{ref:u=>{a.current=u,e&&(typeof e=="function"?e(u):e.current=u)},autoComplete:"off",...n,suffix:L.jsx("div",{className:"oui-max-w-fit",children:L.jsx(X1.tokens,{disabled:n.disabled,variant:"text",tokens:o,value:i,size:n.size,onValueChange:u=>s(u),showIcon:n.align!=="right",contentProps:{align:"end",onCloseAutoFocus:u=>{var f;u.preventDefault(),(f=a.current)==null||f.focus()}}})})})});lwe.displayName="QuantityInput";var M_t=Mft,Oyt=mbe,Lyt=ybe,fwe=Cft,Dyt=Si({base:["oui-z-50","oui-overflow-hidden","oui-rounded-md","oui-bg-base-8","oui-px-2","oui-py-1","oui-text-xs","oui-text-base-contrast","oui-animate-in","oui-fade-in-0","oui-zoom-in-95","data-[state=closed]:oui-animate-out","data-[state=closed]:oui-fade-out-0","data-[state=closed]:oui-zoom-out-95","data-[side=bottom]:oui-slide-in-from-top-2","data-[side=left]:oui-slide-in-from-right-2","data-[side=right]:oui-slide-in-from-left-2","data-[side=top]:oui-slide-in-from-bottom-2"]}),J$=N.forwardRef(({className:t,sideOffset:e=4,...r},n)=>L.jsx(bbe,{ref:n,sideOffset:e,className:Dyt({className:t}),...r}));J$.displayName=bbe.displayName;var dwe=t=>{let{className:e,...r}=t;return L.jsx(Pft,{width:12,height:6,...r,className:Tm("oui-fill-base-8",e)({twMerge:!0})})},Fyt=N.forwardRef(({children:t,content:e,defaultOpen:r,open:n,onOpenChange:i,delayDuration:s,disableHoverableContent:o,arrow:a,...u},f)=>L.jsxs(mbe,{defaultOpen:r,open:n,onOpenChange:i,delayDuration:s,disableHoverableContent:o,children:[L.jsx(ybe,{asChild:!0,children:t}),L.jsx(fwe,{children:L.jsxs(J$,{ref:f,...u,children:[e,L.jsx(dwe,{...a})]})})]}));Fyt.displayName="Tooltip";var hwe=N.forwardRef((t,e)=>{let{tooltip:r,tooltipProps:n,triggerClassName:i,...s}=t,[o,a]=N.useState(!1);return N.useEffect(()=>{a(typeof r<"u"&&r!==""&&r!==null)},[r]),L.jsxs(Oyt,{open:o,children:[L.jsx(Lyt,{asChild:!0,children:L.jsx("div",{className:i,children:L.jsx(lA,{...s,ref:e})})}),L.jsx(fwe,{children:L.jsxs(J$,{...n==null?void 0:n.content,children:[t.tooltip,L.jsx(dwe,{...n==null?void 0:n.arrow})]})})]})});hwe.displayName="InputWithTooltip";var $yt={};F$($yt,{createRegexInputFormatter:()=>Wyt,currencyFormatter:()=>Uyt,decimalPointFormatter:()=>Vyt,dpFormatter:()=>jyt,identifierFormatter:()=>qyt,numberFormatter:()=>zyt,rangeFormatter:()=>Hyt});var Uyt={onRenderBefore:function(t,e){return t==null?"":gb(t)},onSendBefore:function(t,e){return t==null?"":(t=t.replace(/,/g,""),t)}},zyt={onRenderBefore:function(t,e){return""+t},onSendBefore:function(t,e){return t.startsWith(".")?`0${t}`:t==="00"?"0":(t=t.replace(/[^\d.]/g,"").replace(".","$#$").replace(/\./g,"").replace("$#$","."),t)}},Wyt=(t,e)=>({onRenderBefore:(r,n)=>`${r}`.replace(t,""),onSendBefore:(r,n)=>(e==null?void 0:e(r,n))||r}),jyt=(t,e)=>{let r=(n,i)=>(typeof n=="number"&&(n=n.toString()),!n||n.endsWith(".")?n:Kyt(n,t));return{onRenderBefore:r,onSendBefore:r}};function Kyt(t,e){let r=t.indexOf(".");if(r===-1||e<=0)return t.split(".")[0];let n=r+e+1;return t.substring(0,n)}var Hyt=t=>{let e=(r,n)=>{if(typeof r=="number"&&(r=r.toString()),!r||r.endsWith("."))return r;let i=t.max??Number(r),s=t.min??Number(r),o=Number(r);return`${o<s?s:o>i?i:o}`};return{onRenderBefore:e,onSendBefore:e}},qyt=()=>{let t="+",e="-";return{onRenderBefore:(r,n)=>{if(typeof r=="number"&&(r=r.toString()),!r||r.endsWith("."))return r;let i=Number(r);if(i){if(i>0&&!r.startsWith(t))return t+r;if(i<0&&!r.startsWith(e))return e+r}return r},onSendBefore:(r,n)=>{if(typeof r=="number"&&(r=r.toString()),!r||r.endsWith("."))return r;let i=Number(r);return i&&i>0?r.replace(t,""):r}}},Vyt={onRenderBefore:function(t,e){return String(t)},onSendBefore:function(t,e){return t==null?"":Gyt(t,e==null?void 0:e.originValue)}},Gyt=(t,e)=>{if(t==null)return"";if(t.endsWith(","))return t.slice(0,-1)+".";if(t.startsWith(","))return t.slice(0,1)+".";let r=gb(e);return e&&t.length>r.length&&t.length-r.length===1?Yyt(t,r):t},Yyt=(t,e)=>{if(t.length<=e.length)return t;for(let r=0;r<e.length;r++)if(t[r]!==e[r]){let n=t[r],i=n===","?".":n;return t.slice(0,r)+i+t.slice(r+1)}return t},Zyt=pc({base:["oui-text-xs","oui-text-base-contrast-36","oui-mt-1","oui-list-disc","oui-list-inside","oui-list-item"],variants:{color:{success:["oui-text-success"],danger:["oui-text-danger"],warning:["oui-text-warning-darken"],default:["oui-text-base-contrast-54"]}}}),pwe=gt.forwardRef((t,e)=>{let{className:r,asChild:n,color:i,...s}=t;return L.jsx(n?Gi:"div",{ref:e,className:Zyt({className:r,color:i}),...s})});pwe.displayName="InputHelpText";var Xyt=Si({slots:{root:"oui-flex",label:"oui-text-sm oui-font-semibold",input:[]},variants:{direction:{column:{root:"oui-flex-col oui-space-y-1"},row:{root:"oui-flex-row oui-space-x-3 "}}},defaultVariants:{direction:"column"}}),Jyt=gt.forwardRef((t,e)=>{var f;let{label:r,helpText:n,direction:i,className:s,...o}=t,{root:a,label:u}=Xyt({direction:i});return L.jsxs("div",{className:a({className:s,direction:i}),children:[L.jsx(gwe,{className:Et((f=t.classNames)==null?void 0:f.label)||u(),children:r}),L.jsxs("div",{children:[L.jsx(lA,{...o}),((n==null?void 0:n.length)||!1)&&L.jsx(pwe,{color:o.color,children:n})]})]})});Jyt.displayName="TextField";var gwe=gt.forwardRef((t,e)=>{let{asChild:r=!1,className:n,...i}=t;return L.jsx(r?Gi:"label",{className:n,ref:e,...i,children:t.children})});gwe.displayName="InputLabel";var Q$=lA;Q$.token=lwe;Q$.tooltip=hwe;var Qyt=pc({base:["peer","oui-h-3","oui-w-3","oui-shrink-0","oui-rounded-sm","oui-border","focus-visible:oui-outline-none","disabled:oui-cursor-not-allowed","disabled:oui-opacity-50"],variants:{color:{primary:"oui-border-primary data-[state=checked]:oui-text-base-contrast",white:"oui-border-base-contrast-54 "},variant:{checkBox:"data-[state=checked]:oui-border-none",radio:"oui-rounded-full data-[state=checked]:oui-border-base-contrast-20 data-[state=checked]:oui-bg-transparent"}},compoundVariants:[{color:"primary",variant:"radio",className:"data-[state=checked]:oui-border-parimary data-[state=checked]:!oui-text-parimary"}],defaultVariants:{color:"white"}}),ebt=N.forwardRef(({className:t,color:e="white",variant:r="checkBox",...n},i)=>L.jsx(Abe,{ref:i,className:Qyt({color:e,className:t,variant:r}),...n,children:L.jsx(Dft,{className:Et("oui-flex oui-items-center oui-justify-center oui-text-current",n.indicatorClassName),children:r==="checkBox"?L.jsx(tbt,{className:Et(e==="primary"?"oui-text-primary":"oui-text-white")}):L.jsx("div",{className:Et("oui-w-[6px] oui-h-[6px] oui-rounded-full",e==="primary"?"oui-bg-primary":"oui-bg-base-contrast-80")})})}));ebt.displayName=Abe.displayName;var tbt=t=>L.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...t,children:L.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.078.71A2.333 2.333 0 0 0 .745 3.041v5.834a2.333 2.333 0 0 0 2.333 2.333H8.91a2.333 2.333 0 0 0 2.334-2.333V3.042A2.333 2.333 0 0 0 8.91.71zm5.83 2.555a.7.7 0 0 1 .488-.182c.174 0 .355.056.488.182a.643.643 0 0 1 0 .93L5.129 8.728a.723.723 0 0 1-.975 0L2.115 6.785a.644.644 0 0 1 0-.93.724.724 0 0 1 .977 0l1.55 1.476z",fillOpacity:".8"})}),rbt=pc({slots:{root:["peer","oui-inline-flex","oui-h-[16px]","oui-w-[28px]","oui-shrink-0","oui-cursor-pointer","oui-items-center","oui-rounded-full","oui-border-transparent","oui-shadow-sm","oui-transition-colors","focus-visible:oui-outline-none","focus-visible:oui-ring-2","focus-visible:oui-ring-ring","focus-visible:oui-ring-offset-2","focus-visible:oui-ring-offset-background","disabled:oui-cursor-not-allowed","disabled:oui-opacity-50","data-[state=checked]:oui-bg-primary-darken","data-[state=unchecked]:oui-bg-input"],thumb:["oui-pointer-events-none","oui-block","oui-h-[10px]","oui-w-[10px]","oui-rounded-full","oui-bg-white/80","oui-shadow-lg","oui-ring-0","oui-transition-transform","data-[state=checked]:oui-translate-x-[15px]","data-[state=unchecked]:oui-translate-x-[3px]"]},variants:{color:{primary:{root:["data-[state=checked]:oui-bg-primary-darken","data-[state=unchecked]:oui-bg-base-1"]},success:{root:["data-[state=checked]:oui-bg-success","data-[state=unchecked]:oui-bg-success"]},danger:{root:["data-[state=checked]:oui-bg-danger","data-[state=unchecked]:oui-bg-danger"]},warning:{root:["data-[state=checked]:oui-bg-warning-darken","data-[state=unchecked]:oui-bg-warning-darken"]}}},defaultVariants:{color:"primary"}}),nbt=gt.forwardRef(({className:t,color:e,...r},n)=>{let{root:i,thumb:s}=rbt({className:t,color:e});return L.jsx(Ibe,{className:i({className:t}),...r,ref:n,children:L.jsx(Wft,{className:s()})})});nbt.displayName=Ibe.displayName;var ibt=Si({base:"oui-inline-flex oui-items-center oui-rounded-md oui-font-semibold oui-transition-colors focus:oui-outline-none focus:oui-ring-2 focus:oui-ring-ring focus:oui-ring-offset-2",variants:{variant:{contained:"",text:""},color:{primary:"",primaryLight:"",secondary:"",danger:"",buy:"",success:"",warning:"",sell:"",neutral:""},size:{xs:"oui-px-2 oui-py-0.5 oui-text-2xs oui-rounded oui-h-[18px]",sm:"oui-px-2 oui-py-0.5 oui-text-2xs oui-rounded",md:"oui-px-2 oui-py-0.5 oui-text-sm",lg:"oui-px-2 oui-py-1 oui-text-base"}},compoundVariants:[{variant:"contained",color:"primary",className:["oui-bg-primary/15","oui-text-primary"]},{variant:"contained",color:"primaryLight",className:["oui-bg-primary-light/15","oui-text-primary-light"]},{variant:"contained",color:"danger",className:["oui-bg-danger/15","oui-text-danger"]},{variant:"contained",color:"sell",className:["oui-bg-danger/15","oui-text-danger"]},{variant:"contained",color:"success",className:["oui-bg-success/15","oui-text-success"]},{variant:"contained",color:"buy",className:["oui-bg-success/15","oui-text-success"]},{variant:"contained",color:"warning",className:["oui-bg-warning-darken/15","oui-text-warning-darken"]},{variant:"contained",color:"neutral",className:["oui-bg-line","oui-text-base-contrast-36"]},{variant:"text",color:"primary",className:["oui-text-primary"]},{variant:"text",color:"danger",className:["oui-text-danger"]},{variant:"text",color:"success",className:["oui-text-success"]},{variant:"text",color:"warning",className:["oui-text-warning-darken"]},{variant:"text",color:"neutral",className:["oui-text-base-contrast-36"]}],defaultVariants:{variant:"contained",color:"primary",size:"md"}});function C_t({className:t,variant:e,color:r,size:n,...i}){return L.jsx("div",{className:ibt({variant:e,className:t,color:r,size:n}),...i})}var sbt=gt.forwardRef(({src:t,alt:e,href:r},n)=>L.jsx("div",{className:"logo oui-px-3",ref:n,children:L.jsx("a",{href:r??"/",children:L.jsx("img",{src:t,alt:e,className:"oui-object-contain oui-h-8 oui-py-2"})})}));sbt.displayName="LogoElement";var z8={columns:t=>{let e=jft();return t==null?void 0:t.map((r,n)=>{let i={meta:r,size:r.width||100},{dataIndex:s,onSort:o}=r;return e.accessor(s,{header:()=>r.title,enableSorting:!!o,sortingFn:typeof o=="function"?(a,u,f)=>o==null?void 0:o(a.original,u.original):"alphanumeric",...i})})},columnPinning:t=>{let e=[],r=[];return t==null||t.map(n=>{n.fixed==="left"?e.push(n.dataIndex):n.fixed==="right"&&r.push(n.dataIndex)}),{left:e,right:r}},pagination:t=>{let e={},r={};return t&&(e={pagination:{pageIndex:t.page-1,pageSize:t.pageSize}},r={getPaginationRowModel:Bdt()}),{state:e,config:r}}};function obt(t){let e=N.useRef(null);return N.useEffect(()=>{if(!e.current)return;let r=window.getComputedStyle(e.current).backgroundColor;e.current.style.setProperty("--oui-table-background-color",r)},t),e}var mwe=({className:t,...e})=>L.jsx("nav",{role:"navigation","aria-label":"pagination",className:Et("oui-flex oui-justify-between oui-items-center oui-w-full oui-text-xs",t),...e});mwe.displayName="Pagination";var ywe=N.forwardRef(({className:t,...e},r)=>L.jsx("ul",{ref:r,className:Et("oui-flex oui-flex-row oui-items-center oui-gap-x-2",t),...e}));ywe.displayName="PaginationContent";var xx=N.forwardRef(({className:t,...e},r)=>L.jsx("li",{ref:r,className:Et("oui-leading-[0px]",t),...e}));xx.displayName="PaginationItem";var Y6=({className:t,isActive:e,...r})=>L.jsx("button",{"aria-current":e?"page":void 0,"data-active":e,className:Cve({size:"xs",variant:e?"contained":"text",className:"oui-min-w-6 oui-text-base-contrast-80 oui-font-semibold data-[active=false]:hover:oui-bg-base-6 disabled:oui-bg-transparent disabled:hover:oui-bg-transparent"}),...r});Y6.displayName="PaginationLink";var bwe=({className:t,...e})=>L.jsx(Y6,{"aria-label":"Go to previous page",className:Et("oui-gap-1 oui-pl-2.5",t),...e,children:L.jsx(W$,{className:"oui-h-4 oui-w-4",color:"white"})});bwe.displayName="PaginationPrevious";var vwe=({className:t,...e})=>L.jsx(Y6,{"aria-label":"Go to next page",className:Et("oui-gap-1 oui-pr-2.5",t),...e,children:L.jsx(j$,{className:"oui-h-4 oui-w-4",color:"white"})});vwe.displayName="PaginationNext";var abt=t=>{let{classNames:e,className:r,pageTotal:n,page:i}=t;return L.jsxs(mwe,{className:Et(e==null?void 0:e.pagination,r),children:[L.jsxs(Bs,{mr:4,children:[L.jsx(Y1,{as:"div",size:"2xs",intensity:54,className:"oui-text-nowrap oui-mr-2",children:"Rows per page"}),L.jsx("div",{className:"oui-w-14",children:L.jsx(X1.options,{options:[{value:"10",label:"10"},{value:"20",label:"20"},{value:"50",label:"50"},{value:"100",label:"100"}],value:`${t.pageSize??5}`,size:"xs",onValueChange:s=>{var o;return(o=t.onPageSizeChange)==null?void 0:o.call(t,parseInt(s))}})})]}),L.jsx(cbt,{...t})]})};function ubt(t,e){let r=[],n="...";if(e<=5)for(let i=1;i<=e;i++)r.push(i);else t<=3?r.push(1,2,3,4,n,e):t>=e-2?r.push(1,n,e-3,e-2,e-1,e):r.push(1,n,t-1,t,t+1,n,e);return r}var cbt=t=>{let{classNames:e,className:r,pageTotal:n,page:i}=t;if(n<=1)return null;let s=N.useMemo(()=>ubt(i,n),[i,n]);return L.jsxs(ywe,{children:[L.jsx(xx,{children:L.jsx(bwe,{disabled:t.page===1,onClick:o=>{var a;o.preventDefault(),(a=t.onPageChange)==null||a.call(t,t.page-1)}})}),s.map((o,a)=>L.jsx(xx,{children:L.jsx(Y6,{isActive:o===t.page,onClick:u=>{var f,d;u.preventDefault(),o!=="..."?(f=t.onPageChange)==null||f.call(t,Number(o)):(d=t.onPageChange)==null||d.call(t,Number(s[a+1]-1))},children:o})},a)),L.jsx(xx,{children:L.jsx(vwe,{disabled:t.page===t.pageTotal,onClick:o=>{var a;o.preventDefault(),(a=t.onPageChange)==null||a.call(t,t.page+1)}})})]})},lbt=t=>t.pageTotal===0?null:L.jsx(Bs,{justify:"end",py:2,mx:3,className:"oui-h-10 oui-w-full",children:L.jsx(abt,{...t,className:"oui-table-pagination oui-justify-between oui-w-full"})});function wwe(t,e){let r=t.getIsPinned(),n=r==="left"&&t.getIsLastColumn("left"),i=r==="right"&&t.getIsFirstColumn("right"),s={left:r==="left"?`${t.getStart("left")}px`:void 0,right:r==="right"?`${t.getAfter("right")}px`:void 0,width:t.getSize()},o=Et(r?"oui-sticky":"oui-relative",r?"oui-z-[1]":"oui-z-0",r&&"oui-bg-[var(--oui-table-background-color)]"),a=Et("before:oui-block before:oui-absolute","before:oui-w-[32px] before:oui-h-full","before:oui-top-0 before:oui-z-[-1]","before:oui-bg-[linear-gradient(90deg,rgba(var(--oui-color-base-10)_/_0.80)_0%,rgba(var(--oui-color-base-10)_/_0.36)_65%,rgba(var(--oui-color-base-10)_/_0.00)_100%)]"),u=n&&Et(a,"before:oui-right-[-32px]"),f=i&&Et(a,"before:oui-left-[-32px] before:oui-rotate-180");return{style:s,classNames:{content:o,leftShadow:u,rightShadow:f}}}var eU=t=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",children:t.children}),fbt=()=>L.jsx(eU,{children:L.jsx("path",{d:"M5 1.042a.47.47 0 0 0-.338.135L2.166 3.844c-.206.22-.005.531.338.531h4.992c.342 0 .543-.311.337-.531L5.338 1.177A.47.47 0 0 0 5 1.042m0 7.916a.47.47 0 0 1-.338-.135L2.166 6.156c-.206-.22-.005-.531.338-.531h4.992c.342 0 .543.311.337.531L5.338 8.823A.47.47 0 0 1 5 8.958",fill:"#fff",fillOpacity:".2"})}),dbt=()=>L.jsxs(eU,{children:[L.jsx("path",{d:"M5 1.042a.47.47 0 0 0-.338.135L2.166 3.844c-.206.22-.005.531.338.531h4.992c.342 0 .543-.311.337-.531L5.338 1.177A.47.47 0 0 0 5 1.042",fill:"#fff",fillOpacity:".8"}),L.jsx("path",{d:"M5 8.958a.47.47 0 0 1-.338-.135L2.166 6.156c-.206-.22-.005-.531.338-.531h4.992c.342 0 .543.311.337.531L5.338 8.823A.47.47 0 0 1 5 8.958",fill:"#fff",fillOpacity:".2"})]}),hbt=()=>L.jsxs(eU,{children:[L.jsx("path",{d:"M5 1.042a.47.47 0 0 0-.338.135L2.166 3.844c-.206.22-.005.531.338.531h4.992c.342 0 .543-.311.337-.531L5.338 1.177A.47.47 0 0 0 5 1.042",fill:"#fff",fillOpacity:".2"}),L.jsx("path",{d:"M5 8.958a.47.47 0 0 1-.338-.135L2.166 6.156c-.206-.22-.005-.531.338-.531h4.992c.342 0 .543.311.337.531L5.338 8.823A.47.47 0 0 1 5 8.958",fill:"#fff",fillOpacity:".8"})]}),Swe=pc({variants:{align:{left:"oui-text-left",center:"oui-text-center",right:"oui-text-right"}},defaultVariants:{align:"left"}}),pbt=t=>L.jsx("thead",{className:Et("oui-table-thead","oui-sticky oui-top-0 oui-z-[2]","oui-bg-[var(--oui-table-background-color)]","oui-text-base-contrast-36"),children:t.headerGroups.map(e=>L.jsx("tr",{className:Et("oui-table-thead-tr","oui-h-10",t.className),children:e.headers.map(r=>{let n=r.column,{align:i,className:s,title:o}=n.columnDef.meta||{},{style:a,classNames:u}=wwe(n),f=n.getCanSort(),d=n.getIsSorted();return L.jsx("th",{style:a,className:Et("oui-table-thead-th","oui-whitespace-nowrap","oui-px-3",t.bordered&&"after:oui-block after:oui-absolute after:oui-w-full after:oui-h-full after:oui-top-0 after:oui-left-0 after:oui-z-[-1] after:oui-border-b after:oui-border-line",Swe({align:i}),s,u.content,t.showLeftShadow&&u.leftShadow,t.showRightShadow&&u.rightShadow),children:r.isPlaceholder?null:L.jsxs("div",{className:Et("oui-inline-flex oui-items-center oui-gap-x-1",f&&"oui-cursor-pointer oui-select-none hover:oui-text-base-contrast-80"),onClick:n.getToggleSortingHandler(),children:[o,f&&L.jsx(gbt,{isSorted:d})]})},r.id)})},e.id))}),gbt=({isSorted:t})=>({asc:L.jsx(dbt,{}),desc:L.jsx(hbt,{})})[t]||L.jsx(fbt,{}),mbt=t=>{let{cell:e}=t,{original:r,index:n}=e.row,{formatter:i,render:s,rule:o,textProps:a,numeralProps:u}=e.column.columnDef.meta||{},f=e.getValue();if(typeof i=="function"&&(f=i(f,r,n)),typeof s=="function")return s(f,r,n);if(typeof o<"u"){if(nyt(o)){let d=typeof a=="function"?a(f,r,n):a;return L.jsx(q$,{rule:o,...d,children:f})}if(wmt(o)){let d=typeof u=="function"?u(f,r,n):u;return L.jsx(z$,{rule:o,...d,children:f})}}return Ldt(e.column.columnDef.cell,e.getContext())},ybt=t=>L.jsx("tbody",{className:Et("oui-table-tbody oui-relative","oui-text-base-contrast-80",t.className),"data-testid":t.testId,children:t.rows.map(e=>{var o;let{className:r,onClick:n,...i}=typeof t.onRow=="function"?t.onRow(e.original,e.index):{},s=L.jsxs(N.Fragment,{children:[L.jsx("tr",{className:Et("oui-table-tbody-tr oui-group oui-h-10",typeof n=="function"&&"oui-cursor-pointer",t.bordered&&"oui-border-b oui-border-b-line-4",r),onClick:a=>{e.getCanExpand()&&e.getToggleExpandedHandler(),n==null||n()},...i,children:e.getVisibleCells().map(a=>{let u=a.column,{style:f,classNames:d}=wwe(u),{align:g,className:y}=u.columnDef.meta||{};return L.jsxs("td",{style:f,className:Et("oui-table-tbody-td oui-relative","oui-px-3",Swe({align:g}),y,d.content,t.showLeftShadow&&d.leftShadow,t.showRightShadow&&d.rightShadow),children:[L.jsx(mbt,{cell:a}),L.jsx(bbt,{selected:e.getIsSelected(),isFirst:u.getIsFirstColumn(),isLast:u.getIsLastColumn()})]},a.id)})},e.id),e.getIsExpanded()&&L.jsx("tr",{className:"oui-z-0",children:L.jsx("td",{colSpan:e.getVisibleCells().length,children:(o=t.expandRowRender)==null?void 0:o.call(t,e,e.index)})})]},e.id);return typeof t.renderRowContainer=="function"?L.jsx(N.Fragment,{children:t.renderRowContainer(e.original,e.index,s)},e.id):s})}),bbt=({selected:t,isFirst:e,isLast:r})=>L.jsx("div",{className:Et("oui-absolute oui-top-0 oui-left-0 oui-z-[-1]","oui-w-full oui-h-full","group-hover:oui-bg-line-4",t&&"oui-bg-line-6 group-hover:oui-bg-line-6",e&&"oui-rounded-l",r&&"oui-rounded-r")});function vbt(t){let{dataSource:e,loading:r,ignoreLoadingCheck:n}=t,[i,s]=N.useState(!1);return N.useEffect(()=>{i||(n||r||Array.isArray(e))&&s(!0)},[r,n,e,i]),i}var wbt=t=>{let{visible:e,loading:r,emptyView:n}=t;return e?L.jsx(pd,{position:"absolute",left:0,top:0,right:0,bottom:0,className:"oui-flex oui-justify-center oui-items-center",children:r?L.jsx($$,{}):n||L.jsx(kyt,{position:"emptyDataIdentifier"})}):null};function Sbt(t){let{onSort:e,initialSort:r}=t,[n,i]=N.useState(r?[{id:r.sortKey,desc:r.sort==="desc"}]:[]);return N.useEffect(()=>{let{id:s,desc:o}=n[0]||{};e==null||e(s?{sortKey:s,sort:o?"desc":"asc"}:void 0)},[n,e]),[n,i]}function _bt(t){let{dataSource:e,loading:r}=t,n=N.useRef(!1),i=N.useMemo(()=>r&&!(e!=null&&e.length)?n.current:!!(e!=null&&e.length),[r,e]);return N.useEffect(()=>{i&&(n.current=!0)},[i]),i}function Abt(t){let{loading:e,dataSource:r,pagination:n,rows:i}=t,s=N.useRef(!1),o=N.useMemo(()=>e&&!(r!=null&&r.length)?s.current:!!(n&&(r!=null&&r.length)&&(i!=null&&i.length)),[e,n,r,i]);return N.useEffect(()=>{o&&(s.current=!0)},[o]),o}function xbt(t){let e=N.useRef(null),[r,n]=N.useState(!1),[i,s]=N.useState(!1);return N.useEffect(()=>{e.current&&e.current.addEventListener("scroll",function(o){n(e.current.scrollLeft>0),s(!hY(e.current))})},[e]),N.useEffect(()=>{if(!e.current)return;let o=Ebt(e.current),a=hY(e.current);s(o&&!a)},[e,...t]),{scrollRef:e,showLeftShadow:r,showRightShadow:i}}function hY(t){return t.scrollLeft+t.clientWidth>=t.scrollWidth}function Ebt(t){return t.scrollWidth>t.clientWidth}function P_t(t){var v;let{columns:e,className:r,classNames:n,pagination:i,getRowCanExpand:s,manualPagination:o,loading:a,ignoreLoadingCheck:u,emptyView:f,initialSort:d,manualSorting:g,onSort:y}=t,b=N.useMemo(()=>t.dataSource?t.dataSource:[],[t.dataSource]),A=N.useMemo(()=>z8.columns(e),[e]),x=N.useMemo(()=>z8.columnPinning(e),[e]),k=N.useMemo(()=>t.rowSelection||{},[t.rowSelection]),{state:I,config:R}=N.useMemo(()=>z8.pagination(i),[i]),[M,P]=Sbt({onSort:y,initialSort:d}),j=vbt({dataSource:b,loading:a,ignoreLoadingCheck:u}),V=N.useMemo(()=>Array.isArray(t.columnFilters)?t.columnFilters:t.columnFilters?[t.columnFilters]:[],[t.columnFilters]),Z=Udt({_features:t.features,data:b,columns:A,state:{columnPinning:x,columnFilters:V,rowSelection:k,sorting:M,...I},onSortingChange:P,getRowId:t.generatedRowKey,getCoreRowModel:Idt(),getExpandedRowModel:Rdt(),getRowCanExpand:s,getSortedRowModel:Odt(),getFilteredRowModel:Ndt(),manualSorting:g,manualPagination:o,enableMultiRowSelection:!1,...R});N.useEffect(()=>{var _;(_=t.getTableInstance)==null||_.call(t,Z)},[Z]);let G=obt([r,n==null?void 0:n.root]),{scrollRef:q,showLeftShadow:ae,showRightShadow:T}=xbt([b==null?void 0:b.length]),c=Z.getRowModel().rows,h=j&&(c.length===0||a),p=_bt({loading:a,dataSource:b}),m=Abt({loading:a,dataSource:b,rows:c,pagination:i});return L.jsxs("div",{ref:G,id:t.id,className:Et("oui-table-root oui-w-full oui-h-full","oui-bg-base-9",r,n==null?void 0:n.root),children:[L.jsxs("div",{ref:q,className:Et("oui-table-scroll oui-relative","oui-w-full oui-min-h-[162px]","oui-text-xs oui-font-semibold","oui-overflow-auto oui-custom-scrollbar",m?"oui-h-[calc(100%_-_40px)]":"oui-h-full",n==null?void 0:n.scroll),children:[L.jsxs("table",{className:Et("oui-w-full","oui-table-fixed oui-border-collapse"),children:[p&&L.jsx(pbt,{className:n==null?void 0:n.header,headerGroups:Z.getHeaderGroups(),bordered:t.bordered,showLeftShadow:ae,showRightShadow:T}),L.jsx(ybt,{className:n==null?void 0:n.body,rows:c,bordered:t.bordered,renderRowContainer:t.renderRowContainer,expandRowRender:t.expandRowRender,onRow:t.onRow,showLeftShadow:ae,showRightShadow:T,testId:(v=t.testIds)==null?void 0:v.body})]}),L.jsx(wbt,{visible:h,loading:a,emptyView:f})]}),m&&L.jsx(lbt,{className:n==null?void 0:n.pagination,count:(i==null?void 0:i.count)||(c==null?void 0:c.length),pageTotal:(i==null?void 0:i.pageTotal)||Z.getPageCount(),page:i==null?void 0:i.page,pageSize:i==null?void 0:i.pageSize,onPageChange:i==null?void 0:i.onPageChange,onPageSizeChange:i==null?void 0:i.onPageSizeChange})]})}function tU({className:t,classNames:e,showOutsideDays:r=!0,...n}){return L.jsx(bpt,{showOutsideDays:r,className:Et("oui-p-3 oui-bg-base-7 oui-rounded",t),classNames:{months:"oui-flex oui-flex-col sm:oui-flex-row oui-space-y-4 sm:oui-space-x-4 sm:oui-space-y-0",month:"oui-space-y-4",caption:"oui-flex oui-justify-center oui-pt-1 oui-relative oui-items-center",caption_label:"oui-text-sm oui-font-medium ",nav:"oui-space-x-1 oui-flex oui-items-center",nav_button:Et("oui-h-7 oui-w-7 oui-bg-transparent oui-p-0 oui-opacity-50 hover:oui-opacity-100"),nav_button_previous:"oui-absolute oui-left-1",nav_button_next:"oui-absolute oui-right-1",table:"oui-w-full oui-border-collapse oui-space-y-1",head_row:"oui-flex",head_cell:"oui-text-base-contrast-80 oui-rounded-md oui-w-7 oui-font-normal oui-text-[0.8rem] oui-opacity-30",row:"oui-flex oui-w-full oui-mt-2",cell:Et("oui-relative oui-day-cell oui-p-0 oui-text-center oui-text-2xs focus-within:oui-relative focus-within:oui-z-20 [&:has([aria-selected])]:oui-bg-base-4 [&:has([aria-selected].day-outside)]:oui-bg-base-4/50 [&:has([aria-selected].day-range-end)]:oui-rounded-r-md",n.mode==="range"?"[&:has(>.oui-day-range-end)]:oui-rounded-r-md [&:has(>.oui-day-range-start)]:oui-rounded-l-md first:[&:has([aria-selected])]:oui-rounded-l-md last:[&:has([aria-selected])]:oui-rounded-r-md":"[&:has([aria-selected])]:oui-rounded-md"),day:Et("oui-h-7 oui-w-7 oui-p-0 oui-rounded-md oui-font-normal aria-selected:oui-opacity-100 oui-text-base-contrast-80 hover:oui-bg-base-5"),day_range_start:"day-range-start  oui-bg-primary-darken oui-text-base-contrast-80 hover:oui-bg-primary-darken",day_range_end:"day-range-end oui-bg-primary-darken oui-text-base-contrast-80 hover:oui-bg-primary-darken",day_selected:"oui-bg-base-4 ",day_today:"oui-bg-accent ",day_outside:"oui-day-outside oui-text-muted-foreground oui-opacity-50 aria-selected:oui-bg-accent/50 aria-selected:oui-text-muted-foreground aria-selected:oui-opacity-30",day_disabled:"oui-text-muted-foreground oui-opacity-50",day_range_middle:"aria-selected:oui-bg-accent aria-selected:oui-text-accent-foreground",day_hidden:"oui-invisible",...e},components:{IconLeft:({...i})=>L.jsx(W$,{size:16,className:"oui-text-inherit",opacity:1}),IconRight:({...i})=>L.jsx(j$,{size:16,className:"oui-text-inherit",opacity:1})},...n})}tU.displayName="Calendar";var kbt="yyyy/MM/dd",rU=t=>{let{placeholder:e,dateFormat:r,onChange:n,value:i,initialValue:s,size:o,className:a,formatString:u=kbt,...f}=t,[d,g]=N.useState(!1),[y,b]=N.useState(i||s||null),[A,x]=N.useState(!1),k=Tbt(M=>{x(M<=768)},100);N.useEffect(()=>{let M=()=>{k(window.innerWidth)};return x(window.innerWidth<=768),window.addEventListener("resize",M),()=>{window.removeEventListener("resize",M)}},[]),N.useEffect(()=>{i!=null&&i.from&&(i!=null&&i.to)&&(y!=null&&y.from)&&(y!=null&&y.to)&&!Ibt(i,y)&&b(i)},[i]);let{trigger:I}=Jo({size:o,className:a}),R=N.useMemo(()=>{if(!y||!y.from||!y.to)return e??"Select Date";let M=[];return y.from&&M.push(Sl(y.from,u)),y.to&&M.push(Sl(y.to,u)),`${M.join(" - ")}`},[y,e]);return L.jsx(Vve,{open:d,onOpenChange:M=>{typeof(y==null?void 0:y.to)>"u"&&typeof(y==null?void 0:y.from)<"u"&&b({...y,to:y.from}),!M&&y&&(n==null||n(y)),g(M)},contentProps:{className:"oui-w-auto oui-p-0",align:"start"},content:L.jsx(tU,{numberOfMonths:A?1:2,...f,mode:"range",selected:y,onSelect:(M,P)=>{y!=null&&y.from&&(y!=null&&y.to)?b({from:P}):b(M)}}),children:L.jsxs("button",{className:I({className:"oui-datepicker-trigger oui-group"}),children:[L.jsx("span",{className:"oui-datepicker-trigger-icon",children:L.jsx(H$,{size:14,className:"oui-text-inherit",opacity:1})}),L.jsx("span",{children:R}),L.jsx(Z1,{size:12,className:"oui-datepicker-trigger-arrow oui-text-inherit oui-transition-transform group-data-[state=open]:oui-rotate-180 group-data-[state=closed]:oui-rotate-0",opacity:1})]})})};rU.displayName="DateRangePicker";function Tbt(t,e){let r=N.useRef(null);return N.useCallback(n=>{r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{t(n)},e)},[t,e])}function Ibt(t,e){let r=a=>({year:a.getFullYear(),month:a.getMonth(),day:a.getDate()}),n=r(t.from),i=r(t.to),s=r(e.from),o=r(e.to);return n.year===s.year&&n.month===s.month&&n.day===s.day&&i.year===o.year&&i.month===o.month&&i.day===o.day}var nU=t=>{let{placeholder:e,dateFormat:r,onChange:n,value:i,size:s,className:o,...a}=t,{trigger:u}=Jo({size:s,className:o}),[f,d]=N.useState(!1),g=N.useMemo(()=>{if(typeof i>"u")return e??"Select Date"},[i,e]);return L.jsx(Vve,{open:f,onOpenChange:d,contentProps:{className:"oui-w-auto oui-p-0"},content:L.jsx(tU,{onSelect:(y,b,A,x)=>{var k;(k=a.onSelect)==null||k.call(a,y,b,A,x),y&&(n==null||n(y),d(!1))},...a}),children:L.jsxs("button",{className:u({className:"orderly-datepicker-trigger oui-group"}),children:[L.jsx("span",{className:"orderly-datepicker-trigger-icon",children:L.jsx(H$,{size:14,className:"oui-text-inherit",opacity:1})}),L.jsx("span",{children:g}),L.jsx(Z1,{size:12,className:"orderly-datepicker-trigger-arrow oui-text-inherit oui-transition-transform group-data-[state=open]:oui-rotate-180 group-data-[state=closed]:oui-rotate-0",opacity:1})]})})};nU.displayName="DatePicker";var Rbt=t=>L.jsx("div",{children:L.jsx(nU,{size:"xs",...t,mode:"single",onChange:e=>{}})}),Mbt=t=>{let{onChange:e,...r}=t;return L.jsx("div",{className:"oui-min-w-[180px]",children:L.jsx(rU,{size:"xs",...r,onChange:n=>{typeof e=="function"&&e(n)}})})},Cbt=t=>{let{onChange:e,type:r,isCombine:n,...i}=t;switch(r){case"select":return L.jsx("div",{className:"oui-min-w-24",children:n?L.jsx(Qve,{size:"xs",...i,onValueChange:e}):L.jsx(X$,{size:"xs",...i,onValueChange:e})});case"date":return L.jsx(Rbt,{...i});case"range":return L.jsx(Mbt,{...i,onChange:e});case"symbol":return L.jsx("div",{});case"input":default:return L.jsx("div",{children:"No Component"})}},N_t=t=>L.jsxs(Bs,{justify:"start",gapX:3,py:3,width:"100%",className:Et("oui-data-filter-bar oui-border-b oui-border-line",t.className),children:[t.items.map((e,r)=>(e.type==="date"&&(e.mode="range"),L.jsx(Cbt,{...e,onChange:n=>{t.onFilter({name:e.name??e.type,value:n})}},r))),t.trailing&&L.jsx("div",{className:"oui-flex-1 oui-flex oui-justify-end",children:t.trailing})]}),B_t=t=>{let e=N.useRef(0),[r,n]=N.useState((t==null?void 0:t.page)??1),[i,s]=N.useState((t==null?void 0:t.pageSize)??10),o=N.useCallback(d=>{if(s(d),e.current>0){let g=Math.ceil(e.current/d);r>g&&n(g)}},[r]),a=d=>{let g=(d==null?void 0:d.total)??e.current;e.current=g;let y=(d==null?void 0:d.records_per_page)??i,b=g?Math.ceil(g/y):0,A=Math.min((d==null?void 0:d.current_page)??r,b);return{count:g,page:A,pageSize:y,pageTotal:b}},u=N.useCallback(d=>({...a(d),onPageChange:n,onPageSizeChange:o}),[r,i]),f=N.useMemo(()=>({page:r,pageSize:i,onPageChange:n,onPageSizeChange:o}),[u]);return N.useEffect(()=>{(t==null?void 0:t.resetPageWhenPageSizeChange)!==!1&&n(1)},[i,t==null?void 0:t.resetPageWhenPageSizeChange]),{page:r,pageSize:i,setPage:n,setPageSize:o,parseMeta:a,pagination:f,parsePagination:u}};function Pbt(){return L.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",fill:"none",viewBox:"0 0 64 64",children:[L.jsx("rect",{width:"36",height:"48",x:"18",y:"5",fill:"#07080A",rx:"4"}),L.jsx("rect",{width:"36",height:"48",x:"11",y:"12",fill:"url(#paint0_linear_309_13641)",rx:"4"}),L.jsx("rect",{width:"36",height:"48",x:"9",y:"10",fill:"url(#paint1_linear_309_13641)",rx:"4"}),L.jsx("path",{fill:"#303237",d:"M36.636 53.323V50H6v3.323C6 55.91 7.943 58 10.462 58H41c-2.392 0-4.364-2.168-4.364-4.663"}),L.jsx("rect",{width:"9",height:"2",x:"15",y:"16",fill:"#3F4146",rx:"1"}),L.jsx("rect",{width:"16",height:"2",x:"15",y:"24",fill:"#3F4146",rx:"1"}),L.jsx("rect",{width:"12",height:"3",x:"28",y:"29",fill:"#45484E",rx:"1.5"}),L.jsx("path",{fill:"#45484E",d:"M33 23a2 2 0 012-2h1.5a1.5 1.5 0 010 3H34a1 1 0 01-1-1z"}),L.jsx("rect",{width:"9",height:"3",x:"29",y:"37",fill:"#45484E",rx:"1.5"}),L.jsx("rect",{width:"13",height:"2",x:"15",y:"30",fill:"#3F4146",rx:"1"}),L.jsx("rect",{width:"15",height:"2",x:"15",y:"36",fill:"#3F4146",rx:"1"}),L.jsx("rect",{width:"24",height:"2",x:"15",y:"42",fill:"#3F4146",rx:"1"}),L.jsx("path",{fill:"#181A1D",fillRule:"evenodd",d:"M27.24 30.022a12.451 12.451 0 1122.195 9.87l5.328 5.328-1.58 1.58-5.241-5.24a12.452 12.452 0 01-20.703-11.537zm14.193 12.39A10.156 10.156 0 1037.47 22.49a10.156 10.156 0 003.963 19.92z",clipRule:"evenodd"}),L.jsx("path",{fill:"#54565B",fillRule:"evenodd",d:"M27.24 29.022a12.451 12.451 0 1122.195 9.87l5.328 5.328-1.58 1.58-5.241-5.24a12.452 12.452 0 01-20.703-11.537zm14.193 12.39A10.156 10.156 0 1037.47 21.49a10.156 10.156 0 003.963 19.92z",clipRule:"evenodd"}),L.jsx("path",{fill:"#16181B",d:"M51.755 43.867c-.99.99-.99 2.596 0 3.586l3.754 3.754a2.536 2.536 0 103.586-3.586l-3.754-3.754a2.536 2.536 0 00-3.586 0z"}),L.jsx("path",{fill:"#4E525C",d:"M51.755 42.867c-.99.99-.99 2.596 0 3.586l3.754 3.754a2.536 2.536 0 103.586-3.586l-3.754-3.754a2.536 2.536 0 00-3.586 0z"}),L.jsxs("defs",{children:[L.jsxs("linearGradient",{id:"paint0_linear_309_13641",x1:"27.286",x2:"48.844",y1:"55.742",y2:"25.703",gradientUnits:"userSpaceOnUse",children:[L.jsx("stop",{stopColor:"#0C0D10"}),L.jsx("stop",{offset:"1",stopColor:"#121418"})]}),L.jsxs("linearGradient",{id:"paint1_linear_309_13641",x1:"25.286",x2:"46.844",y1:"53.742",y2:"23.703",gradientUnits:"userSpaceOnUse",children:[L.jsx("stop",{stopColor:"#1B1D22"}),L.jsx("stop",{offset:"1",stopColor:"#26292E"})]})]})]})}var Nbt=Pbt,_we=t=>L.jsxs(Bs,{itemAlign:"center",direction:"column",gapY:4,className:t.className,children:[L.jsx(pd,{children:L.jsx(Nbt,{})}),L.jsx(Ag,{as:"div",intensity:36,size:"2xs",children:t.title??"No results found."})]});iwe({name:"emptyDataIdentifier",positions:["emptyDataIdentifier"]})(_we);var Bbt={};F$(Bbt,{DownloadFeature:()=>Obt});var Obt={createTable:t=>{t.getPlainTextData=()=>{let e=t.getAllColumns().filter(n=>n.columnDef.meta.type!=="action").map(n=>{let{title:i,plantTextTitle:s}=n.columnDef.meta;return s||i}),r=t.getRowModel().rows.map(n=>n.getVisibleCells().filter(i=>i.column.columnDef.meta.type!=="action").map(i=>{let{original:s,index:o}=i.row,{renderPlantText:a}=i.column.columnDef.meta||{},u=i.getValue();return typeof a=="function"&&(u=a(u,s,o)),`"${u}"`}));return[e,...r]},t.download=e=>{let r=t.getPlainTextData();Dbt(r,e)}}};function Lbt(t){return t.map(e=>e.join(",")).join(`
`)}function Dbt(t,e=`${Date.now()}.csv`){let r=Lbt(t),n=new Blob([r],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(n),s=document.createElement("a");s.href=i,s.setAttribute("download",e),s.click(),URL.revokeObjectURL(i)}var xg=pc({slots:{overlay:["oui-dialog-overlay","oui-fixed","oui-inset-0","oui-z-50","oui-bg-black/80","data-[state=open]:oui-animate-in","data-[state=closed]:oui-animate-out","data-[state=closed]:oui-fade-out-0","data-[state=open]:oui-fade-in-0"],content:["oui-dialog-content","oui-fixed","oui-left-[50%]","oui-top-[50%]","oui-z-50","oui-w-full","oui-max-w-lg","oui-translate-x-[-50%]","oui-translate-y-[-50%]","oui-text-base-contrast-54","oui-px-4 lg:oui-px-5","oui-shadow-lg","oui-duration-200","data-[state=open]:oui-animate-in","data-[state=closed]:oui-animate-out","data-[state=closed]:oui-fade-out-0","data-[state=open]:oui-fade-in-0","data-[state=closed]:oui-zoom-out-95","data-[state=open]:oui-zoom-in-95","data-[state=closed]:oui-slide-out-to-left-1/2","data-[state=closed]:oui-slide-out-to-top-[48%]","data-[state=open]:oui-slide-in-from-left-1/2","data-[state=open]:oui-slide-in-from-top-[48%]","sm:oui-rounded-xl"],body:["oui-dialog-body","oui-py-4 lg:oui-py-5","oui-text-xs"],close:["oui-dialog-close-btn","oui-absolute","oui-right-4","oui-top-4","oui-ring-offset-background","oui-transition-opacity","hover:oui-opacity-100","disabled:oui-pointer-events-none"],header:["oui-dialog-header","oui-flex","oui-flex-col"],footer:["oui-dialog-footer","oui-flex","oui-flex-row","oui-justify-end","oui-space-x-2","oui-pb-5","oui-pt-2 lg:oui-pt-3"],title:["oui-dialog-title","oui-text-base","oui-min-h-11 lg:oui-min-h-[46px]","oui-flex","oui-items-center","oui-text-base-contrast"],desc:["oui-dialog-desc","oui-text-xs","oui-text-warning-darken","oui-pt-2","oui-text-center","oui-pb-3"]},variants:{size:{xs:{content:["oui-max-w-xs"]},sm:{content:["oui-max-w-sm"]},md:{content:["oui-max-w-md"]},lg:{content:["oui-max-w-lg"]},xl:{content:["oui-max-w-xl"]}},intensity:{100:{content:["oui-bg-base-1"]},200:{content:["oui-bg-base-2"]},300:{content:["oui-bg-base-3"]},400:{content:["oui-bg-base-4"]},500:{content:["oui-bg-base-5"]},600:{content:["oui-bg-base-6"]},700:{content:["oui-bg-base-7"]},800:{content:["oui-bg-base-8"]},900:{content:["oui-bg-base-9"]}}},defaultVariants:{intensity:800}}),Fbt=f1e,$bt=d1e,Awe=N.forwardRef(({className:t,...e},r)=>{let{overlay:n}=xg();return L.jsx(L6,{ref:r,className:n({className:t}),...e})});Awe.displayName=L6.displayName;var xwe=N.forwardRef(({className:t,children:e,size:r,closable:n=!0,intensity:i,...s},o)=>{let{content:a,close:u}=xg({className:t,size:r,intensity:i});return L.jsxs($bt,{children:[L.jsx(Awe,{}),L.jsxs(D6,{ref:o,className:a({className:t}),...s,children:[e,n&&L.jsxs(h1e,{className:u(),"data-testid":"oui-testid-dialog-content-close-btn",children:[L.jsx(H6,{size:16,color:"white",opacity:.98}),L.jsx("span",{className:"oui-sr-only",children:"Close"})]})]})]})});xwe.displayName=D6.displayName;var Ewe=({className:t,...e})=>{let{header:r}=xg();return L.jsx("div",{className:r({className:t}),...e})};Ewe.displayName="DialogHeader";var Ubt=({className:t,...e})=>{let{body:r}=xg();return L.jsx("div",{className:r({className:t}),...e})},kwe=({className:t,...e})=>{let{footer:r}=xg();return L.jsx("div",{className:r({className:t}),...e})};kwe.displayName="DialogFooter";var Twe=N.forwardRef(({className:t,...e},r)=>{let{title:n}=xg();return L.jsx(k$,{ref:r,className:n({className:t}),...e})});Twe.displayName=k$.displayName;var Iwe=N.forwardRef(({className:t,...e},r)=>{let{desc:n}=xg();return L.jsx(F6,{ref:r,className:n({className:t}),...e})});Iwe.displayName=F6.displayName;var zbt=Si({base:["oui-pointer-events-none oui-box-content"],variants:{intensity:{4:"oui-border-line-4",6:"oui-border-line-6",8:"oui-border-line",12:"oui-border-line-12",16:"oui-border-line-16"},direction:{horizontal:["oui-border-b"],vertical:["oui-border-l"]},lineStyle:{dashed:"oui-border-dashed",dotted:"oui-border-dotted"},mx:{2:"oui-mx-2",4:"oui-mx-4",6:"oui-mx-6",8:"oui-mx-8",10:"oui-mx-10"},my:{2:"oui-my-2",4:"oui-my-4",6:"oui-my-6",8:"oui-my-8",10:"oui-my-10"}},defaultVariants:{direction:"horizontal",intensity:4}}),Z6=gt.forwardRef((t,e)=>{let{className:r,intensity:n,direction:i,lineStyle:s,mx:o,my:a,...u}=t;return L.jsx("div",{ref:e,...u,className:zbt({direction:i,intensity:n,className:r,lineStyle:s,mx:o,my:a})})});Z6.displayName="Divider";var Wbt=t=>{var s,o;let{actions:e}=t,[r,n]=N.useState(((s=e==null?void 0:e.primary)==null?void 0:s.loading)??!1);if(N.useEffect(()=>{var a,u;return(a=e==null?void 0:e.primary)!=null&&a.loading&&n((u=e==null?void 0:e.primary)==null?void 0:u.loading),()=>{n(!1)}},[(o=e==null?void 0:e.primary)==null?void 0:o.loading]),!e)return null;let i=N.useMemo(()=>{var u,f;let a=[];if(e.secondary&&typeof e.secondary.onClick=="function"){let{fullWidth:d=!0,color:g="gray",label:y,...b}=e.secondary;a.push(L.jsx(U$,{...b,"data-testid":(u=e.secondary)==null?void 0:u["data-testid"],color:g,fullWidth:d,children:y},"secondary"))}if(e.primary&&typeof e.primary.onClick=="function"){let{fullWidth:d=!0,color:g,disabled:y,label:b,onClick:A,...x}=e.primary;a.push(L.jsx(hmt,{...x,"data-testid":(f=e.primary)==null?void 0:f["data-testid"],onClick:async k=>{if(!r)try{n(!0),await A(k)}catch{}finally{n(!1)}},disabled:y||r,loading:r,fullWidth:d,color:g,children:b},"primary"))}return a},[e,r]);return L.jsx(kwe,{className:t.className,children:i})},X6=t=>{var e,r,n;return L.jsx(Fbt,{open:t.open,onOpenChange:t.onOpenChange,children:L.jsxs(xwe,{size:t.size,closable:t.closable,onOpenAutoFocus:i=>i.preventDefault(),onCloseAutoFocus:i=>i.preventDefault(),className:(e=t.classNames)==null?void 0:e.content,...t.contentProps,children:[t.title&&L.jsxs(L.Fragment,{children:[L.jsx(Ewe,{children:L.jsx(Twe,{children:t.title})}),L.jsx(Z6,{})]}),L.jsx(Ubt,{className:(r=t.classNames)==null?void 0:r.body,children:t.children}),typeof t.description<"u"&&L.jsx(Iwe,{children:t.description}),L.jsx(Wbt,{actions:t.actions,className:(n=t.classNames)==null?void 0:n.footer})]})})};function jbt(t){let e=s=>typeof window<"u"?window.matchMedia(s).matches:!1,[r,n]=N.useState(e(t));function i(){n(e(t))}return N.useEffect(()=>{var o;let s=window==null?void 0:window.matchMedia(t);return i(),s!=null&&s.addListener?s==null||s.addListener(i):(o=s==null?void 0:s.addEventListener)==null||o.call(s,"change",i),()=>{var a;s!=null&&s.removeListener?s==null||s.removeListener(i):(a=s==null?void 0:s.removeEventListener)==null||a.call(s,"change",i)}},[t]),r}function Rwe(){let t=jbt("(max-width: 768px)");return{isMobile:t,isDesktop:!t}}var Kbt=t=>{let{title:e,message:r,open:n,onOpenChange:i,onOk:s,onCancel:o,okLabel:a="OK",cancelLabel:u="Cancel",size:f,classNames:d}=t,{isMobile:g}=Rwe(),y=N.useMemo(()=>{var A,x;if(typeof s!="function"&&typeof o!="function")return;let b={};return typeof o=="function"&&(b.secondary={label:u,onClick:o,size:"md",fullWidth:!0,...(A=t.actions)==null?void 0:A.secondary}),typeof s=="function"&&(b.primary={label:a,size:"md",fullWidth:!0,className:"oui-w-full lg:oui-w-[154px]",onClick:s,...(x=t.actions)==null?void 0:x.primary}),b},[s,o,a,u,t.actions]);return L.jsx(X6,{open:n,title:e,size:f||(g?"xs":"sm"),actions:y,onOpenChange:i,classNames:{content:Et("oui-bg-base-8 oui-font-semibold oui-border oui-border-line-6","oui-p-4 oui-pt-0 lg:oui-p-5 lg:oui-pt-0",d==null?void 0:d.content),body:Et("oui-py-4 lg:oui-py-5",d==null?void 0:d.body),footer:Et("oui-justify-center oui-pb-0 oui-pt-2 lg:oui-pt-3",d==null?void 0:d.footer)},children:r})},W8=Symbol("modalId"),Hbt=0,qbt=()=>`__modal_${Hbt++}`,iU=t=>typeof t=="string"?t:(t[W8]||(t[W8]=qbt()),t[W8]);function Eg(t,e){let r=N.useContext(J6),n=N.useContext(Cwe),i,s=t&&typeof t!="string";if(t?i=iU(t):i=n,!i)throw new Error("modalId is required");let o=i;N.useEffect(()=>{s&&sU(o,t,e)},[s,i,t,e]);let a=r[o],u=N.useCallback(I=>Lu.show(o,I),[o]),f=N.useCallback(()=>Lu.hide(o),[o]),d=N.useCallback(()=>Lu.remove(o),[o]),g=N.useCallback(I=>{I||(x("cancel"),f())},[o]),y=N.useCallback(I=>{Lu.setStates(o,I)},[o]),b=N.useCallback(I=>{Lu.updateArgs(o,I)},[o]),A=N.useCallback(I=>{var R;(R=Lf[o])==null||R.resolve(I),delete Lf[o]},[o]),x=N.useCallback(I=>{var R;(R=Lf[o])==null||R.reject(I),delete Lf[o]},[o]),k=N.useCallback(I=>{var R;(R=Ay[o])==null||R.resolve(I),delete Ay[o]},[]);return{id:o,args:a==null?void 0:a.args,states:a==null?void 0:a.states,visible:!!(a!=null&&a.visible),keepMounted:!!(a!=null&&a.keepMounted),show:u,hide:f,onOpenChange:g,setStates:y,updateArgs:b,remove:d,resolve:A,reject:x,resolveHide:k}}var Of=new Map,fA=t=>({id:e,defaultVisible:r,keepMounted:n,...i})=>{var d;let{args:s,show:o}=Eg(e),a=N.useContext(J6),u=!!a[e];N.useEffect(()=>(r&&o(),OS[e]=!0,()=>{n||delete OS[e]}),[e,o,r]),N.useEffect(()=>{n&&Lu.setStates(e,{keepMounted:!0})},[e,n]);let f=(d=a[e])==null?void 0:d.delayVisible;return N.useEffect(()=>{f&&o(s)},[f,s,o]),u?L.jsx(Cwe.Provider,{value:e,children:L.jsx(t,{...i,...s})}):null};function sU(t,e,r){Of.has(t)?Of.set(t,{comp:Of.get(t).comp,props:r}):Of.set(t,{comp:e,props:r})}var Vbt=t=>{Of.delete(t)},Mwe={},OS={},J6=N.createContext(Mwe),Cwe=N.createContext(null),Lf={},Ay={},J1=()=>{throw new Error("No dispatch method detected, did you embed your app with Modal.Provider?")};function Gbt(t,e){return{type:"SHOW_MODAL",payload:{id:t,args:e}}}function Ybt(t){return{type:"HIDE_MODAL",payload:{id:t}}}function Zbt(t){return{type:"DESTROY_MODAL",payload:{id:t}}}function Xbt(t,e){return{type:"UPDATE_ARGS",payload:{id:t,args:e}}}function Jbt(t,e){return{type:"SET_MODAL_STATES",payload:{id:t,states:e}}}var Qbt=(t,e)=>{let{id:r,args:n}=e.payload;switch(e.type){case"SHOW_MODAL":return{...t,[r]:{...t[r],id:r,args:n,visible:!!OS[r],delayVisible:!OS[r]}};case"HIDE_MODAL":return{...t,[r]:{...t[r],visible:!1}};case"DESTROY_MODAL":{let i={...t};return delete i[r],i}case"UPDATE_ARGS":return{...t,[r]:{...t[r],args:{...t[r].args,...n}}};case"SET_MODAL_STATES":return{...t,[r]:{...t[r],states:{...t.states,...e.payload.states}}};default:return t}},e1t=()=>{let t=N.useContext(J6),e=Object.keys(t).filter(n=>!!t[n]);e.forEach(n=>{!Of.has(n)&&OS[n]});let r=e.filter(n=>Of.has(n)).map(n=>({id:n,...Of.get(n)}));return L.jsx(L.Fragment,{children:r.map(n=>{let i=n.comp;return L.jsx(i,{id:n.id,...n.props},n.id)})})},O_t=t=>{let[e,r]=N.useReducer(Qbt,Mwe);return J1=r,L.jsxs(J6.Provider,{value:e,children:[t.children,L.jsx(e1t,{})]})};function t1t(t,e){let r=iU(t);if(typeof t!="string"&&!Of.has(r)&&sU(r,t),J1(Gbt(r,e)),!Lf[r]){let n,i,s=new Promise((o,a)=>{n=o,i=a});Lf[r]={resolve:n,reject:i,promise:s}}return Lf[r].promise}function r1t(t){let e=iU(t);if(J1(Ybt(e)),delete Lf[e],!Ay[e]){let r,n,i=new Promise((s,o)=>{r=s,n=o});Ay[e]={resolve:r,reject:n,promise:i}}return Ay[e].promise}function n1t(t){J1(Zbt(t)),delete Lf[t],delete Ay[t]}function i1t(t,e){J1(Jbt(t,e))}function s1t(t,e){J1(Xbt(t,e))}var Lu={show:t1t,hide:r1t,remove:n1t,setStates:i1t,updateArgs:s1t},Pwe=f1e,o1t=Tpt,a1t=d1e,Nwe=N.forwardRef(({className:t,...e},r)=>L.jsx(L6,{className:Et("oui-fixed oui-inset-0 oui-z-50 oui-bg-black/80  data-[state=open]:oui-animate-in data-[state=closed]:oui-animate-out data-[state=closed]:oui-fade-out-0 data-[state=open]:oui-fade-in-0",t),...e,ref:r}));Nwe.displayName=L6.displayName;var u1t=pc({base:"oui-fixed oui-z-50 oui-gap-4 oui-bg-base-8 oui-px-4 oui-shadow-lg oui-transition oui-ease-in-out data-[state=closed]:oui-duration-260 data-[state=open]:oui-duration-300 data-[state=open]:oui-animate-in data-[state=closed]:oui-animate-out",variants:{side:{top:"oui-inset-x-0 oui-top-0 oui-border-b data-[state=closed]:oui-slide-out-to-top data-[state=open]:oui-slide-in-from-top",bottom:"oui-inset-x-0 oui-bottom-0 oui-rounded-t-2xl data-[state=closed]:oui-slide-out-to-bottom data-[state=open]:oui-slide-in-from-bottom",left:"oui-inset-y-0 oui-left-0 oui-h-full oui-w-3/4 data-[state=closed]:oui-slide-out-to-left data-[state=open]:oui-slide-in-from-left sm:oui-max-w-sm",right:"oui-inset-y-0 oui-right-0 oui-h-full oui-w-3/4 oui-border-l data-[state=closed]:oui-slide-out-to-right data-[state=open]:oui-slide-in-from-right sm:oui-max-w-sm"}},defaultVariants:{side:"bottom"}}),oU=N.forwardRef(({side:t="bottom",closeable:e=!0,className:r,children:n,...i},s)=>L.jsxs(a1t,{children:[L.jsx(Nwe,{}),L.jsxs(D6,{ref:s,className:Et(u1t({side:t}),r),onOpenAutoFocus:o=>o.preventDefault(),onCloseAutoFocus:o=>o.preventDefault(),...i,children:[e&&L.jsxs(h1e,{className:Et("oui-absolute oui-right-4 oui-top-4 oui-rounded-sm oui-ring-offset-base-700 oui-transition-opacity  focus:oui-outline-none focus:oui-ring-2 focus:oui-ring-ring focus:oui-ring-offset-2 disabled:oui-pointer-events-none data-[state=open]:oui-bg-secondary"),children:[L.jsx(H6,{size:16,color:"white",opacity:.98}),L.jsx("span",{className:"oui-sr-only",children:"Close"})]}),n]})]}));oU.displayName=D6.displayName;var Bwe=({className:t,leading:e,...r})=>L.jsxs("div",{className:Et("oui-sheet-header oui-grid oui-grid-cols-[40px_1fr_40px] oui-items-center oui-min-h-12"),children:[L.jsx("div",{children:e}),L.jsx("div",{...r,className:Et("oui-flex oui-flex-col oui-space-y-2 oui-text-center oui-text-lg oui-text-base-contrast",t)})]});Bwe.displayName="SheetHeader";var Owe=({className:t,...e})=>L.jsx("div",{className:Et("oui-py-4",t),...e});Owe.displayName="DialogBody";var Lwe=N.forwardRef(({className:t,leading:e,...r},n)=>L.jsxs("div",{className:"oui-sheet-header oui-grid oui-grid-cols-[40px_1fr_40px] oui-items-center",ref:n,children:[L.jsx("div",{children:e}),L.jsx("div",{className:Et("oui-flex oui-flex-col oui-space-y-2 oui-text-center oui-text-lg oui-text-base-contrast",t),...r})]}));Lwe.displayName=k$.displayName;var c1t=N.forwardRef(({className:t,...e},r)=>L.jsx(F6,{ref:r,className:Et("oui-sheet-description oui-text-2xs oui-text-base-contrast-54",t),...e}));c1t.displayName=F6.displayName;function l1t(t){return Q6.create(e=>{let{title:r,leading:n,classNames:i,contentProps:s,closable:o,...a}=e,{visible:u,hide:f,resolve:d,reject:g,onOpenChange:y}=Eg();return L.jsx(Dwe,{open:u,onOpenChange:y,title:r,leading:n,classNames:i,closable:o,contentProps:s,children:L.jsx(t,{...a,close:f,resolve:d,reject:g})})})}function L_t(t,e,r){Q6.register(t,l1t(e),r)}var f1t=t=>{let{action:e}=t,r=N.useCallback(()=>{var i;typeof e.onClick=="function"?e.onClick(e):(i=t.onClick)==null||i.call(t,{...e,index:t.index})},[e]),n=N.useMemo(()=>e.label,[e.label]);return L.jsx("div",{className:Et("oui-flex oui-justify-center oui-items-center oui-text-lg oui-h-[52px] oui-cursor-pointer",t.active&&"oui-text-primary-darken"),onClick:r,children:n})},d1t=t=>L.jsx("div",{className:"oui-relative oui-h-[1px] oui-bg-base-300 oui-mt-[-1px]"}),h1t=t=>L.jsx(L.Fragment,{children:t.actionSheets.map((e,r)=>e.type==="division"?L.jsx(d1t,{},r):L.jsxs(N.Fragment,{children:[e.value==="cancel"&&L.jsx("div",{className:"oui-h-2 oui-bg-base-10"}),L.jsx(f1t,{onClick:n=>{var i,s;n.value!=="cancel"&&(typeof e.onClick=="function"?e.onClick(e):((i=t.onValueChange)==null||i.call(t,n.value),(s=t.onClose)==null||s.call(t)))},index:r,action:e,active:typeof t.value<"u"&&t.value.value===e.value}),r<t.actionSheets.length-1&&L.jsx(Z6,{className:"oui-border-base-contrast/10"})]},e.value||r))}),p1t=t=>{let e=N.useMemo(()=>{let r=[];if(Array.isArray(t.actionSheets))for(let n of t.actionSheets)typeof n=="string"?n==="Cancel"?r.push({label:"Cancel",value:"cancel",onClick:()=>{var i;(i=t.onClose)==null||i.call(t)}}):n==="Confirm"?r.push({label:"Confirm",value:"confirm"}):n.startsWith("---")&&r.push({label:"---",value:"---",type:"division"}):r.push(n);return r},[t.actionSheets]);return L.jsxs(Pwe,{open:t.open,onOpenChange:t.onOpenChange,children:[typeof t.children<"u"&&L.jsx(o1t,{asChild:!0,children:t.children}),L.jsx(oU,{closeable:!1,className:"oui-action-sheet-content !oui-p-0 oui-pb-[env(safe-area-inset-bottom)]",onOpenAutoFocus:r=>r.preventDefault(),children:L.jsx(h1t,{actionSheets:e,onClose:t.onClose,onValueChange:t.onValueChange,value:t.value})})]})},Dwe=t=>{let{open:e,onOpenChange:r,classNames:n,contentProps:i,closable:s=!0}=t;return L.jsx(Pwe,{open:e,onOpenChange:r,children:L.jsxs(oU,{onOpenAutoFocus:o=>o.preventDefault(),className:n==null?void 0:n.content,closeable:s,...i,children:[t.title&&L.jsxs(L.Fragment,{children:[L.jsx(Bwe,{leading:t.leading,children:L.jsx(Lwe,{children:t.title})}),L.jsx(Z6,{})]}),L.jsx(Owe,{className:n==null?void 0:n.body,children:t.children})]})})},g1t=fA(t=>{let{visible:e,onOpenChange:r}=Eg();return L.jsx(Dwe,{open:e,onOpenChange:r,...t,children:t.content})}),m1t=t=>Lu.show(g1t,t),y1t=fA(t=>{let{onOk:e}=t,{visible:r,hide:n,onOpenChange:i}=Eg(),s=N.useCallback(()=>Promise.resolve().then(e).then(n),[e]);return L.jsx(Kbt,{open:r,onOpenChange:i,...t,onOk:s})}),b1t=t=>Lu.show(y1t,t),v1t=fA(t=>{let{visible:e,onOpenChange:r}=Eg();return L.jsx(X6,{title:t.title,open:e,onOpenChange:r,size:t.size,closable:t.closable,children:t.content})}),w1t=t=>Lu.show(v1t,t),S1t=fA(t=>{let{size:e}=t,{visible:r,hide:n,resolve:i,reject:s,onOpenChange:o}=Eg(),{isMobile:a}=Rwe(),u=a?"xs":"sm";return L.jsx(X6,{open:r,title:L.jsx(Ag,{size:"base",weight:"semibold",children:t.title}),size:e||u,classNames:{content:t.contentClassName,body:t.bodyClassName,...t.classNames},closable:!0,onOpenChange:f=>{f||s(),o(f)},actions:{primary:{label:"Confirm",className:"oui-text-sm oui-font-semibold oui-w-[100%] oui-h-8","data-testid":"oui-testid-confirm-dialog-confirm-btn",onClick:()=>Promise.resolve().then(()=>typeof t.onOk=="function"?t.onOk():!0).then(f=>{i(f),n()},f=>{s(f),n()})},secondary:{label:"Cancel",className:"oui-text-sm oui-font-semibold oui-w-[100%] oui-h-8","data-testid":"oui-testid-confirm-dialog-cancel-btn",onClick:()=>Promise.resolve().then(()=>typeof t.onCancel=="function"?t.onCancel():Promise.reject("cancel")).then(f=>{i(f),n()},f=>{s(f),n()})}},children:L.jsx("div",{className:"oui-text-2xs lg:oui-text-sm",children:t.content})})}),_1t=t=>Lu.show(S1t,t),Q6={create:fA,register:sU,unregister:Vbt,...Lu,confirm:_1t,alert:b1t,sheet:m1t,dialog:w1t};function A1t(t){return Q6.create(e=>{let{visible:r,hide:n,resolve:i,reject:s,onOpenChange:o}=Eg(),{title:a,size:u,contentClassName:f,bodyClassName:d,closable:g,classNames:y,...b}=e;return L.jsx(X6,{open:r,onOpenChange:o,size:u,title:a,closable:g,classNames:{content:f,body:d,...y},children:L.jsx(t,{...b,close:n,resolve:i,reject:s})})})}function D_t(t,e,r){Q6.register(t,A1t(e),r)}var x1t=Si({base:["oui-card-root","oui-card","oui-rounded-xl","oui-shadow","oui-text-base-contrast","oui-p-6"],variants:{...Rve.variants},defaultVariants:{intensity:900}}),Fwe=gt.forwardRef(({className:t,intensity:e,...r},n)=>L.jsx("div",{ref:n,className:x1t({intensity:e,className:t}),...r}));Fwe.displayName="CardBase";var $we=gt.forwardRef(({className:t,...e},r)=>L.jsx("div",{ref:r,className:Et("oui-card-header oui-flex oui-flex-col oui-space-y-1.5",t),...e}));$we.displayName="CardHeader";var Uwe=gt.forwardRef(({className:t,...e},r)=>L.jsx("h3",{ref:r,className:Et("oui-card-header-title oui-font-semibold oui-leading-none oui-tracking-tight oui-text-lg",t),...e}));Uwe.displayName="CardTitle";var E1t=gt.forwardRef(({className:t,...e},r)=>L.jsx("p",{ref:r,className:Et("oui-text-sm oui-text-muted-foreground",t),...e}));E1t.displayName="CardDescription";var zwe=gt.forwardRef(({className:t,...e},r)=>L.jsx("div",{ref:r,className:Et("oui-card-content oui-pt-4",t),...e}));zwe.displayName="CardContent";var Wwe=gt.forwardRef(({className:t,...e},r)=>L.jsx("div",{ref:r,className:t,...e}));Wwe.displayName="CardFooter";var k1t=N.forwardRef((t,e)=>{let{title:r,children:n,footer:i,classNames:s,...o}=t;return L.jsxs(Fwe,{...o,className:s==null?void 0:s.root,ref:e,children:[L.jsx($we,{className:s==null?void 0:s.header,children:typeof t.title=="string"?L.jsx(Uwe,{children:r}):r}),L.jsx(zwe,{className:s==null?void 0:s.content,children:n}),i&&L.jsx(Wwe,{className:s==null?void 0:s.footer,children:i})]})});k1t.displayName="Card";var T1t=Bpt,I1t=Opt,jwe=N.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},i)=>L.jsx(S1e,{ref:i,align:e,sideOffset:r,className:Et("oui-z-[100] oui-w-64 oui-rounded-md oui-bg-base-8 oui-p-3 oui-text-base-contrast oui-shadow-md oui-outline-none data-[state=open]:oui-animate-in data-[state=closed]:oui-animate-out data-[state=closed]:oui-fade-out-0 data-[state=open]:oui-fade-in-0 data-[state=closed]:oui-zoom-out-95 data-[state=open]:oui-zoom-in-95 data-[side=bottom]:oui-slide-in-from-top-2 data-[side=left]:oui-slide-in-from-right-2 data-[side=right]:oui-slide-in-from-left-2 data-[side=top]:oui-slide-in-from-bottom-2",t),...n}));jwe.displayName=S1e.displayName;var R1t=t=>{let{content:e,open:r,defaultOpen:n,onOpenChange:i,children:s,...o}=t;return L.jsxs(T1t,{open:r,defaultOpen:n,onOpenChange:i,children:[L.jsx(I1t,{asChild:!0,children:s}),L.jsx(Lpt,{children:L.jsxs(jwe,{...o,children:[e,L.jsx(Dpt,{width:11,height:5,className:"oui-fill-base-4"})]})})]})};R1t.displayName="HoverCard";var M1t=Si({base:"oui-flex oui-flex-row oui-items-stretch oui-rounded-md oui-cursor-pointer oui-border oui-border-line-6 oui-bg-line-4 oui-text-base-contrast-54",variants:{size:{sm:"oui-px-2 oui-h-[22px] oui-text-2xs",base:"oui-px-3 oui-h-[40px]",lg:"oui-px-6 oui-py-3"},fullWidth:{true:"oui-w-full"},disabled:{true:"oui-opacity-50 oui-cursor-not-allowed"},color:{base:"oui-text-base-contract",buy:"oui-text-trade-profit",sell:"oui-text-trade-loss"}},defaultVariants:{size:"base",color:"base"}}),F_t=N.forwardRef(({size:t,color:e,value:r,label:n,placeholder:i,className:s,options:o,fullWidth:a,disabled:u,...f},d)=>{let[g,y]=N.useState(!1),b=N.useMemo(()=>{if(r&&r.value)return r;if(typeof r=="number"||typeof r=="string"){let k=o.find(I=>I.value===r);if(k)return k}},[r,o]),A=N.useMemo(()=>b?b.label:i||n||"",[b,n,i]),x=N.useMemo(()=>[...o,"---","Cancel"],[o]);return L.jsx(p1t,{actionSheets:x,onOpenChange:y,open:g,onClose:()=>y(!1),value:b,onValueChange:f.onValueChange,children:L.jsxs("div",{className:Et("oui-space-x-1 oui-text-base-contrast-54 ","oui-rounded-md","oui-bg-base-8",M1t({size:t,color:e,fullWidth:a,disabled:u||o.length===0,className:s})),children:[L.jsx("div",{className:"oui-flex-1 oui-flex oui-justify-start oui-items-center oui-text-inherit oui-text-2xs",children:A}),L.jsx("div",{className:"oui-flex oui-items-center",children:g?L.jsx(Dve,{size:14,color:"white"}):L.jsx(Lve,{size:14,color:"white"})})]})})}),C1t=nU;C1t.range=rU;function pY(t,[e,r]){return Math.min(r,Math.max(e,t))}function Kwe(t,e,r){let n=r-e;if(n===0)return pY(0,[0,100]);let i=100/n*(t-e);return pY(i,[0,100])}function P1t(t,e){return r=>{let n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function N1t(t,e,r){let n=t/2,i=P1t([0,50],[0,n]);return(n-i(e)*r)*r}var B1t=Si({slots:{root:"oui-relative oui-flex oui-w-full oui-touch-none oui-select-none oui-items-center",thumb:["oui-block","oui-h-[10px]","oui-w-[10px]","oui-rounded-full","oui-border-[2px]","oui-border-primary","oui-bg-base-6","oui-shadow","oui-group","oui-transition-colors","focus-visible:oui-outline-none","focus:oui-shadow-[0_0_0_8px]","focus:oui-shadow-base-contrast/20","focus:oui-h-[14px]","focus:oui-w-[14px]","data-[disabled]:oui-pointer-events-none","data-[disabled]:oui-border-base-2","data-[disabled]:oui-hidden"],track:"oui-relative oui-h-[8px] oui-w-full oui-grow oui-overflow-hidden oui-rounded-full",trackInner:"oui-absolute oui-left-0 oui-right-0 oui-h-[2px] oui-top-[3px]  oui-pointer-events-none oui-bg-base-2",range:"oui-absolute oui-h-[2px] oui-top-[3px] oui-bg-primary data-[disabled]:oui-bg-base-2",mark:"oui-absolute oui-top-[1px] oui-w-[6px] oui-h-[6px] oui-rounded oui-border oui-border-base-2 oui-bg-base-6 oui-pointer-events-none oui-translate-x-[-50%]",tips:["oui-absolute","oui-hidden","oui-rounded","oui-drop-shadow","oui-w-[36px]","oui-h-[19px]","oui-translate-x-[-12px]","oui-top-[-28px]","oui-font-semibold","oui-text-center","group-focus:oui-inline-block","after:oui-block","after:oui-absolute","after:oui-bottom-[-8px]","after:oui-w-0","after:oui-h-0","after:oui-border-4","after:oui-left-1/2","after:oui-translate-x-[-50%]","after:oui-border-solid","after:oui-border-transparent","after:oui-border-t-inherit","oui-text-base-5","oui-text-2xs"]},variants:{color:{primary:{thumb:["oui-border-primary","oui-bg-base-5"],range:"oui-bg-primary",tips:"oui-bg-primary after:oui-border-t-primary"},primaryLight:{thumb:["oui-border-primary-light","oui-bg-base-5"],range:"oui-bg-primary-light",tips:"oui-bg-primary-light after:oui-border-t-primary-light"},buy:{thumb:["oui-border-success","oui-bg-base-5"],range:"oui-bg-success",tips:["oui-bg-success after:oui-border-t-success"]},sell:{thumb:["oui-border-danger","oui-bg-base-5"],range:"oui-bg-danger",tips:["oui-bg-danger after:oui-border-t-danger"]}}}}),aU=N.forwardRef(({className:t,color:e,marks:r,markCount:n,classNames:i,markLabelVisible:s,showTip:o,onValueChange:a,value:u,...f},d)=>{let{track:g,range:y,thumb:b,root:A,trackInner:x,mark:k,tips:I}=B1t({color:e}),[R,M]=N.useState(u);N.useEffect(()=>{M(V=>!V||u!=null&&u.some((Z,G)=>Z!==V[G])?u:V)},[u]);let P=N.useMemo(()=>{if(Array.isArray(r)&&r.length>0)return r;let V=f.max;if(V||(V=100),typeof n<"u"){let Z=[],G=V/n,q=n-1;for(let ae=0;ae<=q;ae++){let T=ae*G;Z.push({value:T,label:`${T}`})}return Z.push({value:V,label:"100"}),Z}return[]},[r,n,f.max]),j=V=>{M(V),a==null||a(V)};return L.jsxs(O1e,{ref:d,className:A({className:t}),value:a?u:R,onValueChange:a||j,...f,children:[L.jsxs(Qpt,{className:g({className:i==null?void 0:i.track}),children:[L.jsx("div",{className:x()}),L.jsx(e0t,{className:y({className:i==null?void 0:i.range})})]}),Array.isArray(P)&&P.length>0&&L.jsx(O1t,{value:R,color:e,marks:P,isInnerMask:!Array.isArray(r)||r.length===0,markLabelVisible:s,disabled:f.disabled,className:k(),step:f.step}),L.jsx(t0t,{className:b({className:Et(i==null?void 0:i.thumb,"oui-slider-thumb")}),children:o&&L.jsx(L1t,{value:R,className:I({color:e}),max:f.max??100,min:0,tipFormatter:f.tipFormatter})})]})});aU.displayName=O1e.displayName;var O1t=t=>{let{marks:e,value:r,isInnerMask:n,markLabelVisible:i,className:s,color:o="primary"}=t,a=N.useMemo(()=>(r==null?void 0:r[0])??0,[r]),u=N.useMemo(()=>{if(!(typeof t.step>"u"))return Math.floor(a/t.step)},[a,t.step]),f=N.useMemo(()=>{switch(o){case"primary":return"oui-border-primary oui-bg-primary";case"buy":return"oui-border-trade-profit oui-bg-trade-profit";case"sell":return"oui-border-trade-loss oui-bg-trade-loss";case"primaryLight":return"oui-border-primary-light oui-bg-primary-light"}},[o]),d=N.useMemo(()=>{switch(o){case"primary":return"oui-text-primary";case"buy":return"oui-texttrade-profit";case"sell":return"oui-text-trade-loss";case"primaryLight":return"oui-text-primary-light"}},[o]);return L.jsx(L.Fragment,{children:e==null?void 0:e.map((g,y)=>{let b=Kwe(y,0,e.length-1),A=N1t(6,b,1),x=n?g.value:y,k=(n?a>=x:(u??0)>=x)&&a>=0&&!t.disabled?f:"";return L.jsxs(N.Fragment,{children:[L.jsx("span",{className:Et(s,k),style:{left:`calc(${b}% + ${A}px)`}}),!t.disabled&&i&&L.jsx("span",{"data-testid":`oui-testid-slider-mark-label-${g.label}`,className:Et("oui-absolute oui-top-[16px] oui-text-2xs xl:oui-text-xs oui-text-base-contrast-54 oui-cursor-pointer oui-translate-x-[-50%]",u===y&&d),style:{left:`calc(${b}% + ${A}px)`},children:g.label},y)]},y)})})},L1t=t=>{var o,a;let{className:e,min:r,max:n}=t,i=((o=t.value)==null?void 0:o[0])??0,s=Kwe(i,r,n);return L.jsx("span",{className:e,style:{lineHeight:"19px"},children:((a=t.tipFormatter)==null?void 0:a.call(t,i,r,n,s))??`${s.toFixed()}%`})},Hwe=N.forwardRef((t,e)=>{let r=N.useMemo(()=>[t.value],[t.value]);return L.jsx(aU,{...t,value:r,ref:e,onValueChange:typeof t.onValueChange=="function"?n=>{t.onValueChange(n[0])}:void 0,onValueCommit:typeof t.onValueCommit=="function"?n=>{t.onValueCommit(n[0])}:void 0})});Hwe.displayName="SingleSlider";var D1t=aU;D1t.single=Hwe;var qwe=gt.forwardRef((t,e)=>{let{opacity:r=1,viewBox:n="0 0 20 20",...i}=t;return L.jsx(Jr,{ref:e,viewBox:n,...i,children:L.jsx("path",{d:"M10 1.628a8.333 8.333 0 1 0-.001 16.666 8.333 8.333 0 0 0 0-16.666m-2.5 5c.212 0 .435.071.598.234L10 8.762l1.9-1.9a.85.85 0 0 1 .6-.234c.213 0 .436.071.6.234a.86.86 0 0 1 0 1.198l-1.902 1.901 1.901 1.9a.86.86 0 0 1 0 1.2.86.86 0 0 1-1.198 0L10 11.158 8.097 13.06a.86.86 0 0 1-1.198 0 .857.857 0 0 1 0-1.198L8.8 9.96l-1.9-1.9a.857.857 0 0 1 0-1.2.84.84 0 0 1 .6-.233",fill:"#FF447C",fillOpacity:r})})}),Vwe=gt.forwardRef((t,e)=>{let{opacity:r=1,viewBox:n="0 0 20 20",...i}=t;return L.jsx(Jr,{ref:e,viewBox:n,...i,children:L.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.678 10a8.333 8.333 0 1 1 16.667-.001 8.333 8.333 0 0 1-16.667 0m12.477-3.907c.189-.18.448-.26.697-.26s.507.08.697.26c.38.362.38.969 0 1.33l-6.793 6.473a1.033 1.033 0 0 1-1.394 0l-2.911-2.774a.92.92 0 0 1 0-1.33 1.034 1.034 0 0 1 1.395 0l2.213 2.11z",fill:"#00B49E"})})}),Gwe=gt.forwardRef((t,e)=>{let{opacity:r=1,viewBox:n="0 0 20 20",...i}=t;return L.jsx(Jr,{ref:e,viewBox:n,...i,children:L.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.167 3.333c0-.46.373-.833.833-.833A7.5 7.5 0 1 1 2.5 10a.833.833 0 0 1 1.667 0A5.834 5.834 0 1 0 10 4.167a.833.833 0 0 1-.833-.834",fill:"#4774F6",fillOpacity:r})})});qwe.displayName="ToasterErrorIcon";Vwe.displayName="ToastSuccessIcon";Gwe.displayName="ToastLoadingIcon";var $_t=t=>L.jsx(K0t,{toastOptions:{duration:3e3,success:{iconTheme:{primary:"rgba(123, 220, 138, 1)",secondary:"rgba(25, 14, 44, 1)"},style:{background:"rgba(40, 46, 58, 1)"}},loading:{duration:5e3,style:{background:"rgba(40, 46, 58, 1)"}},error:{iconTheme:{primary:"rgba(217, 91, 129, 1)",secondary:"rgba(25, 14, 44, 1)"},style:{background:"rgba(40, 46, 58, 1)"}}},...t,containerClassName:Et("!top-[62px] md:!top-[80px] oui-font-semibold",t.className),children:e=>L.jsx(U1e,{toast:e,style:{...e.style,color:"rgba(255, 255, 255, 0.8)",borderRadius:"6px",wordBreak:"break-all",maxWidth:800,boxShadow:"0px 4px 8px 0px rgba(0, 0, 0, 0.36)"},children:({icon:r,message:n})=>{let i=r;return e.type==="error"?i=L.jsx(qwe,{className:"w-[16px] h-[16px] md:w-[24px] md:h-[24px]"}):e.type==="success"?i=L.jsx(Vwe,{size:20}):e.type==="loading"&&(i=L.jsx("div",{className:"oui-animate-rotate-360 oui-rounded-full",children:L.jsx(Gwe,{className:"w-[16px] h-[16px] md:w-[24px] md:h-[24px]"})})),L.jsxs("div",{className:"oui-flex oui-items-center oui-padding-[12px] md:oui-padding-[16px]",children:[i,L.jsx("div",{className:"oui-text-base oui-px-[2px]",children:n}),L.jsx("button",{onClick:()=>Js.dismiss(e.id),className:"oui-hidden md:oui-block",children:L.jsx(H6,{size:16,className:" oui-text-base-contrast-54"})})]})}})});function F1t(t,e){let r=N.useRef(),n=N.useRef(e);n.current=e,N.useEffect(()=>{let i={root:null,rootMargin:"0px",threshold:0},s=o=>{o.forEach(a=>{var u;a.isIntersecting&&((u=n.current)==null||u.call(n))})};return r.current=new IntersectionObserver(s,i),()=>{var o;(o=r.current)==null||o.disconnect()}},[]),N.useEffect(()=>{var i;(i=r.current)==null||i.observe(t.current)},[])}var $1t=(t,e)=>{let r=N.useRef(null),n=N.useRef(null);F1t(r,()=>{var a;t.isLoading||((a=t.loadMore)==null||a.call(t))});let i=N.useMemo(()=>Array.isArray(t.dataSource)&&t.dataSource.length<=0,[t.dataSource]),s=N.useMemo(()=>t.dataSource?i?t.emptyView||L.jsx(Bs,{direction:"column",height:"100%",itemAlign:"center",justify:"center",mt:3,children:L.jsx(_we,{})}):t.dataSource.map((a,u)=>L.jsx(gt.Fragment,{children:t.renderItem(a,u,t.extraData)},u)):null,[i,t.dataSource,t.extraData,t.emptyView]),o=N.useMemo(()=>{var a;return(((a=t.dataSource)==null?void 0:a.length)||0)===0||!t.isLoading?null:L.jsx("div",{className:"oui-flex oui-py-2 oui-justify-center oui-items-center",children:L.jsx($$,{})})},[t.isLoading,t.dataSource]);return N.useImperativeHandle(e,()=>({scroll:a=>{var u;(u=n.current)==null||u.scroll({left:a.x,top:a.y,behavior:"smooth"})}})),L.jsxs("div",{style:t.style,ref:n,className:Et("oui-relative oui-min-h-[180px] oui-custom-scrollbar oui-overflow-auto",t.className),children:[L.jsx("div",{className:Et("oui-space-y-3 oui-h-full oui-w-full",i&&"oui-absolute oui-left-0 oui-right-0 oui-top-0 oui-bottom-0",t.contentClassName),children:s}),L.jsx("div",{ref:r,className:"oui-relative oui-invisible oui-h-[1px] oui-top-[-300px]"}),o]})},U_t=N.forwardRef($1t);N.createContext({});var U1t=emt,z1t=tmt,z_t=rmt,W1t=Sve,e4=pc({slots:{content:["oui-z-50","oui-min-w-[8rem]","oui-overflow-hidden","oui-rounded-xl","oui-p-1","oui-bg-base-8","oui-text-base-contrast","oui-shadow-md","oui-border","oui-border-line-6","data-[state=open]:oui-animate-in","data-[state=closed]:oui-animate-out","data-[state=closed]:oui-fade-out-0","data-[state=open]:oui-fade-in-0","data-[state=closed]:oui-zoom-out-95","data-[state=open]:oui-zoom-in-95","data-[side=bottom]:oui-slide-in-from-top-2","data-[side=left]:oui-slide-in-from-right-2","data-[side=right]:oui-slide-in-from-left-2","data-[side=top]:oui-slide-in-from-bottom-2"],item:["oui-relative","oui-flex","oui-cursor-default","oui-select-none","oui-items-center","oui-px-2","oui-py-1.5","oui-text-sm","oui-outline-none","oui-transition-colors","hover:oui-bg-base-5","focus:oui-bg-accent","focus:oui-text-accent-foreground","data-[disabled]:oui-pointer-events-none","data-[disabled]:oui-opacity-50"],label:"oui-px-2 oui-py-1.5 oui-text-sm oui-font-semibold",separator:"-oui-mx-1 oui-my-1 oui-h-px oui-bg-muted",shortcut:"oui-ml-auto oui-text-xs oui-tracking-widest oui-opacity-60"},variants:{size:{xs:{content:"oui-rounded",item:["oui-px-2","oui-py-1.5","oui-h-6","oui-rounded","oui-text-2xs"]},sm:{content:"oui-rounded",item:["oui-px-2","oui-py-1.5","oui-h-6","oui-rounded","oui-text-2xs"]},md:{content:"oui-rounded-md",item:["oui-px-4","oui-py-3","oui-h-6","oui-rounded"]},lg:{content:"oui-rounded-lg",item:["oui-px-4","oui-py-3","oui-h-6","oui-rounded-md"]},xl:{content:"oui-rounded-xl",item:["oui-px-4","oui-py-3","oui-h-10","oui-rounded-lg","oui-text-base"]}},inset:{true:{item:["oui-pl-8"],label:["oui-pl-8"]}}},defaultVariants:{inset:!1,size:"lg"}}),Ywe=N.forwardRef(({className:t,sideOffset:e=4,size:r,...n},i)=>{let{content:s}=e4({size:r});return L.jsx(Sve,{children:L.jsx(_ve,{ref:i,sideOffset:e,className:s({className:t}),...n})})});Ywe.displayName=_ve.displayName;var Zwe=N.forwardRef(({className:t,inset:e,size:r,...n},i)=>{let{item:s}=e4({size:r});return L.jsx(xve,{ref:i,className:s({className:t,inset:e}),...n})});Zwe.displayName=xve.displayName;var j1t=N.forwardRef(({className:t,inset:e,...r},n)=>{let{label:i}=e4({inset:e});return L.jsx(Ave,{ref:n,className:i({className:t}),...r})});j1t.displayName=Ave.displayName;var K1t=N.forwardRef(({className:t,...e},r)=>{let{separator:n}=e4();return L.jsx(Eve,{ref:r,className:n({className:t}),...e})});K1t.displayName=Eve.displayName;var W_t=t=>{let{currentValue:e,menu:r,render:n,size:i,children:s,...o}=t,a=N.useMemo(()=>typeof t.render=="function"?t.menu.map((u,f)=>{var d;return(d=t.render)==null?void 0:d.call(t,u,f)}):t.menu.map(u=>L.jsx(Zwe,{textValue:u.value,onSelect:f=>{var d;(d=t.onSelect)==null||d.call(t,u)},size:i,"data-testid":u.testId,children:L.jsxs(Bs,{justify:"between",width:"100%",children:[u.label,e==u.value&&L.jsx(pd,{width:4,height:4,gradient:"primary",r:"full"})]})},u.value)),[t.menu,t.render,e]);return L.jsxs(U1t,{children:[L.jsx(z1t,{asChild:!0,children:s}),L.jsx(W1t,{children:L.jsx(Ywe,{onCloseAutoFocus:u=>{u.preventDefault()},size:i,...o,children:a})})]})},j_t=N.memo(t=>{let{value:e,children:r,left:n}=t;return N.useMemo(()=>!!(typeof e=="function"?e():e),[e])?r:n}),K_t=t=>{let{value:e,case:r,default:n,...i}=t,s=typeof e=="function"?e():e;if(typeof r=="function"){let a=r(s);return a?L.jsx(Gi,{children:a,...i}):typeof n>"u"?void 0:L.jsx(Gi,{children:n,...i})}let o=Object.keys(r);for(;o.length;){let a=o.pop();if(a===s.toString())return L.jsx(Gi,{children:r[a],...i})}return L.jsx(Gi,{children:n,...i})},H_t=(t,e)=>typeof t>"u"||t===null?e??void 0:t.charAt(0).toUpperCase()+t.slice(1),H1t={};F$(H1t,{default:()=>q1t});var q1t={};export{Z6 as $,Qr as A,Bs as B,Hf as C,Ag as D,CSt as E,wit as F,Fi as G,Re as H,Rmt as I,B_t as J,P_t as K,swt as L,Et as M,Q$ as N,ZSt as O,R_t as P,BSt as Q,MSt as R,Ar as S,awe as T,O_t as U,Fyt as V,Rwe as W,hit as X,M_t as Y,C_t as Z,pd as _,XSt as a,iwe as a$,ymt as a0,NSt as a1,Sit as a2,V6 as a3,H6 as a4,Cmt as a5,Pmt as a6,U$ as a7,U1t as a8,z1t as a9,Hu as aA,Fbt as aB,xwe as aC,Ewe as aD,Twe as aE,Ubt as aF,jnt as aG,sbt as aH,Sl as aI,Lve as aJ,q_ as aK,OSt as aL,DSt as aM,PSt as aN,Vve as aO,fl as aP,X6 as aQ,X1 as aR,Si as aS,qve as aT,dyt as aU,V$ as aV,jmt as aW,Hmt as aX,Ove as aY,Wbt as aZ,Bnt as a_,W1t as aa,Ywe as ab,k_t as ac,Q6 as ad,D_t as ae,L_t as af,G6 as ag,j_t as ah,e_t as ai,Qvt as aj,K_t as ak,kyt as al,Tyt as am,kSt as an,r_t as ao,go as ap,nbt as aq,Jyt as ar,$yt as as,Mmt as at,$$ as au,H_t as av,_we as aw,dd as ax,Knt as ay,YSt as az,$_t as b,kEe as b$,z_t as b0,T_t as b1,Zwe as b2,Wr as b3,Jc as b4,D1t as b5,eu as b6,FSt as b7,nwt as b8,bmt as b9,QSt as bA,R1t as bB,KSt as bC,Kmt as bD,gb as bE,Smt as bF,Wmt as bG,f6 as bH,Dwe as bI,Qc as bJ,fge as bK,Bbt as bL,F_t as bM,pge as bN,CX as bO,awt as bP,WSt as bQ,MF as bR,Amt as bS,d8e as bT,u_t as bU,_o as bV,Jb as bW,qo as bX,Dge as bY,wl as bZ,a_t as b_,$St as ba,Omt as bb,I_t as bc,G$ as bd,lit as be,t_t as bf,n_t as bg,fyt as bh,zt as bi,ebt as bj,jSt as bk,Cn as bl,Ost as bm,hmt as bn,Eg as bo,Kwe as bp,l6 as bq,SX as br,W_t as bs,Z1 as bt,N_t as bu,U_t as bv,m8 as bw,$nt as bx,twt as by,It as bz,Cl as c,gSt as c$,wEe as c0,SEe as c1,ege as c2,Xmt as c3,oyt as c4,RSt as c5,E_t as c6,Tmt as c7,_X as c8,LSt as c9,ce as cA,Y as cB,me as cC,ye as cD,Ie as cE,xr as cF,zh as cG,Dt as cH,Oe as cI,jt as cJ,Ra as cK,at as cL,Mr as cM,Vo as cN,f1 as cO,Uh as cP,Nk as cQ,a1 as cR,u1 as cS,o1 as cT,Yi as cU,ivt as cV,tvt as cW,J1t as cX,we as cY,Jie as cZ,une as c_,Zmt as ca,s_t as cb,Lst as cc,i_t as cd,Qmt as ce,Dw as cf,Oyt as cg,Lyt as ch,J$ as ci,dwe as cj,qmt as ck,s1 as cl,xe as cm,bt as cn,pe as co,ge as cp,Lt as cq,Ge as cr,Mt as cs,zr as ct,zi as cu,he as cv,uu as cw,cu as cx,ht as cy,ri as cz,Mb as d,rwt as d$,Gc as d0,ao as d1,Li as d2,P_ as d3,bSt as d4,mSt as d5,zWe as d6,tse as d7,gS as d8,ySt as d9,hc as dA,Pn as dB,dc as dC,Ea as dD,T0e as dE,Xc as dF,Vi as dG,an as dH,K5 as dI,ESt as dJ,Nt as dK,ES as dL,Iw as dM,Wrt as dN,K0e as dO,qrt as dP,Jvt as dQ,Wk as dR,Wnt as dS,Sst as dT,IEe as dU,ka as dV,y8 as dW,v0 as dX,Gv as dY,EEe as dZ,k1t as d_,O0 as da,Dk as db,M1 as dc,pSt as dd,uEe as de,Gvt as df,sX as dg,FZ as dh,qg as di,zZ as dj,Bx as dk,dt as dl,x0e as dm,Na as dn,Ztt as dp,xSt as dq,n6 as dr,j5 as ds,Ba as dt,Ui as du,I0e as dv,H5 as dw,Prt as dx,xrt as dy,crt as dz,c_t as e,HSt as e0,VSt as e1,Uwe as e2,$mt as e3,Umt as e4,lo as e5,qSt as e6,ei as e7,GSt as e8,Dmt as e9,zmt as ea,Vmt as eb,o_t as ec,bit as ed,JSt as f,nge as g,hd as h,ISt as i,Qu as j,CF as k,PEe as l,REe as m,TSt as n,USt as o,zSt as p,__t as q,owt as r,$n as s,vmt as t,Ml as u,Sh as v,j0e as w,zrt as x,RN as y,iwt as z};
